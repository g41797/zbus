<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>zbus: /home/g41797/CLionProjects/github.com/g41797/zbus/src/libs/procd/initd/init.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">zbus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_87a455bccb09a92130c26a11a880c98a.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_63350b749fcf74007a53c7c917c10773.html">procd</a></li><li class="navelem"><a class="el" href="../../dir_1412eafc16f62a7acc564e3f4ad8e7b7.html">initd</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">init.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;sys/wait.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;sys/reboot.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../dc/d56/uloop_8h_source.html">libubox/uloop.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../db/d55/libubus_8h_source.html">libubus.h</a>&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;getopt.h&gt;</code><br />
<code>#include &lt;libgen.h&gt;</code><br />
<code>#include &lt;regex.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html">../utils/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/dc0/init_8h_source.html">init.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/da3/watchdog_8h_source.html">../watchdog.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for init.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/da7/init_8c__incl.png" border="0" usemap="#a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2procd_2initd_2init_8c" alt=""/></div>
<map name="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2procd_2initd_2init_8c" id="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2procd_2initd_2init_8c">
<area shape="rect" title=" " alt="" coords="1303,5,1590,85"/>
<area shape="rect" title=" " alt="" coords="5,133,120,167"/>
<area shape="poly" title=" " alt="" coords="1303,52,1079,60,788,75,464,100,139,136,135,136,135,131,138,130,464,94,788,70,1078,55,1303,47"/>
<area shape="rect" title=" " alt="" coords="103,460,230,493"/>
<area shape="poly" title=" " alt="" coords="1303,49,1055,54,760,67,614,78,480,93,367,112,282,136,235,152,196,167,181,177,170,190,162,208,160,230,160,314,166,444,161,444,155,315,155,230,157,206,165,188,177,173,193,162,233,146,280,130,366,106,480,87,613,73,759,62,1055,49,1303,44"/>
<area shape="rect" title=" " alt="" coords="255,460,366,493"/>
<area shape="poly" title=" " alt="" coords="1303,50,1139,55,938,69,721,95,612,113,506,136,462,143,418,146,339,150,307,157,283,171,267,194,261,230,261,314,265,350,274,386,297,445,292,447,268,387,259,351,256,315,256,230,262,192,279,167,305,152,338,145,418,140,461,138,505,130,611,108,720,90,938,64,1139,50,1303,44"/>
<area shape="rect" title=" " alt="" coords="1607,133,1742,167"/>
<area shape="poly" title=" " alt="" coords="1535,83,1626,124,1624,129,1533,88"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html" title=" " alt="" coords="303,296,467,330"/>
<area shape="poly" title=" " alt="" coords="1303,53,1163,61,996,76,818,100,642,136,532,161,488,180,439,217,414,248,397,283,393,281,409,246,435,213,485,175,530,156,641,130,817,95,996,70,1163,55,1303,47"/>
<area shape="rect" href="../../db/d55/libubus_8h.html" title=" " alt="" coords="653,133,760,167"/>
<area shape="poly" title=" " alt="" coords="1303,69,776,142,775,136,1303,64"/>
<area shape="rect" title=" " alt="" coords="1229,378,1320,412"/>
<area shape="poly" title=" " alt="" coords="1419,87,1389,134,1357,197,1328,261,1288,365,1283,363,1323,259,1352,195,1384,132,1415,84"/>
<area shape="rect" title=" " alt="" coords="1344,378,1429,412"/>
<area shape="poly" title=" " alt="" coords="1423,86,1402,134,1390,196,1385,260,1386,363,1381,363,1379,260,1385,196,1397,132,1418,84"/>
<area shape="rect" title=" " alt="" coords="1379,460,1477,493"/>
<area shape="poly" title=" " alt="" coords="1495,83,1596,164,1616,173,1635,177,1670,180,1702,187,1718,197,1733,213,1738,231,1733,249,1709,305,1681,344,1645,378,1596,414,1545,442,1492,462,1491,457,1543,438,1593,409,1642,373,1677,341,1704,302,1728,247,1733,231,1728,216,1715,201,1700,192,1669,185,1634,183,1614,178,1593,169,1491,88"/>
<area shape="rect" title=" " alt="" coords="1766,133,1855,167"/>
<area shape="poly" title=" " alt="" coords="1587,83,1752,129,1750,134,1585,88"/>
<area shape="rect" title=" " alt="" coords="1880,133,1960,167"/>
<area shape="poly" title=" " alt="" coords="1591,70,1720,96,1865,130,1864,135,1719,102,1590,75"/>
<area shape="rect" title=" " alt="" coords="1984,133,2083,167"/>
<area shape="poly" title=" " alt="" coords="1590,64,1767,92,1969,130,1968,135,1766,97,1589,69"/>
<area shape="rect" title=" " alt="" coords="2106,133,2203,167"/>
<area shape="poly" title=" " alt="" coords="1590,58,1822,86,2092,130,2091,135,1821,92,1590,63"/>
<area shape="rect" title=" " alt="" coords="2226,133,2318,167"/>
<area shape="poly" title=" " alt="" coords="1590,53,1874,80,2041,102,2211,130,2210,135,2041,107,1873,86,1590,59"/>
<area shape="rect" href="../../d9/d4d/procd_2utils_2utils_8h.html" title=" " alt="" coords="1107,133,1248,167"/>
<area shape="poly" title=" " alt="" coords="1344,88,1235,129,1233,124,1342,83"/>
<area shape="rect" href="../../d8/dc0/init_8h.html" title=" " alt="" coords="1412,133,1481,167"/>
<area shape="poly" title=" " alt="" coords="1449,86,1449,118,1444,118,1444,86"/>
<area shape="rect" href="../../d9/da3/watchdog_8h.html" title=" " alt="" coords="1572,215,1719,248"/>
<area shape="poly" title=" " alt="" coords="1478,83,1512,124,1552,165,1606,204,1603,208,1549,169,1508,128,1473,87"/>
<area shape="poly" title=" " alt="" coords="365,333,202,453,198,448,362,328"/>
<area shape="rect" title=" " alt="" coords="391,460,508,493"/>
<area shape="poly" title=" " alt="" coords="368,332,352,349,339,369,332,390,337,410,357,433,383,451,380,455,353,437,332,413,327,390,334,367,348,346,364,329"/>
<area shape="rect" title=" " alt="" coords="920,460,1027,493"/>
<area shape="poly" title=" " alt="" coords="468,319,583,338,646,354,706,376,732,392,757,409,832,438,905,458,903,463,831,443,755,414,729,397,704,380,644,360,582,344,468,325"/>
<area shape="rect" title=" " alt="" coords="532,460,625,493"/>
<area shape="poly" title=" " alt="" coords="406,328,550,448,546,452,403,333"/>
<area shape="rect" title=" " alt="" coords="346,378,440,412"/>
<area shape="poly" title=" " alt="" coords="389,330,393,362,387,363,384,331"/>
<area shape="rect" href="../../da/d23/list_8h.html" title=" " alt="" coords="768,378,834,412"/>
<area shape="poly" title=" " alt="" coords="468,323,601,345,750,375,754,376,753,382,749,381,600,350,467,329"/>
<area shape="poly" title=" " alt="" coords="836,409,926,450,924,455,834,414"/>
<area shape="rect" title=" " alt="" coords="777,460,873,493"/>
<area shape="poly" title=" " alt="" coords="809,411,818,444,813,445,803,413"/>
<area shape="poly" title=" " alt="" coords="653,162,572,181,529,197,488,217,444,250,409,287,405,283,440,246,485,212,527,192,571,176,652,157"/>
<area shape="poly" title=" " alt="" coords="653,164,608,183,587,197,571,216,558,244,550,274,546,306,547,337,556,397,570,444,565,446,551,398,542,338,541,305,544,273,553,242,567,213,584,194,605,178,651,159"/>
<area shape="poly" title=" " alt="" coords="653,167,614,186,597,199,584,216,578,231,584,247,599,271,618,292,662,328,710,356,754,375,752,380,708,361,659,333,614,296,595,274,579,249,573,231,579,213,593,196,611,181,651,162"/>
<area shape="rect" href="../../d3/d51/avl_8h.html" title=" " alt="" coords="802,296,942,330"/>
<area shape="poly" title=" " alt="" coords="719,166,746,204,783,246,833,285,830,290,779,250,742,207,714,169"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html" title=" " alt="" coords="1042,215,1235,248"/>
<area shape="poly" title=" " alt="" coords="761,158,1036,209,1035,214,760,164"/>
<area shape="rect" href="../../d5/d79/ubusmsg_8h.html" title=" " alt="" coords="593,215,719,248"/>
<area shape="poly" title=" " alt="" coords="698,169,676,203,672,200,694,166"/>
<area shape="rect" href="../../dc/d3c/ubus__common_8h.html" title=" " alt="" coords="793,215,967,248"/>
<area shape="poly" title=" " alt="" coords="743,165,832,206,830,210,740,170"/>
<area shape="poly" title=" " alt="" coords="884,329,957,445,953,448,880,332"/>
<area shape="poly" title=" " alt="" coords="860,332,827,368,823,365,856,329"/>
<area shape="poly" title=" " alt="" coords="871,331,849,412,838,445,833,444,844,411,865,330"/>
<area shape="rect" title=" " alt="" coords="1061,296,1160,330"/>
<area shape="poly" title=" " alt="" coords="1135,250,1124,283,1119,281,1130,248"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html" title=" " alt="" coords="1184,296,1264,330"/>
<area shape="poly" title=" " alt="" coords="1158,247,1198,284,1194,288,1154,251"/>
<area shape="poly" title=" " alt="" coords="1221,331,1202,372,1187,394,1168,414,1139,433,1107,448,1043,468,1041,462,1105,443,1136,429,1165,410,1183,391,1197,370,1216,329"/>
<area shape="poly" title=" " alt="" coords="1184,329,1173,333,1010,375,847,414,641,462,639,456,846,409,1009,370,1171,327,1183,324"/>
<area shape="poly" title=" " alt="" coords="1236,329,1258,363,1254,366,1232,332"/>
<area shape="rect" title=" " alt="" coords="1061,378,1155,412"/>
<area shape="poly" title=" " alt="" coords="1202,333,1145,371,1142,367,1199,328"/>
<area shape="poly" title=" " alt="" coords="1258,328,1341,369,1339,373,1256,333"/>
<area shape="rect" title=" " alt="" coords="1452,378,1540,412"/>
<area shape="poly" title=" " alt="" coords="1265,324,1438,374,1437,379,1263,329"/>
<area shape="rect" href="../../d5/d1d/libubox_2utils_8h.html" title=" " alt="" coords="615,378,694,412"/>
<area shape="poly" title=" " alt="" coords="1184,330,1172,333,1056,352,965,361,873,368,756,381,709,387,708,382,755,375,873,363,964,356,1056,347,1171,327,1183,325"/>
<area shape="poly" title=" " alt="" coords="616,404,458,427,246,462,245,457,457,422,615,399"/>
<area shape="poly" title=" " alt="" coords="615,408,382,461,381,456,614,403"/>
<area shape="poly" title=" " alt="" coords="616,414,506,456,504,451,614,409"/>
<area shape="poly" title=" " alt="" coords="695,404,712,409,905,456,904,462,711,414,693,410"/>
<area shape="poly" title=" " alt="" coords="641,414,606,450,602,447,637,410"/>
<area shape="poly" title=" " alt="" coords="694,400,756,409,1099,445,1364,468,1363,473,1098,450,756,414,694,405"/>
<area shape="rect" title=" " alt="" coords="649,460,729,493"/>
<area shape="poly" title=" " alt="" coords="664,411,679,444,674,446,659,413"/>
<area shape="poly" title=" " alt="" coords="652,250,606,379,588,445,583,444,601,377,647,248"/>
<area shape="poly" title=" " alt="" coords="719,238,781,246,975,264,1060,274,1169,293,1169,299,1060,279,974,270,781,251,719,243"/>
<area shape="poly" title=" " alt="" coords="909,247,935,267,957,295,971,333,979,374,979,444,974,444,973,374,966,335,952,298,931,271,906,251"/>
<area shape="poly" title=" " alt="" coords="1136,170,1032,217,980,251,914,290,911,286,977,246,1029,212,1134,165"/>
<area shape="poly" title=" " alt="" coords="1172,168,1155,202,1151,200,1167,166"/>
<area shape="poly" title=" " alt="" coords="1206,165,1231,186,1250,214,1255,231,1254,250,1244,283,1238,281,1249,249,1249,232,1245,216,1227,189,1203,169"/>
<area shape="poly" title=" " alt="" coords="1447,167,1442,239,1445,284,1454,329,1474,365,1469,367,1449,331,1439,285,1437,239,1441,167"/>
<area shape="rect" href="../../d9/d1e/procd_2log_8h.html" title=" " alt="" coords="1463,215,1548,248"/>
<area shape="poly" title=" " alt="" coords="1461,166,1487,201,1482,204,1456,169"/>
<area shape="rect" href="../../df/df3/ulog_8h.html" title=" " alt="" coords="1463,296,1617,330"/>
<area shape="poly" title=" " alt="" coords="1515,248,1529,281,1524,283,1510,250"/>
<area shape="poly" title=" " alt="" coords="1648,249,1645,288,1632,331,1616,360,1601,381,1581,398,1553,414,1511,429,1454,442,1315,460,1166,471,1043,476,1042,471,1166,466,1314,455,1453,437,1509,424,1551,409,1578,394,1597,377,1612,357,1627,329,1639,287,1643,249"/>
</map>
</div>
</div>
<p><a href="../../d8/d60/init_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6ac67326768d2878a764a9b96af5847f" id="r_a6ac67326768d2878a764a9b96af5847f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6ac67326768d2878a764a9b96af5847f">signal_shutdown</a> (int signal, siginfo_t *siginfo, void *data)</td></tr>
<tr class="separator:a6ac67326768d2878a764a9b96af5847f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a422dae339fb612dbf5723dabf2ea93ab" id="r_a422dae339fb612dbf5723dabf2ea93ab"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a422dae339fb612dbf5723dabf2ea93ab">cmdline</a> (void)</td></tr>
<tr class="separator:a422dae339fb612dbf5723dabf2ea93ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea19649ec3d5a0a6d2daab5c5b34607a" id="r_aea19649ec3d5a0a6d2daab5c5b34607a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aea19649ec3d5a0a6d2daab5c5b34607a">selinux</a> (char **argv)</td></tr>
<tr class="separator:aea19649ec3d5a0a6d2daab5c5b34607a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627" id="r_a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa3770535f39c67ca0811e27731893370" id="r_aa3770535f39c67ca0811e27731893370"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa3770535f39c67ca0811e27731893370">debug</a> = 0</td></tr>
<tr class="separator:aa3770535f39c67ca0811e27731893370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa28a241908491347f814180e7c9d2759" id="r_aa28a241908491347f814180e7c9d2759"><td class="memItemLeft" align="right" valign="top">static struct sigaction&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa28a241908491347f814180e7c9d2759">sa_shutdown</a></td></tr>
<tr class="separator:aa28a241908491347f814180e7c9d2759"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a422dae339fb612dbf5723dabf2ea93ab" name="a422dae339fb612dbf5723dabf2ea93ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a422dae339fb612dbf5723dabf2ea93ab">&#9670;&#160;</a></span>cmdline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cmdline </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d60/init_8c_source.html#l00062">62</a> of file <a class="el" href="../../d8/d60/init_8c_source.html">init.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   63</span>{</div>
<div class="line"><span class="lineno">   64</span>    <span class="keywordtype">char</span> line[20];</div>
<div class="line"><span class="lineno">   65</span>    <span class="keywordtype">char</span>* res;</div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordtype">long</span>    <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>;</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>    res = <a class="code hl_define" href="../../d9/d4d/procd_2utils_2utils_8h.html#ab4aeebcc159bc35c0313685c218ea1a0">get_cmdline_val</a>(<span class="stringliteral">&quot;init_debug&quot;</span>, line, <span class="keyword">sizeof</span>(line));</div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">if</span> (res != NULL) {</div>
<div class="line"><span class="lineno">   70</span>        <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a> = strtol(line, NULL, 10);</div>
<div class="line"><span class="lineno">   71</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a> != LONG_MIN) &amp;&amp; (<a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a> != LONG_MAX))</div>
<div class="line"><span class="lineno">   72</span>            <a class="code hl_variable" href="#aa3770535f39c67ca0811e27731893370">debug</a> = (int) <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>;</div>
<div class="line"><span class="lineno">   73</span>    }</div>
<div class="line"><span class="lineno">   74</span>}</div>
<div class="ttc" id="ainit_8c_html_aa3770535f39c67ca0811e27731893370"><div class="ttname"><a href="#aa3770535f39c67ca0811e27731893370">debug</a></div><div class="ttdeci">unsigned int debug</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d60/init_8c_source.html#l00042">init.c:42</a></div></div>
<div class="ttc" id="aprocd_2utils_2utils_8h_html_ab4aeebcc159bc35c0313685c218ea1a0"><div class="ttname"><a href="../../d9/d4d/procd_2utils_2utils_8h.html#ab4aeebcc159bc35c0313685c218ea1a0">get_cmdline_val</a></div><div class="ttdeci">#define get_cmdline_val(name, out, len)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00057">utils.h:57</a></div></div>
<div class="ttc" id="arcS_8c_html_abf8f2f9d123823e95527a9d26ff031c8"><div class="ttname"><a href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a></div><div class="ttdeci">static struct runqueue q r</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d5c/rcS_8c_source.html#l00036">rcS.c:36</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d60/init_8c_source.html#l00042">debug</a>, <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00057">get_cmdline_val</a>, and <a class="el" href="../../d1/d5c/rcS_8c_source.html#l00036">r</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d60/init_8c_source.html#l00121">main()</a>, and <a class="el" href="../../d7/d1d/service_8c_source.html#l01006">service_start_early()</a>.</p>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627" name="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>argc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>argv</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d60/init_8c_source.html#l00121">121</a> of file <a class="el" href="../../d8/d60/init_8c_source.html">init.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span>{</div>
<div class="line"><span class="lineno">  123</span>    pid_t pid;</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>    <a class="code hl_function" href="../../d9/d65/ulog_8c.html#a962767ce46bee1f4c9b44ecd408dd669">ulog_open</a>(<a class="code hl_enumvalue" href="../../df/df3/ulog_8h.html#abed82baf7f470b522273a3e37c24c600ab84d66e68af94f2a6904e4a9ac1d27a4">ULOG_KMSG</a>, LOG_DAEMON, <span class="stringliteral">&quot;init&quot;</span>);</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>    sigaction(SIGTERM, &amp;<a class="code hl_variable" href="#aa28a241908491347f814180e7c9d2759">sa_shutdown</a>, NULL);</div>
<div class="line"><span class="lineno">  128</span>    sigaction(SIGUSR1, &amp;<a class="code hl_variable" href="#aa28a241908491347f814180e7c9d2759">sa_shutdown</a>, NULL);</div>
<div class="line"><span class="lineno">  129</span>    sigaction(SIGUSR2, &amp;<a class="code hl_variable" href="#aa28a241908491347f814180e7c9d2759">sa_shutdown</a>, NULL);</div>
<div class="line"><span class="lineno">  130</span>    sigaction(SIGPWR, &amp;<a class="code hl_variable" href="#aa28a241908491347f814180e7c9d2759">sa_shutdown</a>, NULL);</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#aea19649ec3d5a0a6d2daab5c5b34607a">selinux</a>(argv))</div>
<div class="line"><span class="lineno">  133</span>        exit(-1);</div>
<div class="line"><span class="lineno">  134</span>    <a class="code hl_function" href="../../d5/db1/early_8c.html#aacab7925e8695cb9ea46fd4e43c654e0">early</a>();</div>
<div class="line"><span class="lineno">  135</span>    <a class="code hl_function" href="#a422dae339fb612dbf5723dabf2ea93ab">cmdline</a>();</div>
<div class="line"><span class="lineno">  136</span>    <a class="code hl_function" href="../../d6/d88/watchdog_8c.html#a874a52d6ac45041d9e76bd1925d88c24">watchdog_init</a>(1);</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    pid = fork();</div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">if</span> (!pid) {</div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordtype">char</span> *kmod[] = { <span class="stringliteral">&quot;/sbin/kmodloader&quot;</span>, <span class="stringliteral">&quot;/etc/modules-boot.d/&quot;</span>, NULL };</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#aa3770535f39c67ca0811e27731893370">debug</a> &lt; 3)</div>
<div class="line"><span class="lineno">  143</span>            <a class="code hl_function" href="../../d2/d71/procd_2utils_2utils_8c.html#ad1c2df641f2c93cfa5e1ea6e5053328a">patch_stdio</a>(<span class="stringliteral">&quot;/dev/null&quot;</span>);</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>        execvp(kmod[0], kmod);</div>
<div class="line"><span class="lineno">  146</span>        <a class="code hl_define" href="../../d8/d30/procd_2jail_2log_8h.html#a15378cd15bafb3a79061424b452497aa">ERROR</a>(<span class="stringliteral">&quot;Failed to start kmodloader: %m\n&quot;</span>);</div>
<div class="line"><span class="lineno">  147</span>        exit(EXIT_FAILURE);</div>
<div class="line"><span class="lineno">  148</span>    }</div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">if</span> (pid &lt;= 0) {</div>
<div class="line"><span class="lineno">  150</span>        <a class="code hl_define" href="../../d8/d30/procd_2jail_2log_8h.html#a15378cd15bafb3a79061424b452497aa">ERROR</a>(<span class="stringliteral">&quot;Failed to start kmodloader instance: %m\n&quot;</span>);</div>
<div class="line"><span class="lineno">  151</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  152</span>        <span class="keyword">const</span> <span class="keyword">struct </span>timespec req = {0, 10 * 1000 * 1000};</div>
<div class="line"><span class="lineno">  153</span>        <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>        <span class="keywordflow">for</span> (i = 0; i &lt; 1200; i++) {</div>
<div class="line"><span class="lineno">  156</span>            <span class="keywordflow">if</span> (waitpid(pid, NULL, WNOHANG) &gt; 0)</div>
<div class="line"><span class="lineno">  157</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  158</span>            nanosleep(&amp;req, NULL);</div>
<div class="line"><span class="lineno">  159</span>            <a class="code hl_function" href="../../d6/d88/watchdog_8c.html#a40e298539d4f4fb3c5ab3317d4c449ff">watchdog_ping</a>();</div>
<div class="line"><span class="lineno">  160</span>        }</div>
<div class="line"><span class="lineno">  161</span>    }</div>
<div class="line"><span class="lineno">  162</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#ae960d01033fb72572bc1aa539a501fe7">uloop_init</a>();</div>
<div class="line"><span class="lineno">  163</span>    <a class="code hl_function" href="../../d8/dc0/init_8h.html#a90282b93d8528c3fc4e5b188bc5fbc1c">preinit</a>();</div>
<div class="line"><span class="lineno">  164</span>    <a class="code hl_function" href="../../dc/d56/uloop_8h.html#aba97081464ac3304fef640bcfc7d3077">uloop_run</a>();</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  167</span>}</div>
<div class="ttc" id="aearly_8c_html_aacab7925e8695cb9ea46fd4e43c654e0"><div class="ttname"><a href="../../d5/db1/early_8c.html#aacab7925e8695cb9ea46fd4e43c654e0">early</a></div><div class="ttdeci">void early(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/db1/early_8c_source.html#l00091">early.c:91</a></div></div>
<div class="ttc" id="ainit_8c_html_a422dae339fb612dbf5723dabf2ea93ab"><div class="ttname"><a href="#a422dae339fb612dbf5723dabf2ea93ab">cmdline</a></div><div class="ttdeci">static void cmdline(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d60/init_8c_source.html#l00062">init.c:62</a></div></div>
<div class="ttc" id="ainit_8c_html_aa28a241908491347f814180e7c9d2759"><div class="ttname"><a href="#aa28a241908491347f814180e7c9d2759">sa_shutdown</a></div><div class="ttdeci">static struct sigaction sa_shutdown</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d60/init_8c_source.html#l00056">init.c:56</a></div></div>
<div class="ttc" id="ainit_8c_html_aea19649ec3d5a0a6d2daab5c5b34607a"><div class="ttname"><a href="#aea19649ec3d5a0a6d2daab5c5b34607a">selinux</a></div><div class="ttdeci">static int selinux(char **argv)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d60/init_8c_source.html#l00114">init.c:114</a></div></div>
<div class="ttc" id="ainit_8h_html_a90282b93d8528c3fc4e5b188bc5fbc1c"><div class="ttname"><a href="../../d8/dc0/init_8h.html#a90282b93d8528c3fc4e5b188bc5fbc1c">preinit</a></div><div class="ttdeci">void preinit(void)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/de5/preinit_8c_source.html#l00124">preinit.c:124</a></div></div>
<div class="ttc" id="aprocd_2jail_2log_8h_html_a15378cd15bafb3a79061424b452497aa"><div class="ttname"><a href="../../d8/d30/procd_2jail_2log_8h.html#a15378cd15bafb3a79061424b452497aa">ERROR</a></div><div class="ttdeci">#define ERROR(fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d30/procd_2jail_2log_8h_source.html#l00027">log.h:27</a></div></div>
<div class="ttc" id="aprocd_2utils_2utils_8c_html_ad1c2df641f2c93cfa5e1ea6e5053328a"><div class="ttname"><a href="../../d2/d71/procd_2utils_2utils_8c.html#ad1c2df641f2c93cfa5e1ea6e5053328a">patch_stdio</a></div><div class="ttdeci">int patch_stdio(const char *device)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00236">utils.c:236</a></div></div>
<div class="ttc" id="aulog_8c_html_a962767ce46bee1f4c9b44ecd408dd669"><div class="ttname"><a href="../../d9/d65/ulog_8c.html#a962767ce46bee1f4c9b44ecd408dd669">ulog_open</a></div><div class="ttdeci">void ulog_open(int channels, int facility, const char *ident)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d65/ulog_8c_source.html#l00129">ulog.c:129</a></div></div>
<div class="ttc" id="aulog_8h_html_abed82baf7f470b522273a3e37c24c600ab84d66e68af94f2a6904e4a9ac1d27a4"><div class="ttname"><a href="../../df/df3/ulog_8h.html#abed82baf7f470b522273a3e37c24c600ab84d66e68af94f2a6904e4a9ac1d27a4">ULOG_KMSG</a></div><div class="ttdeci">@ ULOG_KMSG</div><div class="ttdef"><b>Definition</b> <a href="../../df/df3/ulog_8h_source.html#l00027">ulog.h:27</a></div></div>
<div class="ttc" id="auloop_8c_html_ae960d01033fb72572bc1aa539a501fe7"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#ae960d01033fb72572bc1aa539a501fe7">uloop_init</a></div><div class="ttdeci">int uloop_init(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00150">uloop.c:150</a></div></div>
<div class="ttc" id="auloop_8h_html_aba97081464ac3304fef640bcfc7d3077"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#aba97081464ac3304fef640bcfc7d3077">uloop_run</a></div><div class="ttdeci">static int uloop_run(void)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00147">uloop.h:147</a></div></div>
<div class="ttc" id="awatchdog_8c_html_a40e298539d4f4fb3c5ab3317d4c449ff"><div class="ttname"><a href="../../d6/d88/watchdog_8c.html#a40e298539d4f4fb3c5ab3317d4c449ff">watchdog_ping</a></div><div class="ttdeci">void watchdog_ping(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d88/watchdog_8c_source.html#l00037">watchdog.c:37</a></div></div>
<div class="ttc" id="awatchdog_8c_html_a874a52d6ac45041d9e76bd1925d88c24"><div class="ttname"><a href="../../d6/d88/watchdog_8c.html#a874a52d6ac45041d9e76bd1925d88c24">watchdog_init</a></div><div class="ttdeci">void watchdog_init(int preinit)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d88/watchdog_8c_source.html#l00191">watchdog.c:191</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d60/init_8c_source.html#l00062">cmdline()</a>, <a class="el" href="../../d8/d60/init_8c_source.html#l00042">debug</a>, <a class="el" href="../../d5/db1/early_8c_source.html#l00091">early()</a>, <a class="el" href="../../d8/d30/procd_2jail_2log_8h_source.html#l00027">ERROR</a>, <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00236">patch_stdio()</a>, <a class="el" href="../../dd/de5/preinit_8c_source.html#l00124">preinit()</a>, <a class="el" href="../../d8/d60/init_8c_source.html#l00056">sa_shutdown</a>, <a class="el" href="../../d8/d60/init_8c_source.html#l00114">selinux()</a>, <a class="el" href="../../df/df3/ulog_8h_source.html#l00027">ULOG_KMSG</a>, <a class="el" href="../../d9/d65/ulog_8c_source.html#l00129">ulog_open()</a>, <a class="el" href="../../d1/d08/uloop_8c_source.html#l00150">uloop_init()</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00147">uloop_run()</a>, <a class="el" href="../../d6/d88/watchdog_8c_source.html#l00191">watchdog_init()</a>, and <a class="el" href="../../d6/d88/watchdog_8c_source.html#l00037">watchdog_ping()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d60/init_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph.png" border="0" usemap="#ad8/d60/init_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph" alt=""/></div>
<map name="ad8/d60/init_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph" id="ad8/d60/init_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph">
<area shape="rect" title=" " alt="" coords="5,355,73,388"/>
<area shape="rect" href="../../d8/d60/init_8c.html#a422dae339fb612dbf5723dabf2ea93ab" title=" " alt="" coords="148,63,243,96"/>
<area shape="poly" title=" " alt="" coords="38,354,42,306,53,240,77,169,96,136,119,106,132,95,136,99,123,109,100,138,82,171,58,241,47,307,43,354"/>
<area shape="rect" href="../../d5/db1/early_8c.html#aacab7925e8695cb9ea46fd4e43c654e0" title=" " alt="" coords="162,120,229,154"/>
<area shape="poly" title=" " alt="" coords="40,354,48,317,63,269,86,217,119,171,146,151,149,155,123,175,91,220,68,271,53,319,46,355"/>
<area shape="rect" href="../../d2/d71/procd_2utils_2utils_8c.html#ad1c2df641f2c93cfa5e1ea6e5053328a" title=" " alt="" coords="946,148,1073,182"/>
<area shape="poly" title=" " alt="" coords="43,353,69,296,91,265,119,240,166,224,246,211,474,189,727,174,930,165,930,170,727,179,474,194,247,216,167,229,122,244,95,269,74,299,48,355"/>
<area shape="rect" href="../../dd/de5/preinit_8c.html#a90282b93d8528c3fc4e5b188bc5fbc1c" title=" " alt="" coords="393,568,473,602"/>
<area shape="poly" title=" " alt="" coords="49,387,75,443,96,473,122,499,152,518,185,535,253,558,320,573,378,580,377,585,319,578,252,564,183,540,150,523,119,503,92,476,70,445,44,390"/>
<area shape="rect" href="../../d8/d60/init_8c.html#aea19649ec3d5a0a6d2daab5c5b34607a" title=" " alt="" coords="152,325,239,359"/>
<area shape="poly" title=" " alt="" coords="73,363,136,351,137,356,74,368"/>
<area shape="rect" href="../../d9/d65/ulog_8c.html#a962767ce46bee1f4c9b44ecd408dd669" title=" " alt="" coords="137,255,254,288"/>
<area shape="poly" title=" " alt="" coords="61,352,119,311,147,294,150,298,122,315,64,356"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae960d01033fb72572bc1aa539a501fe7" title=" " alt="" coords="140,383,251,416"/>
<area shape="poly" title=" " alt="" coords="74,375,126,384,125,390,73,380"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html#aba97081464ac3304fef640bcfc7d3077" title=" " alt="" coords="139,455,252,488"/>
<area shape="poly" title=" " alt="" coords="65,387,122,427,151,444,148,449,119,431,62,391"/>
<area shape="rect" href="../../d6/d88/watchdog_8c.html#a874a52d6ac45041d9e76bd1925d88c24" title=" " alt="" coords="121,683,270,716"/>
<area shape="poly" title=" " alt="" coords="49,388,78,469,123,573,177,668,172,671,118,575,73,471,44,390"/>
<area shape="rect" href="../../d6/d88/watchdog_8c.html#a40e298539d4f4fb3c5ab3317d4c449ff" title=" " alt="" coords="650,864,811,898"/>
<area shape="poly" title=" " alt="" coords="43,389,46,449,57,535,81,634,100,682,123,727,164,789,203,832,251,864,319,893,360,905,404,913,491,917,575,911,647,899,648,904,575,916,491,923,403,918,359,910,317,898,249,869,199,836,159,792,118,730,95,684,76,635,52,536,41,449,38,389"/>
<area shape="rect" href="../../d5/db1/early_8c.html#aa1e4d061b526fd8039b190bac6dc6740" title=" " alt="" coords="378,63,488,96"/>
<area shape="poly" title=" " alt="" coords="229,126,363,94,364,99,230,131"/>
<area shape="rect" href="../../d5/db1/early_8c.html#afe388d39d321421abf2838a49b48c9a6" title=" " alt="" coords="360,120,506,154"/>
<area shape="poly" title=" " alt="" coords="229,134,345,134,345,140,229,140"/>
<area shape="rect" href="../../d5/db1/early_8c.html#a35db5b8efc971e6d15456f9d344b14c8" title=" " alt="" coords="657,120,804,154"/>
<area shape="poly" title=" " alt="" coords="507,134,642,134,642,140,507,140"/>
<area shape="rect" href="../../d5/db1/early_8c.html#a5d035ee34f9df16a1f546d431ac42ab7" title=" " alt="" coords="675,5,786,39"/>
<area shape="poly" title=" " alt="" coords="506,124,547,107,562,93,570,78,579,63,595,48,627,34,660,25,661,30,628,39,598,52,583,66,575,81,566,96,550,111,508,129"/>
<area shape="rect" href="../../d4/ddd/container_8h.html#a05b941972fa26f438826c9b6c291ef25" title=" " alt="" coords="664,63,797,96"/>
<area shape="poly" title=" " alt="" coords="506,120,649,92,650,98,507,125"/>
<area shape="poly" title=" " alt="" coords="804,142,930,154,930,160,804,147"/>
<area shape="rect" href="../../d2/d71/procd_2utils_2utils_8c.html#aa9130f4217e08ae2cfc38b121b8d03c0" title=" " alt="" coords="1154,148,1255,182"/>
<area shape="poly" title=" " alt="" coords="1073,162,1139,162,1139,168,1073,168"/>
<area shape="rect" href="../../dd/de5/preinit_8c.html#a3c2b1b2951eae690991001026ac7c4d4" title=" " alt="" coords="653,625,808,659"/>
<area shape="poly" title=" " alt="" coords="474,590,639,622,638,627,473,595"/>
<area shape="rect" href="../../dd/de5/preinit_8c.html#a9539d3f84ee0e5d5db04710740c805f2" title=" " alt="" coords="659,496,802,530"/>
<area shape="poly" title=" " alt="" coords="473,573,643,531,645,536,474,578"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#af511d1bcbdfcfaba211d4ae1b0930dbb" title=" " alt="" coords="632,568,829,602"/>
<area shape="poly" title=" " alt="" coords="474,582,617,582,617,587,474,587"/>
<area shape="rect" href="../../dd/de5/preinit_8c.html#a4f3b5900c57e91bcc59c5c7e9f47fca6" title=" " alt="" coords="939,539,1080,572"/>
<area shape="poly" title=" " alt="" coords="803,521,924,540,923,545,802,526"/>
<area shape="rect" href="../../dd/de5/preinit_8c.html#a94bbc0d07683d7ebd935579b8c873834" title=" " alt="" coords="913,424,1106,458"/>
<area shape="poly" title=" " alt="" coords="798,493,926,459,927,465,799,498"/>
<area shape="rect" href="../../d6/d88/watchdog_8c.html#ae02caa227c18af4c5c42fee4b8d94ba9" title=" " alt="" coords="940,481,1079,515"/>
<area shape="poly" title=" " alt="" coords="802,506,924,500,924,505,802,512"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="945,596,1074,630"/>
<area shape="poly" title=" " alt="" coords="829,592,930,602,929,608,829,597"/>
<area shape="rect" href="../../d9/d65/ulog_8c.html#aa98943b7174469752250aa9314bf45ff" title=" " alt="" coords="375,229,492,263"/>
<area shape="poly" title=" " alt="" coords="253,263,359,251,359,257,254,268"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ac0bcdd57d004a600844745bd38e83a2d" title=" " alt="" coords="370,287,497,320"/>
<area shape="poly" title=" " alt="" coords="246,380,269,369,292,353,317,337,354,322,356,327,319,342,295,357,271,374,248,385"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a28e87c6264a681dc2a422d32794416c5" title=" " alt="" coords="627,341,834,375"/>
<area shape="poly" title=" " alt="" coords="251,389,318,381,471,369,611,361,612,366,471,374,318,386,251,394"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#a5b8f7c4e758eaf7384d7dafa9cd59502" title=" " alt="" coords="348,396,519,430"/>
<area shape="poly" title=" " alt="" coords="251,400,332,405,332,410,250,405"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae9d27835a99bfac45ed3f07a26287d7a" title=" " alt="" coords="376,453,490,487"/>
<area shape="poly" title=" " alt="" coords="244,414,319,440,362,451,360,456,317,445,242,420"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a13ca20f7af9aa4aa3057b1114e23e7f1" title=" " alt="" coords="617,284,844,318"/>
<area shape="poly" title=" " alt="" coords="497,300,601,299,601,305,497,306"/>
<area shape="poly" title=" " alt="" coords="498,313,621,335,620,341,497,318"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a14d4e1fa83f245cd59f0c68f48c90d75" title=" " alt="" coords="337,511,530,544"/>
<area shape="poly" title=" " alt="" coords="253,482,345,504,343,509,252,487"/>
<area shape="poly" title=" " alt="" coords="214,680,259,645,317,610,377,591,379,596,319,615,262,649,217,684"/>
<area shape="rect" href="../../d6/d88/watchdog_8c.html#a31664dcba8ff01b57b09be53bc297d58" title=" " alt="" coords="350,683,516,716"/>
<area shape="poly" title=" " alt="" coords="270,697,335,697,335,702,270,702"/>
<area shape="rect" href="../../d6/d88/watchdog_8c.html#a05316067521d0e4efd9b8d3a3a322591" title=" " alt="" coords="318,740,548,774"/>
<area shape="poly" title=" " alt="" coords="268,714,346,733,345,738,267,719"/>
<area shape="rect" href="../../d6/d88/watchdog_8c.html#a35f4cbd80d58c214a0f47b8022fa4ca1" title=" " alt="" coords="596,781,865,815"/>
<area shape="poly" title=" " alt="" coords="215,715,260,752,288,770,319,784,384,800,451,810,518,813,581,812,581,817,518,818,451,815,383,806,317,789,286,775,257,756,212,719"/>
<area shape="rect" href="../../d6/d88/watchdog_8c.html#a9cb0f6cbef0cbe8203eb22795acc9446" title=" " alt="" coords="338,625,529,659"/>
<area shape="poly" title=" " alt="" coords="267,680,345,661,346,666,268,685"/>
<area shape="rect" href="../../d6/d88/watchdog_8c.html#a5a3159d3f3390614400f8f403c5aac73" title=" " alt="" coords="322,849,544,883"/>
<area shape="poly" title=" " alt="" coords="210,715,254,770,285,801,319,828,345,841,342,846,317,832,281,805,250,774,206,718"/>
<area shape="poly" title=" " alt="" coords="521,657,549,668,593,691,634,717,700,769,697,773,631,722,590,695,547,673,519,662"/>
<area shape="poly" title=" " alt="" coords="545,869,635,873,634,879,545,874"/>
</map>
</div>

</div>
</div>
<a id="aea19649ec3d5a0a6d2daab5c5b34607a" name="aea19649ec3d5a0a6d2daab5c5b34607a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea19649ec3d5a0a6d2daab5c5b34607a">&#9670;&#160;</a></span>selinux()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int selinux </td>
          <td>(</td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>argv</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d60/init_8c_source.html#l00114">114</a> of file <a class="el" href="../../d8/d60/init_8c_source.html">init.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  115</span>{</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  117</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d8/d60/init_8c_source.html#l00121">main()</a>.</p>

</div>
</div>
<a id="a6ac67326768d2878a764a9b96af5847f" name="a6ac67326768d2878a764a9b96af5847f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ac67326768d2878a764a9b96af5847f">&#9670;&#160;</a></span>signal_shutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void signal_shutdown </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>signal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">siginfo_t *</td>          <td class="paramname"><span class="paramname"><em>siginfo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d60/init_8c_source.html#l00045">45</a> of file <a class="el" href="../../d8/d60/init_8c_source.html">init.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   46</span>{</div>
<div class="line"><span class="lineno">   47</span>    fprintf(stderr, <span class="stringliteral">&quot;reboot\n&quot;</span>);</div>
<div class="line"><span class="lineno">   48</span>    fflush(stderr);</div>
<div class="line"><span class="lineno">   49</span>    sync();</div>
<div class="line"><span class="lineno">   50</span>    sleep(2);</div>
<div class="line"><span class="lineno">   51</span>    reboot(RB_AUTOBOOT);</div>
<div class="line"><span class="lineno">   52</span>    <span class="keywordflow">while</span> (1)</div>
<div class="line"><span class="lineno">   53</span>        ;</div>
<div class="line"><span class="lineno">   54</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa3770535f39c67ca0811e27731893370" name="aa3770535f39c67ca0811e27731893370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3770535f39c67ca0811e27731893370">&#9670;&#160;</a></span>debug</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int debug = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d60/init_8c_source.html#l00042">42</a> of file <a class="el" href="../../d8/d60/init_8c_source.html">init.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/de5/preinit_8c_source.html#l00037">check_dbglvl()</a>, <a class="el" href="../../d8/d60/init_8c_source.html#l00062">cmdline()</a>, <a class="el" href="../../da/d37/hotplug_8c_source.html#l00181">handle_exec()</a>, <a class="el" href="../../da/d37/hotplug_8c_source.html#l00555">hotplug_handler_debug()</a>, <a class="el" href="../../d8/d60/init_8c_source.html#l00121">main()</a>, <a class="el" href="../../d3/dd8/cgroups-bpf_8c_source.html#l00193">parseOCIlinuxcgroups_devices()</a>, <a class="el" href="../../d8/da1/seccomp-oci_8c_source.html#l00199">parseOCIlinuxseccomp()</a>, <a class="el" href="../../da/d37/hotplug_8c_source.html#l00509">rule_handle_command()</a>, <a class="el" href="../../dd/de5/preinit_8c_source.html#l00091">spawn_procd()</a>, <a class="el" href="../../d0/d70/trigger_8c_source.html#l00100">trigger_command_run()</a>, and <a class="el" href="../../d7/dc0/watch_8c_source.html#l00094">watch_notify_cb()</a>.</p>

</div>
</div>
<a id="aa28a241908491347f814180e7c9d2759" name="aa28a241908491347f814180e7c9d2759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa28a241908491347f814180e7c9d2759">&#9670;&#160;</a></span>sa_shutdown</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct sigaction sa_shutdown</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .sa_sigaction = <a class="code hl_function" href="#a6ac67326768d2878a764a9b96af5847f">signal_shutdown</a>,</div>
<div class="line">    .sa_flags = SA_SIGINFO</div>
<div class="line">}</div>
<div class="ttc" id="ainit_8c_html_a6ac67326768d2878a764a9b96af5847f"><div class="ttname"><a href="#a6ac67326768d2878a764a9b96af5847f">signal_shutdown</a></div><div class="ttdeci">static void signal_shutdown(int signal, siginfo_t *siginfo, void *data)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d60/init_8c_source.html#l00045">init.c:45</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d8/d60/init_8c_source.html#l00056">56</a> of file <a class="el" href="../../d8/d60/init_8c_source.html">init.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   56</span>                                      {</div>
<div class="line"><span class="lineno">   57</span>    .sa_sigaction = <a class="code hl_function" href="#a6ac67326768d2878a764a9b96af5847f">signal_shutdown</a>,</div>
<div class="line"><span class="lineno">   58</span>    .sa_flags = SA_SIGINFO</div>
<div class="line"><span class="lineno">   59</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d8/d60/init_8c_source.html#l00121">main()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
