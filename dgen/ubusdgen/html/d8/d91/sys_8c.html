<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>zbus: /home/g41797/CLionProjects/github.com/g41797/zbus/src/libs/rpcd/sys.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">zbus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_87a455bccb09a92130c26a11a880c98a.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_be0f2df19bf3f27ec0c95ee6f46c0514.html">rpcd</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sys.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../db/d55/libubus_8h_source.html">libubus.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../df/d37/exec_8h_source.html">rpcd/exec.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d9/dc4/plugin_8h_source.html">rpcd/plugin.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../da/d46/session_8h_source.html">rpcd/session.h</a>&gt;</code><br />
<code>#include &lt;sys/reboot.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for sys.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d5/d21/sys_8c__incl.png" border="0" usemap="#a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2rpcd_2sys_8c" alt=""/></div>
<map name="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2rpcd_2sys_8c" id="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2rpcd_2sys_8c">
<area shape="rect" title=" " alt="" coords="829,5,1115,85"/>
<area shape="rect" title=" " alt="" coords="480,623,587,657"/>
<area shape="poly" title=" " alt="" coords="829,62,586,88,316,126,195,149,97,175,59,188,31,202,14,216,8,231,8,314,16,340,38,374,108,454,188,529,247,573,301,597,358,614,414,625,464,631,464,637,413,630,357,619,299,602,244,577,184,533,104,458,33,378,11,343,3,315,3,230,9,213,28,198,57,183,95,170,194,144,315,121,586,82,828,56"/>
<area shape="rect" href="../../db/d55/libubus_8h.html" title=" " alt="" coords="400,296,507,330"/>
<area shape="poly" title=" " alt="" coords="829,76,719,102,607,134,556,153,513,173,478,194,455,216,448,231,445,248,447,281,442,282,440,247,443,229,451,213,475,190,510,168,554,148,605,129,717,96,828,71"/>
<area shape="rect" href="../../df/d37/exec_8h.html" title=" " alt="" coords="491,215,621,248"/>
<area shape="poly" title=" " alt="" coords="885,88,607,210,605,205,883,83"/>
<area shape="rect" href="../../d9/dc4/plugin_8h.html" title=" " alt="" coords="1057,133,1202,167"/>
<area shape="poly" title=" " alt="" coords="1034,83,1093,122,1090,126,1031,88"/>
<area shape="rect" href="../../da/d46/session_8h.html" title=" " alt="" coords="1471,215,1628,248"/>
<area shape="poly" title=" " alt="" coords="1101,83,1159,105,1216,131,1241,148,1267,164,1314,182,1363,196,1457,216,1456,221,1362,201,1312,187,1264,169,1238,153,1213,135,1157,110,1099,88"/>
<area shape="rect" title=" " alt="" coords="1278,133,1413,167"/>
<area shape="poly" title=" " alt="" coords="1116,83,1272,126,1271,131,1115,88"/>
<area shape="rect" href="../../d3/d51/avl_8h.html" title=" " alt="" coords="755,460,896,493"/>
<area shape="poly" title=" " alt="" coords="507,313,560,319,621,329,684,348,744,376,764,391,783,409,811,445,806,448,779,412,761,395,741,380,682,353,620,335,559,324,507,319"/>
<area shape="rect" href="../../da/d23/list_8h.html" title=" " alt="" coords="464,541,531,575"/>
<area shape="poly" title=" " alt="" coords="459,330,494,526,489,527,454,331"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html" title=" " alt="" coords="806,378,999,412"/>
<area shape="poly" title=" " alt="" coords="508,321,797,372,796,377,507,327"/>
<area shape="rect" title=" " alt="" coords="213,623,305,657"/>
<area shape="poly" title=" " alt="" coords="399,318,316,323,221,333,136,351,104,364,83,380,73,395,67,410,67,442,79,474,101,507,129,538,161,566,222,612,218,616,157,570,125,542,96,510,74,477,62,443,62,409,68,392,79,376,101,360,134,346,220,327,316,317,399,313"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html" title=" " alt="" coords="302,460,466,493"/>
<area shape="poly" title=" " alt="" coords="454,331,445,369,430,413,409,449,404,446,426,411,440,368,448,330"/>
<area shape="rect" href="../../d5/d79/ubusmsg_8h.html" title=" " alt="" coords="291,378,416,412"/>
<area shape="poly" title=" " alt="" coords="435,333,387,370,384,366,431,328"/>
<area shape="rect" href="../../dc/d3c/ubus__common_8h.html" title=" " alt="" coords="93,378,267,412"/>
<area shape="poly" title=" " alt="" coords="400,333,251,376,250,371,399,328"/>
<area shape="poly" title=" " alt="" coords="798,496,577,617,575,613,795,491"/>
<area shape="rect" title=" " alt="" coords="717,623,814,657"/>
<area shape="poly" title=" " alt="" coords="822,495,779,609,774,608,817,493"/>
<area shape="poly" title=" " alt="" coords="759,497,546,548,545,543,758,491"/>
<area shape="poly" title=" " alt="" coords="507,574,522,608,517,610,502,577"/>
<area shape="poly" title=" " alt="" coords="531,567,703,617,702,623,530,572"/>
<area shape="rect" title=" " alt="" coords="582,460,680,493"/>
<area shape="poly" title=" " alt="" coords="848,415,695,459,694,454,847,410"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html" title=" " alt="" coords="919,460,998,493"/>
<area shape="poly" title=" " alt="" coords="916,411,941,445,936,448,912,414"/>
<area shape="poly" title=" " alt="" coords="927,496,843,535,740,578,603,622,601,617,738,572,840,530,925,491"/>
<area shape="rect" title=" " alt="" coords="910,541,1000,575"/>
<area shape="poly" title=" " alt="" coords="961,494,959,526,954,526,955,494"/>
<area shape="poly" title=" " alt="" coords="919,493,909,496,578,575,321,629,320,624,577,570,907,491,918,488"/>
<area shape="rect" title=" " alt="" coords="1024,541,1117,575"/>
<area shape="poly" title=" " alt="" coords="983,492,1037,530,1034,534,980,496"/>
<area shape="rect" title=" " alt="" coords="1355,541,1440,575"/>
<area shape="poly" title=" " alt="" coords="999,480,1146,502,1341,538,1340,544,1145,507,998,486"/>
<area shape="rect" title=" " alt="" coords="1142,541,1229,575"/>
<area shape="poly" title=" " alt="" coords="1000,489,1128,534,1126,539,998,494"/>
<area shape="rect" href="../../d5/d1d/libubox_2utils_8h.html" title=" " alt="" coords="1253,541,1331,575"/>
<area shape="poly" title=" " alt="" coords="999,483,1104,506,1238,538,1237,543,1102,511,998,488"/>
<area shape="poly" title=" " alt="" coords="1253,575,1242,578,1092,602,975,611,857,616,706,626,603,635,602,630,705,620,856,610,974,606,1092,596,1241,572,1252,570"/>
<area shape="poly" title=" " alt="" coords="1253,575,1242,578,1125,596,1026,608,857,616,686,617,468,626,321,636,320,631,468,620,686,612,856,611,1026,602,1125,591,1241,572,1252,570"/>
<area shape="rect" title=" " alt="" coords="1831,623,1942,657"/>
<area shape="poly" title=" " alt="" coords="1332,570,1343,572,1474,592,1578,599,1683,604,1816,620,1815,625,1682,610,1577,604,1473,598,1342,578,1331,575"/>
<area shape="rect" title=" " alt="" coords="1395,623,1522,657"/>
<area shape="poly" title=" " alt="" coords="1327,573,1413,614,1410,618,1325,578"/>
<area shape="rect" title=" " alt="" coords="1036,623,1153,657"/>
<area shape="poly" title=" " alt="" coords="1254,578,1150,619,1148,614,1252,573"/>
<area shape="rect" title=" " alt="" coords="1710,623,1807,657"/>
<area shape="poly" title=" " alt="" coords="1332,570,1343,572,1534,608,1695,629,1694,634,1534,613,1342,578,1331,575"/>
<area shape="poly" title=" " alt="" coords="395,492,420,531,454,573,498,612,495,616,450,577,416,534,391,495"/>
<area shape="poly" title=" " alt="" coords="408,492,464,530,461,534,405,496"/>
<area shape="poly" title=" " alt="" coords="347,496,314,516,286,543,271,575,263,608,258,607,266,573,282,540,311,512,344,492"/>
<area shape="poly" title=" " alt="" coords="467,488,753,539,825,556,898,572,1030,592,1162,609,1380,630,1379,635,1161,614,1029,598,897,578,824,561,751,544,466,493"/>
<area shape="poly" title=" " alt="" coords="453,491,803,572,1022,620,1021,625,802,578,451,497"/>
<area shape="rect" title=" " alt="" coords="296,541,390,575"/>
<area shape="poly" title=" " alt="" coords="378,495,360,529,356,526,373,493"/>
<area shape="poly" title=" " alt="" coords="417,399,663,424,797,440,904,457,903,462,796,445,662,429,416,405"/>
<area shape="poly" title=" " alt="" coords="335,414,312,435,292,461,275,498,265,537,260,607,255,607,260,536,270,496,287,458,308,431,331,410"/>
<area shape="poly" title=" " alt="" coords="187,411,199,445,219,489,248,535,286,573,328,598,374,615,421,626,464,633,464,638,420,632,373,620,325,603,282,577,244,538,215,492,194,447,182,413"/>
<area shape="poly" title=" " alt="" coords="537,251,488,289,485,284,534,247"/>
<area shape="poly" title=" " alt="" coords="592,246,855,369,853,373,589,251"/>
<area shape="rect" href="../../da/d79/ustream_8h.html" title=" " alt="" coords="541,378,731,412"/>
<area shape="poly" title=" " alt="" coords="566,248,624,363,619,365,562,250"/>
<area shape="poly" title=" " alt="" coords="638,412,635,444,630,444,632,412"/>
<area shape="poly" title=" " alt="" coords="586,415,451,457,449,452,584,410"/>
<area shape="poly" title=" " alt="" coords="1057,156,905,163,725,175,566,193,511,204,482,217,470,230,463,246,456,281,451,280,458,245,466,227,478,213,510,199,565,188,724,170,905,158,1056,151"/>
<area shape="poly" title=" " alt="" coords="1144,165,1181,213,1298,390,1382,526,1378,529,1293,393,1176,216,1140,169"/>
<area shape="poly" title=" " alt="" coords="1203,157,1266,164,1431,172,1539,178,1651,186,1755,202,1802,212,1843,226,1877,242,1904,261,1921,285,1927,312,1927,478,1924,514,1918,549,1901,609,1896,607,1913,548,1919,513,1921,478,1921,312,1916,287,1900,265,1875,246,1841,231,1801,218,1754,207,1650,192,1539,183,1431,178,1265,169,1202,162"/>
<area shape="poly" title=" " alt="" coords="1154,165,1210,213,1270,280,1344,369,1412,462,1437,504,1455,540,1462,575,1464,608,1458,608,1457,575,1449,542,1433,507,1407,465,1340,372,1266,283,1206,217,1151,169"/>
<area shape="poly" title=" " alt="" coords="1203,157,1465,188,1640,212,1706,226,1765,237,1789,246,1808,260,1821,282,1825,312,1825,478,1821,515,1810,551,1780,611,1775,609,1805,549,1816,514,1820,478,1820,312,1816,283,1804,264,1787,250,1764,242,1705,231,1640,217,1464,193,1202,162"/>
<area shape="poly" title=" " alt="" coords="1057,162,870,184,636,217,635,212,870,178,1056,156"/>
<area shape="rect" title=" " alt="" coords="645,215,731,248"/>
<area shape="poly" title=" " alt="" coords="1056,163,917,185,747,217,746,212,916,180,1056,158"/>
<area shape="rect" title=" " alt="" coords="1321,296,1402,330"/>
<area shape="poly" title=" " alt="" coords="1203,164,1255,183,1304,213,1333,246,1352,281,1347,284,1329,249,1301,217,1253,188,1201,169"/>
<area shape="rect" title=" " alt="" coords="755,215,845,248"/>
<area shape="poly" title=" " alt="" coords="1057,170,860,216,859,211,1055,165"/>
<area shape="rect" title=" " alt="" coords="1425,296,1519,330"/>
<area shape="poly" title=" " alt="" coords="1202,165,1268,185,1336,212,1395,248,1444,284,1441,289,1392,252,1333,217,1266,190,1200,170"/>
<area shape="rect" title=" " alt="" coords="868,215,983,248"/>
<area shape="poly" title=" " alt="" coords="1089,170,982,211,980,206,1087,165"/>
<area shape="rect" href="../../d5/dea/blobmsg__json_8h.html" title=" " alt="" coords="936,296,1176,330"/>
<area shape="poly" title=" " alt="" coords="1144,166,1162,205,1165,227,1160,250,1140,273,1116,291,1113,287,1137,269,1155,247,1160,227,1157,206,1139,168"/>
<area shape="rect" title=" " alt="" coords="1007,215,1145,248"/>
<area shape="poly" title=" " alt="" coords="1121,169,1098,203,1093,200,1116,166"/>
<area shape="poly" title=" " alt="" coords="1203,162,1456,210,1455,215,1202,168"/>
<area shape="poly" title=" " alt="" coords="1056,331,1043,373,1031,395,1014,414,978,435,945,446,914,449,882,447,818,443,783,448,744,462,705,487,656,528,562,614,559,610,652,524,702,483,741,457,781,443,818,438,883,442,914,443,944,441,976,431,1010,410,1027,392,1038,371,1051,330"/>
<area shape="poly" title=" " alt="" coords="1026,333,948,373,946,368,1024,328"/>
<area shape="poly" title=" " alt="" coords="1554,249,1552,290,1546,312,1532,332,1456,352,1287,388,911,462,910,456,1285,383,1455,347,1529,328,1541,310,1547,289,1549,249"/>
<area shape="poly" title=" " alt="" coords="1628,235,1707,249,1748,261,1788,277,1823,297,1851,323,1869,355,1876,393,1876,478,1879,547,1885,607,1880,608,1874,548,1871,478,1871,394,1864,357,1846,326,1819,301,1785,281,1747,266,1706,254,1627,241"/>
<area shape="poly" title=" " alt="" coords="1561,247,1591,310,1604,351,1609,393,1609,478,1607,501,1599,523,1573,561,1539,593,1504,617,1501,613,1536,589,1569,558,1594,520,1601,500,1604,478,1604,394,1599,352,1587,312,1557,250"/>
<area shape="poly" title=" " alt="" coords="1628,238,1660,245,1692,256,1722,273,1749,294,1766,318,1773,340,1775,393,1775,478,1772,548,1765,608,1760,607,1766,547,1769,478,1769,394,1768,341,1761,320,1745,298,1719,277,1690,261,1658,250,1627,243"/>
<area shape="poly" title=" " alt="" coords="1512,251,1414,292,1412,287,1510,246"/>
<area shape="poly" title=" " alt="" coords="1536,251,1500,287,1496,283,1532,247"/>
<area shape="poly" title=" " alt="" coords="1471,248,1172,296,1171,291,1470,243"/>
<area shape="rect" title=" " alt="" coords="1644,296,1735,330"/>
<area shape="poly" title=" " alt="" coords="1579,246,1649,286,1646,291,1576,251"/>
</map>
</div>
</div>
<p><a href="../../d8/d91/sys_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a5bea799269f02f5b3395d6b2c068b618" id="r_a5bea799269f02f5b3395d6b2c068b618"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="#a5bea799269f02f5b3395d6b2c068b618a57ccbf578f2fa6b9cd405d5373eb46b1">RPC_P_USER</a>
, <a class="el" href="#a5bea799269f02f5b3395d6b2c068b618ae0adc91a5691919b88b1e6d4f8bfe1c4">RPC_P_PASSWORD</a>
, <a class="el" href="#a5bea799269f02f5b3395d6b2c068b618a0f53cc392f31cef9aa7ef747e2290741">__RPC_P_MAX</a>
 }</td></tr>
<tr class="separator:a5bea799269f02f5b3395d6b2c068b618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15b3bbe041870ee299f7e042b0305e3c" id="r_a15b3bbe041870ee299f7e042b0305e3c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="#a15b3bbe041870ee299f7e042b0305e3ca6ddf947437fcc68bc8279bf0cd0f1531">RPC_UPGRADE_KEEP</a>
, <a class="el" href="#a15b3bbe041870ee299f7e042b0305e3ca9034f60af112301607a64ec71cca8561">__RPC_UPGRADE_MAX</a>
 }</td></tr>
<tr class="separator:a15b3bbe041870ee299f7e042b0305e3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae62fccd8cea8f216b24ba625d404c4ae" id="r_ae62fccd8cea8f216b24ba625d404c4ae"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="#ae62fccd8cea8f216b24ba625d404c4aeade6a0d92376863ae02d5c532ea2022b3">RPC_PACKAGELIST_ALL</a>
, <a class="el" href="#ae62fccd8cea8f216b24ba625d404c4aea1978e3098bffb751c5e475e27ec10a86">__RPC_PACKAGELIST_MAX</a>
 }</td></tr>
<tr class="separator:ae62fccd8cea8f216b24ba625d404c4ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a090b8a33eecdf9cc91830fbfc75b1bed" id="r_a090b8a33eecdf9cc91830fbfc75b1bed"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a> (void)</td></tr>
<tr class="separator:a090b8a33eecdf9cc91830fbfc75b1bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac731f9826cf2c840786bb193b6d3b4e6" id="r_ac731f9826cf2c840786bb193b6d3b4e6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac731f9826cf2c840786bb193b6d3b4e6">rpc_cgi_password_set</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:ac731f9826cf2c840786bb193b6d3b4e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7954af01cabe4d277169d5ff454306ca" id="r_a7954af01cabe4d277169d5ff454306ca"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7954af01cabe4d277169d5ff454306ca">is_field</a> (const char *<a class="el" href="../../dd/d8f/udebug-proto_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>, const char *line)</td></tr>
<tr class="separator:a7954af01cabe4d277169d5ff454306ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae8f8fa72d554f8529c5006957a8c642" id="r_aae8f8fa72d554f8529c5006957a8c642"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae8f8fa72d554f8529c5006957a8c642">is_blank</a> (const char *line)</td></tr>
<tr class="separator:aae8f8fa72d554f8529c5006957a8c642"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4310d4efd0788cbd49874f17ebe04ca9" id="r_a4310d4efd0788cbd49874f17ebe04ca9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4310d4efd0788cbd49874f17ebe04ca9">rpc_sys_packagelist</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a4310d4efd0788cbd49874f17ebe04ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4692a150f62f445c6b8af447ee182e9" id="r_aa4692a150f62f445c6b8af447ee182e9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa4692a150f62f445c6b8af447ee182e9">rpc_sys_upgrade_test</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:aa4692a150f62f445c6b8af447ee182e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bb62898dcbe368b3af2b2956f4d262b" id="r_a3bb62898dcbe368b3af2b2956f4d262b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3bb62898dcbe368b3af2b2956f4d262b">rpc_sys_upgrade_start</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a3bb62898dcbe368b3af2b2956f4d262b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24f01653c4f1cdd479608ce9fc760312" id="r_a24f01653c4f1cdd479608ce9fc760312"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a24f01653c4f1cdd479608ce9fc760312">rpc_sys_upgrade_clean</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a24f01653c4f1cdd479608ce9fc760312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde67aeb2db6207aa8240c047a3eac3b" id="r_adde67aeb2db6207aa8240c047a3eac3b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adde67aeb2db6207aa8240c047a3eac3b">rpc_sys_factory</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:adde67aeb2db6207aa8240c047a3eac3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe554d8c7ad609b4167f1d694ff1ac25" id="r_afe554d8c7ad609b4167f1d694ff1ac25"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe554d8c7ad609b4167f1d694ff1ac25">rpc_sys_reboot</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:afe554d8c7ad609b4167f1d694ff1ac25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcdcb7696b393d52c93ff3800607e334" id="r_afcdcb7696b393d52c93ff3800607e334"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afcdcb7696b393d52c93ff3800607e334">rpc_sys_api_init</a> (const struct <a class="el" href="../../d9/dc4/plugin_8h.html#d2/d00/structrpc__daemon__ops">rpc_daemon_ops</a> *o, struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>)</td></tr>
<tr class="separator:afcdcb7696b393d52c93ff3800607e334"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8c9284b14b948aae5a1abc7ed0e16c0c" id="r_a8c9284b14b948aae5a1abc7ed0e16c0c"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d9/dc4/plugin_8h.html#d2/d00/structrpc__daemon__ops">rpc_daemon_ops</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c9284b14b948aae5a1abc7ed0e16c0c">ops</a></td></tr>
<tr class="separator:a8c9284b14b948aae5a1abc7ed0e16c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0102e4b700b20515ba47b669db5dff36" id="r_a0102e4b700b20515ba47b669db5dff36"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0102e4b700b20515ba47b669db5dff36">rpc_password_policy</a> [<a class="el" href="#a5bea799269f02f5b3395d6b2c068b618a0f53cc392f31cef9aa7ef747e2290741">__RPC_P_MAX</a>]</td></tr>
<tr class="separator:a0102e4b700b20515ba47b669db5dff36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ce8f7cb4e2cb433b9a4dbc86f99515" id="r_a98ce8f7cb4e2cb433b9a4dbc86f99515"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98ce8f7cb4e2cb433b9a4dbc86f99515">rpc_upgrade_policy</a> [<a class="el" href="#a15b3bbe041870ee299f7e042b0305e3ca9034f60af112301607a64ec71cca8561">__RPC_UPGRADE_MAX</a>]</td></tr>
<tr class="separator:a98ce8f7cb4e2cb433b9a4dbc86f99515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e82936da93fe244b8fc053d89b77f3" id="r_a10e82936da93fe244b8fc053d89b77f3"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a10e82936da93fe244b8fc053d89b77f3">rpc_packagelist_policy</a> [<a class="el" href="#ae62fccd8cea8f216b24ba625d404c4aea1978e3098bffb751c5e475e27ec10a86">__RPC_PACKAGELIST_MAX</a>]</td></tr>
<tr class="separator:a10e82936da93fe244b8fc053d89b77f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cf335329d79680c19c21b0b666c8d42" id="r_a9cf335329d79680c19c21b0b666c8d42"><td class="memItemLeft" align="right" valign="top">struct rpc_plugin&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9cf335329d79680c19c21b0b666c8d42">rpc_plugin</a></td></tr>
<tr class="separator:a9cf335329d79680c19c21b0b666c8d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a5bea799269f02f5b3395d6b2c068b618" name="a5bea799269f02f5b3395d6b2c068b618"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bea799269f02f5b3395d6b2c068b618">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5bea799269f02f5b3395d6b2c068b618a57ccbf578f2fa6b9cd405d5373eb46b1" name="a5bea799269f02f5b3395d6b2c068b618a57ccbf578f2fa6b9cd405d5373eb46b1"></a>RPC_P_USER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5bea799269f02f5b3395d6b2c068b618ae0adc91a5691919b88b1e6d4f8bfe1c4" name="a5bea799269f02f5b3395d6b2c068b618ae0adc91a5691919b88b1e6d4f8bfe1c4"></a>RPC_P_PASSWORD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5bea799269f02f5b3395d6b2c068b618a0f53cc392f31cef9aa7ef747e2290741" name="a5bea799269f02f5b3395d6b2c068b618a0f53cc392f31cef9aa7ef747e2290741"></a>__RPC_P_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00029">29</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   29</span>     {</div>
<div class="line"><span class="lineno">   30</span>    <a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618a57ccbf578f2fa6b9cd405d5373eb46b1">RPC_P_USER</a>,</div>
<div class="line"><span class="lineno">   31</span>    <a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618ae0adc91a5691919b88b1e6d4f8bfe1c4">RPC_P_PASSWORD</a>,</div>
<div class="line"><span class="lineno">   32</span>    <a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618a0f53cc392f31cef9aa7ef747e2290741">__RPC_P_MAX</a></div>
<div class="line"><span class="lineno">   33</span>};</div>
<div class="ttc" id="asys_8c_html_a5bea799269f02f5b3395d6b2c068b618a0f53cc392f31cef9aa7ef747e2290741"><div class="ttname"><a href="#a5bea799269f02f5b3395d6b2c068b618a0f53cc392f31cef9aa7ef747e2290741">__RPC_P_MAX</a></div><div class="ttdeci">@ __RPC_P_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00033">sys.c:32</a></div></div>
<div class="ttc" id="asys_8c_html_a5bea799269f02f5b3395d6b2c068b618a57ccbf578f2fa6b9cd405d5373eb46b1"><div class="ttname"><a href="#a5bea799269f02f5b3395d6b2c068b618a57ccbf578f2fa6b9cd405d5373eb46b1">RPC_P_USER</a></div><div class="ttdeci">@ RPC_P_USER</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00030">sys.c:30</a></div></div>
<div class="ttc" id="asys_8c_html_a5bea799269f02f5b3395d6b2c068b618ae0adc91a5691919b88b1e6d4f8bfe1c4"><div class="ttname"><a href="#a5bea799269f02f5b3395d6b2c068b618ae0adc91a5691919b88b1e6d4f8bfe1c4">RPC_P_PASSWORD</a></div><div class="ttdeci">@ RPC_P_PASSWORD</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00031">sys.c:31</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15b3bbe041870ee299f7e042b0305e3c" name="a15b3bbe041870ee299f7e042b0305e3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15b3bbe041870ee299f7e042b0305e3c">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a15b3bbe041870ee299f7e042b0305e3ca6ddf947437fcc68bc8279bf0cd0f1531" name="a15b3bbe041870ee299f7e042b0305e3ca6ddf947437fcc68bc8279bf0cd0f1531"></a>RPC_UPGRADE_KEEP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a15b3bbe041870ee299f7e042b0305e3ca9034f60af112301607a64ec71cca8561" name="a15b3bbe041870ee299f7e042b0305e3ca9034f60af112301607a64ec71cca8561"></a>__RPC_UPGRADE_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00040">40</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   40</span>     {</div>
<div class="line"><span class="lineno">   41</span>    <a class="code hl_enumvalue" href="#a15b3bbe041870ee299f7e042b0305e3ca6ddf947437fcc68bc8279bf0cd0f1531">RPC_UPGRADE_KEEP</a>,</div>
<div class="line"><span class="lineno">   42</span>    <a class="code hl_enumvalue" href="#a15b3bbe041870ee299f7e042b0305e3ca9034f60af112301607a64ec71cca8561">__RPC_UPGRADE_MAX</a></div>
<div class="line"><span class="lineno">   43</span>};</div>
<div class="ttc" id="asys_8c_html_a15b3bbe041870ee299f7e042b0305e3ca6ddf947437fcc68bc8279bf0cd0f1531"><div class="ttname"><a href="#a15b3bbe041870ee299f7e042b0305e3ca6ddf947437fcc68bc8279bf0cd0f1531">RPC_UPGRADE_KEEP</a></div><div class="ttdeci">@ RPC_UPGRADE_KEEP</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00041">sys.c:41</a></div></div>
<div class="ttc" id="asys_8c_html_a15b3bbe041870ee299f7e042b0305e3ca9034f60af112301607a64ec71cca8561"><div class="ttname"><a href="#a15b3bbe041870ee299f7e042b0305e3ca9034f60af112301607a64ec71cca8561">__RPC_UPGRADE_MAX</a></div><div class="ttdeci">@ __RPC_UPGRADE_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00043">sys.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae62fccd8cea8f216b24ba625d404c4ae" name="ae62fccd8cea8f216b24ba625d404c4ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae62fccd8cea8f216b24ba625d404c4ae">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae62fccd8cea8f216b24ba625d404c4aeade6a0d92376863ae02d5c532ea2022b3" name="ae62fccd8cea8f216b24ba625d404c4aeade6a0d92376863ae02d5c532ea2022b3"></a>RPC_PACKAGELIST_ALL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae62fccd8cea8f216b24ba625d404c4aea1978e3098bffb751c5e475e27ec10a86" name="ae62fccd8cea8f216b24ba625d404c4aea1978e3098bffb751c5e475e27ec10a86"></a>__RPC_PACKAGELIST_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00049">49</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   49</span>     {</div>
<div class="line"><span class="lineno">   50</span>    <a class="code hl_enumvalue" href="#ae62fccd8cea8f216b24ba625d404c4aeade6a0d92376863ae02d5c532ea2022b3">RPC_PACKAGELIST_ALL</a>,</div>
<div class="line"><span class="lineno">   51</span>    <a class="code hl_enumvalue" href="#ae62fccd8cea8f216b24ba625d404c4aea1978e3098bffb751c5e475e27ec10a86">__RPC_PACKAGELIST_MAX</a></div>
<div class="line"><span class="lineno">   52</span>};</div>
<div class="ttc" id="asys_8c_html_ae62fccd8cea8f216b24ba625d404c4aea1978e3098bffb751c5e475e27ec10a86"><div class="ttname"><a href="#ae62fccd8cea8f216b24ba625d404c4aea1978e3098bffb751c5e475e27ec10a86">__RPC_PACKAGELIST_MAX</a></div><div class="ttdeci">@ __RPC_PACKAGELIST_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00052">sys.c:51</a></div></div>
<div class="ttc" id="asys_8c_html_ae62fccd8cea8f216b24ba625d404c4aeade6a0d92376863ae02d5c532ea2022b3"><div class="ttname"><a href="#ae62fccd8cea8f216b24ba625d404c4aeade6a0d92376863ae02d5c532ea2022b3">RPC_PACKAGELIST_ALL</a></div><div class="ttdeci">@ RPC_PACKAGELIST_ALL</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00050">sys.c:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aae8f8fa72d554f8529c5006957a8c642" name="aae8f8fa72d554f8529c5006957a8c642"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae8f8fa72d554f8529c5006957a8c642">&#9670;&#160;</a></span>is_blank()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_blank </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>line</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00175">175</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  176</span>{</div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">for</span> (; *line; line++)</div>
<div class="line"><span class="lineno">  178</span>        <span class="keywordflow">if</span> (!isspace(*line))</div>
<div class="line"><span class="lineno">  179</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  181</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d8/d91/sys_8c_source.html#l00184">rpc_sys_packagelist()</a>.</p>

</div>
</div>
<a id="a7954af01cabe4d277169d5ff454306ca" name="a7954af01cabe4d277169d5ff454306ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7954af01cabe4d277169d5ff454306ca">&#9670;&#160;</a></span>is_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_field </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00169">169</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  170</span>{</div>
<div class="line"><span class="lineno">  171</span>    <span class="keywordflow">return</span> strncmp(line, <a class="code hl_variable" href="../../dd/d8f/udebug-proto_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>, strlen(<a class="code hl_variable" href="../../dd/d8f/udebug-proto_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)) == 0;</div>
<div class="line"><span class="lineno">  172</span>}</div>
<div class="ttc" id="audebug-proto_8h_html_a1d127017fb298b889f4ba24752d08b8e"><div class="ttname"><a href="../../dd/d8f/udebug-proto_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a></div><div class="ttdeci">uint8_t type</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d8f/udebug-proto_8h_source.html#l00000">udebug-proto.h:0</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d8f/udebug-proto_8h_source.html#l00000">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d91/sys_8c_source.html#l00184">rpc_sys_packagelist()</a>.</p>

</div>
</div>
<a id="ac731f9826cf2c840786bb193b6d3b4e6" name="ac731f9826cf2c840786bb193b6d3b4e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac731f9826cf2c840786bb193b6d3b4e6">&#9670;&#160;</a></span>rpc_cgi_password_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_cgi_password_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00081">81</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   84</span>{</div>
<div class="line"><span class="lineno">   85</span>    pid_t pid;</div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordtype">int</span> fd, fds[2];</div>
<div class="line"><span class="lineno">   87</span>    <span class="keyword">struct </span>stat s;</div>
<div class="line"><span class="lineno">   88</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb[<a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618a0f53cc392f31cef9aa7ef747e2290741">__RPC_P_MAX</a>];</div>
<div class="line"><span class="lineno">   89</span>    ssize_t n;</div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno">   91</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> passwd = <span class="stringliteral">&quot;/bin/passwd&quot;</span>;</div>
<div class="line"><span class="lineno">   92</span>    <span class="keyword">const</span> <span class="keyword">struct </span>timespec ts = {0, 100 * 1000 * 1000};</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#a0102e4b700b20515ba47b669db5dff36">rpc_password_policy</a>, <a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618a0f53cc392f31cef9aa7ef747e2290741">__RPC_P_MAX</a>, tb,</div>
<div class="line"><span class="lineno">   95</span>                  <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a>(msg), <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(msg));</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>    <span class="keywordflow">if</span> (!tb[<a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618a57ccbf578f2fa6b9cd405d5373eb46b1">RPC_P_USER</a>] || !tb[<a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618ae0adc91a5691919b88b1e6d4f8bfe1c4">RPC_P_PASSWORD</a>])</div>
<div class="line"><span class="lineno">   98</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">if</span> (stat(passwd, &amp;s))</div>
<div class="line"><span class="lineno">  101</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97">UBUS_STATUS_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">if</span> (!(s.st_mode &amp; S_IXUSR))</div>
<div class="line"><span class="lineno">  104</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312aa18a040703e9965952f5c93c3e727d39">UBUS_STATUS_PERMISSION_DENIED</a>;</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">if</span> (pipe(fds))</div>
<div class="line"><span class="lineno">  107</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">switch</span> ((pid = fork()))</div>
<div class="line"><span class="lineno">  110</span>    {</div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">case</span> -1:</div>
<div class="line"><span class="lineno">  112</span>        close(fds[0]);</div>
<div class="line"><span class="lineno">  113</span>        close(fds[1]);</div>
<div class="line"><span class="lineno">  114</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno">  117</span>        <a class="code hl_function" href="../../d1/d08/uloop_8c.html#ac0bcdd57d004a600844745bd38e83a2d">uloop_done</a>();</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>        dup2(fds[0], 0);</div>
<div class="line"><span class="lineno">  120</span>        close(fds[0]);</div>
<div class="line"><span class="lineno">  121</span>        close(fds[1]);</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>        <span class="keywordflow">if</span> ((fd = open(<span class="stringliteral">&quot;/dev/null&quot;</span>, O_RDWR)) &gt; -1)</div>
<div class="line"><span class="lineno">  124</span>        {</div>
<div class="line"><span class="lineno">  125</span>            dup2(fd, 1);</div>
<div class="line"><span class="lineno">  126</span>            dup2(fd, 2);</div>
<div class="line"><span class="lineno">  127</span>            close(fd);</div>
<div class="line"><span class="lineno">  128</span>        }</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>        ret = chdir(<span class="stringliteral">&quot;/&quot;</span>);</div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><span class="lineno">  132</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>        <span class="keywordflow">if</span> (execl(passwd, passwd,</div>
<div class="line"><span class="lineno">  135</span>                  <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb[<a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618a57ccbf578f2fa6b9cd405d5373eb46b1">RPC_P_USER</a>]), NULL))</div>
<div class="line"><span class="lineno">  136</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  139</span>        close(fds[0]);</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>        n = write(fds[1], <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb[<a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618ae0adc91a5691919b88b1e6d4f8bfe1c4">RPC_P_PASSWORD</a>]),</div>
<div class="line"><span class="lineno">  142</span>                      <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052">blobmsg_data_len</a>(tb[<a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618ae0adc91a5691919b88b1e6d4f8bfe1c4">RPC_P_PASSWORD</a>]) - 1);</div>
<div class="line"><span class="lineno">  143</span>        <span class="keywordflow">if</span> (n &lt; 0)</div>
<div class="line"><span class="lineno">  144</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>        n = write(fds[1], <span class="stringliteral">&quot;\n&quot;</span>, 1);</div>
<div class="line"><span class="lineno">  147</span>        <span class="keywordflow">if</span> (n &lt; 0)</div>
<div class="line"><span class="lineno">  148</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>        nanosleep(&amp;ts, NULL);</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>        n = write(fds[1], <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb[<a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618ae0adc91a5691919b88b1e6d4f8bfe1c4">RPC_P_PASSWORD</a>]),</div>
<div class="line"><span class="lineno">  153</span>                      <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052">blobmsg_data_len</a>(tb[<a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618ae0adc91a5691919b88b1e6d4f8bfe1c4">RPC_P_PASSWORD</a>]) - 1);</div>
<div class="line"><span class="lineno">  154</span>        <span class="keywordflow">if</span> (n &lt; 0)</div>
<div class="line"><span class="lineno">  155</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  156</span>        n = write(fds[1], <span class="stringliteral">&quot;\n&quot;</span>, 1);</div>
<div class="line"><span class="lineno">  157</span>        <span class="keywordflow">if</span> (n &lt; 0)</div>
<div class="line"><span class="lineno">  158</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>        close(fds[1]);</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>        waitpid(pid, NULL, 0);</div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  165</span>    }</div>
<div class="line"><span class="lineno">  166</span>}</div>
<div class="ttc" id="ablob_8h_html_a66e0b636bd2bbafbf8701a1e91bbf857"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a></div><div class="ttdeci">static void * blob_data(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00075">blob.h:75</a></div></div>
<div class="ttc" id="ablob_8h_html_a9921d2b89577d3344abbb66f24773e32"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a></div><div class="ttdeci">static size_t blob_len(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00100">blob.h:100</a></div></div>
<div class="ttc" id="ablob_8h_html_dc/dd9/structblob__attr"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a></div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00052">blob.h:52</a></div></div>
<div class="ttc" id="ablobmsg_8c_html_afb56b36905412b6618a529c171e833ed"><div class="ttname"><a href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a></div><div class="ttdeci">int blobmsg_parse(const struct blobmsg_policy *policy, int policy_len, struct blob_attr **tb, void *data, unsigned int len)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg.c:166</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a065ed993444c3173838a480ba4aac052"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052">blobmsg_data_len</a></div><div class="ttdeci">static size_t blobmsg_data_len(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00095">blobmsg.h:95</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_ab788ffb2ae75d047fa39be6e79571d20"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a></div><div class="ttdeci">static void * blobmsg_data(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg.h:78</a></div></div>
<div class="ttc" id="asys_8c_html_a0102e4b700b20515ba47b669db5dff36"><div class="ttname"><a href="#a0102e4b700b20515ba47b669db5dff36">rpc_password_policy</a></div><div class="ttdeci">static const struct blobmsg_policy rpc_password_policy[__RPC_P_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00035">sys.c:35</a></div></div>
<div class="ttc" id="asys_8c_html_a090b8a33eecdf9cc91830fbfc75b1bed"><div class="ttname"><a href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a></div><div class="ttdeci">static int rpc_errno_status(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00059">sys.c:59</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a></div><div class="ttdeci">@ UBUS_STATUS_INVALID_ARGUMENT</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00121">ubusmsg.h:121</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97">UBUS_STATUS_NOT_FOUND</a></div><div class="ttdeci">@ UBUS_STATUS_NOT_FOUND</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00123">ubusmsg.h:123</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312aa18a040703e9965952f5c93c3e727d39"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312aa18a040703e9965952f5c93c3e727d39">UBUS_STATUS_PERMISSION_DENIED</a></div><div class="ttdeci">@ UBUS_STATUS_PERMISSION_DENIED</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00125">ubusmsg.h:125</a></div></div>
<div class="ttc" id="auloop_8c_html_ac0bcdd57d004a600844745bd38e83a2d"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#ac0bcdd57d004a600844745bd38e83a2d">uloop_done</a></div><div class="ttdeci">void uloop_done(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00686">uloop.c:686</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d91/sys_8c_source.html#l00032">__RPC_P_MAX</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00075">blob_data()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00095">blobmsg_data_len()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00059">rpc_errno_status()</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00031">RPC_P_PASSWORD</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00030">RPC_P_USER</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00035">rpc_password_policy</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00121">UBUS_STATUS_INVALID_ARGUMENT</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00123">UBUS_STATUS_NOT_FOUND</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00125">UBUS_STATUS_PERMISSION_DENIED</a>, and <a class="el" href="../../d1/d08/uloop_8c_source.html#l00686">uloop_done()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d91/sys_8c_source.html#l00336">rpc_sys_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d91/sys_8c_ac731f9826cf2c840786bb193b6d3b4e6_cgraph.png" border="0" usemap="#ad8/d91/sys_8c_ac731f9826cf2c840786bb193b6d3b4e6_cgraph" alt=""/></div>
<map name="ad8/d91/sys_8c_ac731f9826cf2c840786bb193b6d3b4e6_cgraph" id="ad8/d91/sys_8c_ac731f9826cf2c840786bb193b6d3b4e6_cgraph">
<area shape="rect" title=" " alt="" coords="5,426,227,460"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1342,110,1453,144"/>
<area shape="poly" title=" " alt="" coords="124,424,181,324,229,255,288,183,357,115,395,84,435,57,478,35,522,18,569,7,617,3,902,3,964,5,1027,13,1149,39,1258,71,1341,101,1339,106,1256,76,1148,44,1026,18,964,11,902,8,617,8,570,12,524,23,480,40,438,62,398,89,360,119,292,187,233,259,186,327,128,427"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1109,426,1207,460"/>
<area shape="poly" title=" " alt="" coords="196,458,275,469,482,487,644,493,806,488,1013,469,1093,456,1094,461,1014,475,806,493,644,498,482,492,274,475,195,463"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1082,215,1234,249"/>
<area shape="poly" title=" " alt="" coords="137,423,196,378,273,328,410,253,520,200,576,180,636,162,788,129,851,118,902,111,952,114,1015,129,1048,143,1079,162,1130,202,1127,206,1076,166,1046,148,1013,135,952,119,902,117,852,123,789,135,637,167,577,185,522,205,413,258,276,333,199,382,140,428"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="807,145,995,178"/>
<area shape="poly" title=" " alt="" coords="161,423,496,296,832,181,833,186,498,301,163,428"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="281,426,443,460"/>
<area shape="poly" title=" " alt="" coords="227,440,265,440,265,445,227,445"/>
<area shape="rect" href="../../d8/d91/sys_8c.html#a090b8a33eecdf9cc91830fbfc75b1bed" title=" " alt="" coords="275,635,449,669"/>
<area shape="poly" title=" " alt="" coords="131,458,188,532,230,575,276,614,296,626,294,630,273,618,226,579,184,535,127,461"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ac0bcdd57d004a600844745bd38e83a2d" title=" " alt="" coords="298,694,426,728"/>
<area shape="poly" title=" " alt="" coords="126,459,146,503,178,562,222,625,248,654,276,679,286,686,283,690,273,683,244,658,218,628,174,565,141,505,122,461"/>
<area shape="poly" title=" " alt="" coords="1207,212,1253,194,1348,149,1350,153,1255,198,1209,217"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1307,375,1488,409"/>
<area shape="poly" title=" " alt="" coords="1175,247,1228,304,1264,335,1303,362,1312,366,1310,371,1301,366,1261,339,1224,307,1171,251"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1312,238,1482,272"/>
<area shape="poly" title=" " alt="" coords="1234,237,1297,243,1296,248,1234,242"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1302,318,1492,352"/>
<area shape="poly" title=" " alt="" coords="1200,247,1343,309,1341,314,1198,252"/>
<area shape="poly" title=" " alt="" coords="996,152,1326,129,1326,134,996,157"/>
<area shape="poly" title=" " alt="" coords="933,176,974,204,1016,239,1055,283,1090,330,1142,411,1137,414,1085,333,1050,287,1012,243,971,208,930,181"/>
<area shape="poly" title=" " alt="" coords="966,176,1080,208,1079,213,964,181"/>
<area shape="poly" title=" " alt="" coords="374,424,424,364,458,329,495,297,570,237,631,193,698,159,788,129,860,113,935,102,1011,97,1085,96,1220,102,1326,113,1326,118,1220,107,1085,101,1011,102,936,108,861,118,789,135,700,164,634,198,573,241,499,301,462,333,428,368,378,427"/>
<area shape="poly" title=" " alt="" coords="388,458,437,488,467,502,498,512,550,519,638,525,877,531,1115,528,1203,522,1253,513,1289,495,1321,471,1371,420,1375,423,1325,475,1292,500,1255,519,1204,527,1116,533,877,536,638,530,549,524,496,517,465,507,435,492,385,462"/>
<area shape="poly" title=" " alt="" coords="444,454,634,482,751,496,872,506,991,511,1099,508,1189,495,1224,484,1253,470,1265,459,1272,447,1277,419,1281,390,1288,375,1300,361,1303,358,1307,362,1304,365,1293,378,1287,391,1282,420,1277,449,1269,462,1255,474,1226,489,1190,500,1099,513,991,516,872,511,750,501,633,487,443,459"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="857,426,945,460"/>
<area shape="poly" title=" " alt="" coords="443,440,842,440,842,445,443,445"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="497,311,740,345"/>
<area shape="poly" title=" " alt="" coords="401,423,564,349,566,354,403,428"/>
<area shape="poly" title=" " alt="" coords="643,308,707,271,746,253,788,239,860,225,934,219,1004,218,1067,221,1067,226,1004,223,934,224,861,230,789,244,748,258,709,276,646,313"/>
<area shape="poly" title=" " alt="" coords="642,308,739,234,762,213,787,195,817,182,819,186,790,200,765,217,742,238,645,313"/>
<area shape="poly" title=" " alt="" coords="650,343,713,378,789,412,843,428,841,433,787,417,711,382,648,348"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="814,254,988,288"/>
<area shape="poly" title=" " alt="" coords="705,308,799,289,800,294,706,313"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="830,369,972,402"/>
<area shape="poly" title=" " alt="" coords="706,343,816,365,815,371,705,348"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="788,311,1014,345"/>
<area shape="poly" title=" " alt="" coords="741,325,773,325,773,331,741,331"/>
<area shape="poly" title=" " alt="" coords="973,398,1094,426,1093,431,972,404"/>
<area shape="poly" title=" " alt="" coords="996,308,1012,298,1023,287,1029,275,1035,251,1041,225,1048,213,1060,200,1162,173,1326,138,1327,143,1163,179,1063,205,1052,216,1046,227,1040,252,1034,277,1027,290,1015,302,998,313"/>
<area shape="poly" title=" " alt="" coords="992,343,1015,354,1031,366,1040,379,1049,392,1063,404,1095,421,1093,426,1060,409,1045,395,1036,382,1027,370,1012,358,990,348"/>
<area shape="poly" title=" " alt="" coords="1015,340,1292,376,1291,381,1014,345"/>
<area shape="poly" title=" " alt="" coords="1014,309,1296,267,1297,272,1015,314"/>
<area shape="poly" title=" " alt="" coords="1014,327,1286,331,1286,336,1014,332"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a13ca20f7af9aa4aa3057b1114e23e7f1" title=" " alt="" coords="505,779,732,813"/>
<area shape="poly" title=" " alt="" coords="416,726,552,771,550,776,414,731"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#afe30e87975d460220899f69103f90d0d" title=" " alt="" coords="511,637,727,670"/>
<area shape="poly" title=" " alt="" coords="425,694,524,672,526,677,427,699"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="536,694,702,728"/>
<area shape="poly" title=" " alt="" coords="426,708,520,708,520,713,426,713"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a28e87c6264a681dc2a422d32794416c5" title=" " alt="" coords="515,923,722,957"/>
<area shape="poly" title=" " alt="" coords="384,726,588,910,585,914,380,730"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a49ba044023de765e2d9d14db25d1845b" title=" " alt="" coords="792,809,1010,842"/>
<area shape="poly" title=" " alt="" coords="733,805,777,810,776,815,733,810"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1115,722,1201,756"/>
<area shape="poly" title=" " alt="" coords="977,805,1013,795,1104,760,1105,765,1015,800,978,811"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1350,722,1444,756"/>
<area shape="poly" title=" " alt="" coords="1201,736,1335,736,1335,741,1201,741"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="791,637,1011,670"/>
<area shape="poly" title=" " alt="" coords="727,651,775,651,775,656,727,656"/>
<area shape="poly" title=" " alt="" coords="978,668,1015,679,1104,713,1103,718,1013,684,977,673"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#ae98d2f54596aacb1f0f176d0e565e2e2" title=" " alt="" coords="809,751,993,785"/>
<area shape="poly" title=" " alt="" coords="703,725,800,745,799,750,702,730"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#abe443fe3f794c14f0aaa0c5f18a27ddd" title=" " alt="" coords="791,694,1011,728"/>
<area shape="poly" title=" " alt="" coords="702,708,776,708,776,713,702,713"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aabc9ad24aad72332a1e4d9221ee472e4" title=" " alt="" coords="799,923,1003,957"/>
<area shape="poly" title=" " alt="" coords="723,937,783,937,783,943,723,943"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a1651f5bc65e4fff991f6df6f997c6821" title=" " alt="" coords="1062,979,1254,1013"/>
<area shape="poly" title=" " alt="" coords="646,955,709,993,748,1011,789,1024,865,1035,942,1034,1014,1026,1078,1014,1079,1019,1015,1031,942,1040,864,1040,788,1029,746,1016,706,997,643,959"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#accc698d934ee8aef79f735562f95c5fa" title=" " alt="" coords="799,981,1003,1014"/>
<area shape="poly" title=" " alt="" coords="706,955,800,974,799,979,705,960"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a57cfc499a638333604b2ab14b3a11a9b" title=" " alt="" coords="793,866,1009,900"/>
<area shape="poly" title=" " alt="" coords="705,920,799,901,800,906,706,925"/>
<area shape="poly" title=" " alt="" coords="982,955,1063,973,1062,978,981,960"/>
</map>
</div>

</div>
</div>
<a id="a090b8a33eecdf9cc91830fbfc75b1bed" name="a090b8a33eecdf9cc91830fbfc75b1bed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a090b8a33eecdf9cc91830fbfc75b1bed">&#9670;&#160;</a></span>rpc_errno_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_errno_status </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00059">59</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   60</span>{</div>
<div class="line"><span class="lineno">   61</span>    <span class="keywordflow">switch</span> (errno)</div>
<div class="line"><span class="lineno">   62</span>    {</div>
<div class="line"><span class="lineno">   63</span>    <span class="keywordflow">case</span> EACCES:</div>
<div class="line"><span class="lineno">   64</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312aa18a040703e9965952f5c93c3e727d39">UBUS_STATUS_PERMISSION_DENIED</a>;</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">case</span> ENOTDIR:</div>
<div class="line"><span class="lineno">   67</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">case</span> ENOENT:</div>
<div class="line"><span class="lineno">   70</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97">UBUS_STATUS_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>    <span class="keywordflow">case</span> EINVAL:</div>
<div class="line"><span class="lineno">   73</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">   76</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno">   77</span>    }</div>
<div class="line"><span class="lineno">   78</span>}</div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a></div><div class="ttdeci">@ UBUS_STATUS_UNKNOWN_ERROR</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00128">ubusmsg.h:128</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00121">UBUS_STATUS_INVALID_ARGUMENT</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00123">UBUS_STATUS_NOT_FOUND</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00125">UBUS_STATUS_PERMISSION_DENIED</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00128">UBUS_STATUS_UNKNOWN_ERROR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d91/sys_8c_source.html#l00081">rpc_cgi_password_set()</a>, and <a class="el" href="../../d8/d91/sys_8c_source.html#l00293">rpc_sys_upgrade_clean()</a>.</p>

</div>
</div>
<a id="afcdcb7696b393d52c93ff3800607e334" name="afcdcb7696b393d52c93ff3800607e334"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcdcb7696b393d52c93ff3800607e334">&#9670;&#160;</a></span>rpc_sys_api_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_sys_api_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d9/dc4/plugin_8h.html#d2/d00/structrpc__daemon__ops">rpc_daemon_ops</a> *</td>          <td class="paramname"><span class="paramname"><em>o</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00336">336</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  337</span>{</div>
<div class="line"><span class="lineno">  338</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d00/ubusd__obj_8h.html#d9/d8b/structubus__method">ubus_method</a> sys_methods[] = {</div>
<div class="line"><span class="lineno">  339</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;packagelist&quot;</span>, <a class="code hl_function" href="#a4310d4efd0788cbd49874f17ebe04ca9">rpc_sys_packagelist</a>, <a class="code hl_variable" href="#a10e82936da93fe244b8fc053d89b77f3">rpc_packagelist_policy</a>),</div>
<div class="line"><span class="lineno">  340</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;password_set&quot;</span>, <a class="code hl_function" href="#ac731f9826cf2c840786bb193b6d3b4e6">rpc_cgi_password_set</a>, <a class="code hl_variable" href="#a0102e4b700b20515ba47b669db5dff36">rpc_password_policy</a>),</div>
<div class="line"><span class="lineno">  341</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#ab3772ca422a2cdb9394098d7629c1473">UBUS_METHOD_NOARG</a>(<span class="stringliteral">&quot;upgrade_test&quot;</span>, <a class="code hl_function" href="#aa4692a150f62f445c6b8af447ee182e9">rpc_sys_upgrade_test</a>),</div>
<div class="line"><span class="lineno">  342</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;upgrade_start&quot;</span>,      <a class="code hl_function" href="#a3bb62898dcbe368b3af2b2956f4d262b">rpc_sys_upgrade_start</a>,</div>
<div class="line"><span class="lineno">  343</span>                                          <a class="code hl_variable" href="#a98ce8f7cb4e2cb433b9a4dbc86f99515">rpc_upgrade_policy</a>),</div>
<div class="line"><span class="lineno">  344</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#ab3772ca422a2cdb9394098d7629c1473">UBUS_METHOD_NOARG</a>(<span class="stringliteral">&quot;upgrade_clean&quot;</span>, <a class="code hl_function" href="#a24f01653c4f1cdd479608ce9fc760312">rpc_sys_upgrade_clean</a>),</div>
<div class="line"><span class="lineno">  345</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#ab3772ca422a2cdb9394098d7629c1473">UBUS_METHOD_NOARG</a>(<span class="stringliteral">&quot;factory&quot;</span>, <a class="code hl_function" href="#adde67aeb2db6207aa8240c047a3eac3b">rpc_sys_factory</a>),</div>
<div class="line"><span class="lineno">  346</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#ab3772ca422a2cdb9394098d7629c1473">UBUS_METHOD_NOARG</a>(<span class="stringliteral">&quot;reboot&quot;</span>, <a class="code hl_function" href="#afe554d8c7ad609b4167f1d694ff1ac25">rpc_sys_reboot</a>),</div>
<div class="line"><span class="lineno">  347</span>    };</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>    <span class="keyword">static</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d00/ubusd__obj_8h.html#d4/d66/structubus__object__type">ubus_object_type</a> sys_type =</div>
<div class="line"><span class="lineno">  350</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#a2537aa13909031a58e3d881d6670d68d">UBUS_OBJECT_TYPE</a>(<span class="stringliteral">&quot;rpcd-plugin-sys&quot;</span>, sys_methods);</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>    <span class="keyword">static</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> obj = {</div>
<div class="line"><span class="lineno">  353</span>        .name = <span class="stringliteral">&quot;rpc-sys&quot;</span>,</div>
<div class="line"><span class="lineno">  354</span>        .type = &amp;sys_type,</div>
<div class="line"><span class="lineno">  355</span>        .<a class="code hl_variable" href="../../d9/d00/ubusd__obj_8h.html#a73400f69761b61903631e803f69dda5d">methods</a> = sys_methods,</div>
<div class="line"><span class="lineno">  356</span>        .n_methods = <a class="code hl_define" href="../../d8/d6a/test-blobmsg-types_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a>(sys_methods),</div>
<div class="line"><span class="lineno">  357</span>    };</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>    <a class="code hl_variable" href="#a8c9284b14b948aae5a1abc7ed0e16c0c">ops</a> = o;</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../db/dda/libubus-obj_8c.html#a91976fc505121a3ddd2c4456e730401c">ubus_add_object</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, &amp;obj);</div>
<div class="line"><span class="lineno">  362</span>}</div>
<div class="ttc" id="ahotplug-dispatch_8c_html_a7c00b3b8999b2056f226d3cc35a83845"><div class="ttname"><a href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a></div><div class="ttdeci">struct ubus_context * ctx</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">hotplug-dispatch.c:42</a></div></div>
<div class="ttc" id="alibubus-obj_8c_html_a91976fc505121a3ddd2c4456e730401c"><div class="ttname"><a href="../../db/dda/libubus-obj_8c.html#a91976fc505121a3ddd2c4456e730401c">ubus_add_object</a></div><div class="ttdeci">int ubus_add_object(struct ubus_context *ctx, struct ubus_object *obj)</div><div class="ttdef"><b>Definition</b> <a href="../../db/dda/libubus-obj_8c_source.html#l00209">libubus-obj.c:209</a></div></div>
<div class="ttc" id="alibubus_8h_html_a2537aa13909031a58e3d881d6670d68d"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a2537aa13909031a58e3d881d6670d68d">UBUS_OBJECT_TYPE</a></div><div class="ttdeci">#define UBUS_OBJECT_TYPE(_name, _methods)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00068">libubus.h:68</a></div></div>
<div class="ttc" id="alibubus_8h_html_aac021711c90050abc4c65261f9799687"><div class="ttname"><a href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a></div><div class="ttdeci">#define UBUS_METHOD(_name, _handler, _policy)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00086">libubus.h:86</a></div></div>
<div class="ttc" id="alibubus_8h_html_ab3772ca422a2cdb9394098d7629c1473"><div class="ttname"><a href="../../db/d55/libubus_8h.html#ab3772ca422a2cdb9394098d7629c1473">UBUS_METHOD_NOARG</a></div><div class="ttdeci">#define UBUS_METHOD_NOARG(_name, _handler)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00098">libubus.h:98</a></div></div>
<div class="ttc" id="asys_8c_html_a10e82936da93fe244b8fc053d89b77f3"><div class="ttname"><a href="#a10e82936da93fe244b8fc053d89b77f3">rpc_packagelist_policy</a></div><div class="ttdeci">static const struct blobmsg_policy rpc_packagelist_policy[__RPC_PACKAGELIST_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00054">sys.c:54</a></div></div>
<div class="ttc" id="asys_8c_html_a24f01653c4f1cdd479608ce9fc760312"><div class="ttname"><a href="#a24f01653c4f1cdd479608ce9fc760312">rpc_sys_upgrade_clean</a></div><div class="ttdeci">static int rpc_sys_upgrade_clean(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00293">sys.c:293</a></div></div>
<div class="ttc" id="asys_8c_html_a3bb62898dcbe368b3af2b2956f4d262b"><div class="ttname"><a href="#a3bb62898dcbe368b3af2b2956f4d262b">rpc_sys_upgrade_start</a></div><div class="ttdeci">static int rpc_sys_upgrade_start(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00268">sys.c:268</a></div></div>
<div class="ttc" id="asys_8c_html_a4310d4efd0788cbd49874f17ebe04ca9"><div class="ttname"><a href="#a4310d4efd0788cbd49874f17ebe04ca9">rpc_sys_packagelist</a></div><div class="ttdeci">static int rpc_sys_packagelist(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00184">sys.c:184</a></div></div>
<div class="ttc" id="asys_8c_html_a8c9284b14b948aae5a1abc7ed0e16c0c"><div class="ttname"><a href="#a8c9284b14b948aae5a1abc7ed0e16c0c">ops</a></div><div class="ttdeci">static const struct rpc_daemon_ops * ops</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00027">sys.c:27</a></div></div>
<div class="ttc" id="asys_8c_html_a98ce8f7cb4e2cb433b9a4dbc86f99515"><div class="ttname"><a href="#a98ce8f7cb4e2cb433b9a4dbc86f99515">rpc_upgrade_policy</a></div><div class="ttdeci">static const struct blobmsg_policy rpc_upgrade_policy[__RPC_UPGRADE_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00045">sys.c:45</a></div></div>
<div class="ttc" id="asys_8c_html_aa4692a150f62f445c6b8af447ee182e9"><div class="ttname"><a href="#aa4692a150f62f445c6b8af447ee182e9">rpc_sys_upgrade_test</a></div><div class="ttdeci">static int rpc_sys_upgrade_test(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00259">sys.c:259</a></div></div>
<div class="ttc" id="asys_8c_html_ac731f9826cf2c840786bb193b6d3b4e6"><div class="ttname"><a href="#ac731f9826cf2c840786bb193b6d3b4e6">rpc_cgi_password_set</a></div><div class="ttdeci">static int rpc_cgi_password_set(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00081">sys.c:81</a></div></div>
<div class="ttc" id="asys_8c_html_adde67aeb2db6207aa8240c047a3eac3b"><div class="ttname"><a href="#adde67aeb2db6207aa8240c047a3eac3b">rpc_sys_factory</a></div><div class="ttdeci">static int rpc_sys_factory(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00304">sys.c:304</a></div></div>
<div class="ttc" id="asys_8c_html_afe554d8c7ad609b4167f1d694ff1ac25"><div class="ttname"><a href="#afe554d8c7ad609b4167f1d694ff1ac25">rpc_sys_reboot</a></div><div class="ttdeci">static int rpc_sys_reboot(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00320">sys.c:320</a></div></div>
<div class="ttc" id="atest-blobmsg-types_8c_html_a6242a25f9d996f0cc4f4cdb911218b75"><div class="ttname"><a href="../../d8/d6a/test-blobmsg-types_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a></div><div class="ttdeci">#define ARRAY_SIZE(x)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d6a/test-blobmsg-types_8c_source.html#l00120">test-blobmsg-types.c:120</a></div></div>
<div class="ttc" id="aubusd__obj_8h_html_a73400f69761b61903631e803f69dda5d"><div class="ttname"><a href="../../d9/d00/ubusd__obj_8h.html#a73400f69761b61903631e803f69dda5d">ubus_object_type::methods</a></div><div class="ttdeci">const struct ubus_method * methods</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00122">libubus.h:122</a></div></div>
<div class="ttc" id="aubusd__obj_8h_html_d4/d66/structubus__object__type"><div class="ttname"><a href="../../d9/d00/ubusd__obj_8h.html#d4/d66/structubus__object__type">ubus_object_type</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00118">libubus.h:118</a></div></div>
<div class="ttc" id="aubusd__obj_8h_html_d6/d75/structubus__object"><div class="ttname"><a href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00126">libubus.h:126</a></div></div>
<div class="ttc" id="aubusd__obj_8h_html_d9/d8b/structubus__method"><div class="ttname"><a href="../../d9/d00/ubusd__obj_8h.html#d9/d8b/structubus__method">ubus_method</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00108">libubus.h:108</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d6a/test-blobmsg-types_8c_source.html#l00120">ARRAY_SIZE</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00122">ubus_object_type::methods</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00027">ops</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00081">rpc_cgi_password_set()</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00054">rpc_packagelist_policy</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00035">rpc_password_policy</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00304">rpc_sys_factory()</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00184">rpc_sys_packagelist()</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00320">rpc_sys_reboot()</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00293">rpc_sys_upgrade_clean()</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00268">rpc_sys_upgrade_start()</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00259">rpc_sys_upgrade_test()</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00045">rpc_upgrade_policy</a>, <a class="el" href="../../db/dda/libubus-obj_8c_source.html#l00209">ubus_add_object()</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00086">UBUS_METHOD</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00098">UBUS_METHOD_NOARG</a>, and <a class="el" href="../../db/d55/libubus_8h_source.html#l00068">UBUS_OBJECT_TYPE</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d91/sys_8c_afcdcb7696b393d52c93ff3800607e334_cgraph.png" border="0" usemap="#ad8/d91/sys_8c_afcdcb7696b393d52c93ff3800607e334_cgraph" alt=""/></div>
<map name="ad8/d91/sys_8c_afcdcb7696b393d52c93ff3800607e334_cgraph" id="ad8/d91/sys_8c_afcdcb7696b393d52c93ff3800607e334_cgraph">
<area shape="rect" title=" " alt="" coords="5,500,172,534"/>
<area shape="rect" href="../../d8/d91/sys_8c.html#ac731f9826cf2c840786bb193b6d3b4e6" title=" " alt="" coords="227,187,449,220"/>
<area shape="poly" title=" " alt="" coords="100,498,218,342,310,231,314,234,222,345,105,501"/>
<area shape="rect" href="../../d8/d91/sys_8c.html#adde67aeb2db6207aa8240c047a3eac3b" title=" " alt="" coords="255,356,421,390"/>
<area shape="poly" title=" " alt="" coords="102,498,150,448,183,421,218,398,240,389,242,394,221,403,186,426,154,452,106,502"/>
<area shape="rect" href="../../d8/d91/sys_8c.html#a4310d4efd0788cbd49874f17ebe04ca9" title=" " alt="" coords="236,671,440,704"/>
<area shape="poly" title=" " alt="" coords="116,532,301,660,298,664,113,536"/>
<area shape="rect" href="../../d8/d91/sys_8c.html#afe554d8c7ad609b4167f1d694ff1ac25" title=" " alt="" coords="258,471,418,504"/>
<area shape="poly" title=" " alt="" coords="172,504,243,496,243,501,173,510"/>
<area shape="rect" href="../../d8/d91/sys_8c.html#a24f01653c4f1cdd479608ce9fc760312" title=" " alt="" coords="220,413,456,447"/>
<area shape="poly" title=" " alt="" coords="122,497,167,476,219,456,240,449,241,454,221,461,170,481,124,502"/>
<area shape="rect" href="../../d8/d91/sys_8c.html#a3bb62898dcbe368b3af2b2956f4d262b" title=" " alt="" coords="223,528,453,562"/>
<area shape="poly" title=" " alt="" coords="173,524,207,527,207,533,172,529"/>
<area shape="rect" href="../../d8/d91/sys_8c.html#aa4692a150f62f445c6b8af447ee182e9" title=" " alt="" coords="227,728,449,762"/>
<area shape="poly" title=" " alt="" coords="98,533,114,571,140,621,176,672,197,695,221,715,227,718,224,723,218,719,194,699,172,675,135,623,109,573,93,535"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#a91976fc505121a3ddd2c4456e730401c" title=" " alt="" coords="250,1205,426,1239"/>
<area shape="poly" title=" " alt="" coords="98,533,328,1190,323,1191,93,535"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1559,425,1670,459"/>
<area shape="poly" title=" " alt="" coords="385,183,480,152,610,116,759,86,836,77,913,74,1179,74,1218,77,1255,85,1292,98,1326,115,1391,158,1449,210,1499,266,1542,321,1599,411,1595,413,1537,324,1495,269,1445,213,1388,162,1324,119,1289,103,1254,90,1217,82,1179,79,913,79,837,83,760,92,611,121,481,157,386,189"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1347,343,1445,376"/>
<area shape="poly" title=" " alt="" coords="449,185,504,180,724,170,813,172,896,180,978,194,1065,217,1161,247,1273,288,1318,308,1358,332,1355,336,1315,313,1271,293,1160,252,1063,222,977,200,896,185,813,177,724,175,504,185,449,190"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1320,608,1471,642"/>
<area shape="poly" title=" " alt="" coords="449,210,630,228,704,240,746,252,764,270,772,291,779,311,794,331,857,382,925,428,997,469,1069,505,1207,563,1318,601,1316,606,1205,568,1067,510,995,474,923,433,854,386,790,335,775,313,767,292,760,273,743,256,703,245,629,234,449,215"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="1084,397,1272,431"/>
<area shape="poly" title=" " alt="" coords="449,190,516,188,591,189,669,195,745,208,803,224,862,244,973,293,1068,344,1139,386,1136,391,1066,349,970,298,860,249,802,229,744,213,668,200,591,194,516,193,449,196"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="543,528,705,562"/>
<area shape="poly" title=" " alt="" coords="356,219,458,342,601,514,597,518,454,345,352,222"/>
<area shape="rect" href="../../d8/d91/sys_8c.html#a090b8a33eecdf9cc91830fbfc75b1bed" title=" " alt="" coords="537,267,711,300"/>
<area shape="poly" title=" " alt="" coords="402,218,547,259,546,265,400,224"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ac0bcdd57d004a600844745bd38e83a2d" title=" " alt="" coords="561,5,688,39"/>
<area shape="poly" title=" " alt="" coords="352,184,414,122,456,87,503,56,545,38,547,43,505,61,459,91,417,126,356,188"/>
<area shape="poly" title=" " alt="" coords="1438,605,1470,587,1505,558,1537,527,1589,469,1593,473,1541,531,1508,562,1473,591,1441,610"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1524,768,1705,802"/>
<area shape="poly" title=" " alt="" coords="1415,640,1461,685,1521,733,1563,758,1560,763,1518,738,1457,689,1411,644"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1529,608,1700,642"/>
<area shape="poly" title=" " alt="" coords="1472,622,1514,622,1514,628,1472,628"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1519,689,1710,723"/>
<area shape="poly" title=" " alt="" coords="1444,640,1554,681,1552,686,1442,645"/>
<area shape="poly" title=" " alt="" coords="1272,418,1544,435,1543,440,1272,423"/>
<area shape="poly" title=" " alt="" coords="1247,394,1331,373,1332,378,1248,399"/>
<area shape="poly" title=" " alt="" coords="1200,430,1274,499,1369,594,1365,598,1270,503,1196,433"/>
<area shape="poly" title=" " alt="" coords="706,543,850,542,1041,534,1256,516,1365,503,1471,485,1554,462,1555,467,1472,490,1365,508,1256,522,1041,539,850,547,706,548"/>
<area shape="poly" title=" " alt="" coords="706,548,728,557,746,571,766,599,773,629,773,658,768,687,764,716,765,743,773,769,794,794,838,825,885,849,935,868,987,881,1041,889,1095,893,1204,889,1310,874,1407,852,1490,828,1556,805,1558,810,1492,833,1408,857,1311,880,1205,895,1095,898,1040,895,986,886,934,873,883,854,835,829,791,797,768,772,759,744,759,716,763,687,767,658,768,629,761,602,742,575,725,562,704,553"/>
<area shape="poly" title=" " alt="" coords="707,550,727,558,746,571,760,587,767,605,769,640,773,673,780,688,794,701,839,729,887,751,938,769,990,781,1043,789,1096,794,1203,793,1306,782,1401,765,1483,745,1549,726,1550,731,1485,750,1402,770,1307,787,1204,798,1096,799,1042,794,988,786,936,774,885,756,837,734,791,706,775,691,767,675,764,640,762,606,755,590,743,575,725,563,705,555"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="1134,659,1222,692"/>
<area shape="poly" title=" " alt="" coords="707,552,746,571,763,591,770,612,777,631,794,648,833,667,876,681,920,689,964,694,1048,693,1118,684,1119,690,1048,698,964,699,919,695,874,686,831,672,791,652,773,634,765,613,758,593,743,575,705,557"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="792,604,1036,638"/>
<area shape="poly" title=" " alt="" coords="702,560,745,570,840,597,839,602,744,575,701,565"/>
<area shape="poly" title=" " alt="" coords="1036,619,1304,621,1304,627,1036,625"/>
<area shape="poly" title=" " alt="" coords="935,601,1141,439,1144,443,939,606"/>
<area shape="poly" title=" " alt="" coords="999,636,1119,661,1118,666,998,641"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a13ca20f7af9aa4aa3057b1114e23e7f1" title=" " alt="" coords="800,5,1028,39"/>
<area shape="poly" title=" " alt="" coords="688,20,785,20,785,25,688,25"/>
<area shape="poly" title=" " alt="" coords="357,668,454,572,467,555,475,540,485,526,503,513,528,504,565,496,673,482,972,461,1297,448,1543,441,1543,446,1297,453,972,466,673,488,566,502,529,509,505,518,489,530,480,543,471,558,458,576,360,672"/>
<area shape="poly" title=" " alt="" coords="360,668,406,627,454,573,468,544,473,518,481,493,502,469,540,454,607,440,789,414,1083,382,1331,361,1331,366,1084,387,789,419,608,445,542,459,506,474,486,496,478,519,473,546,458,576,410,631,363,672"/>
<area shape="poly" title=" " alt="" coords="357,668,419,620,460,593,503,570,528,561,530,566,505,575,462,598,422,624,360,672"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="551,872,697,906"/>
<area shape="poly" title=" " alt="" coords="442,702,458,714,473,732,480,751,483,788,485,825,492,842,506,859,537,877,535,882,502,863,487,845,480,826,477,788,475,752,468,734,454,717,439,706"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="844,927,984,960"/>
<area shape="poly" title=" " alt="" coords="442,701,458,714,476,739,484,766,484,793,481,819,478,845,478,870,487,894,506,916,528,929,561,938,645,948,741,950,829,947,829,952,741,955,645,954,559,943,526,934,502,920,482,896,473,871,472,845,475,819,479,793,478,767,472,742,454,717,439,706"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="520,981,728,1015"/>
<area shape="poly" title=" " alt="" coords="442,701,458,714,480,745,488,776,488,807,484,838,479,869,478,900,486,930,506,960,518,971,514,975,502,964,481,932,473,900,474,869,478,838,483,807,483,777,475,747,454,717,439,705"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14" title=" " alt="" coords="518,1039,730,1072"/>
<area shape="poly" title=" " alt="" coords="442,701,458,714,473,733,484,753,493,793,490,833,483,872,475,911,472,950,481,988,491,1007,506,1026,508,1028,504,1031,502,1029,487,1010,476,990,467,950,469,910,477,871,485,832,488,794,479,755,469,736,454,717,439,705"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2" title=" " alt="" coords="530,585,718,619"/>
<area shape="poly" title=" " alt="" coords="384,667,503,628,529,621,530,626,505,633,386,673"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a" title=" " alt="" coords="519,643,730,676"/>
<area shape="poly" title=" " alt="" coords="440,675,503,669,503,674,441,680"/>
<area shape="rect" href="../../d8/d91/sys_8c.html#aae8f8fa72d554f8529c5006957a8c642" title=" " alt="" coords="576,700,672,734"/>
<area shape="poly" title=" " alt="" coords="441,695,561,708,560,713,440,701"/>
<area shape="rect" href="../../d8/d91/sys_8c.html#a7954af01cabe4d277169d5ff454306ca" title=" " alt="" coords="582,815,667,848"/>
<area shape="poly" title=" " alt="" coords="440,703,458,713,476,736,483,759,489,781,506,801,535,817,567,825,566,830,533,822,502,806,484,783,477,760,471,738,454,718,437,707"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="536,757,712,791"/>
<area shape="poly" title=" " alt="" coords="427,702,457,713,481,729,505,744,522,750,520,755,503,749,479,733,455,718,425,707"/>
<area shape="poly" title=" " alt="" coords="720,614,746,628,763,647,770,667,777,686,794,701,859,733,918,753,973,762,1026,763,1079,755,1137,742,1271,702,1321,679,1363,649,1366,654,1324,684,1273,707,1138,747,1080,761,1026,768,972,767,917,758,857,738,791,706,773,689,765,669,758,650,743,632,717,619"/>
<area shape="poly" title=" " alt="" coords="714,786,746,800,762,811,772,822,794,848,878,915,875,919,790,852,768,826,758,815,743,804,712,791"/>
<area shape="poly" title=" " alt="" coords="437,411,454,400,471,381,478,360,485,339,502,318,522,305,525,309,506,321,490,341,483,362,476,384,458,404,439,415"/>
<area shape="poly" title=" " alt="" coords="440,525,454,515,468,498,475,481,477,444,479,407,487,388,502,371,522,361,552,352,639,339,753,329,880,323,1125,318,1272,318,1329,316,1374,312,1418,313,1472,328,1507,345,1539,366,1590,412,1586,416,1536,371,1504,349,1470,333,1417,319,1374,317,1329,321,1272,323,1125,323,881,328,753,334,640,344,553,357,523,366,506,375,491,391,484,408,482,444,480,482,473,501,458,519,443,530"/>
<area shape="poly" title=" " alt="" coords="438,525,454,515,465,504,471,492,477,468,483,442,490,430,502,419,553,394,620,375,699,362,785,353,953,344,1084,338,1178,334,1272,338,1332,345,1331,351,1272,343,1178,339,1084,343,953,349,785,358,700,367,621,380,555,398,506,423,494,433,488,444,482,469,476,494,469,507,458,519,440,530"/>
<area shape="poly" title=" " alt="" coords="453,542,527,542,527,548,453,548"/>
<area shape="poly" title=" " alt="" coords="426,560,522,579,521,584,425,565"/>
<area shape="poly" title=" " alt="" coords="365,1203,427,1167,503,1133,539,1122,571,1116,626,1112,679,1105,709,1097,743,1082,785,1058,824,1028,885,970,889,974,828,1032,788,1062,746,1087,711,1102,680,1110,626,1117,571,1121,540,1127,505,1138,429,1172,367,1207"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac8502f265053dcc41bf8b5ea1fd2dd33" title=" " alt="" coords="542,1205,706,1239"/>
<area shape="poly" title=" " alt="" coords="427,1220,526,1220,526,1225,427,1225"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#a04cdb66afbb720a35153317f3246e069" title=" " alt="" coords="521,1263,728,1296"/>
<area shape="poly" title=" " alt="" coords="426,1237,522,1256,521,1262,425,1242"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a42b839aa1a2ef9dd5abdba7c25400b4b" title=" " alt="" coords="504,1320,744,1354"/>
<area shape="poly" title=" " alt="" coords="368,1237,430,1272,505,1306,523,1313,521,1318,503,1311,427,1277,365,1242"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#a517a0ee8c6971f08ba4370900300e84b" title=" " alt="" coords="506,1377,743,1411"/>
<area shape="poly" title=" " alt="" coords="355,1238,416,1300,459,1335,505,1364,516,1369,514,1374,503,1369,456,1339,413,1304,352,1241"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a4cba0d855e6f3ed0fac6a0c6c41c8f49" title=" " alt="" coords="525,1148,723,1182"/>
<area shape="poly" title=" " alt="" coords="425,1202,521,1183,522,1188,426,1207"/>
</map>
</div>

</div>
</div>
<a id="adde67aeb2db6207aa8240c047a3eac3b" name="adde67aeb2db6207aa8240c047a3eac3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adde67aeb2db6207aa8240c047a3eac3b">&#9670;&#160;</a></span>rpc_sys_factory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_sys_factory </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00304">304</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  307</span>{</div>
<div class="line"><span class="lineno">  308</span>    <span class="keywordtype">char</span> * <span class="keyword">const</span> <a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>[4] = { <span class="stringliteral">&quot;/sbin/jffs2reset&quot;</span>, <span class="stringliteral">&quot;-y&quot;</span>, <span class="stringliteral">&quot;-r&quot;</span>, NULL };</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>    <span class="keywordflow">if</span> (!fork()) {</div>
<div class="line"><span class="lineno">  311</span>        <span class="comment">/* wait for the RPC call to complete */</span></div>
<div class="line"><span class="lineno">  312</span>        sleep(2);</div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordflow">return</span> execv(<a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>[0], <a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>);</div>
<div class="line"><span class="lineno">  314</span>    }</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  317</span>}</div>
<div class="ttc" id="ajson__script_8c_html_a12c0be34061dfc832e2b49607c448229"><div class="ttname"><a href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a></div><div class="ttdeci">static const struct json_handler cmd[]</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d4c/json__script_8c_source.html#l00207">json_script.c:207</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d4c/json__script_8c_source.html#l00207">cmd</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d91/sys_8c_source.html#l00336">rpc_sys_api_init()</a>.</p>

</div>
</div>
<a id="a4310d4efd0788cbd49874f17ebe04ca9" name="a4310d4efd0788cbd49874f17ebe04ca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4310d4efd0788cbd49874f17ebe04ca9">&#9670;&#160;</a></span>rpc_sys_packagelist()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_sys_packagelist </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00184">184</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  187</span>{</div>
<div class="line"><span class="lineno">  188</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb[<a class="code hl_enumvalue" href="#ae62fccd8cea8f216b24ba625d404c4aea1978e3098bffb751c5e475e27ec10a86">__RPC_PACKAGELIST_MAX</a>];</div>
<div class="line"><span class="lineno">  189</span>    <span class="keywordtype">bool</span> all = <span class="keyword">false</span>, installed = <span class="keyword">false</span>, auto_installed = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  190</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#d3/dcb/structblob__buf">blob_buf</a> <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> = { 0 };</div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordtype">char</span> line[256], tmp[128], pkg[128], ver[128];</div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordtype">char</span> *pkg_abi;</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordtype">void</span> *tbl;</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#a10e82936da93fe244b8fc053d89b77f3">rpc_packagelist_policy</a>, <a class="code hl_enumvalue" href="#ae62fccd8cea8f216b24ba625d404c4aea1978e3098bffb751c5e475e27ec10a86">__RPC_PACKAGELIST_MAX</a>, tb,</div>
<div class="line"><span class="lineno">  196</span>                  <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a>(msg), <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(msg));</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">if</span> (tb[<a class="code hl_enumvalue" href="#ae62fccd8cea8f216b24ba625d404c4aeade6a0d92376863ae02d5c532ea2022b3">RPC_PACKAGELIST_ALL</a>] &amp;&amp; <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2">blobmsg_get_bool</a>(tb[<a class="code hl_enumvalue" href="#ae62fccd8cea8f216b24ba625d404c4aeade6a0d92376863ae02d5c532ea2022b3">RPC_PACKAGELIST_ALL</a>]))</div>
<div class="line"><span class="lineno">  199</span>        all = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>    FILE *f = fopen(<span class="stringliteral">&quot;/usr/lib/opkg/status&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno">  202</span>    <span class="keywordflow">if</span> (!f)</div>
<div class="line"><span class="lineno">  203</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97">UBUS_STATUS_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b">blob_buf_init</a>(&amp;<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, 0);</div>
<div class="line"><span class="lineno">  206</span>    tbl = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a">blobmsg_open_table</a>(&amp;<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, <span class="stringliteral">&quot;packages&quot;</span>);</div>
<div class="line"><span class="lineno">  207</span>    pkg[0] = ver[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">while</span> (fgets(line, <span class="keyword">sizeof</span>(line), f)) {</div>
<div class="line"><span class="lineno">  210</span>        <span class="keywordflow">switch</span> (line[0]) {</div>
<div class="line"><span class="lineno">  211</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>:</div>
<div class="line"><span class="lineno">  212</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="#a7954af01cabe4d277169d5ff454306ca">is_field</a>(<span class="stringliteral">&quot;ABIVersion&quot;</span>, line)) {</div>
<div class="line"><span class="lineno">  213</span>                <span class="comment">/* if there is ABIVersion, remove that suffix */</span></div>
<div class="line"><span class="lineno">  214</span>                <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;ABIVersion: %127s&quot;</span>, tmp) == 1</div>
<div class="line"><span class="lineno">  215</span>                    &amp;&amp; strlen(tmp) &lt; strlen(pkg)) {</div>
<div class="line"><span class="lineno">  216</span>                    pkg_abi = pkg + (strlen(pkg) - strlen(tmp));</div>
<div class="line"><span class="lineno">  217</span>                    <span class="keywordflow">if</span> (strncmp(pkg_abi, tmp, strlen(tmp)) == 0)</div>
<div class="line"><span class="lineno">  218</span>                        pkg_abi[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  219</span>                }</div>
<div class="line"><span class="lineno">  220</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="#a7954af01cabe4d277169d5ff454306ca">is_field</a>(<span class="stringliteral">&quot;Auto-Installed&quot;</span>, line))</div>
<div class="line"><span class="lineno">  221</span>                <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;Auto-Installed: %63s&quot;</span>, tmp) == 1)</div>
<div class="line"><span class="lineno">  222</span>                    auto_installed = (strcmp(tmp, <span class="stringliteral">&quot;yes&quot;</span>) == 0);</div>
<div class="line"><span class="lineno">  223</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  224</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;P&#39;</span>:</div>
<div class="line"><span class="lineno">  225</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="#a7954af01cabe4d277169d5ff454306ca">is_field</a>(<span class="stringliteral">&quot;Package&quot;</span>, line))</div>
<div class="line"><span class="lineno">  226</span>                <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;Package: %127s&quot;</span>, pkg) != 1)</div>
<div class="line"><span class="lineno">  227</span>                    pkg[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  228</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  229</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;V&#39;</span>:</div>
<div class="line"><span class="lineno">  230</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="#a7954af01cabe4d277169d5ff454306ca">is_field</a>(<span class="stringliteral">&quot;Version&quot;</span>, line))</div>
<div class="line"><span class="lineno">  231</span>                <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;Version: %127s&quot;</span>, ver) != 1)</div>
<div class="line"><span class="lineno">  232</span>                    ver[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  233</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  234</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;S&#39;</span>:</div>
<div class="line"><span class="lineno">  235</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="#a7954af01cabe4d277169d5ff454306ca">is_field</a>(<span class="stringliteral">&quot;Status&quot;</span>, line))</div>
<div class="line"><span class="lineno">  236</span>                <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;Status: install %63s installed&quot;</span>, tmp) == 1)</div>
<div class="line"><span class="lineno">  237</span>                    installed = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  238</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  239</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  240</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="#aae8f8fa72d554f8529c5006957a8c642">is_blank</a>(line)) {</div>
<div class="line"><span class="lineno">  241</span>                <span class="keywordflow">if</span> (installed &amp;&amp; (all || !auto_installed) &amp;&amp; pkg[0] &amp;&amp; ver[0])</div>
<div class="line"><span class="lineno">  242</span>                    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6">blobmsg_add_string</a>(&amp;<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, pkg, ver);</div>
<div class="line"><span class="lineno">  243</span>                pkg[0] = ver[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  244</span>                installed = auto_installed = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  245</span>            }</div>
<div class="line"><span class="lineno">  246</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  247</span>        }</div>
<div class="line"><span class="lineno">  248</span>    }</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14">blobmsg_close_table</a>(&amp;<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, tbl);</div>
<div class="line"><span class="lineno">  251</span>    <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4">ubus_send_reply</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>.head);</div>
<div class="line"><span class="lineno">  252</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59">blob_buf_free</a>(&amp;<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>);</div>
<div class="line"><span class="lineno">  253</span>    fclose(f);</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  256</span>}</div>
<div class="ttc" id="ablob_8c_html_a58d1b624b96aa768608f45d390cc0d59"><div class="ttname"><a href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59">blob_buf_free</a></div><div class="ttdeci">void blob_buf_free(struct blob_buf *buf)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da0/blob_8c_source.html#l00104">blob.c:104</a></div></div>
<div class="ttc" id="ablob_8c_html_af8ca2237342df92c699fbb2ddb5f390b"><div class="ttname"><a href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b">blob_buf_init</a></div><div class="ttdeci">int blob_buf_init(struct blob_buf *buf, int id)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da0/blob_8c_source.html#l00091">blob.c:91</a></div></div>
<div class="ttc" id="ablob_8h_html_d3/dcb/structblob__buf"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#d3/dcb/structblob__buf">blob_buf</a></div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00064">blob.h:64</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a2de3b7599bec41a8c9919f780bd28f1a"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a">blobmsg_open_table</a></div><div class="ttdeci">static void * blobmsg_open_table(struct blob_buf *buf, const char *name)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00256">blobmsg.h:256</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a3252218dfc4cb4c8b54772196e8c2a14"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14">blobmsg_close_table</a></div><div class="ttdeci">static void blobmsg_close_table(struct blob_buf *buf, void *cookie)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00268">blobmsg.h:268</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a4bba0979961750f86b8dc9915b2fa4d6"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6">blobmsg_add_string</a></div><div class="ttdeci">static int blobmsg_add_string(struct blob_buf *buf, const char *name, const char *string)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00235">blobmsg.h:235</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_adfbec0b532211a1442310392496a45f2"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2">blobmsg_get_bool</a></div><div class="ttdeci">static bool blobmsg_get_bool(struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00283">blobmsg.h:283</a></div></div>
<div class="ttc" id="alibubus-req_8c_html_aab336677450493ac2229e8a2f70fa0e4"><div class="ttname"><a href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4">ubus_send_reply</a></div><div class="ttdeci">int ubus_send_reply(struct ubus_context *ctx, struct ubus_request_data *req, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/de5/libubus-req_8c_source.html#l00205">libubus-req.c:205</a></div></div>
<div class="ttc" id="amkdev_8c_html_a024e65f7d9664cdc767f51c283fd8353"><div class="ttname"><a href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a></div><div class="ttdeci">static char buf[PATH_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d9a/mkdev_8c_source.html#l00034">mkdev.c:34</a></div></div>
<div class="ttc" id="asys_8c_html_a7954af01cabe4d277169d5ff454306ca"><div class="ttname"><a href="#a7954af01cabe4d277169d5ff454306ca">is_field</a></div><div class="ttdeci">static bool is_field(const char *type, const char *line)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00169">sys.c:169</a></div></div>
<div class="ttc" id="asys_8c_html_aae8f8fa72d554f8529c5006957a8c642"><div class="ttname"><a href="#aae8f8fa72d554f8529c5006957a8c642">is_blank</a></div><div class="ttdeci">static bool is_blank(const char *line)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00175">sys.c:175</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d91/sys_8c_source.html#l00051">__RPC_PACKAGELIST_MAX</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00104">blob_buf_free()</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00091">blob_buf_init()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00075">blob_data()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00235">blobmsg_add_string()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00268">blobmsg_close_table()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00283">blobmsg_get_bool()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00256">blobmsg_open_table()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00175">is_blank()</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00169">is_field()</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00050">RPC_PACKAGELIST_ALL</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00054">rpc_packagelist_policy</a>, <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00205">ubus_send_reply()</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00123">UBUS_STATUS_NOT_FOUND</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d91/sys_8c_source.html#l00336">rpc_sys_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d91/sys_8c_a4310d4efd0788cbd49874f17ebe04ca9_cgraph.png" border="0" usemap="#ad8/d91/sys_8c_a4310d4efd0788cbd49874f17ebe04ca9_cgraph" alt=""/></div>
<map name="ad8/d91/sys_8c_a4310d4efd0788cbd49874f17ebe04ca9_cgraph" id="ad8/d91/sys_8c_a4310d4efd0788cbd49874f17ebe04ca9_cgraph">
<area shape="rect" title=" " alt="" coords="5,521,210,555"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="291,5,437,39"/>
<area shape="poly" title=" " alt="" coords="106,521,111,439,119,380,131,315,150,246,176,178,211,113,256,56,275,42,278,46,260,60,215,116,180,180,155,248,136,316,124,381,116,439,112,521"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="846,115,986,148"/>
<area shape="poly" title=" " alt="" coords="108,520,120,457,145,366,164,316,189,268,219,222,256,182,288,156,322,135,358,117,396,104,475,85,556,78,636,79,712,86,837,108,836,113,711,91,636,84,556,83,476,91,397,109,360,122,324,140,291,160,259,185,223,225,193,270,169,319,150,368,125,458,114,521"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1354,552,1465,586"/>
<area shape="poly" title=" " alt="" coords="210,538,1338,565,1338,570,210,543"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="867,224,965,258"/>
<area shape="poly" title=" " alt="" coords="117,519,138,487,170,445,209,404,257,369,338,348,504,315,851,250,852,255,505,320,340,353,259,374,213,408,174,449,142,490,121,522"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="260,603,468,636"/>
<area shape="poly" title=" " alt="" coords="164,553,294,595,293,600,162,558"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14" title=" " alt="" coords="258,384,470,418"/>
<area shape="poly" title=" " alt="" coords="140,518,315,423,318,428,142,523"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2" title=" " alt="" coords="538,735,726,768"/>
<area shape="poly" title=" " alt="" coords="129,553,185,600,221,625,259,646,316,670,362,681,410,690,471,704,556,727,554,732,469,709,409,695,361,686,314,675,257,651,218,629,181,604,125,557"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a" title=" " alt="" coords="258,493,470,527"/>
<area shape="poly" title=" " alt="" coords="210,524,242,521,243,526,210,530"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="551,844,713,878"/>
<area shape="poly" title=" " alt="" coords="121,554,142,586,173,628,213,669,259,704,288,718,314,725,362,729,411,731,440,737,471,748,523,781,596,833,593,837,520,785,469,753,438,742,411,737,362,735,313,731,286,723,256,708,209,673,169,631,138,590,116,557"/>
<area shape="rect" href="../../d8/d91/sys_8c.html#aae8f8fa72d554f8529c5006957a8c642" title=" " alt="" coords="316,763,412,796"/>
<area shape="poly" title=" " alt="" coords="119,554,139,592,170,643,210,696,259,741,280,754,302,763,300,768,277,758,256,746,206,699,165,646,134,595,114,556"/>
<area shape="rect" href="../../d8/d91/sys_8c.html#a7954af01cabe4d277169d5ff454306ca" title=" " alt="" coords="321,820,407,854"/>
<area shape="poly" title=" " alt="" coords="116,555,131,605,160,673,202,745,229,778,259,807,282,820,307,828,305,833,280,825,256,811,225,782,198,748,155,676,126,607,111,556"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="276,196,452,230"/>
<area shape="poly" title=" " alt="" coords="113,520,132,474,162,410,204,340,256,275,282,253,310,235,313,239,285,257,260,279,208,343,167,412,136,476,118,522"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1123,115,1229,148"/>
<area shape="poly" title=" " alt="" coords="986,129,1108,129,1108,134,986,134"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="1086,57,1266,91"/>
<area shape="poly" title=" " alt="" coords="986,114,1081,92,1082,97,987,119"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1552,31,1695,64"/>
<area shape="poly" title=" " alt="" coords="1228,118,1264,101,1279,87,1287,71,1296,56,1313,42,1369,24,1427,17,1485,18,1537,25,1536,30,1484,24,1427,22,1370,29,1315,47,1300,59,1291,74,1283,90,1268,106,1230,123"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1332,57,1487,91"/>
<area shape="poly" title=" " alt="" coords="1228,116,1322,93,1323,98,1230,121"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1552,169,1695,203"/>
<area shape="poly" title=" " alt="" coords="1229,142,1314,158,1431,172,1537,179,1537,185,1430,177,1314,163,1228,147"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1341,224,1477,258"/>
<area shape="poly" title=" " alt="" coords="1208,147,1315,202,1346,216,1344,220,1313,207,1206,151"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1360,115,1459,148"/>
<area shape="poly" title=" " alt="" coords="1229,129,1344,129,1344,134,1229,134"/>
<area shape="poly" title=" " alt="" coords="1487,62,1537,56,1537,61,1487,67"/>
<area shape="poly" title=" " alt="" coords="1480,89,1506,100,1552,127,1592,157,1589,161,1549,132,1503,105,1478,94"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1552,329,1695,363"/>
<area shape="poly" title=" " alt="" coords="1447,256,1575,320,1572,324,1444,261"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="535,628,729,662"/>
<area shape="poly" title=" " alt="" coords="469,627,520,632,519,637,468,632"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="842,653,990,687"/>
<area shape="poly" title=" " alt="" coords="730,651,827,660,826,665,730,656"/>
<area shape="poly" title=" " alt="" coords="990,652,1338,581,1339,586,991,658"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1100,759,1252,792"/>
<area shape="poly" title=" " alt="" coords="961,685,1119,750,1117,755,959,690"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1324,653,1494,687"/>
<area shape="poly" title=" " alt="" coords="991,668,1308,668,1308,673,991,673"/>
<area shape="poly" title=" " alt="" coords="1236,756,1264,738,1282,714,1289,691,1296,666,1312,639,1337,614,1365,592,1368,597,1341,618,1316,642,1301,669,1294,693,1287,717,1268,741,1239,760"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1319,937,1500,971"/>
<area shape="poly" title=" " alt="" coords="1246,791,1267,801,1293,822,1325,854,1386,924,1382,927,1321,858,1289,826,1265,806,1244,795"/>
<area shape="poly" title=" " alt="" coords="1221,756,1265,737,1359,692,1361,697,1267,742,1223,761"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1314,799,1504,832"/>
<area shape="poly" title=" " alt="" coords="1253,786,1299,794,1298,799,1252,791"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aa980250f4a411659367b8bffaf5d6118" title=" " alt="" coords="555,333,709,367"/>
<area shape="poly" title=" " alt="" coords="456,381,539,365,540,370,457,386"/>
<area shape="poly" title=" " alt="" coords="710,338,794,329,951,320,1153,313,1353,298,1437,285,1503,268,1551,242,1591,212,1595,216,1554,247,1505,273,1438,290,1353,303,1153,318,951,326,795,334,710,343"/>
<area shape="poly" title=" " alt="" coords="710,347,1537,344,1537,349,710,353"/>
<area shape="poly" title=" " alt="" coords="700,330,745,312,769,293,793,275,850,253,852,257,796,279,772,298,748,316,702,335"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="827,384,1005,418"/>
<area shape="poly" title=" " alt="" coords="710,361,812,380,811,385,709,367"/>
<area shape="poly" title=" " alt="" coords="727,753,1085,769,1085,774,726,758"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aaac450f6a679be8a392d17c3ed8700b4" title=" " alt="" coords="518,493,746,527"/>
<area shape="poly" title=" " alt="" coords="470,508,502,508,502,513,470,513"/>
<area shape="poly" title=" " alt="" coords="727,490,794,478,1536,357,1537,362,795,483,728,495"/>
<area shape="poly" title=" " alt="" coords="653,525,713,578,753,607,796,632,828,646,826,651,793,637,750,611,710,582,650,530"/>
<area shape="poly" title=" " alt="" coords="718,525,1309,647,1308,652,717,530"/>
<area shape="poly" title=" " alt="" coords="667,490,725,463,793,434,835,420,837,425,795,439,728,468,669,495"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="845,493,987,527"/>
<area shape="poly" title=" " alt="" coords="747,508,829,508,829,513,747,513"/>
<area shape="poly" title=" " alt="" coords="681,841,793,801,1031,724,1135,689,1265,637,1361,591,1363,596,1267,642,1136,694,1033,729,795,806,683,846"/>
<area shape="poly" title=" " alt="" coords="657,876,717,915,755,935,795,949,861,963,930,973,1067,981,1196,977,1303,967,1303,972,1196,982,1067,986,929,978,861,969,794,954,753,940,714,920,654,880"/>
<area shape="poly" title=" " alt="" coords="683,876,790,907,860,923,937,935,1018,943,1102,944,1185,936,1265,917,1298,902,1329,883,1380,841,1383,845,1333,887,1301,907,1267,922,1186,941,1102,950,1018,949,936,941,859,928,789,912,681,881"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="1132,873,1220,907"/>
<area shape="poly" title=" " alt="" coords="714,863,1116,884,1116,890,714,868"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="794,816,1038,850"/>
<area shape="poly" title=" " alt="" coords="713,850,779,844,780,849,714,856"/>
<area shape="poly" title=" " alt="" coords="995,813,1084,793,1085,798,996,818"/>
<area shape="poly" title=" " alt="" coords="996,848,1118,875,1117,880,995,853"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="1089,816,1263,850"/>
<area shape="poly" title=" " alt="" coords="1038,830,1073,830,1073,836,1038,836"/>
<area shape="poly" title=" " alt="" coords="452,199,746,158,830,144,831,149,747,163,453,205"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e8112f19ea399af22d957f19cf6cfc7" title=" " alt="" coords="554,224,711,258"/>
<area shape="poly" title=" " alt="" coords="453,219,538,228,538,234,452,225"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="547,115,717,148"/>
<area shape="poly" title=" " alt="" coords="421,193,559,151,561,156,423,198"/>
<area shape="poly" title=" " alt="" coords="683,221,755,202,845,188,894,185,943,187,992,195,1039,209,1101,240,1159,279,1212,324,1261,372,1340,465,1391,537,1387,540,1336,468,1257,375,1209,328,1155,283,1098,244,1037,214,991,200,943,192,894,190,846,193,756,207,684,226"/>
<area shape="poly" title=" " alt="" coords="711,238,851,238,851,244,711,244"/>
<area shape="poly" title=" " alt="" coords="718,129,831,129,831,134,718,134"/>
</map>
</div>

</div>
</div>
<a id="afe554d8c7ad609b4167f1d694ff1ac25" name="afe554d8c7ad609b4167f1d694ff1ac25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe554d8c7ad609b4167f1d694ff1ac25">&#9670;&#160;</a></span>rpc_sys_reboot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_sys_reboot </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00320">320</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  323</span>{</div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">if</span> (!fork()) {</div>
<div class="line"><span class="lineno">  325</span>        sync();</div>
<div class="line"><span class="lineno">  326</span>        sleep(2);</div>
<div class="line"><span class="lineno">  327</span>        reboot(RB_AUTOBOOT);</div>
<div class="line"><span class="lineno">  328</span>        <span class="keywordflow">while</span> (1)</div>
<div class="line"><span class="lineno">  329</span>            ;</div>
<div class="line"><span class="lineno">  330</span>    }</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  333</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d8/d91/sys_8c_source.html#l00336">rpc_sys_api_init()</a>.</p>

</div>
</div>
<a id="a24f01653c4f1cdd479608ce9fc760312" name="a24f01653c4f1cdd479608ce9fc760312"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24f01653c4f1cdd479608ce9fc760312">&#9670;&#160;</a></span>rpc_sys_upgrade_clean()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_sys_upgrade_clean </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00293">293</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  296</span>{</div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">if</span> (unlink(<span class="stringliteral">&quot;/tmp/firmware.bin&quot;</span>))</div>
<div class="line"><span class="lineno">  298</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  301</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d91/sys_8c_source.html#l00059">rpc_errno_status()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d91/sys_8c_source.html#l00336">rpc_sys_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d91/sys_8c_a24f01653c4f1cdd479608ce9fc760312_cgraph.png" border="0" usemap="#ad8/d91/sys_8c_a24f01653c4f1cdd479608ce9fc760312_cgraph" alt=""/></div>
<map name="ad8/d91/sys_8c_a24f01653c4f1cdd479608ce9fc760312_cgraph" id="ad8/d91/sys_8c_a24f01653c4f1cdd479608ce9fc760312_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,242,39"/>
<area shape="rect" href="../../d8/d91/sys_8c.html#a090b8a33eecdf9cc91830fbfc75b1bed" title=" " alt="" coords="290,5,464,39"/>
<area shape="poly" title=" " alt="" coords="242,20,274,20,274,25,242,25"/>
</map>
</div>

</div>
</div>
<a id="a3bb62898dcbe368b3af2b2956f4d262b" name="a3bb62898dcbe368b3af2b2956f4d262b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bb62898dcbe368b3af2b2956f4d262b">&#9670;&#160;</a></span>rpc_sys_upgrade_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_sys_upgrade_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00268">268</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  271</span>{</div>
<div class="line"><span class="lineno">  272</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb[<a class="code hl_enumvalue" href="#a15b3bbe041870ee299f7e042b0305e3ca9034f60af112301607a64ec71cca8561">__RPC_UPGRADE_MAX</a>];</div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordtype">char</span> * <span class="keyword">const</span> <a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>[4] = { <span class="stringliteral">&quot;/sbin/sysupgrade&quot;</span>, <span class="stringliteral">&quot;-n&quot;</span>, <span class="stringliteral">&quot;/tmp/firmware.bin&quot;</span>, NULL };</div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordtype">char</span> * <span class="keyword">const</span> cmd_keep[3] = { <span class="stringliteral">&quot;/sbin/sysupgrade&quot;</span>, <span class="stringliteral">&quot;/tmp/firmware.bin&quot;</span>, NULL };</div>
<div class="line"><span class="lineno">  275</span>    <span class="keywordtype">char</span> * <span class="keyword">const</span> * c = <a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>;</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#a98ce8f7cb4e2cb433b9a4dbc86f99515">rpc_upgrade_policy</a>, <a class="code hl_enumvalue" href="#a15b3bbe041870ee299f7e042b0305e3ca9034f60af112301607a64ec71cca8561">__RPC_UPGRADE_MAX</a>, tb,</div>
<div class="line"><span class="lineno">  278</span>                  <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a>(msg), <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(msg));</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>    <span class="keywordflow">if</span> (tb[<a class="code hl_enumvalue" href="#a15b3bbe041870ee299f7e042b0305e3ca6ddf947437fcc68bc8279bf0cd0f1531">RPC_UPGRADE_KEEP</a>] &amp;&amp; <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2">blobmsg_get_bool</a>(tb[<a class="code hl_enumvalue" href="#a15b3bbe041870ee299f7e042b0305e3ca6ddf947437fcc68bc8279bf0cd0f1531">RPC_UPGRADE_KEEP</a>]))</div>
<div class="line"><span class="lineno">  281</span>        c = cmd_keep;</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>    <span class="keywordflow">if</span> (!fork()) {</div>
<div class="line"><span class="lineno">  284</span>        <span class="comment">/* wait for the RPC call to complete */</span></div>
<div class="line"><span class="lineno">  285</span>        sleep(2);</div>
<div class="line"><span class="lineno">  286</span>        <span class="keywordflow">return</span> execv(c[0], c);</div>
<div class="line"><span class="lineno">  287</span>    }</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  290</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d91/sys_8c_source.html#l00042">__RPC_UPGRADE_MAX</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00075">blob_data()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00283">blobmsg_get_bool()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../d4/d4c/json__script_8c_source.html#l00207">cmd</a>, <a class="el" href="../../d8/d91/sys_8c_source.html#l00041">RPC_UPGRADE_KEEP</a>, and <a class="el" href="../../d8/d91/sys_8c_source.html#l00045">rpc_upgrade_policy</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d91/sys_8c_source.html#l00336">rpc_sys_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d91/sys_8c_a3bb62898dcbe368b3af2b2956f4d262b_cgraph.png" border="0" usemap="#ad8/d91/sys_8c_a3bb62898dcbe368b3af2b2956f4d262b_cgraph" alt=""/></div>
<map name="ad8/d91/sys_8c_a3bb62898dcbe368b3af2b2956f4d262b_cgraph" id="ad8/d91/sys_8c_a3bb62898dcbe368b3af2b2956f4d262b_cgraph">
<area shape="rect" title=" " alt="" coords="5,193,236,226"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1298,126,1409,160"/>
<area shape="poly" title=" " alt="" coords="144,190,218,140,331,78,397,49,468,25,541,9,614,3,899,3,958,6,1017,15,1131,45,1231,82,1306,116,1304,121,1229,87,1129,50,1016,20,957,11,899,8,614,8,542,14,469,30,399,54,333,83,221,144,146,194"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1085,181,1184,214"/>
<area shape="poly" title=" " alt="" coords="177,189,324,152,422,132,532,115,649,104,771,100,893,108,953,117,1011,129,1057,147,1098,169,1095,174,1055,152,1010,135,952,122,892,113,771,106,650,109,533,120,423,137,325,157,179,194"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2" title=" " alt="" coords="522,531,710,565"/>
<area shape="poly" title=" " alt="" coords="135,225,194,307,237,357,285,402,346,443,411,477,476,504,535,524,533,529,474,509,409,482,343,448,282,406,233,360,189,310,130,228"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="284,358,446,392"/>
<area shape="poly" title=" " alt="" coords="149,225,327,347,324,351,146,229"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1059,391,1210,425"/>
<area shape="poly" title=" " alt="" coords="710,535,853,511,932,493,1010,469,1052,451,1091,431,1094,435,1055,456,1012,475,934,498,854,517,711,540"/>
<area shape="poly" title=" " alt="" coords="1148,389,1326,170,1330,174,1152,392"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1263,447,1444,481"/>
<area shape="poly" title=" " alt="" coords="1204,423,1271,440,1269,445,1202,428"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1268,309,1438,342"/>
<area shape="poly" title=" " alt="" coords="1180,388,1291,346,1293,351,1182,393"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1258,390,1448,424"/>
<area shape="poly" title=" " alt="" coords="1211,405,1242,405,1242,410,1211,410"/>
<area shape="poly" title=" " alt="" coords="385,355,448,306,543,242,599,208,659,177,721,150,785,129,852,115,921,107,991,103,1059,104,1184,113,1283,127,1282,132,1183,118,1058,109,991,108,921,112,853,120,786,135,723,155,661,182,601,213,546,246,451,311,388,360"/>
<area shape="poly" title=" " alt="" coords="373,391,387,431,412,483,447,535,470,557,495,575,548,600,603,617,660,629,719,635,777,635,836,631,952,613,1062,584,1160,550,1242,515,1304,486,1307,491,1244,520,1162,555,1063,589,953,618,837,637,778,640,718,640,660,634,602,623,546,605,493,580,466,561,443,539,407,486,382,433,368,393"/>
<area shape="poly" title=" " alt="" coords="403,390,447,408,495,424,637,460,750,477,864,479,1010,469,1147,450,1268,425,1269,430,1148,456,1011,475,864,485,749,483,636,465,493,429,445,413,401,394"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="854,426,942,460"/>
<area shape="poly" title=" " alt="" coords="447,382,839,433,838,438,446,388"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="494,317,737,350"/>
<area shape="poly" title=" " alt="" coords="446,359,494,351,495,356,447,364"/>
<area shape="poly" title=" " alt="" coords="713,348,786,360,1044,395,1043,400,785,365,713,353"/>
<area shape="poly" title=" " alt="" coords="655,348,786,404,841,423,839,428,784,409,653,353"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="811,202,985,236"/>
<area shape="poly" title=" " alt="" coords="645,314,708,279,784,244,803,238,804,243,786,249,710,284,647,318"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="827,259,969,293"/>
<area shape="poly" title=" " alt="" coords="702,313,812,291,813,296,703,319"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="785,317,1011,350"/>
<area shape="poly" title=" " alt="" coords="738,331,770,331,770,336,738,336"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="804,145,992,178"/>
<area shape="poly" title=" " alt="" coords="630,314,693,252,736,217,784,187,795,182,798,187,787,192,739,221,696,256,634,318"/>
<area shape="poly" title=" " alt="" coords="969,258,1010,245,1080,218,1082,223,1012,251,970,263"/>
<area shape="poly" title=" " alt="" coords="973,313,1010,303,1111,268,1209,224,1311,166,1314,171,1211,229,1113,273,1011,308,975,319"/>
<area shape="poly" title=" " alt="" coords="990,314,1009,303,1025,287,1033,269,1041,251,1057,231,1073,220,1076,224,1060,235,1046,254,1038,272,1030,290,1012,307,993,318"/>
<area shape="poly" title=" " alt="" coords="924,348,995,398,1032,421,1060,435,1106,448,1154,457,1247,464,1247,469,1154,462,1105,453,1058,440,1029,426,992,402,921,353"/>
<area shape="poly" title=" " alt="" coords="1011,329,1252,324,1252,330,1011,334"/>
<area shape="poly" title=" " alt="" coords="1011,346,1210,376,1252,384,1251,389,1210,381,1011,351"/>
<area shape="poly" title=" " alt="" coords="992,155,1282,143,1282,148,993,160"/>
<area shape="poly" title=" " alt="" coords="993,173,1070,185,1069,190,992,178"/>
<area shape="poly" title=" " alt="" coords="994,176,1012,187,1035,207,1055,231,1088,282,1111,332,1127,375,1122,377,1106,334,1083,284,1051,234,1031,211,1009,191,991,181"/>
</map>
</div>

</div>
</div>
<a id="aa4692a150f62f445c6b8af447ee182e9" name="aa4692a150f62f445c6b8af447ee182e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4692a150f62f445c6b8af447ee182e9">&#9670;&#160;</a></span>rpc_sys_upgrade_test()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_sys_upgrade_test </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00259">259</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  262</span>{</div>
<div class="line"><span class="lineno">  263</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>[4] = { <span class="stringliteral">&quot;sysupgrade&quot;</span>, <span class="stringliteral">&quot;--test&quot;</span>, <span class="stringliteral">&quot;/tmp/firmware.bin&quot;</span>, NULL };</div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="#a8c9284b14b948aae5a1abc7ed0e16c0c">ops</a>-&gt;<a class="code hl_variable" href="../../d9/dc4/plugin_8h.html#a464f4fc3438a2dda6bb053984d08adba">exec</a>(<a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>, NULL, NULL, NULL, NULL, NULL, <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req);</div>
<div class="line"><span class="lineno">  265</span>}</div>
<div class="ttc" id="aplugin_8h_html_a464f4fc3438a2dda6bb053984d08adba"><div class="ttname"><a href="../../d9/dc4/plugin_8h.html#a464f4fc3438a2dda6bb053984d08adba">rpc_daemon_ops::exec</a></div><div class="ttdeci">int(* exec)(const char **args, rpc_exec_write_cb_t in, rpc_exec_read_cb_t out, rpc_exec_read_cb_t err, rpc_exec_done_cb_t end, void *priv, struct ubus_context *ctx, struct ubus_request_data *req)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dc4/plugin_8h_source.html#l00052">plugin.h:52</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d4c/json__script_8c_source.html#l00207">cmd</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../d9/dc4/plugin_8h_source.html#l00052">rpc_daemon_ops::exec</a>, and <a class="el" href="../../d8/d91/sys_8c_source.html#l00027">ops</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d91/sys_8c_source.html#l00336">rpc_sys_api_init()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8c9284b14b948aae5a1abc7ed0e16c0c" name="a8c9284b14b948aae5a1abc7ed0e16c0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c9284b14b948aae5a1abc7ed0e16c0c">&#9670;&#160;</a></span>ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d9/dc4/plugin_8h.html#d2/d00/structrpc__daemon__ops">rpc_daemon_ops</a>* ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00027">27</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d91/sys_8c_source.html#l00336">rpc_sys_api_init()</a>, and <a class="el" href="../../d8/d91/sys_8c_source.html#l00259">rpc_sys_upgrade_test()</a>.</p>

</div>
</div>
<a id="a10e82936da93fe244b8fc053d89b77f3" name="a10e82936da93fe244b8fc053d89b77f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10e82936da93fe244b8fc053d89b77f3">&#9670;&#160;</a></span>rpc_packagelist_policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> rpc_packagelist_policy[<a class="el" href="#ae62fccd8cea8f216b24ba625d404c4aea1978e3098bffb751c5e475e27ec10a86">__RPC_PACKAGELIST_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#ae62fccd8cea8f216b24ba625d404c4aeade6a0d92376863ae02d5c532ea2022b3">RPC_PACKAGELIST_ALL</a>] = { .name = <span class="stringliteral">&quot;all&quot;</span>,    .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a> },</div>
<div class="line">}</div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a></div><div class="ttdeci">@ BLOBMSG_TYPE_BOOL</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00034">blobmsg.h:34</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00054">54</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   54</span>                                                                                   {</div>
<div class="line"><span class="lineno">   55</span>    [<a class="code hl_enumvalue" href="#ae62fccd8cea8f216b24ba625d404c4aeade6a0d92376863ae02d5c532ea2022b3">RPC_PACKAGELIST_ALL</a>] = { .name = <span class="stringliteral">&quot;all&quot;</span>,    .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a> },</div>
<div class="line"><span class="lineno">   56</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d8/d91/sys_8c_source.html#l00336">rpc_sys_api_init()</a>, and <a class="el" href="../../d8/d91/sys_8c_source.html#l00184">rpc_sys_packagelist()</a>.</p>

</div>
</div>
<a id="a0102e4b700b20515ba47b669db5dff36" name="a0102e4b700b20515ba47b669db5dff36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0102e4b700b20515ba47b669db5dff36">&#9670;&#160;</a></span>rpc_password_policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> rpc_password_policy[<a class="el" href="#a5bea799269f02f5b3395d6b2c068b618a0f53cc392f31cef9aa7ef747e2290741">__RPC_P_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618a57ccbf578f2fa6b9cd405d5373eb46b1">RPC_P_USER</a>]     = { .name = <span class="stringliteral">&quot;user&quot;</span>,     .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618ae0adc91a5691919b88b1e6d4f8bfe1c4">RPC_P_PASSWORD</a>] = { .name = <span class="stringliteral">&quot;password&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">}</div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a></div><div class="ttdeci">@ BLOBMSG_TYPE_STRING</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00029">blobmsg.h:29</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00035">35</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   35</span>                                                                      {</div>
<div class="line"><span class="lineno">   36</span>    [<a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618a57ccbf578f2fa6b9cd405d5373eb46b1">RPC_P_USER</a>]     = { .name = <span class="stringliteral">&quot;user&quot;</span>,     .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   37</span>    [<a class="code hl_enumvalue" href="#a5bea799269f02f5b3395d6b2c068b618ae0adc91a5691919b88b1e6d4f8bfe1c4">RPC_P_PASSWORD</a>] = { .name = <span class="stringliteral">&quot;password&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   38</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d8/d91/sys_8c_source.html#l00081">rpc_cgi_password_set()</a>, and <a class="el" href="../../d8/d91/sys_8c_source.html#l00336">rpc_sys_api_init()</a>.</p>

</div>
</div>
<a id="a9cf335329d79680c19c21b0b666c8d42" name="a9cf335329d79680c19c21b0b666c8d42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cf335329d79680c19c21b0b666c8d42">&#9670;&#160;</a></span>rpc_plugin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rpc_plugin rpc_plugin</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .init = <a class="code hl_function" href="#afcdcb7696b393d52c93ff3800607e334">rpc_sys_api_init</a></div>
<div class="line">}</div>
<div class="ttc" id="asys_8c_html_afcdcb7696b393d52c93ff3800607e334"><div class="ttname"><a href="#afcdcb7696b393d52c93ff3800607e334">rpc_sys_api_init</a></div><div class="ttdeci">static int rpc_sys_api_init(const struct rpc_daemon_ops *o, struct ubus_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d91/sys_8c_source.html#l00336">sys.c:336</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00364">364</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  364</span>                               {</div>
<div class="line"><span class="lineno">  365</span>    .init = <a class="code hl_function" href="#afcdcb7696b393d52c93ff3800607e334">rpc_sys_api_init</a></div>
<div class="line"><span class="lineno">  366</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a98ce8f7cb4e2cb433b9a4dbc86f99515" name="a98ce8f7cb4e2cb433b9a4dbc86f99515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98ce8f7cb4e2cb433b9a4dbc86f99515">&#9670;&#160;</a></span>rpc_upgrade_policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> rpc_upgrade_policy[<a class="el" href="#a15b3bbe041870ee299f7e042b0305e3ca9034f60af112301607a64ec71cca8561">__RPC_UPGRADE_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a15b3bbe041870ee299f7e042b0305e3ca6ddf947437fcc68bc8279bf0cd0f1531">RPC_UPGRADE_KEEP</a>] = { .name = <span class="stringliteral">&quot;keep&quot;</span>,    .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a> },</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d8/d91/sys_8c_source.html#l00045">45</a> of file <a class="el" href="../../d8/d91/sys_8c_source.html">sys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   45</span>                                                                           {</div>
<div class="line"><span class="lineno">   46</span>    [<a class="code hl_enumvalue" href="#a15b3bbe041870ee299f7e042b0305e3ca6ddf947437fcc68bc8279bf0cd0f1531">RPC_UPGRADE_KEEP</a>] = { .name = <span class="stringliteral">&quot;keep&quot;</span>,    .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a> },</div>
<div class="line"><span class="lineno">   47</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d8/d91/sys_8c_source.html#l00336">rpc_sys_api_init()</a>, and <a class="el" href="../../d8/d91/sys_8c_source.html#l00268">rpc_sys_upgrade_start()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
