<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>zbus: /home/g41797/CLionProjects/github.com/g41797/zbus/src/libs/procd/initd/preinit.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">zbus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_87a455bccb09a92130c26a11a880c98a.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_63350b749fcf74007a53c7c917c10773.html">procd</a></li><li class="navelem"><a class="el" href="../../dir_1412eafc16f62a7acc564e3f4ad8e7b7.html">initd</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">preinit.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/mount.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../dc/d56/uloop_8h_source.html">libubox/uloop.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d5/d1d/libubox_2utils_8h_source.html">libubox/utils.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../db/d55/libubus_8h_source.html">libubus.h</a>&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d8/dc0/init_8h_source.html">init.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/da3/watchdog_8h_source.html">../watchdog.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/dd1/sysupgrade_8h_source.html">../sysupgrade.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for preinit.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/def/preinit_8c__incl.png" border="0" usemap="#a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2procd_2initd_2preinit_8c" alt=""/></div>
<map name="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2procd_2initd_2preinit_8c" id="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2procd_2initd_2preinit_8c">
<area shape="rect" title=" " alt="" coords="534,5,820,85"/>
<area shape="rect" title=" " alt="" coords="5,541,117,575"/>
<area shape="poly" title=" " alt="" coords="534,64,337,93,250,113,189,135,154,154,126,172,109,195,102,230,102,396,100,432,93,467,75,527,70,526,88,466,94,431,97,396,97,230,104,193,123,168,151,150,187,131,248,108,336,88,533,59"/>
<area shape="rect" title=" " alt="" coords="693,541,821,575"/>
<area shape="poly" title=" " alt="" coords="674,86,648,315,641,429,642,470,647,492,667,515,693,532,690,537,664,519,643,495,637,470,636,429,643,315,669,85"/>
<area shape="rect" title=" " alt="" coords="226,133,363,167"/>
<area shape="poly" title=" " alt="" coords="534,87,370,131,368,126,533,82"/>
<area shape="rect" title=" " alt="" coords="386,133,467,167"/>
<area shape="poly" title=" " alt="" coords="582,88,481,129,479,124,580,83"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html" title=" " alt="" coords="1588,460,1753,493"/>
<area shape="poly" title=" " alt="" coords="820,50,1133,69,1317,84,1500,103,1667,127,1805,155,1858,171,1899,189,1925,208,1932,219,1934,230,1934,315,1933,368,1926,391,1908,414,1878,438,1842,455,1805,467,1768,474,1767,469,1804,462,1840,450,1875,433,1904,410,1921,388,1928,367,1929,314,1929,230,1927,221,1921,212,1896,194,1856,176,1804,160,1666,132,1499,108,1316,89,1133,74,820,55"/>
<area shape="rect" href="../../d5/d1d/libubox_2utils_8h.html" title=" " alt="" coords="380,460,532,493"/>
<area shape="poly" title=" " alt="" coords="611,88,576,112,541,142,509,177,483,216,471,245,462,276,452,339,451,397,454,444,449,444,446,397,447,338,457,274,466,243,479,213,505,174,537,139,573,108,608,83"/>
<area shape="rect" title=" " alt="" coords="140,541,238,575"/>
<area shape="poly" title=" " alt="" coords="534,59,441,70,347,86,268,107,238,120,216,135,199,156,192,177,192,230,192,396,192,526,186,526,186,396,186,230,187,176,194,153,213,131,235,116,266,102,346,81,440,65,533,54"/>
<area shape="rect" href="../../db/d55/libubus_8h.html" title=" " alt="" coords="1395,215,1503,248"/>
<area shape="poly" title=" " alt="" coords="821,77,1052,130,1381,211,1380,216,1051,136,820,82"/>
<area shape="rect" title=" " alt="" coords="657,460,748,493"/>
<area shape="poly" title=" " alt="" coords="697,85,719,152,727,191,730,230,730,315,724,385,713,445,707,444,719,384,725,314,725,230,722,191,714,153,692,86"/>
<area shape="rect" title=" " alt="" coords="772,460,857,493"/>
<area shape="poly" title=" " alt="" coords="724,84,750,113,774,148,793,188,800,230,800,314,804,384,812,444,806,445,798,385,794,315,794,230,787,189,770,151,746,116,720,87"/>
<area shape="rect" href="../../d8/dc0/init_8h.html" title=" " alt="" coords="971,133,1039,167"/>
<area shape="poly" title=" " alt="" coords="804,83,956,131,955,136,802,88"/>
<area shape="rect" href="../../d9/da3/watchdog_8h.html" title=" " alt="" coords="493,215,640,248"/>
<area shape="poly" title=" " alt="" coords="656,87,586,203,581,200,651,84"/>
<area shape="rect" href="../../db/dd1/sysupgrade_8h.html" title=" " alt="" coords="1969,133,2135,167"/>
<area shape="poly" title=" " alt="" coords="821,50,1321,77,1635,100,1951,130,1953,131,1953,136,1950,136,1634,106,1321,82,820,55"/>
<area shape="poly" title=" " alt="" coords="1588,487,841,544,836,545,836,539,841,539,1587,482"/>
<area shape="rect" title=" " alt="" coords="853,541,970,575"/>
<area shape="poly" title=" " alt="" coords="1588,489,986,552,986,546,1587,484"/>
<area shape="rect" title=" " alt="" coords="1497,623,1604,657"/>
<area shape="poly" title=" " alt="" coords="1661,495,1573,612,1569,609,1656,492"/>
<area shape="rect" title=" " alt="" coords="1204,541,1297,575"/>
<area shape="poly" title=" " alt="" coords="1588,496,1312,548,1311,543,1587,491"/>
<area shape="rect" title=" " alt="" coords="1638,541,1732,575"/>
<area shape="poly" title=" " alt="" coords="1676,493,1682,525,1677,526,1671,494"/>
<area shape="rect" href="../../da/d23/list_8h.html" title=" " alt="" coords="1761,541,1828,575"/>
<area shape="poly" title=" " alt="" coords="1697,492,1758,531,1755,535,1694,496"/>
<area shape="poly" title=" " alt="" coords="1762,573,1615,620,1613,615,1760,568"/>
<area shape="rect" title=" " alt="" coords="1821,623,1917,657"/>
<area shape="poly" title=" " alt="" coords="1811,574,1846,610,1842,614,1808,577"/>
<area shape="poly" title=" " alt="" coords="380,494,132,543,131,538,379,489"/>
<area shape="poly" title=" " alt="" coords="518,491,682,534,681,540,516,496"/>
<area shape="poly" title=" " alt="" coords="533,487,833,539,838,540,837,545,833,544,532,493"/>
<area shape="poly" title=" " alt="" coords="485,492,566,539,594,558,623,572,698,589,798,603,1042,621,1291,631,1481,635,1481,641,1291,637,1042,627,798,608,697,594,621,578,591,563,564,544,482,496"/>
<area shape="poly" title=" " alt="" coords="532,483,1189,548,1188,553,532,488"/>
<area shape="poly" title=" " alt="" coords="402,496,253,541,251,536,401,491"/>
<area shape="rect" title=" " alt="" coords="262,541,343,575"/>
<area shape="poly" title=" " alt="" coords="426,496,348,536,346,532,423,491"/>
<area shape="rect" title=" " alt="" coords="366,541,553,575"/>
<area shape="poly" title=" " alt="" coords="459,494,461,526,455,526,454,494"/>
<area shape="poly" title=" " alt="" coords="1463,247,1521,319,1602,410,1641,447,1638,451,1598,414,1517,323,1459,250"/>
<area shape="poly" title=" " alt="" coords="1445,250,1427,288,1400,332,1377,356,1354,380,1327,419,1303,461,1267,529,1263,526,1299,458,1322,416,1350,376,1373,352,1396,328,1422,286,1440,248"/>
<area shape="poly" title=" " alt="" coords="1503,236,1708,262,1804,278,1857,294,1888,318,1908,345,1916,376,1909,413,1901,429,1891,439,1868,461,1817,530,1813,527,1864,458,1887,435,1896,426,1904,411,1910,376,1903,347,1884,322,1854,299,1802,283,1707,267,1503,241"/>
<area shape="rect" href="../../d3/d51/avl_8h.html" title=" " alt="" coords="1879,460,2019,493"/>
<area shape="poly" title=" " alt="" coords="1485,246,1597,301,1734,376,1760,393,1785,409,1835,432,1885,452,1883,457,1833,437,1782,414,1757,398,1732,380,1594,306,1482,251"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html" title=" " alt="" coords="1192,296,1386,330"/>
<area shape="poly" title=" " alt="" coords="1418,251,1336,292,1334,287,1415,246"/>
<area shape="rect" href="../../d5/d79/ubusmsg_8h.html" title=" " alt="" coords="1042,296,1168,330"/>
<area shape="poly" title=" " alt="" coords="1395,248,1183,297,1182,291,1394,243"/>
<area shape="rect" href="../../dc/d3c/ubus__common_8h.html" title=" " alt="" coords="1363,378,1538,412"/>
<area shape="poly" title=" " alt="" coords="1452,249,1453,363,1447,363,1446,249"/>
<area shape="poly" title=" " alt="" coords="1938,496,1898,537,1871,559,1841,577,1785,601,1727,618,1620,636,1619,631,1726,612,1783,596,1838,573,1867,555,1894,533,1934,492"/>
<area shape="poly" title=" " alt="" coords="1919,496,1840,536,1838,532,1916,491"/>
<area shape="poly" title=" " alt="" coords="1944,495,1905,576,1887,610,1882,608,1900,574,1939,493"/>
<area shape="rect" title=" " alt="" coords="1313,460,1412,493"/>
<area shape="poly" title=" " alt="" coords="1299,329,1351,445,1346,447,1294,332"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html" title=" " alt="" coords="888,378,967,412"/>
<area shape="poly" title=" " alt="" coords="1216,333,983,384,982,379,1215,328"/>
<area shape="poly" title=" " alt="" coords="944,410,982,449,1032,491,1108,540,1193,572,1268,594,1346,610,1482,630,1481,635,1345,616,1267,599,1191,578,1106,544,1029,495,978,453,940,414"/>
<area shape="poly" title=" " alt="" coords="955,410,1089,491,1191,534,1189,538,1086,496,952,415"/>
<area shape="poly" title=" " alt="" coords="888,406,548,462,547,457,887,400"/>
<area shape="poly" title=" " alt="" coords="888,413,763,457,761,452,886,408"/>
<area shape="rect" title=" " alt="" coords="881,460,974,493"/>
<area shape="poly" title=" " alt="" coords="930,412,930,444,925,444,925,412"/>
<area shape="poly" title=" " alt="" coords="906,414,851,453,848,448,903,410"/>
<area shape="rect" title=" " alt="" coords="1100,460,1187,493"/>
<area shape="poly" title=" " alt="" coords="969,408,1086,451,1085,456,967,413"/>
<area shape="poly" title=" " alt="" coords="1118,329,1202,458,1238,526,1234,529,1197,461,1114,332"/>
<area shape="poly" title=" " alt="" coords="1070,333,978,374,976,369,1068,328"/>
<area shape="poly" title=" " alt="" coords="1459,411,1541,608,1536,610,1454,413"/>
<area shape="poly" title=" " alt="" coords="1007,167,1011,239,1019,285,1033,329,1051,363,1073,395,1118,447,1114,450,1068,398,1046,366,1028,331,1014,286,1006,240,1002,167"/>
<area shape="rect" href="../../d9/d1e/procd_2log_8h.html" title=" " alt="" coords="1613,215,1698,248"/>
<area shape="poly" title=" " alt="" coords="1040,153,1598,220,1597,226,1039,158"/>
<area shape="rect" href="../../df/df3/ulog_8h.html" title=" " alt="" coords="1690,296,1843,330"/>
<area shape="poly" title=" " alt="" coords="1680,247,1733,285,1730,289,1677,251"/>
<area shape="rect" title=" " alt="" coords="1796,378,1894,412"/>
<area shape="poly" title=" " alt="" coords="1784,329,1820,365,1816,369,1780,332"/>
<area shape="rect" href="../../de/dd2/udebug_8h.html" title=" " alt="" coords="1611,378,1722,412"/>
<area shape="poly" title=" " alt="" coords="1748,333,1700,370,1697,366,1744,328"/>
<area shape="poly" title=" " alt="" coords="1612,411,1542,432,1469,462,1448,479,1439,488,1425,496,1340,523,1267,538,1201,543,1138,542,1007,535,930,536,841,544,836,545,836,539,841,539,930,531,1007,530,1138,537,1201,538,1266,533,1339,518,1423,491,1436,484,1444,475,1466,457,1540,426,1610,406"/>
<area shape="poly" title=" " alt="" coords="1670,412,1671,444,1666,444,1664,412"/>
<area shape="poly" title=" " alt="" coords="1639,415,1563,454,1469,496,1388,523,1312,544,1311,539,1386,518,1467,491,1560,449,1636,410"/>
<area shape="poly" title=" " alt="" coords="1705,410,1738,430,1767,458,1784,491,1793,525,1788,527,1779,493,1763,461,1735,434,1703,415"/>
<area shape="poly" title=" " alt="" coords="1723,409,1877,452,1876,458,1721,414"/>
<area shape="poly" title=" " alt="" coords="1611,413,1427,461,1426,456,1610,408"/>
<area shape="poly" title=" " alt="" coords="568,249,566,293,569,355,580,425,590,459,603,492,619,521,634,541,654,557,682,573,729,584,810,595,1036,613,1481,634,1481,639,1036,618,809,600,728,590,680,577,651,562,630,545,614,524,599,494,585,461,575,426,564,355,561,293,562,248"/>
</map>
</div>
</div>
<p><a href="../../dd/de5/preinit_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a369266c24eacffb87046522897a570d5" id="r_a369266c24eacffb87046522897a570d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a369266c24eacffb87046522897a570d5">_GNU_SOURCE</a></td></tr>
<tr class="separator:a369266c24eacffb87046522897a570d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4f3b5900c57e91bcc59c5c7e9f47fca6" id="r_a4f3b5900c57e91bcc59c5c7e9f47fca6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f3b5900c57e91bcc59c5c7e9f47fca6">check_dbglvl</a> (void)</td></tr>
<tr class="separator:a4f3b5900c57e91bcc59c5c7e9f47fca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94bbc0d07683d7ebd935579b8c873834" id="r_a94bbc0d07683d7ebd935579b8c873834"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94bbc0d07683d7ebd935579b8c873834">check_sysupgrade</a> (void)</td></tr>
<tr class="separator:a94bbc0d07683d7ebd935579b8c873834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9539d3f84ee0e5d5db04710740c805f2" id="r_a9539d3f84ee0e5d5db04710740c805f2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9539d3f84ee0e5d5db04710740c805f2">spawn_procd</a> (struct <a class="el" href="../../dc/d56/uloop_8h.html#da/d43/structuloop__process">uloop_process</a> *proc, int ret)</td></tr>
<tr class="separator:a9539d3f84ee0e5d5db04710740c805f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c2b1b2951eae690991001026ac7c4d4" id="r_a3c2b1b2951eae690991001026ac7c4d4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c2b1b2951eae690991001026ac7c4d4">plugd_proc_cb</a> (struct <a class="el" href="../../dc/d56/uloop_8h.html#da/d43/structuloop__process">uloop_process</a> *proc, int ret)</td></tr>
<tr class="separator:a3c2b1b2951eae690991001026ac7c4d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90282b93d8528c3fc4e5b188bc5fbc1c" id="r_a90282b93d8528c3fc4e5b188bc5fbc1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a90282b93d8528c3fc4e5b188bc5fbc1c">preinit</a> (void)</td></tr>
<tr class="separator:a90282b93d8528c3fc4e5b188bc5fbc1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a853b80f1060c5f3b45f16fe3661b3dbb" id="r_a853b80f1060c5f3b45f16fe3661b3dbb"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dc/d56/uloop_8h.html#da/d43/structuloop__process">uloop_process</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a853b80f1060c5f3b45f16fe3661b3dbb">preinit_proc</a></td></tr>
<tr class="separator:a853b80f1060c5f3b45f16fe3661b3dbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4347623902c0bf91bcda51aac191dd96" id="r_a4347623902c0bf91bcda51aac191dd96"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dc/d56/uloop_8h.html#da/d43/structuloop__process">uloop_process</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4347623902c0bf91bcda51aac191dd96">plugd_proc</a></td></tr>
<tr class="separator:a4347623902c0bf91bcda51aac191dd96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a369266c24eacffb87046522897a570d5" name="a369266c24eacffb87046522897a570d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a369266c24eacffb87046522897a570d5">&#9670;&#160;</a></span>_GNU_SOURCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _GNU_SOURCE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/de5/preinit_8c_source.html#l00014">14</a> of file <a class="el" href="../../dd/de5/preinit_8c_source.html">preinit.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4f3b5900c57e91bcc59c5c7e9f47fca6" name="a4f3b5900c57e91bcc59c5c7e9f47fca6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f3b5900c57e91bcc59c5c7e9f47fca6">&#9670;&#160;</a></span>check_dbglvl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void check_dbglvl </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/de5/preinit_8c_source.html#l00037">37</a> of file <a class="el" href="../../dd/de5/preinit_8c_source.html">preinit.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   38</span>{</div>
<div class="line"><span class="lineno">   39</span>    FILE *fp = fopen(<span class="stringliteral">&quot;/tmp/debug_level&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordtype">int</span> lvl = 0;</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>    <span class="keywordflow">if</span> (!fp)</div>
<div class="line"><span class="lineno">   43</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordflow">if</span> (fscanf(fp, <span class="stringliteral">&quot;%d&quot;</span>, &amp;lvl) == EOF)</div>
<div class="line"><span class="lineno">   45</span>        <a class="code hl_define" href="../../d8/d30/procd_2jail_2log_8h.html#a15378cd15bafb3a79061424b452497aa">ERROR</a>(<span class="stringliteral">&quot;failed to read debug level: %m\n&quot;</span>);</div>
<div class="line"><span class="lineno">   46</span>    fclose(fp);</div>
<div class="line"><span class="lineno">   47</span>    unlink(<span class="stringliteral">&quot;/tmp/debug_level&quot;</span>);</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">if</span> (lvl &gt; 0 &amp;&amp; lvl &lt; 5)</div>
<div class="line"><span class="lineno">   50</span>        <a class="code hl_variable" href="../../d8/d60/init_8c.html#aa3770535f39c67ca0811e27731893370">debug</a> = lvl;</div>
<div class="line"><span class="lineno">   51</span>}</div>
<div class="ttc" id="ainit_8c_html_aa3770535f39c67ca0811e27731893370"><div class="ttname"><a href="../../d8/d60/init_8c.html#aa3770535f39c67ca0811e27731893370">debug</a></div><div class="ttdeci">unsigned int debug</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d60/init_8c_source.html#l00042">init.c:42</a></div></div>
<div class="ttc" id="aprocd_2jail_2log_8h_html_a15378cd15bafb3a79061424b452497aa"><div class="ttname"><a href="../../d8/d30/procd_2jail_2log_8h.html#a15378cd15bafb3a79061424b452497aa">ERROR</a></div><div class="ttdeci">#define ERROR(fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d30/procd_2jail_2log_8h_source.html#l00027">log.h:27</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d60/init_8c_source.html#l00042">debug</a>, and <a class="el" href="../../d8/d30/procd_2jail_2log_8h_source.html#l00027">ERROR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/de5/preinit_8c_source.html#l00091">spawn_procd()</a>.</p>

</div>
</div>
<a id="a94bbc0d07683d7ebd935579b8c873834" name="a94bbc0d07683d7ebd935579b8c873834"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94bbc0d07683d7ebd935579b8c873834">&#9670;&#160;</a></span>check_sysupgrade()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void check_sysupgrade </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/de5/preinit_8c_source.html#l00054">54</a> of file <a class="el" href="../../dd/de5/preinit_8c_source.html">preinit.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>{</div>
<div class="line"><span class="lineno">   56</span>    <span class="keywordtype">char</span> *prefix = NULL, *<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a> = NULL, *command = NULL;</div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordtype">size_t</span> n;</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">if</span> (chdir(<span class="stringliteral">&quot;/&quot;</span>))</div>
<div class="line"><span class="lineno">   60</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>    FILE *<a class="code hl_function" href="../../d8/d1d/procd_2system_8c.html#a971a97328aa4e052756235e6690602f7">sysupgrade</a> = fopen(<span class="stringliteral">&quot;/tmp/sysupgrade&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno">   63</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d1d/procd_2system_8c.html#a971a97328aa4e052756235e6690602f7">sysupgrade</a>)</div>
<div class="line"><span class="lineno">   64</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>    n = 0;</div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">if</span> (getdelim(&amp;prefix, &amp;n, 0, <a class="code hl_function" href="../../d8/d1d/procd_2system_8c.html#a971a97328aa4e052756235e6690602f7">sysupgrade</a>) &lt; 0)</div>
<div class="line"><span class="lineno">   68</span>        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><span class="lineno">   69</span>    n = 0;</div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordflow">if</span> (getdelim(&amp;<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, &amp;n, 0, <a class="code hl_function" href="../../d8/d1d/procd_2system_8c.html#a971a97328aa4e052756235e6690602f7">sysupgrade</a>) &lt; 0)</div>
<div class="line"><span class="lineno">   71</span>        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><span class="lineno">   72</span>    n = 0;</div>
<div class="line"><span class="lineno">   73</span>    <span class="keywordflow">if</span> (getdelim(&amp;command, &amp;n, 0, <a class="code hl_function" href="../../d8/d1d/procd_2system_8c.html#a971a97328aa4e052756235e6690602f7">sysupgrade</a>) &lt; 0)</div>
<div class="line"><span class="lineno">   74</span>        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    fclose(<a class="code hl_function" href="../../d8/d1d/procd_2system_8c.html#a971a97328aa4e052756235e6690602f7">sysupgrade</a>);</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>    <a class="code hl_function" href="../../db/d65/sysupgrade_8c.html#a2f25b3ed2b57dbfdd9171d17a0e527c6">sysupgrade_exec_upgraded</a>(prefix, <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, NULL, command, NULL);</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">   81</span>        sleep(1);</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>fail:</div>
<div class="line"><span class="lineno">   84</span>    fclose(<a class="code hl_function" href="../../d8/d1d/procd_2system_8c.html#a971a97328aa4e052756235e6690602f7">sysupgrade</a>);</div>
<div class="line"><span class="lineno">   85</span>    free(prefix);</div>
<div class="line"><span class="lineno">   86</span>    free(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>);</div>
<div class="line"><span class="lineno">   87</span>    free(command);</div>
<div class="line"><span class="lineno">   88</span>}</div>
<div class="ttc" id="aprocd_2system_8c_html_a971a97328aa4e052756235e6690602f7"><div class="ttname"><a href="../../d8/d1d/procd_2system_8c.html#a971a97328aa4e052756235e6690602f7">sysupgrade</a></div><div class="ttdeci">static int sysupgrade(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d1d/procd_2system_8c_source.html#l00764">system.c:764</a></div></div>
<div class="ttc" id="asysupgrade_8c_html_a2f25b3ed2b57dbfdd9171d17a0e527c6"><div class="ttname"><a href="../../db/d65/sysupgrade_8c.html#a2f25b3ed2b57dbfdd9171d17a0e527c6">sysupgrade_exec_upgraded</a></div><div class="ttdeci">void sysupgrade_exec_upgraded(const char *prefix, char *path, const char *backup, char *command, struct blob_attr *options)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d65/sysupgrade_8c_source.html#l00028">sysupgrade.c:28</a></div></div>
<div class="ttc" id="aubusd__obj_8c_html_a9ece2e576492090c46d5e3b435cef7d4"><div class="ttname"><a href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a></div><div class="ttdeci">struct avl_tree path</div><div class="ttdef"><b>Definition</b> <a href="../../df/d0e/ubusd__obj_8c_source.html#l00019">ubusd_obj.c:19</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>, <a class="el" href="../../d8/d1d/procd_2system_8c_source.html#l00764">sysupgrade()</a>, and <a class="el" href="../../db/d65/sysupgrade_8c_source.html#l00028">sysupgrade_exec_upgraded()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/de5/preinit_8c_source.html#l00091">spawn_procd()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/de5/preinit_8c_a94bbc0d07683d7ebd935579b8c873834_cgraph.png" border="0" usemap="#add/de5/preinit_8c_a94bbc0d07683d7ebd935579b8c873834_cgraph" alt=""/></div>
<map name="add/de5/preinit_8c_a94bbc0d07683d7ebd935579b8c873834_cgraph" id="add/de5/preinit_8c_a94bbc0d07683d7ebd935579b8c873834_cgraph">
<area shape="rect" title=" " alt="" coords="5,239,199,273"/>
<area shape="rect" href="../../d8/d1d/procd_2system_8c.html#a971a97328aa4e052756235e6690602f7" title=" " alt="" coords="247,346,377,379"/>
<area shape="poly" title=" " alt="" coords="138,271,265,336,262,341,136,276"/>
<area shape="rect" href="../../db/d65/sysupgrade_8c.html#a2f25b3ed2b57dbfdd9171d17a0e527c6" title=" " alt="" coords="763,123,1044,157"/>
<area shape="poly" title=" " alt="" coords="134,236,187,209,258,178,340,147,424,125,506,114,569,114,715,125,748,126,748,132,715,130,569,120,506,120,426,130,341,152,260,182,189,214,136,241"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1615,732,1726,766"/>
<area shape="poly" title=" " alt="" coords="314,345,324,300,345,241,377,179,398,150,423,126,484,80,539,48,592,26,644,12,699,6,759,3,902,4,1206,4,1267,10,1323,29,1374,58,1420,95,1461,141,1498,192,1530,248,1558,307,1603,429,1636,545,1656,645,1668,717,1663,717,1651,646,1630,546,1598,430,1553,309,1525,251,1493,195,1457,144,1416,99,1371,62,1321,34,1266,15,1206,9,902,9,759,9,700,11,645,18,593,31,541,53,487,85,427,130,402,154,381,182,349,243,329,302,319,346"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1397,892,1495,926"/>
<area shape="poly" title=" " alt="" coords="328,343,369,308,396,290,424,275,483,253,559,231,646,211,740,195,832,185,918,184,991,194,1021,204,1045,218,1062,235,1070,254,1072,293,1073,332,1079,351,1093,368,1121,387,1149,394,1178,394,1207,391,1235,387,1264,388,1292,398,1319,419,1330,435,1338,454,1347,502,1351,558,1352,620,1352,740,1357,790,1367,828,1386,856,1410,880,1406,884,1382,860,1363,830,1351,791,1347,740,1346,620,1346,558,1342,502,1332,456,1325,437,1315,423,1289,402,1263,393,1236,393,1207,396,1178,399,1149,400,1119,392,1090,372,1075,353,1068,333,1067,293,1065,255,1058,238,1042,222,1019,209,990,199,918,189,832,190,740,200,648,216,560,236,484,258,426,280,398,294,373,312,332,347"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2" title=" " alt="" coords="476,774,664,807"/>
<area shape="poly" title=" " alt="" coords="316,379,319,446,333,542,347,595,366,648,393,697,427,741,444,755,463,766,460,770,441,759,423,744,388,700,362,650,342,597,328,544,313,446,310,380"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="469,696,672,730"/>
<area shape="poly" title=" " alt="" coords="317,379,323,436,340,515,354,558,373,600,397,639,427,672,455,691,452,696,423,676,392,642,368,602,349,560,335,516,318,437,311,380"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="489,1062,651,1095"/>
<area shape="poly" title=" " alt="" coords="318,379,330,450,352,560,384,689,427,819,457,885,491,948,551,1047,546,1050,486,951,452,887,423,821,379,691,347,561,325,451,313,380"/>
<area shape="rect" href="../../d7/d1d/service_8c.html#a637cdad6e9e1e5b837c0072ae9b4a1ce" title=" " alt="" coords="487,290,653,323"/>
<area shape="poly" title=" " alt="" coords="376,346,474,324,475,330,378,351"/>
<area shape="rect" href="../../d8/d1d/procd_2system_8c.html#a9c77c01c21439286a9fdebb814d5b523" title=" " alt="" coords="479,428,662,462"/>
<area shape="poly" title=" " alt="" coords="368,377,501,420,500,426,366,382"/>
<area shape="poly" title=" " alt="" coords="315,344,328,307,349,260,381,212,401,191,424,174,467,151,513,134,561,123,609,116,704,112,789,118,789,123,704,118,610,121,562,128,514,140,469,156,426,178,404,195,385,215,354,262,332,309,320,346"/>
<area shape="rect" href="../../d8/d1d/procd_2system_8c.html#a91a439107e9ff41b6c2b9082b73f1972" title=" " alt="" coords="425,628,715,662"/>
<area shape="poly" title=" " alt="" coords="331,378,545,615,541,618,327,381"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1371,783,1522,817"/>
<area shape="poly" title=" " alt="" coords="665,789,1355,796,1355,801,665,794"/>
<area shape="poly" title=" " alt="" coords="1521,780,1599,762,1600,768,1523,785"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1580,1199,1761,1233"/>
<area shape="poly" title=" " alt="" coords="1473,815,1503,843,1530,878,1544,909,1551,937,1556,986,1560,1035,1566,1063,1578,1093,1609,1144,1643,1186,1639,1189,1604,1147,1573,1096,1561,1064,1554,1036,1551,986,1546,938,1539,911,1525,881,1499,846,1469,819"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1585,864,1756,898"/>
<area shape="poly" title=" " alt="" coords="1496,815,1608,856,1607,861,1494,820"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1575,1048,1766,1082"/>
<area shape="poly" title=" " alt="" coords="1468,815,1529,878,1597,961,1650,1034,1646,1037,1593,965,1525,882,1464,819"/>
<area shape="poly" title=" " alt="" coords="673,717,963,739,1317,776,1355,781,1355,787,1317,781,962,744,672,722"/>
<area shape="poly" title=" " alt="" coords="600,1059,683,1013,802,952,943,886,1091,828,1166,804,1226,789,1365,768,1489,755,1599,748,1600,754,1489,760,1365,773,1227,795,1167,809,1093,833,945,891,804,956,685,1018,603,1063"/>
<area shape="poly" title=" " alt="" coords="599,1093,671,1134,717,1155,764,1171,872,1194,984,1211,1096,1222,1206,1228,1407,1229,1564,1222,1564,1227,1407,1234,1206,1233,1096,1227,983,1216,871,1199,763,1176,715,1160,669,1139,596,1098"/>
<area shape="poly" title=" " alt="" coords="633,1093,758,1124,927,1154,1022,1165,1121,1171,1220,1171,1317,1162,1397,1148,1476,1128,1609,1085,1610,1090,1477,1133,1398,1153,1317,1168,1220,1176,1121,1177,1022,1170,927,1159,756,1129,631,1098"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="1161,1119,1248,1153"/>
<area shape="poly" title=" " alt="" coords="652,1083,1146,1128,1145,1133,651,1088"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="782,1004,1025,1038"/>
<area shape="poly" title=" " alt="" coords="652,1062,786,1038,787,1044,652,1067"/>
<area shape="poly" title=" " alt="" coords="920,1002,990,939,1038,904,1091,875,1139,858,1207,841,1355,812,1356,817,1208,846,1141,863,1093,880,1041,909,993,943,923,1006"/>
<area shape="poly" title=" " alt="" coords="938,1036,1008,1070,1093,1105,1146,1121,1145,1126,1091,1110,1006,1075,936,1041"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="1117,1062,1292,1095"/>
<area shape="poly" title=" " alt="" coords="996,1036,1102,1056,1101,1062,995,1041"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1134,947,1275,981"/>
<area shape="poly" title=" " alt="" coords="995,1001,1118,977,1119,983,996,1006"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="1092,1004,1317,1038"/>
<area shape="poly" title=" " alt="" coords="1026,1018,1076,1018,1076,1024,1026,1024"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="1110,890,1299,923"/>
<area shape="poly" title=" " alt="" coords="936,1001,1006,967,1091,932,1110,926,1112,931,1093,937,1008,972,938,1006"/>
<area shape="poly" title=" " alt="" coords="1275,945,1381,921,1382,926,1276,950"/>
<area shape="poly" title=" " alt="" coords="1276,1001,1526,936,1544,917,1552,897,1559,876,1573,850,1606,810,1638,775,1642,779,1610,814,1578,853,1564,878,1557,899,1548,920,1529,941,1277,1006"/>
<area shape="poly" title=" " alt="" coords="1293,1001,1316,991,1330,980,1339,968,1349,956,1363,943,1384,931,1386,935,1367,947,1353,960,1344,972,1334,984,1318,995,1295,1006"/>
<area shape="poly" title=" " alt="" coords="1284,1036,1318,1047,1405,1081,1490,1120,1626,1189,1623,1194,1488,1125,1403,1086,1316,1052,1282,1041"/>
<area shape="poly" title=" " alt="" coords="1317,1019,1421,1008,1475,996,1526,980,1558,965,1588,946,1638,907,1642,911,1591,950,1561,970,1528,985,1476,1002,1422,1013,1318,1024"/>
<area shape="poly" title=" " alt="" coords="1318,1029,1560,1052,1559,1057,1317,1034"/>
<area shape="poly" title=" " alt="" coords="1298,889,1409,864,1469,847,1526,827,1581,801,1630,772,1632,777,1584,805,1528,832,1470,852,1410,869,1299,894"/>
<area shape="poly" title=" " alt="" coords="1299,905,1381,906,1381,911,1299,910"/>
<area shape="poly" title=" " alt="" coords="1270,887,1316,868,1340,851,1364,834,1387,821,1390,826,1366,838,1343,856,1318,873,1272,891"/>
<area shape="rect" href="../../d5/d73/inittab_8c.html#ad9838f76756511bb65b58e40ae6c1e21" title=" " alt="" coords="815,232,992,266"/>
<area shape="poly" title=" " alt="" coords="653,290,800,264,801,269,654,295"/>
<area shape="rect" href="../../d7/d1d/service_8c.html#af3b9ade91d1e7ed45bde5222ce9a2da9" title=" " alt="" coords="802,290,1005,323"/>
<area shape="poly" title=" " alt="" coords="654,304,787,304,787,309,654,309"/>
<area shape="rect" href="../../d2/d28/instance_8c.html#a6c353f4e81db370ec9cdc34fffeb85f1" title=" " alt="" coords="1130,434,1279,467"/>
<area shape="poly" title=" " alt="" coords="1006,314,1045,332,1063,352,1071,373,1078,393,1093,412,1117,427,1115,431,1090,416,1073,396,1066,375,1059,355,1042,337,1004,319"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="1135,571,1274,605"/>
<area shape="poly" title=" " alt="" coords="652,425,736,413,836,408,889,410,942,415,994,425,1045,441,1101,487,1176,558,1173,562,1098,491,1042,446,993,431,941,420,888,415,836,413,736,419,653,430"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="799,456,1008,490"/>
<area shape="poly" title=" " alt="" coords="663,450,784,460,783,466,662,455"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14" title=" " alt="" coords="797,514,1010,547"/>
<area shape="poly" title=" " alt="" coords="626,460,764,500,795,507,794,512,763,505,624,465"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a" title=" " alt="" coords="798,347,1009,381"/>
<area shape="poly" title=" " alt="" coords="642,425,816,382,817,387,643,430"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="815,571,992,605"/>
<area shape="poly" title=" " alt="" coords="596,460,669,509,715,535,764,557,801,569,799,574,762,562,713,540,666,513,593,465"/>
<area shape="poly" title=" " alt="" coords="992,585,1119,585,1119,590,992,590"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a38fb5688af8a7f3e9eae5c653ed2bb50" title=" " alt="" coords="1112,267,1297,301"/>
<area shape="poly" title=" " alt="" coords="1010,155,1045,174,1063,194,1070,215,1077,235,1093,254,1100,258,1097,262,1090,258,1072,238,1065,217,1058,197,1042,178,1008,159"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f" title=" " alt="" coords="1112,324,1297,358"/>
<area shape="poly" title=" " alt="" coords="1017,155,1045,174,1060,191,1067,209,1070,244,1073,279,1080,295,1094,311,1100,317,1097,321,1090,315,1076,298,1068,280,1065,245,1062,210,1055,194,1042,178,1014,159"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#af2c32f6db6f49388da60dda520d86c4d" title=" " alt="" coords="1118,210,1291,243"/>
<area shape="poly" title=" " alt="" coords="984,155,1045,173,1093,196,1112,202,1110,207,1091,201,1043,178,982,160"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="1365,322,1527,355"/>
<area shape="poly" title=" " alt="" coords="936,120,1009,87,1056,71,1107,57,1161,49,1216,49,1269,58,1318,80,1347,102,1371,129,1391,159,1407,191,1430,253,1442,306,1437,307,1425,255,1402,193,1386,161,1366,132,1343,106,1316,85,1267,63,1216,54,1162,54,1108,62,1057,76,1011,92,938,125"/>
<area shape="rect" href="../../d6/d88/watchdog_8c.html#ae02caa227c18af4c5c42fee4b8d94ba9" title=" " alt="" coords="1135,95,1274,129"/>
<area shape="poly" title=" " alt="" coords="1044,124,1119,117,1119,122,1045,129"/>
<area shape="rect" href="../../d6/d88/watchdog_8c.html#aaed3ec52f2a4e3003e8733a933945fe7" title=" " alt="" coords="1092,152,1317,186"/>
<area shape="poly" title=" " alt="" coords="1045,151,1076,154,1076,159,1044,156"/>
<area shape="poly" title=" " alt="" coords="1299,296,1319,310,1343,345,1365,396,1384,458,1401,527,1428,664,1443,767,1438,768,1422,665,1396,528,1379,460,1360,398,1338,347,1315,314,1296,300"/>
<area shape="poly" title=" " alt="" coords="1291,356,1319,375,1356,421,1385,473,1407,528,1424,584,1442,689,1447,767,1442,767,1437,689,1418,585,1402,530,1380,475,1351,424,1315,379,1288,361"/>
<area shape="poly" title=" " alt="" coords="1293,235,1319,253,1335,282,1351,334,1387,483,1442,767,1437,768,1382,484,1346,335,1330,284,1315,256,1290,240"/>
<area shape="poly" title=" " alt="" coords="1459,354,1655,717,1650,720,1454,357"/>
<area shape="poly" title=" " alt="" coords="641,660,724,675,825,687,935,688,990,682,1043,672,1077,660,1110,645,1167,611,1169,616,1113,650,1079,665,1044,677,990,688,935,693,825,692,723,681,640,665"/>
<area shape="rect" href="../../d8/d1d/procd_2system_8c.html#a16857e064f48c4074ea2492dc5732624" title=" " alt="" coords="838,628,969,662"/>
<area shape="poly" title=" " alt="" coords="716,642,822,642,822,648,716,648"/>
</map>
</div>

</div>
</div>
<a id="a3c2b1b2951eae690991001026ac7c4d4" name="a3c2b1b2951eae690991001026ac7c4d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c2b1b2951eae690991001026ac7c4d4">&#9670;&#160;</a></span>plugd_proc_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void plugd_proc_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d56/uloop_8h.html#da/d43/structuloop__process">uloop_process</a> *</td>          <td class="paramname"><span class="paramname"><em>proc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ret</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/de5/preinit_8c_source.html#l00118">118</a> of file <a class="el" href="../../dd/de5/preinit_8c_source.html">preinit.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  119</span>{</div>
<div class="line"><span class="lineno">  120</span>    proc-&gt;<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a41e26562918b24966ac2e0d7906fb1b8">pid</a> = 0;</div>
<div class="line"><span class="lineno">  121</span>}</div>
<div class="ttc" id="auloop_8h_html_a41e26562918b24966ac2e0d7906fb1b8"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#a41e26562918b24966ac2e0d7906fb1b8">uloop_process::pid</a></div><div class="ttdeci">pid_t pid</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00087">uloop.h:87</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d56/uloop_8h_source.html#l00087">uloop_process::pid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/de5/preinit_8c_source.html#l00124">preinit()</a>.</p>

</div>
</div>
<a id="a90282b93d8528c3fc4e5b188bc5fbc1c" name="a90282b93d8528c3fc4e5b188bc5fbc1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90282b93d8528c3fc4e5b188bc5fbc1c">&#9670;&#160;</a></span>preinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void preinit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/de5/preinit_8c_source.html#l00124">124</a> of file <a class="el" href="../../dd/de5/preinit_8c_source.html">preinit.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  125</span>{</div>
<div class="line"><span class="lineno">  126</span>    <span class="keywordtype">char</span> *init[] = { <span class="stringliteral">&quot;/bin/sh&quot;</span>, <span class="stringliteral">&quot;/etc/preinit&quot;</span>, NULL };</div>
<div class="line"><span class="lineno">  127</span>    <span class="keywordtype">char</span> *plug[] = { <span class="stringliteral">&quot;/sbin/procd&quot;</span>, <span class="stringliteral">&quot;-h&quot;</span>, <span class="stringliteral">&quot;/etc/hotplug-preinit.json&quot;</span>, NULL };</div>
<div class="line"><span class="lineno">  128</span>    <span class="keywordtype">int</span> fd;</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>    <a class="code hl_define" href="../../d9/d1e/procd_2log_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<span class="stringliteral">&quot;- preinit -\n&quot;</span>);</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>    <a class="code hl_variable" href="#a4347623902c0bf91bcda51aac191dd96">plugd_proc</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a46406fa271016311e9876c440d30897f">cb</a> = <a class="code hl_function" href="#a3c2b1b2951eae690991001026ac7c4d4">plugd_proc_cb</a>;</div>
<div class="line"><span class="lineno">  133</span>    <a class="code hl_variable" href="#a4347623902c0bf91bcda51aac191dd96">plugd_proc</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a41e26562918b24966ac2e0d7906fb1b8">pid</a> = fork();</div>
<div class="line"><span class="lineno">  134</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a4347623902c0bf91bcda51aac191dd96">plugd_proc</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a41e26562918b24966ac2e0d7906fb1b8">pid</a>) {</div>
<div class="line"><span class="lineno">  135</span>        execvp(plug[0], plug);</div>
<div class="line"><span class="lineno">  136</span>        <a class="code hl_define" href="../../d8/d30/procd_2jail_2log_8h.html#a15378cd15bafb3a79061424b452497aa">ERROR</a>(<span class="stringliteral">&quot;Failed to start plugd: %m\n&quot;</span>);</div>
<div class="line"><span class="lineno">  137</span>        exit(EXIT_FAILURE);</div>
<div class="line"><span class="lineno">  138</span>    }</div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a4347623902c0bf91bcda51aac191dd96">plugd_proc</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a41e26562918b24966ac2e0d7906fb1b8">pid</a> &lt;= 0) {</div>
<div class="line"><span class="lineno">  140</span>        <a class="code hl_define" href="../../d8/d30/procd_2jail_2log_8h.html#a15378cd15bafb3a79061424b452497aa">ERROR</a>(<span class="stringliteral">&quot;Failed to start new plugd instance: %m\n&quot;</span>);</div>
<div class="line"><span class="lineno">  141</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  142</span>    }</div>
<div class="line"><span class="lineno">  143</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#af511d1bcbdfcfaba211d4ae1b0930dbb">uloop_process_add</a>(&amp;<a class="code hl_variable" href="#a4347623902c0bf91bcda51aac191dd96">plugd_proc</a>);</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>    setenv(<span class="stringliteral">&quot;PREINIT&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, 1);</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>    fd = creat(<span class="stringliteral">&quot;/tmp/.preinit&quot;</span>, 0600);</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">if</span> (fd &lt; 0)</div>
<div class="line"><span class="lineno">  150</span>        <a class="code hl_define" href="../../d8/d30/procd_2jail_2log_8h.html#a15378cd15bafb3a79061424b452497aa">ERROR</a>(<span class="stringliteral">&quot;Failed to create sentinel file: %m\n&quot;</span>);</div>
<div class="line"><span class="lineno">  151</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  152</span>        close(fd);</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>    <a class="code hl_variable" href="#a853b80f1060c5f3b45f16fe3661b3dbb">preinit_proc</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a46406fa271016311e9876c440d30897f">cb</a> = <a class="code hl_function" href="#a9539d3f84ee0e5d5db04710740c805f2">spawn_procd</a>;</div>
<div class="line"><span class="lineno">  155</span>    <a class="code hl_variable" href="#a853b80f1060c5f3b45f16fe3661b3dbb">preinit_proc</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a41e26562918b24966ac2e0d7906fb1b8">pid</a> = fork();</div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a853b80f1060c5f3b45f16fe3661b3dbb">preinit_proc</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a41e26562918b24966ac2e0d7906fb1b8">pid</a>) {</div>
<div class="line"><span class="lineno">  157</span>        execvp(init[0], init);</div>
<div class="line"><span class="lineno">  158</span>        <a class="code hl_define" href="../../d8/d30/procd_2jail_2log_8h.html#a15378cd15bafb3a79061424b452497aa">ERROR</a>(<span class="stringliteral">&quot;Failed to start preinit: %m\n&quot;</span>);</div>
<div class="line"><span class="lineno">  159</span>        exit(EXIT_FAILURE);</div>
<div class="line"><span class="lineno">  160</span>    }</div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a853b80f1060c5f3b45f16fe3661b3dbb">preinit_proc</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a41e26562918b24966ac2e0d7906fb1b8">pid</a> &lt;= 0) {</div>
<div class="line"><span class="lineno">  162</span>        <a class="code hl_define" href="../../d8/d30/procd_2jail_2log_8h.html#a15378cd15bafb3a79061424b452497aa">ERROR</a>(<span class="stringliteral">&quot;Failed to start new preinit instance: %m\n&quot;</span>);</div>
<div class="line"><span class="lineno">  163</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  164</span>    }</div>
<div class="line"><span class="lineno">  165</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#af511d1bcbdfcfaba211d4ae1b0930dbb">uloop_process_add</a>(&amp;<a class="code hl_variable" href="#a853b80f1060c5f3b45f16fe3661b3dbb">preinit_proc</a>);</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    <a class="code hl_define" href="../../da/d12/system-dummy_8c.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(4, <span class="stringliteral">&quot;Launched preinit instance, pid=%d\n&quot;</span>, (<span class="keywordtype">int</span>) <a class="code hl_variable" href="#a853b80f1060c5f3b45f16fe3661b3dbb">preinit_proc</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a41e26562918b24966ac2e0d7906fb1b8">pid</a>);</div>
<div class="line"><span class="lineno">  168</span>}</div>
<div class="ttc" id="apreinit_8c_html_a3c2b1b2951eae690991001026ac7c4d4"><div class="ttname"><a href="#a3c2b1b2951eae690991001026ac7c4d4">plugd_proc_cb</a></div><div class="ttdeci">static void plugd_proc_cb(struct uloop_process *proc, int ret)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/de5/preinit_8c_source.html#l00118">preinit.c:118</a></div></div>
<div class="ttc" id="apreinit_8c_html_a4347623902c0bf91bcda51aac191dd96"><div class="ttname"><a href="#a4347623902c0bf91bcda51aac191dd96">plugd_proc</a></div><div class="ttdeci">static struct uloop_process plugd_proc</div><div class="ttdef"><b>Definition</b> <a href="../../dd/de5/preinit_8c_source.html#l00034">preinit.c:34</a></div></div>
<div class="ttc" id="apreinit_8c_html_a853b80f1060c5f3b45f16fe3661b3dbb"><div class="ttname"><a href="#a853b80f1060c5f3b45f16fe3661b3dbb">preinit_proc</a></div><div class="ttdeci">static struct uloop_process preinit_proc</div><div class="ttdef"><b>Definition</b> <a href="../../dd/de5/preinit_8c_source.html#l00033">preinit.c:33</a></div></div>
<div class="ttc" id="apreinit_8c_html_a9539d3f84ee0e5d5db04710740c805f2"><div class="ttname"><a href="#a9539d3f84ee0e5d5db04710740c805f2">spawn_procd</a></div><div class="ttdeci">static void spawn_procd(struct uloop_process *proc, int ret)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/de5/preinit_8c_source.html#l00091">preinit.c:91</a></div></div>
<div class="ttc" id="aprocd_2log_8h_html_a159ca84d25a5487d8e81e4438725df19"><div class="ttname"><a href="../../d9/d1e/procd_2log_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a></div><div class="ttdeci">#define LOG</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d1e/procd_2log_8h_source.html#l00032">log.h:32</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_ad72dbcf6d0153db1b8d8a58001feed83"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a></div><div class="ttdeci">#define DEBUG</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00021">system-dummy.c:21</a></div></div>
<div class="ttc" id="auloop_8c_html_af511d1bcbdfcfaba211d4ae1b0930dbb"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#af511d1bcbdfcfaba211d4ae1b0930dbb">uloop_process_add</a></div><div class="ttdeci">int uloop_process_add(struct uloop_process *p)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00391">uloop.c:391</a></div></div>
<div class="ttc" id="auloop_8h_html_a46406fa271016311e9876c440d30897f"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#a46406fa271016311e9876c440d30897f">uloop_process::cb</a></div><div class="ttdeci">uloop_process_handler cb</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00086">uloop.h:86</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d56/uloop_8h_source.html#l00086">uloop_process::cb</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00021">DEBUG</a>, <a class="el" href="../../d8/d30/procd_2jail_2log_8h_source.html#l00027">ERROR</a>, <a class="el" href="../../d9/d1e/procd_2log_8h_source.html#l00032">LOG</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00087">uloop_process::pid</a>, <a class="el" href="../../dd/de5/preinit_8c_source.html#l00034">plugd_proc</a>, <a class="el" href="../../dd/de5/preinit_8c_source.html#l00118">plugd_proc_cb()</a>, <a class="el" href="../../dd/de5/preinit_8c_source.html#l00033">preinit_proc</a>, <a class="el" href="../../dd/de5/preinit_8c_source.html#l00091">spawn_procd()</a>, and <a class="el" href="../../d1/d08/uloop_8c_source.html#l00391">uloop_process_add()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d60/init_8c_source.html#l00121">main()</a>, and <a class="el" href="../../d6/d88/watchdog_8c_source.html#l00191">watchdog_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/de5/preinit_8c_a90282b93d8528c3fc4e5b188bc5fbc1c_cgraph.png" border="0" usemap="#add/de5/preinit_8c_a90282b93d8528c3fc4e5b188bc5fbc1c_cgraph" alt=""/></div>
<map name="add/de5/preinit_8c_a90282b93d8528c3fc4e5b188bc5fbc1c_cgraph" id="add/de5/preinit_8c_a90282b93d8528c3fc4e5b188bc5fbc1c_cgraph">
<area shape="rect" title=" " alt="" coords="5,341,86,375"/>
<area shape="rect" href="../../dd/de5/preinit_8c.html#a3c2b1b2951eae690991001026ac7c4d4" title=" " alt="" coords="155,284,309,318"/>
<area shape="poly" title=" " alt="" coords="85,342,133,326,154,320,155,325,134,331,87,347"/>
<area shape="rect" href="../../dd/de5/preinit_8c.html#a9539d3f84ee0e5d5db04710740c805f2" title=" " alt="" coords="161,341,303,375"/>
<area shape="poly" title=" " alt="" coords="86,356,145,356,145,361,86,361"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#af511d1bcbdfcfaba211d4ae1b0930dbb" title=" " alt="" coords="134,413,330,447"/>
<area shape="poly" title=" " alt="" coords="87,371,173,405,171,410,85,376"/>
<area shape="rect" href="../../dd/de5/preinit_8c.html#a4f3b5900c57e91bcc59c5c7e9f47fca6" title=" " alt="" coords="404,327,545,360"/>
<area shape="poly" title=" " alt="" coords="303,351,388,346,389,351,303,357"/>
<area shape="rect" href="../../dd/de5/preinit_8c.html#a94bbc0d07683d7ebd935579b8c873834" title=" " alt="" coords="378,384,571,418"/>
<area shape="poly" title=" " alt="" coords="304,368,363,379,363,384,303,373"/>
<area shape="rect" href="../../d6/d88/watchdog_8c.html#ae02caa227c18af4c5c42fee4b8d94ba9" title=" " alt="" coords="1188,5,1327,39"/>
<area shape="poly" title=" " alt="" coords="295,338,329,328,732,187,1135,48,1173,38,1174,43,1137,53,734,192,331,333,296,343"/>
<area shape="rect" href="../../d8/d1d/procd_2system_8c.html#a971a97328aa4e052756235e6690602f7" title=" " alt="" coords="619,453,750,487"/>
<area shape="poly" title=" " alt="" coords="539,416,572,426,625,445,623,450,570,431,537,421"/>
<area shape="rect" href="../../db/d65/sysupgrade_8c.html#a2f25b3ed2b57dbfdd9171d17a0e527c6" title=" " alt="" coords="803,201,1083,235"/>
<area shape="poly" title=" " alt="" coords="538,381,570,370,746,302,889,239,891,244,748,306,572,375,540,386"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1677,369,1789,403"/>
<area shape="poly" title=" " alt="" coords="699,451,740,413,767,395,797,381,872,364,973,355,1091,352,1219,353,1470,364,1662,377,1662,383,1470,369,1219,358,1092,357,974,360,873,370,799,386,770,399,744,417,703,455"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="894,605,992,639"/>
<area shape="poly" title=" " alt="" coords="737,486,752,496,769,522,775,547,781,571,788,581,799,592,837,611,879,619,878,625,835,616,796,596,784,585,777,573,770,548,764,524,748,500,734,490"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2" title=" " alt="" coords="849,396,1037,430"/>
<area shape="poly" title=" " alt="" coords="749,450,797,438,833,430,834,436,798,443,750,455"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="841,453,1045,487"/>
<area shape="poly" title=" " alt="" coords="750,468,825,468,825,473,750,473"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="862,548,1024,582"/>
<area shape="poly" title=" " alt="" coords="734,485,881,540,879,545,732,490"/>
<area shape="rect" href="../../d7/d1d/service_8c.html#a637cdad6e9e1e5b837c0072ae9b4a1ce" title=" " alt="" coords="860,1091,1026,1124"/>
<area shape="poly" title=" " alt="" coords="741,486,752,496,771,526,785,554,798,608,798,660,791,711,781,763,776,817,781,875,788,906,800,938,823,980,852,1018,911,1078,907,1082,848,1022,818,983,795,941,783,907,775,875,771,816,776,762,785,710,793,660,793,609,780,556,766,529,748,500,737,489"/>
<area shape="rect" href="../../d8/d1d/procd_2system_8c.html#a9c77c01c21439286a9fdebb814d5b523" title=" " alt="" coords="851,893,1035,927"/>
<area shape="poly" title=" " alt="" coords="740,485,752,496,773,530,783,562,786,592,784,622,781,684,786,718,800,754,823,792,852,827,909,882,905,885,848,830,819,795,795,757,781,719,776,684,778,622,780,592,778,563,768,532,748,500,736,489"/>
<area shape="poly" title=" " alt="" coords="697,451,740,399,796,338,852,286,905,243,908,247,856,290,800,341,744,403,701,455"/>
<area shape="rect" href="../../d8/d1d/procd_2system_8c.html#a91a439107e9ff41b6c2b9082b73f1972" title=" " alt="" coords="798,709,1088,743"/>
<area shape="poly" title=" " alt="" coords="738,485,752,496,766,517,773,536,777,574,780,611,787,630,800,650,833,679,872,700,870,705,830,684,796,653,782,633,775,612,772,574,768,537,761,519,748,500,735,489"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1433,396,1584,430"/>
<area shape="poly" title=" " alt="" coords="1037,410,1418,410,1418,416,1037,416"/>
<area shape="poly" title=" " alt="" coords="1584,401,1661,392,1662,397,1585,407"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1642,503,1824,536"/>
<area shape="poly" title=" " alt="" coords="1547,428,1683,493,1681,498,1545,433"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1638,608,1828,642"/>
<area shape="poly" title=" " alt="" coords="1527,429,1576,483,1639,547,1698,596,1695,600,1636,551,1572,486,1523,432"/>
<area shape="poly" title=" " alt="" coords="1045,457,1417,419,1418,425,1045,463"/>
<area shape="poly" title=" " alt="" coords="1024,549,1322,496,1477,466,1589,440,1678,407,1680,412,1590,445,1478,471,1323,502,1025,554"/>
<area shape="poly" title=" " alt="" coords="1025,577,1089,590,1136,601,1218,610,1281,614,1427,617,1474,621,1510,626,1545,626,1589,617,1611,606,1639,588,1697,544,1700,548,1642,592,1613,611,1591,622,1546,632,1510,631,1473,626,1427,622,1281,619,1217,616,1136,606,1087,595,1024,583"/>
<area shape="poly" title=" " alt="" coords="1025,572,1089,590,1104,598,1113,607,1123,615,1137,621,1199,637,1264,648,1330,654,1395,656,1517,652,1622,641,1622,646,1518,657,1395,662,1329,659,1263,653,1198,642,1135,626,1120,619,1110,611,1101,603,1087,595,1024,578"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="1465,573,1552,607"/>
<area shape="poly" title=" " alt="" coords="1025,577,1136,592,1258,595,1379,592,1449,590,1449,595,1379,597,1258,601,1136,597,1024,583"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="1136,548,1379,582"/>
<area shape="poly" title=" " alt="" coords="1025,562,1121,562,1121,568,1025,568"/>
<area shape="poly" title=" " alt="" coords="1286,545,1465,436,1467,440,1289,550"/>
<area shape="poly" title=" " alt="" coords="1380,575,1449,582,1449,587,1380,580"/>
<area shape="rect" href="../../d5/d73/inittab_8c.html#ad9838f76756511bb65b58e40ae6c1e21" title=" " alt="" coords="1170,1091,1346,1124"/>
<area shape="poly" title=" " alt="" coords="1027,1105,1154,1105,1154,1110,1027,1110"/>
<area shape="rect" href="../../d7/d1d/service_8c.html#af3b9ade91d1e7ed45bde5222ce9a2da9" title=" " alt="" coords="1157,1148,1359,1182"/>
<area shape="poly" title=" " alt="" coords="1027,1120,1147,1142,1146,1147,1026,1125"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="1439,921,1578,955"/>
<area shape="poly" title=" " alt="" coords="1035,912,1424,931,1423,937,1034,917"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="1154,1033,1362,1067"/>
<area shape="poly" title=" " alt="" coords="970,925,1043,972,1089,998,1137,1020,1155,1026,1153,1031,1135,1025,1087,1002,1040,977,967,930"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14" title=" " alt="" coords="1152,809,1364,843"/>
<area shape="poly" title=" " alt="" coords="1000,890,1135,852,1163,845,1164,850,1137,857,1002,895"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a" title=" " alt="" coords="1152,867,1363,900"/>
<area shape="poly" title=" " alt="" coords="1035,900,1136,891,1137,896,1035,905"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="1170,976,1346,1010"/>
<area shape="poly" title=" " alt="" coords="1011,925,1176,969,1175,974,1009,930"/>
<area shape="poly" title=" " alt="" coords="1338,973,1423,954,1424,959,1339,978"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a38fb5688af8a7f3e9eae5c653ed2bb50" title=" " alt="" coords="1165,172,1350,206"/>
<area shape="poly" title=" " alt="" coords="1083,202,1149,196,1150,202,1084,208"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f" title=" " alt="" coords="1165,229,1350,263"/>
<area shape="poly" title=" " alt="" coords="1084,228,1149,234,1149,239,1083,233"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#af2c32f6db6f49388da60dda520d86c4d" title=" " alt="" coords="1171,287,1344,320"/>
<area shape="poly" title=" " alt="" coords="1000,233,1137,273,1164,280,1163,285,1135,278,999,238"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="1427,203,1590,236"/>
<area shape="poly" title=" " alt="" coords="987,198,1056,175,1136,157,1204,147,1258,142,1312,145,1380,157,1426,172,1467,192,1465,197,1424,177,1379,162,1312,150,1258,147,1205,152,1136,162,1057,180,989,203"/>
<area shape="poly" title=" " alt="" coords="964,199,1086,96,1108,70,1119,59,1135,48,1172,33,1174,38,1137,53,1122,63,1112,74,1090,100,968,203"/>
<area shape="rect" href="../../d6/d88/watchdog_8c.html#aaed3ec52f2a4e3003e8733a933945fe7" title=" " alt="" coords="1145,63,1370,96"/>
<area shape="poly" title=" " alt="" coords="971,199,1044,157,1135,113,1174,99,1176,104,1137,118,1046,162,973,203"/>
<area shape="poly" title=" " alt="" coords="1352,200,1381,215,1422,252,1455,297,1481,342,1498,380,1493,383,1476,344,1451,300,1418,256,1378,219,1350,205"/>
<area shape="poly" title=" " alt="" coords="1352,259,1381,272,1415,296,1445,325,1490,382,1486,385,1441,329,1411,300,1378,276,1350,264"/>
<area shape="poly" title=" " alt="" coords="1299,318,1455,387,1453,392,1297,323"/>
<area shape="poly" title=" " alt="" coords="1534,235,1698,358,1695,362,1531,239"/>
<area shape="poly" title=" " alt="" coords="1089,737,1256,760,1329,776,1381,794,1415,819,1446,848,1491,906,1487,910,1442,852,1412,823,1378,799,1327,781,1255,765,1088,742"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="410,441,539,475"/>
<area shape="poly" title=" " alt="" coords="331,439,395,446,394,452,330,444"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="634,511,735,544"/>
<area shape="poly" title=" " alt="" coords="529,473,620,504,618,509,527,478"/>
</map>
</div>

</div>
</div>
<a id="a9539d3f84ee0e5d5db04710740c805f2" name="a9539d3f84ee0e5d5db04710740c805f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9539d3f84ee0e5d5db04710740c805f2">&#9670;&#160;</a></span>spawn_procd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void spawn_procd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d56/uloop_8h.html#da/d43/structuloop__process">uloop_process</a> *</td>          <td class="paramname"><span class="paramname"><em>proc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ret</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/de5/preinit_8c_source.html#l00091">91</a> of file <a class="el" href="../../dd/de5/preinit_8c_source.html">preinit.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   92</span>{</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../d6/d88/watchdog_8c.html#a6c6f4a796c52e7bdc033599d489d57dd">wdt_fd</a> = <a class="code hl_function" href="../../d6/d88/watchdog_8c.html#ae02caa227c18af4c5c42fee4b8d94ba9">watchdog_fd</a>();</div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordtype">char</span> *argv[] = { <span class="stringliteral">&quot;/sbin/procd&quot;</span>, NULL};</div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordtype">char</span> <a class="code hl_define" href="../../d2/d62/udevtrigger_8c.html#aadf47595f4fdb31176441bb4415eecac">dbg</a>[2];</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a4347623902c0bf91bcda51aac191dd96">plugd_proc</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a41e26562918b24966ac2e0d7906fb1b8">pid</a> &gt; 0)</div>
<div class="line"><span class="lineno">   98</span>        kill(<a class="code hl_variable" href="#a4347623902c0bf91bcda51aac191dd96">plugd_proc</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a41e26562918b24966ac2e0d7906fb1b8">pid</a>, SIGKILL);</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>    unsetenv(<span class="stringliteral">&quot;PREINIT&quot;</span>);</div>
<div class="line"><span class="lineno">  101</span>    unlink(<span class="stringliteral">&quot;/tmp/.preinit&quot;</span>);</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>    <a class="code hl_function" href="#a94bbc0d07683d7ebd935579b8c873834">check_sysupgrade</a>();</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>    <a class="code hl_define" href="../../da/d12/system-dummy_8c.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(2, <span class="stringliteral">&quot;Exec to real procd now\n&quot;</span>);</div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d6/d88/watchdog_8c.html#a6c6f4a796c52e7bdc033599d489d57dd">wdt_fd</a>)</div>
<div class="line"><span class="lineno">  107</span>        setenv(<span class="stringliteral">&quot;WDTFD&quot;</span>, <a class="code hl_variable" href="../../d6/d88/watchdog_8c.html#a6c6f4a796c52e7bdc033599d489d57dd">wdt_fd</a>, 1);</div>
<div class="line"><span class="lineno">  108</span>    <a class="code hl_function" href="#a4f3b5900c57e91bcc59c5c7e9f47fca6">check_dbglvl</a>();</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d60/init_8c.html#aa3770535f39c67ca0811e27731893370">debug</a> &gt; 0) {</div>
<div class="line"><span class="lineno">  110</span>        snprintf(<a class="code hl_define" href="../../d2/d62/udevtrigger_8c.html#aadf47595f4fdb31176441bb4415eecac">dbg</a>, 2, <span class="stringliteral">&quot;%d&quot;</span>, <a class="code hl_variable" href="../../d8/d60/init_8c.html#aa3770535f39c67ca0811e27731893370">debug</a>);</div>
<div class="line"><span class="lineno">  111</span>        setenv(<span class="stringliteral">&quot;DBGLVL&quot;</span>, <a class="code hl_define" href="../../d2/d62/udevtrigger_8c.html#aadf47595f4fdb31176441bb4415eecac">dbg</a>, 1);</div>
<div class="line"><span class="lineno">  112</span>    }</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>    execvp(argv[0], argv);</div>
<div class="line"><span class="lineno">  115</span>}</div>
<div class="ttc" id="apreinit_8c_html_a4f3b5900c57e91bcc59c5c7e9f47fca6"><div class="ttname"><a href="#a4f3b5900c57e91bcc59c5c7e9f47fca6">check_dbglvl</a></div><div class="ttdeci">static void check_dbglvl(void)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/de5/preinit_8c_source.html#l00037">preinit.c:37</a></div></div>
<div class="ttc" id="apreinit_8c_html_a94bbc0d07683d7ebd935579b8c873834"><div class="ttname"><a href="#a94bbc0d07683d7ebd935579b8c873834">check_sysupgrade</a></div><div class="ttdeci">static void check_sysupgrade(void)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/de5/preinit_8c_source.html#l00054">preinit.c:54</a></div></div>
<div class="ttc" id="audevtrigger_8c_html_aadf47595f4fdb31176441bb4415eecac"><div class="ttname"><a href="../../d2/d62/udevtrigger_8c.html#aadf47595f4fdb31176441bb4415eecac">dbg</a></div><div class="ttdeci">#define dbg(...)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d62/udevtrigger_8c_source.html#l00076">udevtrigger.c:76</a></div></div>
<div class="ttc" id="awatchdog_8c_html_a6c6f4a796c52e7bdc033599d489d57dd"><div class="ttname"><a href="../../d6/d88/watchdog_8c.html#a6c6f4a796c52e7bdc033599d489d57dd">wdt_fd</a></div><div class="ttdeci">static int wdt_fd</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d88/watchdog_8c_source.html#l00032">watchdog.c:32</a></div></div>
<div class="ttc" id="awatchdog_8c_html_ae02caa227c18af4c5c42fee4b8d94ba9"><div class="ttname"><a href="../../d6/d88/watchdog_8c.html#ae02caa227c18af4c5c42fee4b8d94ba9">watchdog_fd</a></div><div class="ttdeci">char * watchdog_fd(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d88/watchdog_8c_source.html#l00179">watchdog.c:179</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/de5/preinit_8c_source.html#l00037">check_dbglvl()</a>, <a class="el" href="../../dd/de5/preinit_8c_source.html#l00054">check_sysupgrade()</a>, <a class="el" href="../../d2/d62/udevtrigger_8c_source.html#l00076">dbg</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00021">DEBUG</a>, <a class="el" href="../../d8/d60/init_8c_source.html#l00042">debug</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00087">uloop_process::pid</a>, <a class="el" href="../../dd/de5/preinit_8c_source.html#l00034">plugd_proc</a>, <a class="el" href="../../d6/d88/watchdog_8c_source.html#l00179">watchdog_fd()</a>, and <a class="el" href="../../d6/d88/watchdog_8c_source.html#l00032">wdt_fd</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/de5/preinit_8c_source.html#l00124">preinit()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/de5/preinit_8c_a9539d3f84ee0e5d5db04710740c805f2_cgraph.png" border="0" usemap="#add/de5/preinit_8c_a9539d3f84ee0e5d5db04710740c805f2_cgraph" alt=""/></div>
<map name="add/de5/preinit_8c_a9539d3f84ee0e5d5db04710740c805f2_cgraph" id="add/de5/preinit_8c_a9539d3f84ee0e5d5db04710740c805f2_cgraph">
<area shape="rect" title=" " alt="" coords="5,61,148,95"/>
<area shape="rect" href="../../dd/de5/preinit_8c.html#a4f3b5900c57e91bcc59c5c7e9f47fca6" title=" " alt="" coords="222,7,363,40"/>
<area shape="poly" title=" " alt="" coords="145,58,207,42,209,47,147,63"/>
<area shape="rect" href="../../dd/de5/preinit_8c.html#a94bbc0d07683d7ebd935579b8c873834" title=" " alt="" coords="196,172,389,206"/>
<area shape="poly" title=" " alt="" coords="112,93,245,162,243,167,110,98"/>
<area shape="rect" href="../../d6/d88/watchdog_8c.html#ae02caa227c18af4c5c42fee4b8d94ba9" title=" " alt="" coords="1006,5,1145,39"/>
<area shape="poly" title=" " alt="" coords="148,72,990,24,991,30,148,77"/>
<area shape="rect" href="../../d8/d1d/procd_2system_8c.html#a971a97328aa4e052756235e6690602f7" title=" " alt="" coords="437,525,567,559"/>
<area shape="poly" title=" " alt="" coords="306,205,485,511,481,513,301,207"/>
<area shape="rect" href="../../db/d65/sysupgrade_8c.html#a2f25b3ed2b57dbfdd9171d17a0e527c6" title=" " alt="" coords="620,172,901,206"/>
<area shape="poly" title=" " alt="" coords="390,186,605,186,605,192,390,192"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1558,372,1669,406"/>
<area shape="poly" title=" " alt="" coords="510,524,548,461,578,426,614,397,660,371,701,353,739,342,776,336,854,330,953,324,1036,318,1119,318,1284,329,1431,349,1543,370,1542,376,1430,354,1283,334,1119,323,1036,323,954,329,855,336,776,341,740,347,703,358,662,376,617,402,582,430,553,464,514,526"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1564,708,1663,742"/>
<area shape="poly" title=" " alt="" coords="507,559,514,611,531,680,545,717,564,752,587,783,617,808,650,826,691,840,738,851,790,859,907,868,1033,867,1161,859,1281,845,1387,828,1470,809,1500,798,1529,783,1579,749,1582,754,1532,787,1502,803,1471,814,1388,833,1282,850,1161,864,1034,872,907,873,790,865,737,856,689,845,648,831,614,812,584,786,559,755,540,719,526,682,508,612,502,560"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2" title=" " alt="" coords="666,412,855,446"/>
<area shape="poly" title=" " alt="" coords="522,523,563,493,614,464,657,448,659,453,616,469,566,497,526,527"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="659,479,862,512"/>
<area shape="poly" title=" " alt="" coords="567,528,648,513,649,518,568,533"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="679,571,842,604"/>
<area shape="poly" title=" " alt="" coords="568,551,664,568,663,573,567,556"/>
<area shape="rect" href="../../d7/d1d/service_8c.html#a637cdad6e9e1e5b837c0072ae9b4a1ce" title=" " alt="" coords="677,924,844,958"/>
<area shape="poly" title=" " alt="" coords="508,559,517,613,537,690,569,775,591,815,617,852,657,888,702,915,699,919,654,893,613,856,587,818,564,777,532,691,512,614,503,560"/>
<area shape="rect" href="../../d8/d1d/procd_2system_8c.html#a9c77c01c21439286a9fdebb814d5b523" title=" " alt="" coords="669,1119,852,1152"/>
<area shape="poly" title=" " alt="" coords="508,559,517,628,536,732,569,852,591,912,618,969,643,1009,672,1047,730,1106,726,1110,668,1050,638,1012,613,971,586,914,564,853,531,733,512,629,503,560"/>
<area shape="poly" title=" " alt="" coords="505,524,517,479,538,415,570,345,590,312,613,280,658,240,706,211,709,215,661,245,617,284,595,314,575,348,543,417,522,480,510,526"/>
<area shape="rect" href="../../d8/d1d/procd_2system_8c.html#a91a439107e9ff41b6c2b9082b73f1972" title=" " alt="" coords="615,764,906,798"/>
<area shape="poly" title=" " alt="" coords="524,557,731,751,728,755,520,561"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1282,381,1433,415"/>
<area shape="poly" title=" " alt="" coords="855,421,1266,400,1266,405,855,427"/>
<area shape="poly" title=" " alt="" coords="1434,393,1542,389,1543,394,1434,398"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1523,487,1704,520"/>
<area shape="poly" title=" " alt="" coords="1392,413,1450,443,1519,473,1535,479,1533,484,1517,478,1448,448,1389,418"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1528,429,1699,463"/>
<area shape="poly" title=" " alt="" coords="1434,410,1514,425,1513,430,1433,415"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1518,544,1709,578"/>
<area shape="poly" title=" " alt="" coords="1376,413,1436,471,1476,503,1520,531,1529,535,1527,540,1517,535,1473,507,1432,475,1373,417"/>
<area shape="poly" title=" " alt="" coords="862,477,1197,422,1266,411,1267,416,1197,427,863,482"/>
<area shape="poly" title=" " alt="" coords="814,568,953,528,1098,495,1211,475,1325,456,1470,425,1542,406,1544,411,1471,430,1326,461,1212,480,1099,500,954,533,816,573"/>
<area shape="poly" title=" " alt="" coords="842,574,1026,550,1245,526,1507,507,1507,512,1245,531,1026,556,842,579"/>
<area shape="poly" title=" " alt="" coords="842,590,964,595,1121,598,1295,595,1470,585,1519,578,1519,584,1471,590,1295,601,1121,603,964,600,842,595"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="1314,765,1401,799"/>
<area shape="poly" title=" " alt="" coords="787,602,860,648,907,673,955,694,1100,728,1300,768,1299,774,1099,734,953,699,904,678,858,653,785,607"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="954,651,1197,684"/>
<area shape="poly" title=" " alt="" coords="831,602,992,644,991,649,829,608"/>
<area shape="poly" title=" " alt="" coords="1093,648,1325,424,1329,428,1096,652"/>
<area shape="poly" title=" " alt="" coords="1154,682,1198,703,1214,715,1223,728,1232,740,1246,752,1272,764,1300,771,1298,777,1270,769,1244,756,1228,744,1219,731,1210,719,1196,707,1152,687"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="1271,651,1445,684"/>
<area shape="poly" title=" " alt="" coords="1197,665,1255,665,1255,670,1197,670"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1287,708,1428,742"/>
<area shape="poly" title=" " alt="" coords="1162,682,1273,705,1272,710,1161,688"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="1245,541,1470,575"/>
<area shape="poly" title=" " alt="" coords="1120,648,1297,579,1299,584,1122,653"/>
<area shape="poly" title=" " alt="" coords="1429,722,1549,722,1549,728,1429,728"/>
<area shape="poly" title=" " alt="" coords="1382,539,1424,508,1468,470,1491,441,1501,428,1517,415,1542,402,1544,407,1520,419,1505,431,1495,444,1472,473,1427,512,1386,543"/>
<area shape="poly" title=" " alt="" coords="1387,573,1575,697,1572,701,1384,578"/>
<area shape="poly" title=" " alt="" coords="1439,538,1516,522,1517,527,1440,543"/>
<area shape="poly" title=" " alt="" coords="1386,539,1446,506,1517,472,1532,466,1534,471,1519,477,1448,510,1389,543"/>
<area shape="poly" title=" " alt="" coords="1471,557,1503,557,1503,562,1471,562"/>
<area shape="rect" href="../../d5/d73/inittab_8c.html#ad9838f76756511bb65b58e40ae6c1e21" title=" " alt="" coords="987,924,1164,958"/>
<area shape="poly" title=" " alt="" coords="844,938,972,938,972,944,844,944"/>
<area shape="rect" href="../../d7/d1d/service_8c.html#af3b9ade91d1e7ed45bde5222ce9a2da9" title=" " alt="" coords="974,981,1177,1015"/>
<area shape="poly" title=" " alt="" coords="845,953,965,975,964,981,844,959"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="1288,1036,1427,1070"/>
<area shape="poly" title=" " alt="" coords="808,1116,876,1094,953,1076,1038,1063,1123,1056,1272,1050,1272,1055,1123,1061,1038,1069,954,1081,878,1099,810,1121"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="971,1148,1180,1182"/>
<area shape="poly" title=" " alt="" coords="853,1141,956,1151,956,1156,852,1147"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14" title=" " alt="" coords="969,1205,1182,1239"/>
<area shape="poly" title=" " alt="" coords="816,1150,954,1192,982,1199,980,1204,953,1197,815,1155"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a" title=" " alt="" coords="970,1263,1181,1296"/>
<area shape="poly" title=" " alt="" coords="786,1150,859,1199,906,1226,955,1249,971,1255,970,1260,953,1254,903,1231,856,1204,783,1155"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="987,1091,1164,1124"/>
<area shape="poly" title=" " alt="" coords="852,1125,972,1114,972,1119,853,1130"/>
<area shape="poly" title=" " alt="" coords="1163,1088,1272,1067,1273,1072,1165,1093"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a38fb5688af8a7f3e9eae5c653ed2bb50" title=" " alt="" coords="983,339,1168,372"/>
<area shape="poly" title=" " alt="" coords="795,204,1030,329,1027,333,793,208"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f" title=" " alt="" coords="983,172,1168,206"/>
<area shape="poly" title=" " alt="" coords="901,186,967,186,967,192,901,192"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#af2c32f6db6f49388da60dda520d86c4d" title=" " alt="" coords="989,229,1162,263"/>
<area shape="poly" title=" " alt="" coords="857,204,974,225,973,230,856,209"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="1277,145,1439,179"/>
<area shape="poly" title=" " alt="" coords="789,169,861,131,906,113,953,100,1021,87,1075,84,1129,88,1198,100,1256,115,1308,136,1306,141,1254,120,1196,105,1129,93,1075,89,1022,92,954,105,908,118,863,136,791,174"/>
<area shape="poly" title=" " alt="" coords="790,169,904,95,927,74,952,56,990,40,992,45,955,60,931,78,907,99,793,174"/>
<area shape="rect" href="../../d6/d88/watchdog_8c.html#aaed3ec52f2a4e3003e8733a933945fe7" title=" " alt="" coords="963,115,1188,148"/>
<area shape="poly" title=" " alt="" coords="856,169,964,149,965,154,857,174"/>
<area shape="poly" title=" " alt="" coords="1169,367,1267,382,1266,387,1168,372"/>
<area shape="poly" title=" " alt="" coords="1170,201,1198,215,1244,249,1284,290,1317,331,1341,366,1336,369,1312,334,1280,293,1241,253,1196,219,1167,206"/>
<area shape="poly" title=" " alt="" coords="1110,261,1312,371,1310,376,1107,266"/>
<area shape="poly" title=" " alt="" coords="1380,178,1583,359,1580,363,1377,182"/>
<area shape="poly" title=" " alt="" coords="864,796,940,813,1025,837,1114,869,1198,909,1238,935,1275,965,1333,1022,1329,1026,1272,969,1235,939,1196,914,1112,874,1024,842,938,818,862,801"/>
<area shape="rect" href="../../d8/d1d/procd_2system_8c.html#a16857e064f48c4074ea2492dc5732624" title=" " alt="" coords="1010,764,1141,798"/>
<area shape="poly" title=" " alt="" coords="906,778,994,778,994,784,906,784"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a4347623902c0bf91bcda51aac191dd96" name="a4347623902c0bf91bcda51aac191dd96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4347623902c0bf91bcda51aac191dd96">&#9670;&#160;</a></span>plugd_proc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dc/d56/uloop_8h.html#da/d43/structuloop__process">uloop_process</a> plugd_proc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/de5/preinit_8c_source.html#l00034">34</a> of file <a class="el" href="../../dd/de5/preinit_8c_source.html">preinit.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/de5/preinit_8c_source.html#l00124">preinit()</a>, and <a class="el" href="../../dd/de5/preinit_8c_source.html#l00091">spawn_procd()</a>.</p>

</div>
</div>
<a id="a853b80f1060c5f3b45f16fe3661b3dbb" name="a853b80f1060c5f3b45f16fe3661b3dbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a853b80f1060c5f3b45f16fe3661b3dbb">&#9670;&#160;</a></span>preinit_proc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dc/d56/uloop_8h.html#da/d43/structuloop__process">uloop_process</a> preinit_proc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/de5/preinit_8c_source.html#l00033">33</a> of file <a class="el" href="../../dd/de5/preinit_8c_source.html">preinit.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/de5/preinit_8c_source.html#l00124">preinit()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
