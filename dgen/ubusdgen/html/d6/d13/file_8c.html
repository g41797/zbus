<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>zbus: /home/g41797/CLionProjects/github.com/g41797/zbus/src/libs/rpcd/file.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">zbus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_87a455bccb09a92130c26a11a880c98a.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_be0f2df19bf3f27ec0c95ee6f46c0514.html">rpcd</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">file.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;dirent.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;sys/wait.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../db/d55/libubus_8h_source.html">libubus.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../dd/dad/blobmsg_8h_source.html">libubox/blobmsg.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../da/db0/md5_8h_source.html">libubox/md5.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../da/d79/ustream_8h_source.html">libubox/ustream.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d5/d1d/libubox_2utils_8h_source.html">libubox/utils.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d9/dc4/plugin_8h_source.html">rpcd/plugin.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for file.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d5/da4/file_8c__incl.png" border="0" usemap="#a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2rpcd_2file_8c" alt=""/></div>
<map name="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2rpcd_2file_8c" id="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2rpcd_2file_8c">
<area shape="rect" title=" " alt="" coords="1150,5,1437,85"/>
<area shape="rect" title=" " alt="" coords="516,296,596,330"/>
<area shape="poly" title=" " alt="" coords="1150,60,886,83,581,118,439,140,318,164,230,189,201,203,185,216,178,232,184,246,305,270,501,301,500,306,304,275,181,250,173,232,181,213,198,198,228,184,317,158,438,135,580,113,886,78,1150,55"/>
<area shape="rect" title=" " alt="" coords="1014,541,1101,575"/>
<area shape="poly" title=" " alt="" coords="1150,53,937,61,689,76,457,101,363,117,291,136,251,149,221,163,196,183,173,216,157,254,155,266,157,275,162,280,171,283,198,284,285,279,339,282,397,294,577,354,751,421,1010,532,1008,537,749,426,575,359,395,299,338,287,285,285,198,289,170,288,159,284,152,277,150,267,151,253,168,213,192,179,218,158,250,144,290,130,362,111,456,95,688,71,936,56,1149,47"/>
<area shape="rect" title=" " alt="" coords="507,623,605,657"/>
<area shape="poly" title=" " alt="" coords="1150,54,897,64,604,81,348,105,258,119,207,135,175,158,154,183,146,213,147,229,153,247,171,273,207,312,314,417,528,611,525,615,311,421,203,316,167,276,148,250,142,230,140,212,149,181,171,154,204,131,257,114,347,99,603,75,897,59,1150,48"/>
<area shape="rect" title=" " alt="" coords="2098,623,2190,657"/>
<area shape="poly" title=" " alt="" coords="1437,52,1720,74,1883,91,2045,110,2193,134,2313,161,2360,177,2395,193,2418,210,2427,230,2427,478,2426,532,2418,554,2400,577,2367,596,2317,612,2206,633,2205,628,2316,606,2365,591,2397,573,2414,552,2421,531,2421,478,2421,231,2414,214,2393,197,2358,182,2312,166,2192,139,2044,116,1883,96,1720,80,1437,58"/>
<area shape="rect" title=" " alt="" coords="1234,541,1324,575"/>
<area shape="poly" title=" " alt="" coords="1298,86,1301,196,1296,330,1288,378,1283,458,1281,526,1276,526,1277,458,1283,378,1291,330,1295,196,1293,86"/>
<area shape="rect" title=" " alt="" coords="1348,541,1441,575"/>
<area shape="poly" title=" " alt="" coords="1308,85,1319,133,1325,211,1322,273,1322,334,1333,411,1355,474,1380,526,1376,529,1350,476,1328,412,1316,335,1317,273,1320,211,1313,133,1303,86"/>
<area shape="rect" title=" " alt="" coords="195,215,285,248"/>
<area shape="poly" title=" " alt="" coords="1150,62,901,91,759,112,619,136,445,175,300,215,299,210,443,170,618,130,759,106,901,86,1149,57"/>
<area shape="rect" title=" " alt="" coords="1188,296,1281,330"/>
<area shape="poly" title=" " alt="" coords="1287,86,1244,282,1239,281,1282,85"/>
<area shape="rect" title=" " alt="" coords="283,623,394,657"/>
<area shape="poly" title=" " alt="" coords="1150,51,909,58,622,73,481,84,352,98,241,115,158,136,102,150,54,164,35,173,21,186,11,205,8,230,8,478,15,516,35,548,64,574,101,594,142,609,186,620,268,632,267,638,185,625,141,614,99,599,61,578,30,552,10,518,3,478,3,230,6,203,16,183,32,169,52,159,101,145,157,130,240,110,351,93,481,79,622,68,909,53,1150,46"/>
<area shape="rect" title=" " alt="" coords="308,215,423,248"/>
<area shape="poly" title=" " alt="" coords="1150,70,969,99,771,136,591,176,438,214,437,209,590,171,770,130,968,94,1149,65"/>
<area shape="rect" href="../../db/d55/libubus_8h.html" title=" " alt="" coords="1805,296,1912,330"/>
<area shape="poly" title=" " alt="" coords="1437,58,1528,70,1620,86,1700,106,1731,118,1755,131,1790,164,1818,204,1838,245,1852,280,1847,282,1834,247,1813,207,1786,168,1752,135,1729,123,1698,111,1619,91,1527,75,1436,63"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html" title=" " alt="" coords="1342,378,1535,412"/>
<area shape="poly" title=" " alt="" coords="1350,84,1372,106,1390,132,1416,192,1431,256,1439,315,1441,362,1436,363,1434,316,1426,257,1411,194,1386,134,1368,109,1346,87"/>
<area shape="rect" href="../../d5/d1d/libubox_2utils_8h.html" title=" " alt="" coords="1516,541,1594,575"/>
<area shape="poly" title=" " alt="" coords="1438,77,1500,100,1559,131,1613,166,1653,198,1684,238,1712,295,1716,313,1712,331,1698,349,1683,358,1667,366,1651,380,1633,409,1624,435,1616,462,1601,495,1578,530,1574,527,1596,492,1611,460,1619,433,1628,407,1647,376,1664,361,1680,353,1695,345,1707,329,1711,313,1707,297,1680,241,1649,202,1610,170,1556,135,1498,105,1436,82"/>
<area shape="rect" href="../../da/db0/md5_8h.html" title=" " alt="" coords="2232,541,2387,575"/>
<area shape="poly" title=" " alt="" coords="1437,56,1687,81,1969,119,2095,142,2198,168,2238,182,2268,197,2288,213,2295,230,2295,396,2299,466,2307,526,2301,526,2293,466,2289,396,2289,231,2283,216,2265,201,2236,187,2196,173,2094,147,1968,124,1687,86,1437,61"/>
<area shape="rect" href="../../da/d79/ustream_8h.html" title=" " alt="" coords="1508,296,1697,330"/>
<area shape="poly" title=" " alt="" coords="1430,83,1478,106,1525,134,1568,170,1602,213,1609,230,1613,247,1612,281,1607,281,1607,248,1604,231,1598,216,1564,174,1522,139,1475,110,1427,88"/>
<area shape="rect" href="../../d9/dc4/plugin_8h.html" title=" " alt="" coords="782,133,927,167"/>
<area shape="poly" title=" " alt="" coords="1150,82,939,132,938,126,1149,77"/>
<area shape="poly" title=" " alt="" coords="1913,314,1989,319,2075,330,2152,348,2181,361,2201,376,2217,404,2224,435,2224,468,2217,501,2193,563,2166,611,2161,609,2188,560,2212,499,2218,467,2219,436,2212,406,2197,380,2178,365,2150,353,2074,335,1989,325,1912,319"/>
<area shape="rect" href="../../d3/d51/avl_8h.html" title=" " alt="" coords="1726,460,1866,493"/>
<area shape="poly" title=" " alt="" coords="1862,331,1860,369,1849,413,1825,449,1821,446,1844,411,1855,368,1857,331"/>
<area shape="rect" href="../../da/d23/list_8h.html" title=" " alt="" coords="1871,541,1937,575"/>
<area shape="poly" title=" " alt="" coords="1864,330,1901,526,1896,527,1859,331"/>
<area shape="poly" title=" " alt="" coords="1805,327,1540,377,1539,372,1804,322"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html" title=" " alt="" coords="1942,460,2106,493"/>
<area shape="poly" title=" " alt="" coords="1913,327,1956,346,1976,360,1994,376,2013,409,2023,443,2018,445,2008,411,1990,380,1973,364,1953,351,1911,331"/>
<area shape="rect" href="../../d5/d79/ubusmsg_8h.html" title=" " alt="" coords="2061,378,2187,412"/>
<area shape="poly" title=" " alt="" coords="1913,328,2056,371,2055,376,1912,333"/>
<area shape="rect" href="../../dc/d3c/ubus__common_8h.html" title=" " alt="" coords="1661,378,1835,412"/>
<area shape="poly" title=" " alt="" coords="1838,333,1784,371,1781,367,1835,328"/>
<area shape="rect" title=" " alt="" coords="1896,623,1992,657"/>
<area shape="poly" title=" " alt="" coords="1806,493,1829,531,1861,573,1907,612,1904,616,1857,577,1824,534,1802,495"/>
<area shape="rect" title=" " alt="" coords="1624,623,1731,657"/>
<area shape="poly" title=" " alt="" coords="1786,495,1700,612,1696,609,1782,492"/>
<area shape="poly" title=" " alt="" coords="1819,492,1871,530,1868,534,1816,496"/>
<area shape="poly" title=" " alt="" coords="1914,574,1931,608,1927,610,1910,577"/>
<area shape="poly" title=" " alt="" coords="1871,574,1739,620,1737,615,1870,569"/>
<area shape="rect" title=" " alt="" coords="1384,460,1483,493"/>
<area shape="poly" title=" " alt="" coords="1440,412,1438,444,1433,444,1435,412"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html" title=" " alt="" coords="1507,460,1586,493"/>
<area shape="poly" title=" " alt="" coords="1462,410,1514,448,1511,452,1459,414"/>
<area shape="poly" title=" " alt="" coords="1507,493,1495,496,1391,513,1307,520,1223,527,1117,543,1116,538,1222,522,1307,515,1390,508,1494,491,1506,488"/>
<area shape="poly" title=" " alt="" coords="1588,489,1709,528,1859,572,1978,601,2083,624,2082,629,1977,606,1858,578,1707,533,1586,494"/>
<area shape="poly" title=" " alt="" coords="1507,492,1495,496,1340,542,1338,537,1494,491,1506,487"/>
<area shape="poly" title=" " alt="" coords="1517,496,1440,536,1438,532,1515,491"/>
<area shape="poly" title=" " alt="" coords="1564,492,1607,540,1660,609,1655,612,1603,543,1560,495"/>
<area shape="rect" title=" " alt="" coords="1125,541,1209,575"/>
<area shape="poly" title=" " alt="" coords="1507,493,1495,496,1421,511,1361,520,1301,529,1224,544,1223,538,1300,524,1361,515,1420,506,1494,491,1506,488"/>
<area shape="poly" title=" " alt="" coords="1551,494,1554,526,1549,526,1546,494"/>
<area shape="poly" title=" " alt="" coords="1516,569,1454,578,1213,601,976,619,621,638,620,633,975,613,1212,596,1453,572,1515,564"/>
<area shape="poly" title=" " alt="" coords="1595,562,2083,628,2082,633,1594,567"/>
<area shape="poly" title=" " alt="" coords="1515,569,1454,578,1185,599,975,606,765,611,496,626,410,633,409,628,496,620,765,606,975,601,1185,594,1453,572,1514,564"/>
<area shape="poly" title=" " alt="" coords="1581,573,1641,612,1638,617,1578,578"/>
<area shape="rect" title=" " alt="" coords="938,623,1065,657"/>
<area shape="poly" title=" " alt="" coords="1516,573,1498,578,1385,597,1272,613,1081,634,1080,629,1271,608,1384,592,1497,572,1515,568"/>
<area shape="rect" title=" " alt="" coords="1755,623,1872,657"/>
<area shape="poly" title=" " alt="" coords="1595,569,1747,615,1745,621,1593,574"/>
<area shape="rect" title=" " alt="" coords="1517,623,1598,657"/>
<area shape="poly" title=" " alt="" coords="1558,575,1559,607,1554,608,1553,576"/>
<area shape="rect" title=" " alt="" coords="1306,623,1494,657"/>
<area shape="poly" title=" " alt="" coords="1525,578,1446,618,1443,613,1522,573"/>
<area shape="poly" title=" " alt="" coords="2038,492,2125,609,2121,612,2034,495"/>
<area shape="poly" title=" " alt="" coords="2019,495,1993,536,1973,559,1951,577,1900,603,1854,613,1806,617,1747,625,1746,620,1806,611,1854,607,1898,598,1948,573,1970,555,1988,533,2014,492"/>
<area shape="poly" title=" " alt="" coords="2001,496,1942,535,1939,530,1998,492"/>
<area shape="poly" title=" " alt="" coords="1942,490,1678,520,1505,544,1490,551,1480,560,1470,569,1454,577,1356,607,1255,626,1160,636,1080,641,1080,635,1160,631,1254,620,1355,602,1452,573,1467,565,1477,556,1487,547,1503,539,1677,515,1941,484"/>
<area shape="poly" title=" " alt="" coords="2026,494,2018,535,2009,557,1995,577,1977,589,1951,601,1887,622,1886,617,1949,596,1975,585,1991,573,2005,555,2013,533,2021,493"/>
<area shape="poly" title=" " alt="" coords="2128,412,2144,607,2139,608,2123,412"/>
<area shape="poly" title=" " alt="" coords="2061,407,1602,470,1602,465,2061,402"/>
<area shape="poly" title=" " alt="" coords="1740,413,1716,461,1694,539,1683,608,1678,607,1689,538,1711,459,1735,411"/>
<area shape="poly" title=" " alt="" coords="2277,578,2192,618,2190,614,2275,573"/>
<area shape="poly" title=" " alt="" coords="2236,578,2008,627,2007,622,2234,573"/>
<area shape="poly" title=" " alt="" coords="1599,331,1581,371,1567,393,1550,414,1521,437,1490,455,1487,450,1518,432,1546,410,1562,390,1576,369,1595,329"/>
<area shape="poly" title=" " alt="" coords="1686,328,1765,348,1848,376,1924,412,1988,449,1986,454,1921,416,1846,380,1764,353,1684,333"/>
<area shape="poly" title=" " alt="" coords="782,154,736,159,686,170,638,188,595,217,583,231,574,247,563,282,558,280,569,245,579,228,592,213,635,184,684,165,735,154,781,149"/>
<area shape="poly" title=" " alt="" coords="782,164,660,186,604,201,567,217,522,252,507,270,497,290,484,335,481,394,481,478,487,515,500,551,517,583,535,609,531,612,513,585,495,553,481,516,476,478,476,393,479,335,492,288,503,267,519,248,564,212,603,196,658,181,781,159"/>
<area shape="poly" title=" " alt="" coords="782,158,569,178,437,194,301,217,300,212,436,189,569,172,781,153"/>
<area shape="poly" title=" " alt="" coords="928,155,1074,176,1141,192,1167,202,1187,213,1202,227,1214,245,1229,280,1225,282,1209,247,1198,231,1184,217,1165,206,1139,197,1073,181,927,160"/>
<area shape="poly" title=" " alt="" coords="782,163,635,186,567,201,518,217,445,251,385,282,362,302,344,325,333,355,329,394,329,478,332,547,338,607,332,608,327,548,324,478,324,393,328,354,340,323,358,298,382,278,443,246,516,212,565,195,634,180,781,157"/>
<area shape="poly" title=" " alt="" coords="782,164,442,217,438,218,437,213,441,212,781,159"/>
<area shape="poly" title=" " alt="" coords="928,148,1056,151,1224,160,1412,179,1508,194,1601,212,1659,228,1716,247,1812,287,1810,292,1714,252,1657,233,1599,217,1507,199,1411,184,1223,165,1055,156,928,153"/>
<area shape="poly" title=" " alt="" coords="928,158,1036,178,1083,194,1114,213,1141,249,1159,290,1172,334,1178,378,1181,462,1175,526,1169,526,1175,462,1173,379,1166,335,1154,292,1136,252,1110,217,1081,199,1035,184,927,163"/>
<area shape="poly" title=" " alt="" coords="782,165,696,187,661,201,640,216,635,231,640,248,665,351,692,431,711,466,735,500,767,535,808,573,834,591,863,606,923,625,922,630,861,611,832,596,805,577,763,539,731,503,706,468,687,433,660,352,635,249,630,230,635,213,658,196,694,181,781,160"/>
<area shape="rect" title=" " alt="" coords="812,215,897,248"/>
<area shape="poly" title=" " alt="" coords="857,167,857,199,852,199,852,167"/>
<area shape="rect" href="../../d5/dea/blobmsg__json_8h.html" title=" " alt="" coords="873,296,1114,330"/>
<area shape="poly" title=" " alt="" coords="928,158,1026,179,1067,194,1093,213,1099,224,1100,236,1090,257,1069,275,1045,291,1042,287,1066,271,1085,254,1094,235,1094,226,1089,216,1064,199,1024,184,927,164"/>
<area shape="rect" title=" " alt="" coords="650,215,788,248"/>
<area shape="poly" title=" " alt="" coords="828,169,760,209,758,204,826,165"/>
<area shape="rect" href="../../df/d37/exec_8h.html" title=" " alt="" coords="1458,215,1587,248"/>
<area shape="poly" title=" " alt="" coords="928,157,1443,218,1442,223,927,162"/>
<area shape="rect" href="../../da/d46/session_8h.html" title=" " alt="" coords="922,215,1078,248"/>
<area shape="poly" title=" " alt="" coords="885,165,959,205,956,209,883,169"/>
<area shape="poly" title=" " alt="" coords="990,331,977,378,967,444,967,479,972,513,984,545,1003,573,1015,581,1036,587,1099,598,1279,610,1472,616,1608,621,1608,626,1471,621,1279,616,1099,604,1035,593,1013,586,999,577,979,548,967,515,962,479,962,443,972,377,985,329"/>
<area shape="poly" title=" " alt="" coords="1084,328,1333,372,1332,377,1084,333"/>
<area shape="poly" title=" " alt="" coords="1588,246,1791,293,1789,298,1587,251"/>
<area shape="poly" title=" " alt="" coords="1517,250,1456,365,1452,363,1512,248"/>
<area shape="poly" title=" " alt="" coords="1541,247,1578,284,1574,287,1537,251"/>
<area shape="poly" title=" " alt="" coords="922,249,612,305,611,299,921,244"/>
<area shape="poly" title=" " alt="" coords="922,249,863,268,834,282,807,298,764,334,725,374,689,417,657,462,605,546,572,610,567,608,601,543,652,459,685,414,721,371,761,330,804,294,831,277,861,263,921,244"/>
<area shape="poly" title=" " alt="" coords="1048,246,1174,289,1172,294,1047,251"/>
<area shape="poly" title=" " alt="" coords="922,249,842,269,760,299,652,352,572,401,499,460,411,543,382,577,358,611,354,608,378,574,407,539,495,456,569,397,649,347,758,294,841,263,921,244"/>
<area shape="poly" title=" " alt="" coords="943,251,905,266,873,284,863,295,857,305,857,316,863,328,879,340,905,351,987,374,1096,395,1224,414,1492,445,1710,466,1710,471,1492,450,1223,419,1095,400,985,379,904,356,876,344,859,332,852,318,852,304,858,291,870,280,903,261,941,246"/>
<area shape="poly" title=" " alt="" coords="943,251,892,272,841,302,820,321,803,342,792,366,788,394,788,478,791,503,801,526,816,546,835,564,881,594,929,615,927,620,878,598,832,568,812,550,797,528,786,505,783,478,783,393,787,365,799,339,816,317,838,298,889,267,941,246"/>
<area shape="poly" title=" " alt="" coords="1001,249,999,281,993,281,996,249"/>
</map>
</div>
</div>
<p><a href="../../d6/d13/file_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:d6/d5f/structrpc__file__exec__context" id="r_d6/d5f/structrpc__file__exec__context"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a></td></tr>
<tr class="separator:d6/d5f/structrpc__file__exec__context"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a369266c24eacffb87046522897a570d5" id="r_a369266c24eacffb87046522897a570d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a369266c24eacffb87046522897a570d5">_GNU_SOURCE</a></td></tr>
<tr class="separator:a369266c24eacffb87046522897a570d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b3c42c01ff6b971943ccbb3679566c" id="r_a65b3c42c01ff6b971943ccbb3679566c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a65b3c42c01ff6b971943ccbb3679566c">RPC_FILE_MIN_SIZE</a>&#160;&#160;&#160;(4096)</td></tr>
<tr class="separator:a65b3c42c01ff6b971943ccbb3679566c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dc7a931eb797bd3ec3dcda81c9a1918" id="r_a3dc7a931eb797bd3ec3dcda81c9a1918"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3dc7a931eb797bd3ec3dcda81c9a1918">RPC_FILE_MAX_SIZE</a>&#160;&#160;&#160;(4096 * 64)</td></tr>
<tr class="separator:a3dc7a931eb797bd3ec3dcda81c9a1918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1246bc208d2a3b8225b8484cf67c523f" id="r_a1246bc208d2a3b8225b8484cf67c523f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1246bc208d2a3b8225b8484cf67c523f">RPC_CMDLINE_MAX_SIZE</a>&#160;&#160;&#160;(1024)</td></tr>
<tr class="separator:a1246bc208d2a3b8225b8484cf67c523f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa68607b6a06880cf4cdf21c8913ad42" id="r_aaa68607b6a06880cf4cdf21c8913ad42"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa68607b6a06880cf4cdf21c8913ad42">ustream_for_each_read_buffer</a>(stream,  ptr,  len)</td></tr>
<tr class="separator:aaa68607b6a06880cf4cdf21c8913ad42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff37b3e4b3e6591fd1cd765f58ee0f9d" id="r_aff37b3e4b3e6591fd1cd765f58ee0f9d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff37b3e4b3e6591fd1cd765f58ee0f9d">ustream_declare</a>(us,  fd,  name)</td></tr>
<tr class="separator:aff37b3e4b3e6591fd1cd765f58ee0f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1d17d220c2f1361e5b5cf36bac3aca9" id="r_aa1d17d220c2f1361e5b5cf36bac3aca9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1d17d220c2f1361e5b5cf36bac3aca9">rpc_check_path</a>(msg,  policy_selector,  perm,  <a class="el" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>,  s)</td></tr>
<tr class="separator:aa1d17d220c2f1361e5b5cf36bac3aca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aa7df87806f64f3b241c8cde9eb57cad5" id="r_aa7df87806f64f3b241c8cde9eb57cad5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="#aa7df87806f64f3b241c8cde9eb57cad5af1cd590a736f98325bfbc213be2c45ea">RPC_F_R_PATH</a>
, <a class="el" href="#aa7df87806f64f3b241c8cde9eb57cad5aefbb24d6324bb4b6022473ac1243589a">RPC_F_R_SESSION</a>
, <a class="el" href="#aa7df87806f64f3b241c8cde9eb57cad5af9ddd7dc53a6e1507cded0cffda62c25">__RPC_F_R_MAX</a>
 }</td></tr>
<tr class="separator:aa7df87806f64f3b241c8cde9eb57cad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f1398dba5e4a5616b83437528bdb28e" id="r_a2f1398dba5e4a5616b83437528bdb28e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="#a2f1398dba5e4a5616b83437528bdb28eaddda863cdd779997792ecdc2ee4f1499">RPC_F_RB_PATH</a>
, <a class="el" href="#a2f1398dba5e4a5616b83437528bdb28ea3f2ca77b16198018f1b65fd4f97efcac">RPC_F_RB_BASE64</a>
, <a class="el" href="#a2f1398dba5e4a5616b83437528bdb28ea796487886f32ef861cd70a2fca3adce0">RPC_F_RB_SESSION</a>
, <a class="el" href="#a2f1398dba5e4a5616b83437528bdb28ea43d4cf9feeee6bffd84c8f06efca441a">__RPC_F_RB_MAX</a>
 }</td></tr>
<tr class="separator:a2f1398dba5e4a5616b83437528bdb28e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac2de18c0ed342a690b3e2ba3c52426" id="r_aeac2de18c0ed342a690b3e2ba3c52426"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="#aeac2de18c0ed342a690b3e2ba3c52426a73aadb856e5a9d90bcb0e59202cd090d">RPC_F_RW_PATH</a>
, <a class="el" href="#aeac2de18c0ed342a690b3e2ba3c52426a5072ac601adf12eac070b1672fa72ca9">RPC_F_RW_DATA</a>
, <a class="el" href="#aeac2de18c0ed342a690b3e2ba3c52426abb9d8862e0c2b76991c1b6f052a62c6b">RPC_F_RW_APPEND</a>
, <a class="el" href="#aeac2de18c0ed342a690b3e2ba3c52426a94d4a23f9fce32831ddf24f9bb748787">RPC_F_RW_MODE</a>
, <br />
&#160;&#160;<a class="el" href="#aeac2de18c0ed342a690b3e2ba3c52426afd3e17fb562d13d8ce20a1b41dbe456e">RPC_F_RW_BASE64</a>
, <a class="el" href="#aeac2de18c0ed342a690b3e2ba3c52426a3d9f5643f9cc44bc226421fcfe133ce8">RPC_F_RW_SESSION</a>
, <a class="el" href="#aeac2de18c0ed342a690b3e2ba3c52426a2869661700c56605932b0082e157b527">__RPC_F_RW_MAX</a>
<br />
 }</td></tr>
<tr class="separator:aeac2de18c0ed342a690b3e2ba3c52426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac0b7994a7d738aa77d2c1cfe8d6d13" id="r_a0ac0b7994a7d738aa77d2c1cfe8d6d13"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a8fda17b9be87856327d2e3510c7d9440">RPC_E_CMD</a>
, <a class="el" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a7ac31ccb08283efd91441a84251a6bff">RPC_E_PARM</a>
, <a class="el" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a0d0a0fc24ea955c0a16d28a957d4ff59">RPC_E_ENV</a>
, <a class="el" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a97101a358810d7f7d74ed83d9bd6f65b">RPC_E_SESSION</a>
, <br />
&#160;&#160;<a class="el" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a496d49418c994dc4238417b2889603f3">__RPC_E_MAX</a>
<br />
 }</td></tr>
<tr class="separator:a0ac0b7994a7d738aa77d2c1cfe8d6d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a090b8a33eecdf9cc91830fbfc75b1bed" id="r_a090b8a33eecdf9cc91830fbfc75b1bed"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a> (void)</td></tr>
<tr class="separator:a090b8a33eecdf9cc91830fbfc75b1bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a912dfa3f13bfac0066df14de1019ad40" id="r_a912dfa3f13bfac0066df14de1019ad40"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a912dfa3f13bfac0066df14de1019ad40">rpc_file_access</a> (const struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *sid, const char *<a class="el" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, const char *perm)</td></tr>
<tr class="separator:a912dfa3f13bfac0066df14de1019ad40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac259ea54734cbe6c4939e9294905d68c" id="r_ac259ea54734cbe6c4939e9294905d68c"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac259ea54734cbe6c4939e9294905d68c">rpc_canonicalize_path</a> (const char *<a class="el" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>)</td></tr>
<tr class="separator:ac259ea54734cbe6c4939e9294905d68c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4790cd1e55f187a8d1a92b9219a29e81" id="r_a4790cd1e55f187a8d1a92b9219a29e81"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4790cd1e55f187a8d1a92b9219a29e81">__rpc_check_path</a> (const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> *policy, size_t policy_len, int policy_path_idx, int policy_sid_idx, const char *perm, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg, char **<a class="el" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, struct stat *s)</td></tr>
<tr class="separator:a4790cd1e55f187a8d1a92b9219a29e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52589151a970648a50a9785c568ec14c" id="r_a52589151a970648a50a9785c568ec14c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52589151a970648a50a9785c568ec14c">rpc_file_read</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a52589151a970648a50a9785c568ec14c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc8c8b20d5ac2ff992d3fa3662c51a22" id="r_acc8c8b20d5ac2ff992d3fa3662c51a22"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc8c8b20d5ac2ff992d3fa3662c51a22">rpc_file_write</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:acc8c8b20d5ac2ff992d3fa3662c51a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2053159aa0066d5666e43aba50e4d9" id="r_afe2053159aa0066d5666e43aba50e4d9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe2053159aa0066d5666e43aba50e4d9">rpc_file_md5</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:afe2053159aa0066d5666e43aba50e4d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51c9c23f8191aee204d7889096e34688" id="r_a51c9c23f8191aee204d7889096e34688"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51c9c23f8191aee204d7889096e34688">_rpc_file_add_stat</a> (struct stat *s)</td></tr>
<tr class="separator:a51c9c23f8191aee204d7889096e34688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b38d28e71b0678af0e1fe0e2cba3f7d" id="r_a0b38d28e71b0678af0e1fe0e2cba3f7d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b38d28e71b0678af0e1fe0e2cba3f7d">rpc_file_list</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a0b38d28e71b0678af0e1fe0e2cba3f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea357a57fd1840dffe06f51ab888f6d6" id="r_aea357a57fd1840dffe06f51ab888f6d6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aea357a57fd1840dffe06f51ab888f6d6">rpc_file_stat</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:aea357a57fd1840dffe06f51ab888f6d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f9f0d9dd8a49a36aa272f9fc7bb8a9" id="r_a59f9f0d9dd8a49a36aa272f9fc7bb8a9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59f9f0d9dd8a49a36aa272f9fc7bb8a9">rpc_file_remove_recursive</a> (const char *<a class="el" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>)</td></tr>
<tr class="separator:a59f9f0d9dd8a49a36aa272f9fc7bb8a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88ea38fdf3bfb53fd4ccecb0ee25f201" id="r_a88ea38fdf3bfb53fd4ccecb0ee25f201"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a88ea38fdf3bfb53fd4ccecb0ee25f201">rpc_file_remove</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a88ea38fdf3bfb53fd4ccecb0ee25f201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a3dca009e10b923b8ed60ba50b61d2d" id="r_a7a3dca009e10b923b8ed60ba50b61d2d"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a3dca009e10b923b8ed60ba50b61d2d">rpc_file_exec_lookup</a> (const char *<a class="el" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>)</td></tr>
<tr class="separator:a7a3dca009e10b923b8ed60ba50b61d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa26c5cf90b005f4517e97709b17fe722" id="r_aa26c5cf90b005f4517e97709b17fe722"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa26c5cf90b005f4517e97709b17fe722">rpc_ustream_to_blobmsg</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s, const char *name)</td></tr>
<tr class="separator:aa26c5cf90b005f4517e97709b17fe722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a238775ac0dd67c6b79a1ac478377ec11" id="r_a238775ac0dd67c6b79a1ac478377ec11"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a238775ac0dd67c6b79a1ac478377ec11">rpc_file_exec_reply</a> (struct <a class="el" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a> *c, int rv)</td></tr>
<tr class="separator:a238775ac0dd67c6b79a1ac478377ec11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a831b751f0d28bf64e9ef4e20e488ba66" id="r_a831b751f0d28bf64e9ef4e20e488ba66"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a831b751f0d28bf64e9ef4e20e488ba66">rpc_file_exec_timeout_cb</a> (struct <a class="el" href="../../dc/d56/uloop_8h.html#d8/d2b/structuloop__timeout">uloop_timeout</a> *t)</td></tr>
<tr class="separator:a831b751f0d28bf64e9ef4e20e488ba66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee13b4342d37aa715c5f1d6826dcba07" id="r_aee13b4342d37aa715c5f1d6826dcba07"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee13b4342d37aa715c5f1d6826dcba07">rpc_file_exec_process_cb</a> (struct <a class="el" href="../../dc/d56/uloop_8h.html#da/d43/structuloop__process">uloop_process</a> *p, int stat)</td></tr>
<tr class="separator:aee13b4342d37aa715c5f1d6826dcba07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abed1cf12263728dd6be6f99ea11398c9" id="r_abed1cf12263728dd6be6f99ea11398c9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abed1cf12263728dd6be6f99ea11398c9">rpc_file_exec_opipe_read_cb</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s, int bytes)</td></tr>
<tr class="separator:abed1cf12263728dd6be6f99ea11398c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44287984d670fbbb2ca72a6395ae9954" id="r_a44287984d670fbbb2ca72a6395ae9954"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44287984d670fbbb2ca72a6395ae9954">rpc_file_exec_epipe_read_cb</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s, int bytes)</td></tr>
<tr class="separator:a44287984d670fbbb2ca72a6395ae9954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a84dcff7700810d47805c9a973d5a27" id="r_a0a84dcff7700810d47805c9a973d5a27"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a84dcff7700810d47805c9a973d5a27">rpc_file_exec_opipe_state_cb</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s)</td></tr>
<tr class="separator:a0a84dcff7700810d47805c9a973d5a27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51441a32515cafc2701c01b2db20504d" id="r_a51441a32515cafc2701c01b2db20504d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51441a32515cafc2701c01b2db20504d">rpc_file_exec_epipe_state_cb</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s)</td></tr>
<tr class="separator:a51441a32515cafc2701c01b2db20504d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c914764bc059d662d6b1552b1ca7512" id="r_a6c914764bc059d662d6b1552b1ca7512"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c914764bc059d662d6b1552b1ca7512">rpc_fdclose</a> (int fd)</td></tr>
<tr class="separator:a6c914764bc059d662d6b1552b1ca7512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dcd9fc4e75a0e5a313424b98be8dc52" id="r_a0dcd9fc4e75a0e5a313424b98be8dc52"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0dcd9fc4e75a0e5a313424b98be8dc52">rpc_file_exec_run</a> (const char *<a class="el" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>, const struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *sid, const struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *arg, const struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *env, struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req)</td></tr>
<tr class="separator:a0dcd9fc4e75a0e5a313424b98be8dc52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a2ee41dc6cbdb4592f22877dd457879" id="r_a6a2ee41dc6cbdb4592f22877dd457879"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a2ee41dc6cbdb4592f22877dd457879">rpc_file_exec</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a6a2ee41dc6cbdb4592f22877dd457879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c5ffc34562e83f1d2a32c99c35d778" id="r_a53c5ffc34562e83f1d2a32c99c35d778"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53c5ffc34562e83f1d2a32c99c35d778">rpc_file_api_init</a> (const struct <a class="el" href="../../d9/dc4/plugin_8h.html#d2/d00/structrpc__daemon__ops">rpc_daemon_ops</a> *o, struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>)</td></tr>
<tr class="separator:a53c5ffc34562e83f1d2a32c99c35d778"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8c9284b14b948aae5a1abc7ed0e16c0c" id="r_a8c9284b14b948aae5a1abc7ed0e16c0c"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d9/dc4/plugin_8h.html#d2/d00/structrpc__daemon__ops">rpc_daemon_ops</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c9284b14b948aae5a1abc7ed0e16c0c">ops</a></td></tr>
<tr class="separator:a8c9284b14b948aae5a1abc7ed0e16c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab88af8f0f3e8ddaf6aa2623d0b84813c" id="r_ab88af8f0f3e8ddaf6aa2623d0b84813c"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d3c/blob_8h.html#d3/dcb/structblob__buf">blob_buf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a></td></tr>
<tr class="separator:ab88af8f0f3e8ddaf6aa2623d0b84813c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc370b42a7f2f59d2d19a4a3cd47ce59" id="r_adc370b42a7f2f59d2d19a4a3cd47ce59"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc370b42a7f2f59d2d19a4a3cd47ce59">canonpath</a></td></tr>
<tr class="separator:adc370b42a7f2f59d2d19a4a3cd47ce59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba1145374a2a9d69ea54edd15e19f7f7" id="r_aba1145374a2a9d69ea54edd15e19f7f7"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba1145374a2a9d69ea54edd15e19f7f7">cmdstr</a> [<a class="el" href="#a1246bc208d2a3b8225b8484cf67c523f">RPC_CMDLINE_MAX_SIZE</a>]</td></tr>
<tr class="separator:aba1145374a2a9d69ea54edd15e19f7f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0d4aba57b0d9663dcb4c272160e9ce5" id="r_ac0d4aba57b0d9663dcb4c272160e9ce5"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0d4aba57b0d9663dcb4c272160e9ce5">rpc_file_R_policy</a> [<a class="el" href="#aa7df87806f64f3b241c8cde9eb57cad5af9ddd7dc53a6e1507cded0cffda62c25">__RPC_F_R_MAX</a>]</td></tr>
<tr class="separator:ac0d4aba57b0d9663dcb4c272160e9ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293a0ad7fac21876992d85d19d7ea29e" id="r_a293a0ad7fac21876992d85d19d7ea29e"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a293a0ad7fac21876992d85d19d7ea29e">rpc_file_RB_policy</a> [<a class="el" href="#a2f1398dba5e4a5616b83437528bdb28ea43d4cf9feeee6bffd84c8f06efca441a">__RPC_F_RB_MAX</a>]</td></tr>
<tr class="separator:a293a0ad7fac21876992d85d19d7ea29e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19316354dfb18e2fe912e38505f09792" id="r_a19316354dfb18e2fe912e38505f09792"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a19316354dfb18e2fe912e38505f09792">rpc_file_RW_policy</a> [<a class="el" href="#aeac2de18c0ed342a690b3e2ba3c52426a2869661700c56605932b0082e157b527">__RPC_F_RW_MAX</a>]</td></tr>
<tr class="separator:a19316354dfb18e2fe912e38505f09792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a046b4f80aac9da89bf0af046a02c6a72" id="r_a046b4f80aac9da89bf0af046a02c6a72"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a046b4f80aac9da89bf0af046a02c6a72">rpc_exec_policy</a> [<a class="el" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a496d49418c994dc4238417b2889603f3">__RPC_E_MAX</a>]</td></tr>
<tr class="separator:a046b4f80aac9da89bf0af046a02c6a72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a297d9b009215d9223bca75fa0438b956" id="r_a297d9b009215d9223bca75fa0438b956"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a297d9b009215d9223bca75fa0438b956">d_types</a> []</td></tr>
<tr class="separator:a297d9b009215d9223bca75fa0438b956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cf335329d79680c19c21b0b666c8d42" id="r_a9cf335329d79680c19c21b0b666c8d42"><td class="memItemLeft" align="right" valign="top">struct rpc_plugin&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9cf335329d79680c19c21b0b666c8d42">rpc_plugin</a></td></tr>
<tr class="separator:a9cf335329d79680c19c21b0b666c8d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="d6/d5f/structrpc__file__exec__context" id="d6/d5f/structrpc__file__exec__context"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d6/d5f/structrpc__file__exec__context">&#9670;&#160;</a></span>rpc_file_exec_context</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rpc_file_exec_context</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00064">64</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
</div><div class="dynheader">
Collaboration diagram for rpc_file_exec_context:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d84/structrpc__file__exec__context__coll__graph.png" border="0" usemap="#arpc__file__exec__context_coll__map" alt="Collaboration graph"/></div>
<map name="arpc__file__exec__context_coll__map" id="arpc__file__exec__context_coll__map">
<area shape="rect" title=" " alt="" coords="1676,1980,1893,2013"/>
<area shape="rect" href="../../db/d55/libubus_8h.html#df/d18/structubus__context" title=" " alt="" coords="1337,1228,1482,1261"/>
<area shape="poly" title=" " alt="" coords="1429,1274,1777,1978,1772,1980,1424,1277"/>
<area shape="rect" href="../../db/d55/libubus_8h.html#d3/d6e/structubus__event__handler" title=" " alt="" coords="1975,1133,2183,1167"/>
<area shape="poly" title=" " alt="" coords="1483,1220,1574,1197,1675,1176,1832,1158,1974,1150,1975,1155,1832,1164,1676,1182,1576,1202,1484,1225"/>
<area shape="rect" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object" title=" " alt="" coords="1718,688,1851,721"/>
<area shape="poly" title=" " alt="" coords="1456,1217,1478,1201,1499,1181,1506,1169,1509,1157,1513,1145,1523,1133,1540,1122,1557,1118,1589,1118,1620,1118,1635,1113,1650,1103,1689,1058,1719,1007,1742,951,1758,895,1776,792,1780,721,1786,722,1781,793,1763,896,1747,953,1724,1009,1693,1061,1653,1107,1637,1118,1621,1124,1589,1124,1558,1123,1542,1127,1526,1137,1518,1148,1514,1159,1511,1171,1503,1185,1482,1205,1459,1221"/>
<area shape="rect" href="../../da/d23/list_8h.html#d9/d93/structlist__head" title=" " alt="" coords="28,1030,132,1064"/>
<area shape="poly" title=" " alt="" coords="147,1033,184,1031,223,1034,261,1044,295,1064,304,1073,308,1083,308,1103,309,1122,312,1130,319,1138,338,1147,369,1154,461,1165,580,1170,713,1172,968,1172,1122,1175,1244,1198,1350,1224,1348,1230,1243,1203,1121,1180,968,1177,713,1178,580,1176,461,1170,368,1160,337,1152,316,1142,308,1133,303,1123,303,1103,302,1084,299,1076,292,1068,259,1049,222,1039,184,1036,147,1038"/>
<area shape="poly" title=" " alt="" coords="52,1013,62,1006,80,1004,97,1006,108,1012,112,1021,109,1031,104,1029,107,1021,104,1015,95,1011,80,1009,64,1011,54,1017"/>
<area shape="rect" href="../../d3/d51/avl_8h.html#dd/d4a/structavl__tree" title=" " alt="" coords="960,1369,1053,1403"/>
<area shape="poly" title=" " alt="" coords="114,1072,202,1138,258,1171,319,1198,400,1223,470,1237,533,1244,593,1248,653,1251,717,1259,787,1274,868,1301,932,1332,983,1366,980,1371,929,1337,866,1305,786,1279,716,1264,653,1257,593,1253,533,1249,469,1242,398,1228,317,1203,256,1176,199,1142,110,1076"/>
<area shape="rect" href="../../d3/d51/avl_8h.html#d6/d44/structavl__node" title=" " alt="" coords="402,585,506,619"/>
<area shape="poly" title=" " alt="" coords="92,1015,152,864,157,841,159,822,163,803,177,785,192,775,208,771,237,773,265,774,279,770,292,760,302,745,306,729,303,696,299,662,304,645,316,628,335,613,356,604,401,597,402,602,358,609,337,618,320,632,309,647,305,663,308,695,312,729,307,747,296,764,281,775,266,779,237,778,208,776,194,780,180,789,168,806,164,822,162,842,157,865,97,1017"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html#d8/d2b/structuloop__timeout" title=" " alt="" coords="378,1545,530,1579"/>
<area shape="poly" title=" " alt="" coords="96,1077,131,1161,181,1259,211,1304,239,1336,267,1368,296,1414,303,1432,306,1448,310,1462,320,1477,340,1498,363,1515,411,1542,408,1547,360,1520,336,1502,316,1481,305,1464,301,1449,298,1434,291,1416,262,1371,235,1339,207,1307,176,1262,126,1163,91,1079"/>
<area shape="poly" title=" " alt="" coords="147,1033,178,1028,651,982,961,950,1069,936,1120,926,1132,915,1144,904,1219,864,1298,829,1378,800,1458,774,1604,736,1717,712,1718,718,1605,741,1459,779,1380,805,1300,834,1221,869,1147,908,1135,919,1123,930,1070,941,961,955,652,988,179,1034,148,1038"/>
<area shape="rect" href="../../d9/d00/ubusd__obj_8h.html#d4/d66/structubus__object__type" title=" " alt="" coords="1318,318,1501,352"/>
<area shape="poly" title=" " alt="" coords="97,1015,132,966,181,906,244,848,279,822,317,802,351,789,391,780,488,768,598,764,716,764,946,763,1044,757,1121,743,1175,727,1217,710,1253,686,1292,647,1319,610,1342,569,1375,484,1394,407,1403,352,1409,353,1399,408,1380,485,1347,571,1324,612,1296,650,1257,690,1219,715,1177,732,1122,748,1045,763,946,769,716,769,598,769,488,774,392,785,352,794,319,807,282,827,247,852,185,910,136,969,102,1019"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html#da/d43/structuloop__process" title=" " alt="" coords="378,1650,530,1684"/>
<area shape="poly" title=" " alt="" coords="91,1078,139,1290,164,1393,181,1442,194,1451,208,1456,236,1455,266,1454,281,1459,296,1470,306,1486,311,1501,310,1530,308,1559,312,1574,320,1589,337,1608,357,1624,401,1647,398,1652,354,1628,333,1612,315,1593,307,1576,303,1560,305,1530,306,1502,302,1488,292,1474,279,1464,265,1460,237,1460,207,1461,192,1456,177,1445,159,1395,133,1291,86,1080"/>
<area shape="poly" title=" " alt="" coords="1069,1393,1119,1398,1177,1397,1237,1389,1293,1370,1328,1347,1357,1317,1397,1260,1401,1263,1362,1321,1331,1351,1296,1375,1238,1394,1177,1403,1119,1403,1068,1399"/>
<area shape="poly" title=" " alt="" coords="522,597,559,606,577,615,592,628,608,652,615,676,614,700,609,723,602,771,605,796,616,822,644,856,675,878,708,892,742,901,777,911,810,925,841,948,869,984,880,1014,884,1052,882,1145,880,1237,884,1275,893,1303,908,1323,926,1340,966,1366,964,1371,923,1344,904,1327,889,1306,879,1276,875,1237,877,1145,879,1053,874,1015,865,987,838,952,807,930,775,916,741,906,706,897,673,883,641,860,612,825,600,797,596,771,604,722,609,699,609,677,604,654,588,631,574,620,557,611,520,603"/>
<area shape="poly" title=" " alt="" coords="415,567,429,561,454,558,477,560,492,566,497,576,493,586,488,583,492,576,488,570,476,565,454,563,430,566,417,572"/>
<area shape="poly" title=" " alt="" coords="521,598,679,597,867,603,1114,622,1356,647,1718,692,1717,698,1356,652,1114,627,867,608,679,603,521,603"/>
<area shape="rect" href="../../d6/d41/ubusd__id_8h.html#d0/dbf/structubus__id" title=" " alt="" coords="960,140,1053,173"/>
<area shape="poly" title=" " alt="" coords="471,571,528,493,568,450,612,413,648,392,680,379,740,367,799,355,831,342,865,321,907,285,944,244,993,172,997,175,948,247,911,289,869,325,833,347,801,360,741,372,682,384,650,397,616,417,571,454,532,496,475,574"/>
<area shape="rect" title=" " alt="" coords="14,534,146,568"/>
<area shape="poly" title=" " alt="" coords="161,559,402,592,401,597,161,565"/>
<area shape="rect" title=" " alt="" coords="49,438,111,472"/>
<area shape="poly" title=" " alt="" coords="127,472,180,494,295,535,412,582,410,587,293,540,178,499,125,477"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr" title=" " alt="" coords="402,333,506,367"/>
<area shape="poly" title=" " alt="" coords="124,428,178,404,280,380,401,356,402,361,281,385,180,410,126,433"/>
<area shape="poly" title=" " alt="" coords="127,452,453,452,1411,452,1473,460,1533,481,1588,511,1639,548,1683,587,1721,625,1772,685,1768,689,1717,629,1680,591,1635,552,1585,516,1530,486,1472,465,1411,458,453,458,127,458"/>
<area shape="poly" title=" " alt="" coords="126,446,178,438,271,431,392,424,453,419,508,410,555,396,588,377,595,368,599,359,599,339,599,318,603,308,612,298,645,279,675,269,704,267,733,271,793,287,828,294,867,298,1112,310,1318,325,1318,330,1111,315,867,303,827,299,792,292,732,277,704,273,676,274,647,283,616,302,608,310,604,319,604,339,604,360,600,371,592,381,557,401,510,415,454,424,393,430,272,436,179,443,127,451"/>
<area shape="rect" href="../../db/d55/libubus_8h.html#d6/d86/structubus__acl__key" title=" " alt="" coords="382,642,526,676"/>
<area shape="poly" title=" " alt="" coords="121,480,141,498,157,520,165,540,167,559,163,593,162,624,168,639,180,653,194,660,213,666,265,671,324,669,382,665,382,670,325,675,265,676,212,671,192,665,177,657,163,641,157,625,158,593,162,559,160,542,152,523,137,502,118,483"/>
<area shape="rect" title=" " alt="" coords="50,1384,110,1417"/>
<area shape="poly" title=" " alt="" coords="125,1388,214,1370,317,1354,439,1341,543,1334,720,1329,896,1324,999,1316,1121,1302,1236,1282,1338,1259,1339,1264,1237,1287,1122,1307,1000,1321,896,1329,720,1334,543,1339,440,1346,318,1359,214,1375,126,1393"/>
<area shape="poly" title=" " alt="" coords="126,1394,206,1397,251,1404,295,1417,307,1427,319,1436,358,1447,392,1453,451,1453,512,1444,590,1435,796,1415,959,1391,959,1396,797,1420,590,1441,513,1449,452,1458,391,1459,357,1452,316,1440,304,1431,292,1421,250,1409,205,1402,126,1400"/>
<area shape="poly" title=" " alt="" coords="89,1368,176,1118,210,1033,239,968,265,902,291,815,295,773,296,719,301,665,306,644,316,628,334,613,356,604,402,596,402,601,358,609,337,618,320,631,311,646,306,666,302,719,300,774,296,816,270,904,244,970,215,1035,181,1120,94,1370"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html#db/d9e/structuloop__fd" title=" " alt="" coords="404,2141,504,2175"/>
<area shape="poly" title=" " alt="" coords="96,1431,157,1606,163,1634,164,1656,168,1676,181,1698,194,1712,208,1721,238,1729,268,1739,283,1749,296,1764,311,1792,317,1818,317,1843,315,1867,309,1916,312,1943,320,1973,346,2023,377,2070,437,2139,433,2142,373,2073,341,2026,315,1975,306,1944,304,1915,310,1866,312,1843,312,1819,306,1794,291,1767,279,1753,266,1744,237,1735,206,1726,191,1716,177,1702,163,1678,159,1656,157,1634,152,1608,91,1432"/>
<area shape="poly" title=" " alt="" coords="106,1427,138,1462,180,1493,378,1542,377,1547,178,1498,135,1466,102,1431"/>
<area shape="poly" title=" " alt="" coords="99,1369,132,1330,154,1311,177,1297,208,1284,238,1277,294,1273,347,1281,397,1292,445,1302,493,1302,516,1298,540,1289,564,1275,588,1255,601,1237,605,1218,599,1179,593,1138,598,1118,612,1098,637,1080,668,1067,705,1056,746,1049,840,1042,942,1041,1143,1043,1228,1038,1264,1033,1293,1024,1370,993,1444,954,1515,910,1582,865,1692,780,1763,720,1766,724,1696,785,1585,870,1518,915,1447,958,1372,997,1295,1030,1265,1038,1229,1043,1143,1048,942,1046,840,1047,747,1054,706,1062,670,1072,640,1085,616,1102,603,1120,599,1138,605,1178,611,1218,606,1239,592,1258,567,1279,542,1294,517,1303,493,1308,445,1307,396,1298,346,1286,294,1279,239,1282,210,1289,180,1301,157,1316,136,1334,103,1372"/>
<area shape="rect" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data" title=" " alt="" coords="908,813,1104,847"/>
<area shape="poly" title=" " alt="" coords="83,1367,92,1320,109,1262,136,1202,155,1175,177,1150,192,1139,207,1134,236,1131,264,1129,278,1124,292,1113,302,1097,303,1080,305,1063,316,1044,380,986,441,949,503,929,566,919,702,910,780,900,866,880,890,870,955,845,957,850,892,875,868,886,781,905,703,915,566,924,504,934,444,954,383,990,320,1047,310,1064,309,1081,307,1099,296,1117,281,1128,266,1134,237,1137,208,1139,195,1144,180,1154,159,1178,141,1205,114,1263,97,1321,88,1368"/>
<area shape="poly" title=" " alt="" coords="95,1430,128,1492,151,1523,180,1549,209,1563,234,1567,261,1568,295,1577,424,1647,421,1652,293,1581,261,1574,234,1572,207,1568,177,1554,147,1527,123,1494,91,1433"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#d8/d8e/structustream" title=" " alt="" coords="958,2326,1055,2360"/>
<area shape="poly" title=" " alt="" coords="93,1431,106,1464,125,1503,149,1540,180,1573,195,1582,210,1587,239,1588,268,1591,282,1598,296,1611,307,1636,312,1669,311,1751,309,1834,312,1867,320,1892,349,1932,380,1958,414,1976,449,1989,486,2001,522,2018,558,2043,592,2080,601,2101,603,2120,605,2137,616,2153,647,2173,676,2182,706,2182,735,2179,797,2172,832,2176,868,2190,911,2220,948,2257,977,2294,997,2324,993,2327,973,2298,944,2261,908,2224,866,2195,830,2181,797,2177,736,2184,706,2188,676,2187,645,2178,612,2157,600,2139,597,2121,596,2102,588,2083,554,2047,519,2023,484,2006,448,1994,412,1980,378,1962,345,1935,315,1895,307,1869,303,1834,306,1751,307,1670,302,1637,291,1614,279,1602,267,1596,239,1593,209,1592,193,1587,177,1577,145,1544,120,1505,101,1467,88,1433"/>
<area shape="rect" title=" " alt="" coords="57,2040,103,2073"/>
<area shape="poly" title=" " alt="" coords="96,2087,127,2178,157,2292,161,2347,160,2418,165,2487,171,2514,181,2533,210,2565,239,2587,268,2602,299,2611,368,2616,452,2615,1411,2615,1462,2609,1508,2593,1550,2568,1588,2536,1621,2496,1650,2452,1676,2403,1698,2352,1733,2248,1757,2150,1771,2068,1779,2013,1784,2014,1777,2069,1762,2151,1738,2250,1703,2354,1681,2406,1655,2454,1625,2499,1591,2539,1553,2573,1511,2598,1463,2615,1411,2620,453,2620,367,2621,298,2616,266,2607,236,2592,207,2569,176,2537,166,2516,159,2487,155,2418,155,2347,152,2293,122,2180,91,2089"/>
<area shape="poly" title=" " alt="" coords="118,2046,178,2035,295,2023,387,2020,477,2012,529,2002,589,1984,811,1915,902,1884,983,1849,1060,1807,1134,1753,1211,1682,1292,1591,1321,1549,1345,1503,1364,1455,1378,1408,1397,1321,1404,1261,1410,1262,1402,1322,1384,1409,1369,1457,1350,1505,1326,1552,1296,1594,1215,1686,1138,1757,1063,1812,986,1854,904,1889,813,1920,591,1990,530,2007,478,2018,387,2026,295,2028,179,2040,119,2051"/>
<area shape="poly" title=" " alt="" coords="86,2024,97,1985,115,1938,142,1891,177,1850,206,1833,233,1827,261,1824,292,1813,304,1803,316,1794,357,1780,394,1775,461,1778,492,1779,523,1775,555,1763,588,1740,599,1726,602,1711,604,1694,612,1675,890,1419,924,1404,958,1393,960,1398,926,1409,892,1424,616,1678,609,1695,607,1712,604,1728,592,1744,557,1768,524,1780,492,1784,461,1783,395,1780,358,1785,319,1799,307,1808,295,1817,262,1829,234,1832,208,1838,180,1854,146,1894,120,1940,102,1986,91,2025"/>
<area shape="poly" title=" " alt="" coords="118,2071,179,2095,282,2120,404,2145,403,2151,281,2126,178,2101,116,2076"/>
<area shape="poly" title=" " alt="" coords="118,2052,328,2044,614,2036,686,2029,744,2017,772,2014,801,2015,833,2022,868,2037,877,2044,881,2053,885,2061,892,2067,955,2094,982,2101,1009,2105,1035,2103,1061,2097,1089,2085,1120,2068,1130,2057,1132,2044,1135,2030,1143,2015,1176,1981,1210,1954,1244,1933,1278,1916,1346,1892,1413,1874,1478,1855,1539,1827,1568,1807,1597,1783,1624,1752,1649,1714,1659,1676,1665,1609,1670,1425,1670,1240,1673,1129,1696,1005,1726,886,1775,721,1780,722,1731,887,1701,1006,1678,1130,1675,1240,1675,1426,1671,1609,1665,1677,1654,1716,1628,1755,1600,1786,1572,1812,1542,1832,1479,1860,1414,1879,1348,1897,1280,1921,1247,1938,1213,1959,1180,1985,1147,2018,1140,2032,1138,2046,1134,2059,1123,2072,1092,2090,1063,2102,1035,2109,1008,2110,981,2107,953,2099,890,2072,881,2064,877,2055,873,2048,866,2041,831,2027,800,2021,772,2020,745,2022,687,2034,614,2042,329,2049,118,2057"/>
<area shape="poly" title=" " alt="" coords="89,2024,121,1953,146,1916,177,1884,206,1866,233,1860,260,1856,293,1846,317,1831,360,1818,402,1810,480,1806,552,1811,620,1818,684,1820,715,1816,745,1810,775,1798,805,1781,835,1757,865,1726,875,1704,879,1673,876,1593,873,1513,877,1481,889,1457,917,1436,947,1428,977,1429,1007,1435,1037,1440,1066,1442,1093,1434,1119,1413,1129,1385,1135,1331,1137,1181,1136,1029,1138,972,1143,938,1158,904,1176,877,1214,838,1254,800,1273,775,1292,743,1317,688,1338,630,1371,516,1376,517,1343,632,1322,690,1297,746,1278,778,1258,803,1218,842,1180,881,1163,907,1148,940,1143,972,1141,1029,1142,1181,1140,1331,1134,1386,1124,1417,1096,1439,1067,1447,1037,1446,1006,1440,976,1434,947,1433,919,1441,893,1461,883,1482,878,1513,881,1593,884,1673,880,1706,869,1729,839,1761,808,1785,777,1803,747,1815,716,1822,684,1825,619,1823,552,1816,480,1811,402,1816,361,1823,319,1836,295,1851,262,1861,234,1865,208,1871,180,1888,150,1919,125,1956,94,2026"/>
<area shape="poly" title=" " alt="" coords="1371,516,1392,417,1403,352,1408,353,1397,418,1376,517"/>
<area shape="poly" title=" " alt="" coords="91,2024,123,1933,140,1876,152,1819,155,1708,154,1522,158,1339,165,1271,176,1232,198,1206,221,1186,245,1172,270,1162,322,1155,376,1156,431,1157,485,1153,512,1146,538,1134,563,1118,588,1095,597,1082,601,1069,599,1041,598,1013,602,998,612,984,643,959,674,947,705,943,736,944,768,945,800,943,832,934,865,914,873,904,877,894,880,882,889,870,910,856,934,845,936,849,913,860,893,874,885,885,882,895,878,907,869,918,834,939,801,948,768,950,736,949,705,948,675,952,645,964,616,987,607,1001,603,1014,605,1041,606,1070,602,1084,592,1099,566,1122,540,1139,513,1151,486,1158,431,1163,376,1161,322,1160,271,1168,247,1177,224,1190,202,1209,181,1235,170,1272,164,1339,160,1522,161,1708,157,1819,145,1877,128,1934,96,2026"/>
<area shape="poly" title=" " alt="" coords="94,2087,141,2237,181,2351,210,2414,233,2464,247,2486,265,2506,288,2524,319,2542,369,2559,435,2567,511,2569,593,2564,674,2554,751,2540,816,2522,866,2501,909,2469,946,2429,974,2390,993,2359,998,2361,979,2393,950,2433,913,2473,868,2505,818,2527,752,2545,675,2560,593,2570,511,2574,434,2573,368,2564,317,2547,285,2529,261,2510,243,2489,229,2467,205,2416,176,2353,136,2239,89,2089"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#da/dd1/structustream__buf__list" title=" " alt="" coords="367,2337,541,2371"/>
<area shape="poly" title=" " alt="" coords="90,2088,100,2129,118,2177,144,2225,161,2247,180,2266,195,2275,208,2280,235,2282,263,2284,295,2295,308,2309,319,2322,342,2333,368,2341,366,2346,340,2338,316,2326,304,2313,292,2300,262,2289,234,2288,207,2285,192,2280,177,2270,157,2250,140,2228,113,2179,95,2130,85,2089"/>
<area shape="rect" title=" " alt="" coords="416,1369,492,1403"/>
<area shape="poly" title=" " alt="" coords="507,1383,959,1383,959,1388,507,1388"/>
<area shape="poly" title=" " alt="" coords="496,2130,613,2070,749,2013,890,1970,1093,1928,1229,1899,1293,1882,1308,1862,1322,1834,1347,1760,1366,1670,1381,1573,1398,1385,1405,1262,1410,1262,1404,1385,1386,1573,1371,1671,1352,1762,1327,1836,1313,1864,1296,1887,1230,1904,1094,1933,892,1975,751,2018,615,2075,499,2135"/>
<area shape="poly" title=" " alt="" coords="415,2123,429,2117,454,2114,477,2116,492,2122,497,2132,493,2142,488,2139,492,2132,488,2126,476,2121,454,2119,430,2122,417,2128"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd" title=" " alt="" coords="1347,2124,1472,2157"/>
<area shape="poly" title=" " alt="" coords="519,2154,1347,2139,1347,2144,519,2159"/>
<area shape="rect" title=" " alt="" coords="37,2305,123,2339"/>
<area shape="poly" title=" " alt="" coords="138,2337,176,2343,217,2345,257,2338,275,2330,292,2319,304,2304,308,2289,305,2255,300,2220,304,2201,316,2184,335,2169,357,2160,403,2152,403,2158,358,2165,338,2174,320,2187,309,2203,305,2220,310,2255,314,2289,309,2307,295,2323,278,2335,259,2343,218,2350,176,2349,137,2342"/>
<area shape="rect" href="../../d5/d79/ubusmsg_8h.html#d2/d15/structubus__msghdr" title=" " alt="" coords="380,700,528,733"/>
<area shape="poly" title=" " alt="" coords="89,2289,125,2190,176,2068,209,2011,240,1968,268,1925,291,1864,295,1805,297,1682,298,1332,301,983,306,861,315,802,333,778,355,759,403,731,405,736,358,763,337,782,320,804,312,861,307,983,303,1332,303,1682,301,1805,296,1866,273,1927,245,1971,214,2013,181,2071,130,2192,94,2291"/>
<area shape="poly" title=" " alt="" coords="89,2353,102,2424,122,2509,149,2587,164,2616,180,2634,226,2665,270,2691,313,2710,355,2725,396,2734,437,2739,478,2739,519,2734,600,2714,685,2679,772,2631,865,2573,894,2550,918,2524,957,2463,983,2404,998,2359,1003,2361,988,2406,962,2466,922,2527,897,2554,869,2577,775,2636,687,2683,602,2719,520,2740,478,2744,437,2744,396,2739,354,2730,311,2715,267,2695,223,2670,177,2638,160,2619,144,2589,117,2511,97,2425,84,2354"/>
<area shape="poly" title=" " alt="" coords="546,1563,571,1573,592,1589,605,1610,610,1630,604,1671,599,1710,603,1729,615,1747,867,1796,1122,1842,1453,1915,1712,1976,1711,1982,1451,1920,1121,1847,866,1801,613,1752,598,1731,594,1711,599,1670,605,1631,601,1612,588,1593,568,1578,545,1568"/>
<area shape="poly" title=" " alt="" coords="545,1551,725,1532,945,1501,1053,1481,1151,1458,1234,1433,1293,1405,1331,1372,1362,1332,1384,1292,1399,1260,1404,1263,1389,1295,1366,1335,1335,1376,1296,1409,1235,1438,1153,1463,1054,1486,945,1506,726,1537,546,1556"/>
<area shape="poly" title=" " alt="" coords="415,1527,429,1521,454,1518,477,1520,492,1526,497,1536,493,1546,488,1543,492,1536,488,1530,476,1525,454,1523,430,1526,417,1532"/>
<area shape="poly" title=" " alt="" coords="546,1562,571,1572,592,1589,602,1604,608,1623,614,1669,614,1724,610,1784,603,1899,606,1947,616,1982,642,2019,670,2045,699,2062,730,2076,797,2103,832,2123,869,2153,910,2198,947,2246,997,2324,993,2327,943,2250,906,2202,865,2157,829,2128,794,2107,728,2081,697,2067,667,2049,638,2022,612,1985,600,1948,597,1899,604,1783,609,1724,609,1670,603,1624,597,1607,588,1593,568,1577,544,1567"/>
<area shape="rect" title=" " alt="" coords="5,1620,155,1653"/>
<area shape="poly" title=" " alt="" coords="170,1625,231,1615,293,1599,317,1588,376,1572,378,1578,319,1594,295,1605,232,1620,171,1630"/>
<area shape="rect" title=" " alt="" coords="31,178,129,212"/>
<area shape="poly" title=" " alt="" coords="145,192,307,193,517,199,721,214,805,225,868,240,951,268,1015,295,1043,313,1070,335,1096,364,1124,402,1134,421,1140,439,1141,472,1140,506,1148,546,1165,586,1184,619,1224,670,1263,722,1281,755,1297,797,1304,834,1305,882,1303,992,1303,1102,1309,1147,1321,1180,1342,1206,1370,1225,1367,1229,1339,1210,1316,1183,1304,1148,1298,1102,1297,992,1300,882,1298,835,1292,798,1276,757,1259,725,1220,673,1180,622,1161,589,1143,548,1135,507,1136,472,1134,440,1129,423,1119,404,1092,368,1066,339,1040,317,1013,300,949,273,866,246,804,231,720,219,516,205,307,198,144,197"/>
<area shape="poly" title=" " alt="" coords="98,224,131,278,153,304,180,326,196,334,210,336,240,334,268,334,282,340,296,352,309,381,314,422,308,521,303,620,307,659,320,687,332,698,347,706,380,715,378,720,345,711,329,702,316,690,302,661,297,620,303,521,308,422,304,383,292,355,279,345,267,340,240,340,210,342,194,339,177,331,150,308,126,281,93,227"/>
<area shape="poly" title=" " alt="" coords="112,220,143,245,180,268,210,279,236,284,262,288,295,298,319,311,402,337,401,342,317,316,293,303,261,293,235,289,209,284,177,272,140,250,109,224"/>
<area shape="poly" title=" " alt="" coords="111,166,142,142,177,119,250,79,309,50,371,32,452,26,1411,26,1467,32,1517,50,1561,78,1601,115,1635,158,1665,208,1691,261,1712,317,1746,431,1767,539,1779,628,1785,687,1779,687,1774,629,1762,540,1740,433,1707,319,1686,263,1660,210,1631,161,1597,118,1558,82,1514,55,1465,37,1411,31,453,31,372,37,311,55,253,84,180,124,145,146,114,170"/>
<area shape="poly" title=" " alt="" coords="144,179,178,174,408,155,633,148,826,149,959,152,959,157,826,154,633,154,408,161,179,179,144,184"/>
<area shape="poly" title=" " alt="" coords="129,169,178,150,247,131,317,122,468,115,707,113,952,116,1121,124,1173,127,1215,128,1254,138,1274,149,1296,165,1308,180,1312,195,1314,210,1321,227,1357,277,1392,316,1388,319,1353,280,1316,230,1309,212,1306,196,1303,182,1292,169,1272,153,1252,143,1214,134,1173,133,1121,130,952,121,707,118,468,121,318,127,248,136,180,155,131,174"/>
<area shape="poly" title=" " alt="" coords="144,201,218,217,295,245,307,254,319,263,358,277,393,283,456,285,487,285,519,289,554,299,591,318,600,326,604,334,608,341,616,347,651,364,685,371,749,370,780,369,811,373,840,387,869,413,883,442,888,481,886,577,882,675,884,715,893,744,908,765,927,783,968,810,965,815,924,787,904,769,889,747,879,716,876,675,881,577,883,482,878,444,865,417,837,391,809,379,780,374,749,375,684,376,649,369,612,352,604,344,600,336,596,329,589,323,552,304,518,295,487,291,456,290,393,289,357,282,316,267,304,258,292,249,216,222,143,206"/>
<area shape="rect" title=" " alt="" coords="31,818,129,852"/>
<area shape="poly" title=" " alt="" coords="112,860,150,893,200,930,257,965,318,992,394,1009,491,1016,720,1017,948,1018,1046,1026,1122,1043,1385,1225,1382,1229,1120,1048,1045,1032,948,1024,720,1023,491,1022,394,1014,317,998,255,970,197,934,147,897,109,864"/>
<area shape="poly" title=" " alt="" coords="98,804,132,764,153,746,178,731,228,714,281,705,333,703,379,704,379,710,333,708,281,710,229,719,180,736,156,750,135,768,102,807"/>
<area shape="poly" title=" " alt="" coords="144,832,908,828,908,833,144,837"/>
<area shape="rect" title=" " alt="" coords="908,1548,1104,1605"/>
<area shape="poly" title=" " alt="" coords="1120,1586,1164,1584,1210,1577,1254,1563,1293,1540,1324,1510,1348,1474,1367,1434,1382,1394,1399,1317,1405,1261,1410,1262,1404,1318,1387,1395,1372,1436,1353,1477,1328,1513,1296,1544,1256,1568,1211,1582,1165,1590,1120,1592"/>
<area shape="rect" title=" " alt="" coords="891,1190,1121,1293"/>
<area shape="poly" title=" " alt="" coords="1137,1240,1337,1241,1337,1247,1137,1245"/>
<area shape="rect" href="../../db/d55/libubus_8h.html#d0/d37/structubus__msghdr__buf" title=" " alt="" coords="912,700,1100,733"/>
<area shape="poly" title=" " alt="" coords="1050,740,1086,767,1123,798,1181,854,1225,899,1261,950,1297,1021,1305,1045,1307,1066,1305,1104,1305,1141,1310,1160,1321,1181,1343,1206,1371,1225,1368,1229,1340,1210,1316,1185,1305,1162,1300,1142,1300,1104,1302,1066,1299,1046,1292,1023,1257,952,1221,902,1177,857,1120,802,1083,771,1046,744"/>
<area shape="poly" title=" " alt="" coords="543,714,912,714,912,719,543,719"/>
<area shape="poly" title=" " alt="" coords="501,372,665,470,767,535,869,604,934,653,987,697,983,701,931,658,865,608,764,539,662,475,498,377"/>
<area shape="poly" title=" " alt="" coords="2033,1176,1968,1204,1894,1228,1782,1245,1670,1253,1567,1254,1482,1252,1483,1246,1567,1249,1670,1248,1782,1240,1892,1222,1966,1199,2031,1171"/>
<area shape="poly" title=" " alt="" coords="1807,733,2069,1131,2064,1134,1803,736"/>
<area shape="poly" title=" " alt="" coords="1068,149,1175,148,1235,154,1295,164,1406,191,1494,217,1533,236,1572,261,1611,294,1654,337,1687,381,1714,430,1736,480,1753,531,1775,623,1784,687,1779,687,1770,624,1748,533,1731,482,1710,432,1683,384,1650,341,1608,298,1569,265,1531,241,1492,222,1405,196,1294,170,1235,159,1175,154,1068,154"/>
<area shape="poly" title=" " alt="" coords="1069,168,1177,201,1237,223,1296,250,1348,283,1390,316,1387,320,1345,287,1293,255,1235,228,1175,206,1067,173"/>
<area shape="poly" title=" " alt="" coords="1503,354,1581,385,1619,407,1653,434,1681,465,1705,499,1743,571,1768,638,1782,686,1776,688,1763,639,1738,573,1701,501,1677,468,1650,438,1616,412,1579,390,1501,359"/>
<area shape="poly" title=" " alt="" coords="1101,852,1123,871,1133,886,1137,902,1135,931,1134,959,1138,973,1147,987,1164,1000,1181,1008,1215,1011,1253,1010,1273,1014,1296,1023,1370,1067,1431,1109,1481,1153,1522,1199,1557,1251,1588,1311,1654,1459,1683,1535,1707,1613,1746,1766,1771,1896,1783,1979,1778,1979,1766,1897,1741,1768,1702,1615,1678,1537,1649,1461,1584,1313,1552,1254,1517,1203,1477,1156,1428,1113,1368,1071,1293,1028,1272,1019,1252,1016,1215,1016,1179,1013,1161,1005,1143,990,1133,975,1128,960,1130,931,1132,902,1128,888,1119,874,1098,856"/>
<area shape="poly" title=" " alt="" coords="541,639,616,631,702,632,746,638,789,649,831,665,869,688,880,701,884,715,886,729,893,744,933,782,974,810,971,815,929,786,889,747,881,731,878,716,875,703,865,692,828,670,788,654,745,644,702,638,617,636,541,644"/>
<area shape="poly" title=" " alt="" coords="546,1666,570,1675,592,1689,601,1701,606,1714,605,1739,604,1763,608,1774,616,1785,647,1811,678,1829,709,1840,740,1846,804,1847,868,1839,932,1830,996,1831,1028,1837,1060,1849,1092,1868,1123,1895,1133,1908,1137,1922,1135,1949,1134,1974,1138,1985,1147,1996,1185,2015,1239,2027,1306,2033,1380,2034,1536,2025,1675,2010,1675,2015,1536,2030,1380,2039,1305,2038,1239,2032,1183,2020,1144,2000,1133,1988,1128,1975,1129,1948,1131,1922,1128,1910,1119,1898,1089,1872,1058,1854,1027,1843,996,1836,932,1836,868,1844,804,1852,740,1852,708,1845,675,1834,644,1815,612,1789,603,1777,599,1764,600,1739,600,1715,597,1704,588,1693,568,1679,544,1671"/>
<area shape="poly" title=" " alt="" coords="415,1632,429,1626,454,1624,477,1626,492,1631,497,1641,493,1651,488,1649,492,1641,488,1636,476,1631,454,1629,430,1631,417,1637"/>
<area shape="rect" title=" " alt="" coords="47,1773,113,1807"/>
<area shape="poly" title=" " alt="" coords="128,1802,167,1809,210,1812,254,1805,274,1798,292,1787,300,1778,304,1769,304,1747,304,1724,307,1712,316,1701,344,1682,376,1671,378,1676,347,1686,320,1705,312,1715,309,1725,310,1747,309,1770,305,1781,295,1791,276,1803,255,1810,211,1817,166,1814,127,1807"/>
<area shape="poly" title=" " alt="" coords="1487,2140,1568,2133,1610,2123,1651,2109,1687,2088,1720,2062,1767,2012,1771,2015,1723,2066,1690,2093,1653,2114,1612,2129,1569,2138,1488,2145"/>
<area shape="poly" title=" " alt="" coords="1054,2316,1372,2155,1375,2160,1057,2321"/>
<area shape="poly" title=" " alt="" coords="968,2308,982,2302,1006,2300,1029,2302,1043,2307,1049,2317,1045,2327,1040,2325,1044,2317,1040,2312,1028,2307,1006,2305,983,2307,970,2313"/>
<area shape="poly" title=" " alt="" coords="556,2362,703,2370,785,2371,867,2366,957,2351,958,2357,867,2371,786,2376,703,2376,556,2367"/>
<area shape="rect" title=" " alt="" coords="341,2256,567,2313"/>
<area shape="poly" title=" " alt="" coords="583,2308,614,2313,804,2331,957,2339,957,2344,804,2336,614,2318,582,2313"/>
<area shape="rect" title=" " alt="" coords="341,2395,567,2451"/>
<area shape="poly" title=" " alt="" coords="583,2425,720,2419,794,2411,866,2398,923,2380,971,2358,974,2363,925,2385,868,2403,795,2417,721,2425,583,2430"/>
<area shape="rect" title=" " alt="" coords="325,2198,583,2232"/>
<area shape="poly" title=" " alt="" coords="572,2234,591,2242,603,2251,615,2259,651,2271,683,2277,739,2280,796,2279,868,2290,920,2305,966,2323,964,2328,918,2310,866,2295,796,2285,739,2285,682,2282,650,2276,613,2264,600,2255,589,2247,570,2239"/>
<area shape="rect" title=" " alt="" coords="318,2476,590,2509"/>
<area shape="poly" title=" " alt="" coords="606,2496,669,2493,735,2486,802,2472,866,2452,903,2432,937,2407,988,2358,992,2362,941,2411,906,2436,868,2456,803,2477,736,2491,669,2499,606,2502"/>
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a5515737d76e04bca9d03ae9f3a28160c" name="a5515737d76e04bca9d03ae9f3a28160c"></a>struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>
<td class="fieldname">
context</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a1a1416faa8cb31d8a6950459a008b607" name="a1a1416faa8cb31d8a6950459a008b607"></a>struct <a class="el" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a></td>
<td class="fieldname">
epipe</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a4b464218d423036dc2bfd705c1e62685" name="a4b464218d423036dc2bfd705c1e62685"></a>struct <a class="el" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a></td>
<td class="fieldname">
opipe</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a9ce24695306fcbf313ab704c3d7f383c" name="a9ce24695306fcbf313ab704c3d7f383c"></a>struct <a class="el" href="../../dc/d56/uloop_8h.html#da/d43/structuloop__process">uloop_process</a></td>
<td class="fieldname">
process</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a2a2195414926c884c66349275dc17854" name="a2a2195414926c884c66349275dc17854"></a>struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a></td>
<td class="fieldname">
request</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ad278ac2d0d3cfdc82236915588b1bea2" name="ad278ac2d0d3cfdc82236915588b1bea2"></a>int</td>
<td class="fieldname">
stat</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aebdb64bf9d42e2137d9273439b364d55" name="aebdb64bf9d42e2137d9273439b364d55"></a>struct <a class="el" href="../../dc/d56/uloop_8h.html#d8/d2b/structuloop__timeout">uloop_timeout</a></td>
<td class="fieldname">
timeout</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a369266c24eacffb87046522897a570d5" name="a369266c24eacffb87046522897a570d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a369266c24eacffb87046522897a570d5">&#9670;&#160;</a></span>_GNU_SOURCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _GNU_SOURCE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00020">20</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>

</div>
</div>
<a id="aa1d17d220c2f1361e5b5cf36bac3aca9" name="aa1d17d220c2f1361e5b5cf36bac3aca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1d17d220c2f1361e5b5cf36bac3aca9">&#9670;&#160;</a></span>rpc_check_path</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rpc_check_path</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>policy_selector</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>perm</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em><a class="el" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code hl_function" href="#a4790cd1e55f187a8d1a92b9219a29e81">__rpc_check_path</a>(rpc_file_ ## policy_selector ## _policy, \</div>
<div class="line">        <a class="code hl_define" href="../../d8/d6a/test-blobmsg-types_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a>(rpc_file_ ## policy_selector ## _policy), \</div>
<div class="line">        RPC_F_ ## policy_selector ## _PATH, \</div>
<div class="line">        RPC_F_ ## policy_selector ## _SESSION, \</div>
<div class="line">        perm, msg, <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, s)</div>
<div class="ttc" id="afile_8c_html_a4790cd1e55f187a8d1a92b9219a29e81"><div class="ttname"><a href="#a4790cd1e55f187a8d1a92b9219a29e81">__rpc_check_path</a></div><div class="ttdeci">static struct blob_attr ** __rpc_check_path(const struct blobmsg_policy *policy, size_t policy_len, int policy_path_idx, int policy_sid_idx, const char *perm, struct blob_attr *msg, char **path, struct stat *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00247">file.c:247</a></div></div>
<div class="ttc" id="atest-blobmsg-types_8c_html_a6242a25f9d996f0cc4f4cdb911218b75"><div class="ttname"><a href="../../d8/d6a/test-blobmsg-types_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a></div><div class="ttdeci">#define ARRAY_SIZE(x)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d6a/test-blobmsg-types_8c_source.html#l00120">test-blobmsg-types.c:120</a></div></div>
<div class="ttc" id="aubusd__obj_8c_html_a9ece2e576492090c46d5e3b435cef7d4"><div class="ttname"><a href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a></div><div class="ttdeci">struct avl_tree path</div><div class="ttdef"><b>Definition</b> <a href="../../df/d0e/ubusd__obj_8c_source.html#l00019">ubusd_obj.c:19</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00281">281</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  281</span><span class="preprocessor">#define rpc_check_path(msg, policy_selector, perm, path, s) \</span></div>
<div class="line"><span class="lineno">  282</span><span class="preprocessor">    __rpc_check_path(rpc_file_ ## policy_selector ## _policy, \</span></div>
<div class="line"><span class="lineno">  283</span><span class="preprocessor">        ARRAY_SIZE(rpc_file_ ## policy_selector ## _policy), \</span></div>
<div class="line"><span class="lineno">  284</span><span class="preprocessor">        RPC_F_ ## policy_selector ## _PATH, \</span></div>
<div class="line"><span class="lineno">  285</span><span class="preprocessor">        RPC_F_ ## policy_selector ## _SESSION, \</span></div>
<div class="line"><span class="lineno">  286</span><span class="preprocessor">        perm, msg, path, s)</span></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00490">rpc_file_list()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00432">rpc_file_md5()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00289">rpc_file_read()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00606">rpc_file_remove()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00538">rpc_file_stat()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00370">rpc_file_write()</a>.</p>

</div>
</div>
<a id="a1246bc208d2a3b8225b8484cf67c523f" name="a1246bc208d2a3b8225b8484cf67c523f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1246bc208d2a3b8225b8484cf67c523f">&#9670;&#160;</a></span>RPC_CMDLINE_MAX_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_CMDLINE_MAX_SIZE&#160;&#160;&#160;(1024)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00047">47</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>

</div>
</div>
<a id="a3dc7a931eb797bd3ec3dcda81c9a1918" name="a3dc7a931eb797bd3ec3dcda81c9a1918"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dc7a931eb797bd3ec3dcda81c9a1918">&#9670;&#160;</a></span>RPC_FILE_MAX_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_FILE_MAX_SIZE&#160;&#160;&#160;(4096 * 64)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00044">44</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00289">rpc_file_read()</a>.</p>

</div>
</div>
<a id="a65b3c42c01ff6b971943ccbb3679566c" name="a65b3c42c01ff6b971943ccbb3679566c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65b3c42c01ff6b971943ccbb3679566c">&#9670;&#160;</a></span>RPC_FILE_MIN_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_FILE_MIN_SIZE&#160;&#160;&#160;(4096)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00041">41</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00289">rpc_file_read()</a>.</p>

</div>
</div>
<a id="aff37b3e4b3e6591fd1cd765f58ee0f9d" name="aff37b3e4b3e6591fd1cd765f58ee0f9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff37b3e4b3e6591fd1cd765f58ee0f9d">&#9670;&#160;</a></span>ustream_declare</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ustream_declare</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>us</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    us.stream.string_data   = <span class="keyword">true</span>;                       \</div>
<div class="line">    us.stream.r.buffer_len  = 4096;                       \</div>
<div class="line">    us.stream.r.max_buffers = <a class="code hl_define" href="#a3dc7a931eb797bd3ec3dcda81c9a1918">RPC_FILE_MAX_SIZE</a> / 4096;   \</div>
<div class="line">    us.stream.notify_read   = rpc_file_##name##_read_cb;  \</div>
<div class="line">    us.stream.notify_state  = rpc_file_##name##_state_cb; \</div>
<div class="line">    ustream_fd_init(&amp;us, fd);</div>
<div class="ttc" id="afile_8c_html_a3dc7a931eb797bd3ec3dcda81c9a1918"><div class="ttname"><a href="#a3dc7a931eb797bd3ec3dcda81c9a1918">RPC_FILE_MAX_SIZE</a></div><div class="ttdeci">#define RPC_FILE_MAX_SIZE</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00044">file.c:44</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00054">54</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   54</span><span class="preprocessor">#define ustream_declare(us, fd, name)                     \</span></div>
<div class="line"><span class="lineno">   55</span><span class="preprocessor">    us.stream.string_data   = true;                       \</span></div>
<div class="line"><span class="lineno">   56</span><span class="preprocessor">    us.stream.r.buffer_len  = 4096;                       \</span></div>
<div class="line"><span class="lineno">   57</span><span class="preprocessor">    us.stream.r.max_buffers = RPC_FILE_MAX_SIZE / 4096;   \</span></div>
<div class="line"><span class="lineno">   58</span><span class="preprocessor">    us.stream.notify_read   = rpc_file_##name##_read_cb;  \</span></div>
<div class="line"><span class="lineno">   59</span><span class="preprocessor">    us.stream.notify_state  = rpc_file_##name##_state_cb; \</span></div>
<div class="line"><span class="lineno">   60</span><span class="preprocessor">    ustream_fd_init(&amp;us, fd);</span></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00794">rpc_file_exec_run()</a>.</p>

</div>
</div>
<a id="aaa68607b6a06880cf4cdf21c8913ad42" name="aaa68607b6a06880cf4cdf21c8913ad42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa68607b6a06880cf4cdf21c8913ad42">&#9670;&#160;</a></span>ustream_for_each_read_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ustream_for_each_read_buffer</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>stream</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">for</span> (ptr = <a class="code hl_function" href="../../d6/d26/ustream_8c.html#af8718ea51e10ce9d433e4346110f0653">ustream_get_read_buf</a>(stream, &amp;len);     \</div>
<div class="line">         ptr != NULL &amp;&amp; len &gt; 0;                       \</div>
<div class="line">         ustream_consume(stream, len), ptr = <a class="code hl_function" href="../../d6/d26/ustream_8c.html#af8718ea51e10ce9d433e4346110f0653">ustream_get_read_buf</a>(stream, &amp;len))</div>
<div class="ttc" id="austream_8c_html_af8718ea51e10ce9d433e4346110f0653"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#af8718ea51e10ce9d433e4346110f0653">ustream_get_read_buf</a></div><div class="ttdeci">char * ustream_get_read_buf(struct ustream *s, int *buflen)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00334">ustream.c:334</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00049">49</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   49</span><span class="preprocessor">#define ustream_for_each_read_buffer(stream, ptr, len) \</span></div>
<div class="line"><span class="lineno">   50</span><span class="preprocessor">    for (ptr = ustream_get_read_buf(stream, &amp;len);     \</span></div>
<div class="line"><span class="lineno">   51</span><span class="preprocessor">         ptr != NULL &amp;&amp; len &gt; 0;                       \</span></div>
<div class="line"><span class="lineno">   52</span><span class="preprocessor">         ustream_consume(stream, len), ptr = ustream_get_read_buf(stream, &amp;len))</span></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../df/dc9/exec_8c_source.html#l00096">rpc_ustream_to_blobmsg()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00671">rpc_ustream_to_blobmsg()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aa7df87806f64f3b241c8cde9eb57cad5" name="aa7df87806f64f3b241c8cde9eb57cad5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7df87806f64f3b241c8cde9eb57cad5">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa7df87806f64f3b241c8cde9eb57cad5af1cd590a736f98325bfbc213be2c45ea" name="aa7df87806f64f3b241c8cde9eb57cad5af1cd590a736f98325bfbc213be2c45ea"></a>RPC_F_R_PATH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa7df87806f64f3b241c8cde9eb57cad5aefbb24d6324bb4b6022473ac1243589a" name="aa7df87806f64f3b241c8cde9eb57cad5aefbb24d6324bb4b6022473ac1243589a"></a>RPC_F_R_SESSION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa7df87806f64f3b241c8cde9eb57cad5af9ddd7dc53a6e1507cded0cffda62c25" name="aa7df87806f64f3b241c8cde9eb57cad5af9ddd7dc53a6e1507cded0cffda62c25"></a>__RPC_F_R_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00079">79</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   79</span>     {</div>
<div class="line"><span class="lineno">   80</span>    <a class="code hl_enumvalue" href="#aa7df87806f64f3b241c8cde9eb57cad5af1cd590a736f98325bfbc213be2c45ea">RPC_F_R_PATH</a>,</div>
<div class="line"><span class="lineno">   81</span>    <a class="code hl_enumvalue" href="#aa7df87806f64f3b241c8cde9eb57cad5aefbb24d6324bb4b6022473ac1243589a">RPC_F_R_SESSION</a>,</div>
<div class="line"><span class="lineno">   82</span>    <a class="code hl_enumvalue" href="#aa7df87806f64f3b241c8cde9eb57cad5af9ddd7dc53a6e1507cded0cffda62c25">__RPC_F_R_MAX</a>,</div>
<div class="line"><span class="lineno">   83</span>};</div>
<div class="ttc" id="afile_8c_html_aa7df87806f64f3b241c8cde9eb57cad5aefbb24d6324bb4b6022473ac1243589a"><div class="ttname"><a href="#aa7df87806f64f3b241c8cde9eb57cad5aefbb24d6324bb4b6022473ac1243589a">RPC_F_R_SESSION</a></div><div class="ttdeci">@ RPC_F_R_SESSION</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00081">file.c:81</a></div></div>
<div class="ttc" id="afile_8c_html_aa7df87806f64f3b241c8cde9eb57cad5af1cd590a736f98325bfbc213be2c45ea"><div class="ttname"><a href="#aa7df87806f64f3b241c8cde9eb57cad5af1cd590a736f98325bfbc213be2c45ea">RPC_F_R_PATH</a></div><div class="ttdeci">@ RPC_F_R_PATH</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00080">file.c:80</a></div></div>
<div class="ttc" id="afile_8c_html_aa7df87806f64f3b241c8cde9eb57cad5af9ddd7dc53a6e1507cded0cffda62c25"><div class="ttname"><a href="#aa7df87806f64f3b241c8cde9eb57cad5af9ddd7dc53a6e1507cded0cffda62c25">__RPC_F_R_MAX</a></div><div class="ttdeci">@ __RPC_F_R_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00082">file.c:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f1398dba5e4a5616b83437528bdb28e" name="a2f1398dba5e4a5616b83437528bdb28e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f1398dba5e4a5616b83437528bdb28e">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2f1398dba5e4a5616b83437528bdb28eaddda863cdd779997792ecdc2ee4f1499" name="a2f1398dba5e4a5616b83437528bdb28eaddda863cdd779997792ecdc2ee4f1499"></a>RPC_F_RB_PATH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2f1398dba5e4a5616b83437528bdb28ea3f2ca77b16198018f1b65fd4f97efcac" name="a2f1398dba5e4a5616b83437528bdb28ea3f2ca77b16198018f1b65fd4f97efcac"></a>RPC_F_RB_BASE64&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2f1398dba5e4a5616b83437528bdb28ea796487886f32ef861cd70a2fca3adce0" name="a2f1398dba5e4a5616b83437528bdb28ea796487886f32ef861cd70a2fca3adce0"></a>RPC_F_RB_SESSION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2f1398dba5e4a5616b83437528bdb28ea43d4cf9feeee6bffd84c8f06efca441a" name="a2f1398dba5e4a5616b83437528bdb28ea43d4cf9feeee6bffd84c8f06efca441a"></a>__RPC_F_RB_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00091">91</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   91</span>     {</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_enumvalue" href="#a2f1398dba5e4a5616b83437528bdb28eaddda863cdd779997792ecdc2ee4f1499">RPC_F_RB_PATH</a>,</div>
<div class="line"><span class="lineno">   93</span>    <a class="code hl_enumvalue" href="#a2f1398dba5e4a5616b83437528bdb28ea3f2ca77b16198018f1b65fd4f97efcac">RPC_F_RB_BASE64</a>,</div>
<div class="line"><span class="lineno">   94</span>    <a class="code hl_enumvalue" href="#a2f1398dba5e4a5616b83437528bdb28ea796487886f32ef861cd70a2fca3adce0">RPC_F_RB_SESSION</a>,</div>
<div class="line"><span class="lineno">   95</span>    <a class="code hl_enumvalue" href="#a2f1398dba5e4a5616b83437528bdb28ea43d4cf9feeee6bffd84c8f06efca441a">__RPC_F_RB_MAX</a>,</div>
<div class="line"><span class="lineno">   96</span>};</div>
<div class="ttc" id="afile_8c_html_a2f1398dba5e4a5616b83437528bdb28ea3f2ca77b16198018f1b65fd4f97efcac"><div class="ttname"><a href="#a2f1398dba5e4a5616b83437528bdb28ea3f2ca77b16198018f1b65fd4f97efcac">RPC_F_RB_BASE64</a></div><div class="ttdeci">@ RPC_F_RB_BASE64</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00093">file.c:93</a></div></div>
<div class="ttc" id="afile_8c_html_a2f1398dba5e4a5616b83437528bdb28ea43d4cf9feeee6bffd84c8f06efca441a"><div class="ttname"><a href="#a2f1398dba5e4a5616b83437528bdb28ea43d4cf9feeee6bffd84c8f06efca441a">__RPC_F_RB_MAX</a></div><div class="ttdeci">@ __RPC_F_RB_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00095">file.c:95</a></div></div>
<div class="ttc" id="afile_8c_html_a2f1398dba5e4a5616b83437528bdb28ea796487886f32ef861cd70a2fca3adce0"><div class="ttname"><a href="#a2f1398dba5e4a5616b83437528bdb28ea796487886f32ef861cd70a2fca3adce0">RPC_F_RB_SESSION</a></div><div class="ttdeci">@ RPC_F_RB_SESSION</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00094">file.c:94</a></div></div>
<div class="ttc" id="afile_8c_html_a2f1398dba5e4a5616b83437528bdb28eaddda863cdd779997792ecdc2ee4f1499"><div class="ttname"><a href="#a2f1398dba5e4a5616b83437528bdb28eaddda863cdd779997792ecdc2ee4f1499">RPC_F_RB_PATH</a></div><div class="ttdeci">@ RPC_F_RB_PATH</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00092">file.c:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeac2de18c0ed342a690b3e2ba3c52426" name="aeac2de18c0ed342a690b3e2ba3c52426"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeac2de18c0ed342a690b3e2ba3c52426">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aeac2de18c0ed342a690b3e2ba3c52426a73aadb856e5a9d90bcb0e59202cd090d" name="aeac2de18c0ed342a690b3e2ba3c52426a73aadb856e5a9d90bcb0e59202cd090d"></a>RPC_F_RW_PATH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aeac2de18c0ed342a690b3e2ba3c52426a5072ac601adf12eac070b1672fa72ca9" name="aeac2de18c0ed342a690b3e2ba3c52426a5072ac601adf12eac070b1672fa72ca9"></a>RPC_F_RW_DATA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aeac2de18c0ed342a690b3e2ba3c52426abb9d8862e0c2b76991c1b6f052a62c6b" name="aeac2de18c0ed342a690b3e2ba3c52426abb9d8862e0c2b76991c1b6f052a62c6b"></a>RPC_F_RW_APPEND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aeac2de18c0ed342a690b3e2ba3c52426a94d4a23f9fce32831ddf24f9bb748787" name="aeac2de18c0ed342a690b3e2ba3c52426a94d4a23f9fce32831ddf24f9bb748787"></a>RPC_F_RW_MODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aeac2de18c0ed342a690b3e2ba3c52426afd3e17fb562d13d8ce20a1b41dbe456e" name="aeac2de18c0ed342a690b3e2ba3c52426afd3e17fb562d13d8ce20a1b41dbe456e"></a>RPC_F_RW_BASE64&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aeac2de18c0ed342a690b3e2ba3c52426a3d9f5643f9cc44bc226421fcfe133ce8" name="aeac2de18c0ed342a690b3e2ba3c52426a3d9f5643f9cc44bc226421fcfe133ce8"></a>RPC_F_RW_SESSION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aeac2de18c0ed342a690b3e2ba3c52426a2869661700c56605932b0082e157b527" name="aeac2de18c0ed342a690b3e2ba3c52426a2869661700c56605932b0082e157b527"></a>__RPC_F_RW_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00105">105</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  105</span>     {</div>
<div class="line"><span class="lineno">  106</span>    <a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a73aadb856e5a9d90bcb0e59202cd090d">RPC_F_RW_PATH</a>,</div>
<div class="line"><span class="lineno">  107</span>    <a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a5072ac601adf12eac070b1672fa72ca9">RPC_F_RW_DATA</a>,</div>
<div class="line"><span class="lineno">  108</span>    <a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426abb9d8862e0c2b76991c1b6f052a62c6b">RPC_F_RW_APPEND</a>,</div>
<div class="line"><span class="lineno">  109</span>    <a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a94d4a23f9fce32831ddf24f9bb748787">RPC_F_RW_MODE</a>,</div>
<div class="line"><span class="lineno">  110</span>    <a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426afd3e17fb562d13d8ce20a1b41dbe456e">RPC_F_RW_BASE64</a>,</div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a3d9f5643f9cc44bc226421fcfe133ce8">RPC_F_RW_SESSION</a>,</div>
<div class="line"><span class="lineno">  112</span>    <a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a2869661700c56605932b0082e157b527">__RPC_F_RW_MAX</a>,</div>
<div class="line"><span class="lineno">  113</span>};</div>
<div class="ttc" id="afile_8c_html_aeac2de18c0ed342a690b3e2ba3c52426a2869661700c56605932b0082e157b527"><div class="ttname"><a href="#aeac2de18c0ed342a690b3e2ba3c52426a2869661700c56605932b0082e157b527">__RPC_F_RW_MAX</a></div><div class="ttdeci">@ __RPC_F_RW_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00112">file.c:112</a></div></div>
<div class="ttc" id="afile_8c_html_aeac2de18c0ed342a690b3e2ba3c52426a3d9f5643f9cc44bc226421fcfe133ce8"><div class="ttname"><a href="#aeac2de18c0ed342a690b3e2ba3c52426a3d9f5643f9cc44bc226421fcfe133ce8">RPC_F_RW_SESSION</a></div><div class="ttdeci">@ RPC_F_RW_SESSION</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00111">file.c:111</a></div></div>
<div class="ttc" id="afile_8c_html_aeac2de18c0ed342a690b3e2ba3c52426a5072ac601adf12eac070b1672fa72ca9"><div class="ttname"><a href="#aeac2de18c0ed342a690b3e2ba3c52426a5072ac601adf12eac070b1672fa72ca9">RPC_F_RW_DATA</a></div><div class="ttdeci">@ RPC_F_RW_DATA</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00107">file.c:107</a></div></div>
<div class="ttc" id="afile_8c_html_aeac2de18c0ed342a690b3e2ba3c52426a73aadb856e5a9d90bcb0e59202cd090d"><div class="ttname"><a href="#aeac2de18c0ed342a690b3e2ba3c52426a73aadb856e5a9d90bcb0e59202cd090d">RPC_F_RW_PATH</a></div><div class="ttdeci">@ RPC_F_RW_PATH</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00106">file.c:106</a></div></div>
<div class="ttc" id="afile_8c_html_aeac2de18c0ed342a690b3e2ba3c52426a94d4a23f9fce32831ddf24f9bb748787"><div class="ttname"><a href="#aeac2de18c0ed342a690b3e2ba3c52426a94d4a23f9fce32831ddf24f9bb748787">RPC_F_RW_MODE</a></div><div class="ttdeci">@ RPC_F_RW_MODE</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00109">file.c:109</a></div></div>
<div class="ttc" id="afile_8c_html_aeac2de18c0ed342a690b3e2ba3c52426abb9d8862e0c2b76991c1b6f052a62c6b"><div class="ttname"><a href="#aeac2de18c0ed342a690b3e2ba3c52426abb9d8862e0c2b76991c1b6f052a62c6b">RPC_F_RW_APPEND</a></div><div class="ttdeci">@ RPC_F_RW_APPEND</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00108">file.c:108</a></div></div>
<div class="ttc" id="afile_8c_html_aeac2de18c0ed342a690b3e2ba3c52426afd3e17fb562d13d8ce20a1b41dbe456e"><div class="ttname"><a href="#aeac2de18c0ed342a690b3e2ba3c52426afd3e17fb562d13d8ce20a1b41dbe456e">RPC_F_RW_BASE64</a></div><div class="ttdeci">@ RPC_F_RW_BASE64</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00110">file.c:110</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ac0b7994a7d738aa77d2c1cfe8d6d13" name="a0ac0b7994a7d738aa77d2c1cfe8d6d13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0ac0b7994a7d738aa77d2c1cfe8d6d13a8fda17b9be87856327d2e3510c7d9440" name="a0ac0b7994a7d738aa77d2c1cfe8d6d13a8fda17b9be87856327d2e3510c7d9440"></a>RPC_E_CMD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0ac0b7994a7d738aa77d2c1cfe8d6d13a7ac31ccb08283efd91441a84251a6bff" name="a0ac0b7994a7d738aa77d2c1cfe8d6d13a7ac31ccb08283efd91441a84251a6bff"></a>RPC_E_PARM&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0ac0b7994a7d738aa77d2c1cfe8d6d13a0d0a0fc24ea955c0a16d28a957d4ff59" name="a0ac0b7994a7d738aa77d2c1cfe8d6d13a0d0a0fc24ea955c0a16d28a957d4ff59"></a>RPC_E_ENV&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0ac0b7994a7d738aa77d2c1cfe8d6d13a97101a358810d7f7d74ed83d9bd6f65b" name="a0ac0b7994a7d738aa77d2c1cfe8d6d13a97101a358810d7f7d74ed83d9bd6f65b"></a>RPC_E_SESSION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0ac0b7994a7d738aa77d2c1cfe8d6d13a496d49418c994dc4238417b2889603f3" name="a0ac0b7994a7d738aa77d2c1cfe8d6d13a496d49418c994dc4238417b2889603f3"></a>__RPC_E_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00125">125</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  125</span>     {</div>
<div class="line"><span class="lineno">  126</span>    <a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a8fda17b9be87856327d2e3510c7d9440">RPC_E_CMD</a>,</div>
<div class="line"><span class="lineno">  127</span>    <a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a7ac31ccb08283efd91441a84251a6bff">RPC_E_PARM</a>,</div>
<div class="line"><span class="lineno">  128</span>    <a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a0d0a0fc24ea955c0a16d28a957d4ff59">RPC_E_ENV</a>,</div>
<div class="line"><span class="lineno">  129</span>    <a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a97101a358810d7f7d74ed83d9bd6f65b">RPC_E_SESSION</a>,</div>
<div class="line"><span class="lineno">  130</span>    <a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a496d49418c994dc4238417b2889603f3">__RPC_E_MAX</a>,</div>
<div class="line"><span class="lineno">  131</span>};</div>
<div class="ttc" id="afile_8c_html_a0ac0b7994a7d738aa77d2c1cfe8d6d13a0d0a0fc24ea955c0a16d28a957d4ff59"><div class="ttname"><a href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a0d0a0fc24ea955c0a16d28a957d4ff59">RPC_E_ENV</a></div><div class="ttdeci">@ RPC_E_ENV</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00128">file.c:128</a></div></div>
<div class="ttc" id="afile_8c_html_a0ac0b7994a7d738aa77d2c1cfe8d6d13a496d49418c994dc4238417b2889603f3"><div class="ttname"><a href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a496d49418c994dc4238417b2889603f3">__RPC_E_MAX</a></div><div class="ttdeci">@ __RPC_E_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00130">file.c:130</a></div></div>
<div class="ttc" id="afile_8c_html_a0ac0b7994a7d738aa77d2c1cfe8d6d13a7ac31ccb08283efd91441a84251a6bff"><div class="ttname"><a href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a7ac31ccb08283efd91441a84251a6bff">RPC_E_PARM</a></div><div class="ttdeci">@ RPC_E_PARM</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00127">file.c:127</a></div></div>
<div class="ttc" id="afile_8c_html_a0ac0b7994a7d738aa77d2c1cfe8d6d13a8fda17b9be87856327d2e3510c7d9440"><div class="ttname"><a href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a8fda17b9be87856327d2e3510c7d9440">RPC_E_CMD</a></div><div class="ttdeci">@ RPC_E_CMD</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00126">file.c:126</a></div></div>
<div class="ttc" id="afile_8c_html_a0ac0b7994a7d738aa77d2c1cfe8d6d13a97101a358810d7f7d74ed83d9bd6f65b"><div class="ttname"><a href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a97101a358810d7f7d74ed83d9bd6f65b">RPC_E_SESSION</a></div><div class="ttdeci">@ RPC_E_SESSION</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00129">file.c:129</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4790cd1e55f187a8d1a92b9219a29e81" name="a4790cd1e55f187a8d1a92b9219a29e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4790cd1e55f187a8d1a92b9219a29e81">&#9670;&#160;</a></span>__rpc_check_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> ** __rpc_check_path </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> *</td>          <td class="paramname"><span class="paramname"><em>policy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>policy_len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>policy_path_idx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>policy_sid_idx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>perm</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct stat *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00247">247</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  250</span>{</div>
<div class="line"><span class="lineno">  251</span>    <span class="keyword">static</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb[<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a2869661700c56605932b0082e157b527">__RPC_F_RW_MAX</a>]; <span class="comment">/* largest _MAX constant */</span></div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(policy, policy_len, tb, <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a>(msg), <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(msg));</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordflow">if</span> (!tb[policy_path_idx])</div>
<div class="line"><span class="lineno">  256</span>    {</div>
<div class="line"><span class="lineno">  257</span>        errno = EINVAL;</div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  259</span>    }</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>    *<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a> = <a class="code hl_function" href="#ac259ea54734cbe6c4939e9294905d68c">rpc_canonicalize_path</a>(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603">blobmsg_get_string</a>(tb[policy_path_idx]));</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>    <span class="keywordflow">if</span> (*<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a> == NULL)</div>
<div class="line"><span class="lineno">  264</span>    {</div>
<div class="line"><span class="lineno">  265</span>        errno = ENOMEM;</div>
<div class="line"><span class="lineno">  266</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  267</span>    }</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a912dfa3f13bfac0066df14de1019ad40">rpc_file_access</a>(tb[policy_sid_idx], *<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, perm))</div>
<div class="line"><span class="lineno">  270</span>    {</div>
<div class="line"><span class="lineno">  271</span>        errno = EACCES;</div>
<div class="line"><span class="lineno">  272</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  273</span>    }</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>    <span class="keywordflow">if</span> (s != NULL &amp;&amp; stat(*<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, s) != 0)</div>
<div class="line"><span class="lineno">  276</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordflow">return</span> tb;</div>
<div class="line"><span class="lineno">  279</span>}</div>
<div class="ttc" id="ablob_8h_html_a66e0b636bd2bbafbf8701a1e91bbf857"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a></div><div class="ttdeci">static void * blob_data(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00075">blob.h:75</a></div></div>
<div class="ttc" id="ablob_8h_html_a9921d2b89577d3344abbb66f24773e32"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a></div><div class="ttdeci">static size_t blob_len(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00100">blob.h:100</a></div></div>
<div class="ttc" id="ablob_8h_html_dc/dd9/structblob__attr"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a></div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00052">blob.h:52</a></div></div>
<div class="ttc" id="ablobmsg_8c_html_afb56b36905412b6618a529c171e833ed"><div class="ttname"><a href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a></div><div class="ttdeci">int blobmsg_parse(const struct blobmsg_policy *policy, int policy_len, struct blob_attr **tb, void *data, unsigned int len)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg.c:166</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a6c1cc8e52e96bf9698f6b0f65ad48603"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603">blobmsg_get_string</a></div><div class="ttdeci">static char * blobmsg_get_string(struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00348">blobmsg.h:348</a></div></div>
<div class="ttc" id="afile_8c_html_a912dfa3f13bfac0066df14de1019ad40"><div class="ttname"><a href="#a912dfa3f13bfac0066df14de1019ad40">rpc_file_access</a></div><div class="ttdeci">static bool rpc_file_access(const struct blob_attr *sid, const char *path, const char *perm)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00176">file.c:176</a></div></div>
<div class="ttc" id="afile_8c_html_ac259ea54734cbe6c4939e9294905d68c"><div class="ttname"><a href="#ac259ea54734cbe6c4939e9294905d68c">rpc_canonicalize_path</a></div><div class="ttdeci">static char * rpc_canonicalize_path(const char *path)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00186">file.c:186</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d13/file_8c_source.html#l00112">__RPC_F_RW_MAX</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00075">blob_data()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00348">blobmsg_get_string()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00186">rpc_canonicalize_path()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00176">rpc_file_access()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_a4790cd1e55f187a8d1a92b9219a29e81_cgraph.png" border="0" usemap="#ad6/d13/file_8c_a4790cd1e55f187a8d1a92b9219a29e81_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_a4790cd1e55f187a8d1a92b9219a29e81_cgraph" id="ad6/d13/file_8c_a4790cd1e55f187a8d1a92b9219a29e81_cgraph">
<area shape="rect" title=" " alt="" coords="5,513,189,546"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1313,479,1424,513"/>
<area shape="poly" title=" " alt="" coords="116,545,166,593,200,617,238,636,294,656,343,668,387,673,428,675,517,670,629,665,914,665,975,661,1037,649,1096,632,1153,610,1254,562,1327,519,1330,524,1256,567,1155,615,1098,637,1038,655,976,666,914,671,629,671,517,675,429,680,386,679,342,673,292,661,236,641,198,622,163,597,112,549"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1100,167,1199,201"/>
<area shape="poly" title=" " alt="" coords="98,512,109,455,133,377,151,336,173,296,201,259,235,227,336,161,383,136,429,117,474,103,518,93,606,85,698,90,795,104,1026,143,1091,159,1089,164,1025,148,795,109,697,95,606,91,519,98,475,108,431,122,386,141,339,165,238,232,205,262,178,298,155,338,138,379,114,457,103,513"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="529,487,732,521"/>
<area shape="poly" title=" " alt="" coords="189,523,513,507,513,512,189,528"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="268,242,430,276"/>
<area shape="poly" title=" " alt="" coords="112,510,319,285,323,289,116,514"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ac259ea54734cbe6c4939e9294905d68c" title=" " alt="" coords="237,593,461,626"/>
<area shape="poly" title=" " alt="" coords="153,544,280,585,278,590,152,549"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a912dfa3f13bfac0066df14de1019ad40" title=" " alt="" coords="551,597,710,630"/>
<area shape="poly" title=" " alt="" coords="189,538,461,578,536,591,535,597,461,583,189,543"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1074,479,1225,513"/>
<area shape="poly" title=" " alt="" coords="733,500,1058,495,1058,500,733,505"/>
<area shape="poly" title=" " alt="" coords="1226,493,1297,493,1297,499,1226,499"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1278,219,1459,253"/>
<area shape="poly" title=" " alt="" coords="1152,478,1165,435,1189,377,1223,315,1246,287,1271,262,1275,259,1278,264,1275,266,1250,290,1228,318,1193,379,1170,437,1157,480"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1283,379,1453,413"/>
<area shape="poly" title=" " alt="" coords="1187,476,1314,417,1317,422,1189,481"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1273,277,1463,310"/>
<area shape="poly" title=" " alt="" coords="1163,477,1210,426,1271,365,1329,318,1332,322,1275,369,1214,429,1167,481"/>
<area shape="poly" title=" " alt="" coords="356,276,372,329,401,401,421,439,446,474,476,506,510,531,540,537,603,542,792,544,1019,538,1225,523,1297,511,1298,516,1225,528,1020,543,792,549,602,547,540,543,508,536,472,510,442,478,417,441,396,403,367,331,351,277"/>
<area shape="poly" title=" " alt="" coords="371,239,431,196,508,150,586,111,649,85,714,65,800,48,921,23,1019,5,1065,3,1114,9,1167,23,1226,48,1250,63,1272,80,1309,122,1337,166,1356,204,1352,206,1332,169,1304,125,1268,84,1247,67,1224,53,1165,28,1113,14,1065,8,1019,10,922,28,801,53,716,70,651,90,588,116,510,155,434,200,374,244"/>
<area shape="poly" title=" " alt="" coords="389,239,445,217,508,196,654,167,800,143,866,134,924,122,1025,101,1072,98,1120,103,1171,121,1227,153,1240,165,1248,179,1253,208,1257,237,1263,250,1275,264,1277,266,1274,270,1271,267,1259,253,1252,238,1248,209,1243,181,1236,169,1223,157,1169,125,1119,108,1072,103,1025,106,925,127,867,139,801,148,655,173,510,201,447,222,391,244"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="869,158,957,192"/>
<area shape="poly" title=" " alt="" coords="430,244,854,181,854,186,431,249"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="509,273,752,306"/>
<area shape="poly" title=" " alt="" coords="431,265,494,272,493,277,430,270"/>
<area shape="poly" title=" " alt="" coords="661,305,724,339,801,374,864,390,915,395,966,402,994,411,1027,424,1042,434,1052,444,1075,465,1085,470,1082,475,1072,469,1048,448,1039,438,1024,429,993,416,965,407,914,400,863,395,799,379,722,344,659,309"/>
<area shape="poly" title=" " alt="" coords="695,270,751,245,765,234,774,223,784,211,799,201,826,189,854,181,855,186,828,194,802,205,787,215,778,226,769,238,754,249,697,275"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="826,439,1000,473"/>
<area shape="poly" title=" " alt="" coords="651,305,715,360,757,391,802,418,832,431,830,436,799,423,754,395,712,364,648,309"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="842,215,984,249"/>
<area shape="poly" title=" " alt="" coords="717,269,827,247,828,252,718,275"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="800,273,1026,306"/>
<area shape="poly" title=" " alt="" coords="753,287,785,287,785,292,753,292"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="819,330,1007,364"/>
<area shape="poly" title=" " alt="" coords="718,304,812,324,811,329,717,310"/>
<area shape="poly" title=" " alt="" coords="983,215,1084,195,1085,200,984,221"/>
<area shape="poly" title=" " alt="" coords="1004,304,1027,315,1043,328,1052,341,1061,354,1075,366,1114,385,1148,394,1183,401,1226,415,1280,442,1328,469,1325,473,1277,446,1224,420,1182,406,1147,399,1112,390,1072,370,1057,357,1048,344,1039,332,1024,320,1002,309"/>
<area shape="poly" title=" " alt="" coords="1000,270,1024,259,1039,250,1048,240,1072,218,1093,206,1095,211,1075,222,1052,244,1042,254,1027,264,1002,274"/>
<area shape="poly" title=" " alt="" coords="1026,274,1262,246,1262,251,1026,279"/>
<area shape="poly" title=" " alt="" coords="989,304,1279,373,1278,378,988,310"/>
<area shape="poly" title=" " alt="" coords="1026,288,1258,290,1258,295,1026,293"/>
<area shape="poly" title=" " alt="" coords="976,362,1027,380,1051,394,1075,407,1192,448,1298,478,1297,483,1190,453,1073,412,1048,399,1025,385,974,367"/>
<area shape="poly" title=" " alt="" coords="1003,327,1024,317,1056,294,1084,266,1127,212,1131,216,1088,270,1059,298,1027,321,1005,332"/>
<area shape="poly" title=" " alt="" coords="993,362,1027,381,1045,400,1053,420,1060,439,1076,458,1090,469,1087,474,1072,462,1056,441,1048,422,1040,403,1024,385,991,366"/>
<area shape="poly" title=" " alt="" coords="708,593,1058,514,1059,519,709,599"/>
</map>
</div>

</div>
</div>
<a id="a51c9c23f8191aee204d7889096e34688" name="a51c9c23f8191aee204d7889096e34688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51c9c23f8191aee204d7889096e34688">&#9670;&#160;</a></span>_rpc_file_add_stat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _rpc_file_add_stat </td>
          <td>(</td>
          <td class="paramtype">struct stat *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00465">465</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  466</span>{</div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../dd/d8f/udebug-proto_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>    <a class="code hl_variable" href="../../dd/d8f/udebug-proto_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a> = S_ISREG(s-&gt;st_mode) ? DT_REG :</div>
<div class="line"><span class="lineno">  470</span>            S_ISDIR(s-&gt;st_mode) ? DT_DIR :</div>
<div class="line"><span class="lineno">  471</span>             S_ISCHR(s-&gt;st_mode) ? DT_CHR :</div>
<div class="line"><span class="lineno">  472</span>              S_ISBLK(s-&gt;st_mode) ? DT_BLK :</div>
<div class="line"><span class="lineno">  473</span>               S_ISFIFO(s-&gt;st_mode) ? DT_FIFO :</div>
<div class="line"><span class="lineno">  474</span>                S_ISLNK(s-&gt;st_mode) ? DT_LNK :</div>
<div class="line"><span class="lineno">  475</span>                 S_ISSOCK(s-&gt;st_mode) ? DT_SOCK :</div>
<div class="line"><span class="lineno">  476</span>                  DT_UNKNOWN;</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6">blobmsg_add_string</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;type&quot;</span>, <a class="code hl_variable" href="#a297d9b009215d9223bca75fa0438b956">d_types</a>[<a class="code hl_variable" href="../../dd/d8f/udebug-proto_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>]);</div>
<div class="line"><span class="lineno">  479</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393">blobmsg_add_u32</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;size&quot;</span>,  s-&gt;st_size);</div>
<div class="line"><span class="lineno">  480</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393">blobmsg_add_u32</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;mode&quot;</span>,  s-&gt;st_mode);</div>
<div class="line"><span class="lineno">  481</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393">blobmsg_add_u32</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;atime&quot;</span>, s-&gt;st_atime);</div>
<div class="line"><span class="lineno">  482</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393">blobmsg_add_u32</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;mtime&quot;</span>, s-&gt;st_mtime);</div>
<div class="line"><span class="lineno">  483</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393">blobmsg_add_u32</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;ctime&quot;</span>, s-&gt;st_ctime);</div>
<div class="line"><span class="lineno">  484</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393">blobmsg_add_u32</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;inode&quot;</span>, s-&gt;st_ino);</div>
<div class="line"><span class="lineno">  485</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393">blobmsg_add_u32</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;uid&quot;</span>,   s-&gt;st_uid);</div>
<div class="line"><span class="lineno">  486</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393">blobmsg_add_u32</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;gid&quot;</span>,   s-&gt;st_gid);</div>
<div class="line"><span class="lineno">  487</span>}</div>
<div class="ttc" id="ablobmsg_8h_html_a4bba0979961750f86b8dc9915b2fa4d6"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6">blobmsg_add_string</a></div><div class="ttdeci">static int blobmsg_add_string(struct blob_buf *buf, const char *name, const char *string)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00235">blobmsg.h:235</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_afcf08162affe766f0f1c9dd641c7b393"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393">blobmsg_add_u32</a></div><div class="ttdeci">static int blobmsg_add_u32(struct blob_buf *buf, const char *name, uint32_t val)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00221">blobmsg.h:221</a></div></div>
<div class="ttc" id="afile_8c_html_a297d9b009215d9223bca75fa0438b956"><div class="ttname"><a href="#a297d9b009215d9223bca75fa0438b956">d_types</a></div><div class="ttdeci">static const char * d_types[]</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00141">file.c:141</a></div></div>
<div class="ttc" id="afile_8c_html_ab88af8f0f3e8ddaf6aa2623d0b84813c"><div class="ttname"><a href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a></div><div class="ttdeci">static struct blob_buf buf</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00075">file.c:75</a></div></div>
<div class="ttc" id="audebug-proto_8h_html_a1d127017fb298b889f4ba24752d08b8e"><div class="ttname"><a href="../../dd/d8f/udebug-proto_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a></div><div class="ttdeci">uint8_t type</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d8f/udebug-proto_8h_source.html#l00000">udebug-proto.h:0</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00235">blobmsg_add_string()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00221">blobmsg_add_u32()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00075">buf</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00141">d_types</a>, and <a class="el" href="../../dd/d8f/udebug-proto_8h_source.html#l00000">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00490">rpc_file_list()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00538">rpc_file_stat()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_a51c9c23f8191aee204d7889096e34688_cgraph.png" border="0" usemap="#ad6/d13/file_8c_a51c9c23f8191aee204d7889096e34688_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_a51c9c23f8191aee204d7889096e34688_cgraph" id="ad6/d13/file_8c_a51c9c23f8191aee204d7889096e34688_cgraph">
<area shape="rect" title=" " alt="" coords="5,259,191,292"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="239,229,447,263"/>
<area shape="poly" title=" " alt="" coords="191,262,223,258,224,263,192,267"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393" title=" " alt="" coords="248,287,438,320"/>
<area shape="poly" title=" " alt="" coords="192,283,233,288,232,294,191,289"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="495,259,689,292"/>
<area shape="poly" title=" " alt="" coords="448,256,480,260,479,265,447,261"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="737,259,886,292"/>
<area shape="poly" title=" " alt="" coords="690,273,722,273,722,278,690,278"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1173,229,1284,263"/>
<area shape="poly" title=" " alt="" coords="886,268,1157,248,1158,254,886,273"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aee908e6de67c16a4d810d08f28ed1803" title=" " alt="" coords="955,115,1064,148"/>
<area shape="poly" title=" " alt="" coords="835,256,971,156,974,160,838,260"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="934,287,1085,320"/>
<area shape="poly" title=" " alt="" coords="886,283,918,288,918,293,886,289"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1143,401,1313,435"/>
<area shape="poly" title=" " alt="" coords="847,290,935,330,1041,366,1141,394,1140,400,1040,371,933,335,844,295"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1176,172,1281,206"/>
<area shape="poly" title=" " alt="" coords="1065,143,1161,169,1160,174,1063,148"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1575,60,1717,94"/>
<area shape="poly" title=" " alt="" coords="1063,114,1133,100,1248,87,1363,79,1559,74,1559,79,1364,84,1248,92,1133,105,1064,119"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac9fd36cdb87493b31a675621ed53a8d7" title=" " alt="" coords="1393,5,1505,39"/>
<area shape="poly" title=" " alt="" coords="1031,112,1076,82,1132,56,1196,39,1261,28,1378,19,1378,24,1262,33,1197,44,1134,61,1079,87,1034,117"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1139,115,1317,148"/>
<area shape="poly" title=" " alt="" coords="1064,129,1124,129,1124,134,1064,134"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1575,183,1717,216"/>
<area shape="poly" title=" " alt="" coords="1281,187,1559,195,1559,200,1281,193"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1371,224,1527,258"/>
<area shape="poly" title=" " alt="" coords="1282,199,1360,217,1359,222,1281,204"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1575,265,1717,299"/>
<area shape="poly" title=" " alt="" coords="1282,196,1325,215,1340,229,1349,243,1357,257,1373,268,1418,284,1466,292,1514,294,1559,292,1559,298,1514,299,1466,297,1417,289,1370,273,1354,260,1344,246,1336,232,1322,219,1280,201"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1381,115,1517,148"/>
<area shape="poly" title=" " alt="" coords="1281,173,1366,150,1367,155,1282,178"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1399,333,1499,367"/>
<area shape="poly" title=" " alt="" coords="1282,194,1305,202,1325,215,1344,239,1351,264,1357,288,1373,312,1387,323,1384,328,1369,316,1352,290,1346,265,1339,242,1322,219,1302,207,1281,199"/>
<area shape="poly" title=" " alt="" coords="1527,222,1559,215,1560,220,1528,227"/>
<area shape="poly" title=" " alt="" coords="1528,255,1560,262,1559,267,1527,260"/>
<area shape="poly" title=" " alt="" coords="1512,111,1567,96,1569,101,1513,117"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1765,88,1906,122"/>
<area shape="poly" title=" " alt="" coords="1517,124,1749,108,1750,113,1518,129"/>
<area shape="poly" title=" " alt="" coords="1718,85,1750,89,1749,95,1717,90"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1954,88,2053,122"/>
<area shape="poly" title=" " alt="" coords="1907,102,1939,102,1939,108,1907,108"/>
<area shape="poly" title=" " alt="" coords="1506,35,1569,53,1567,58,1504,40"/>
<area shape="poly" title=" " alt="" coords="1075,284,1157,262,1158,267,1077,289"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1138,287,1319,320"/>
<area shape="poly" title=" " alt="" coords="1086,301,1122,301,1122,306,1086,306"/>
<area shape="poly" title=" " alt="" coords="1032,319,1077,353,1134,388,1145,393,1143,398,1132,393,1074,358,1029,323"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1133,344,1323,378"/>
<area shape="poly" title=" " alt="" coords="1077,318,1147,337,1146,342,1075,323"/>
<area shape="poly" title=" " alt="" coords="438,290,479,285,480,291,439,295"/>
</map>
</div>

</div>
</div>
<a id="ac259ea54734cbe6c4939e9294905d68c" name="ac259ea54734cbe6c4939e9294905d68c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac259ea54734cbe6c4939e9294905d68c">&#9670;&#160;</a></span>rpc_canonicalize_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * rpc_canonicalize_path </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00186">186</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  187</span>{</div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordtype">char</span> *cp;</div>
<div class="line"><span class="lineno">  189</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a> == NULL || *<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a> == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><span class="lineno">  192</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#adc370b42a7f2f59d2d19a4a3cd47ce59">canonpath</a> != NULL)</div>
<div class="line"><span class="lineno">  195</span>        free(<a class="code hl_variable" href="#adc370b42a7f2f59d2d19a4a3cd47ce59">canonpath</a>);</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>    <a class="code hl_variable" href="#adc370b42a7f2f59d2d19a4a3cd47ce59">canonpath</a> = strdup(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>);</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#adc370b42a7f2f59d2d19a4a3cd47ce59">canonpath</a> == NULL)</div>
<div class="line"><span class="lineno">  200</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    <span class="comment">/* normalize */</span></div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">for</span> (cp = <a class="code hl_variable" href="#adc370b42a7f2f59d2d19a4a3cd47ce59">canonpath</a>, p = <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>; *p != <span class="charliteral">&#39;\0&#39;</span>; ) {</div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">if</span> (*p != <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno">  205</span>            <span class="keywordflow">goto</span> next;</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>        <span class="comment">/* skip repeating / */</span></div>
<div class="line"><span class="lineno">  208</span>        <span class="keywordflow">if</span> (p[1] == <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><span class="lineno">  209</span>            p++;</div>
<div class="line"><span class="lineno">  210</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  211</span>        }</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span>        <span class="comment">/* /./ or /../ */</span></div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">if</span> (p[1] == <span class="charliteral">&#39;.&#39;</span>) {</div>
<div class="line"><span class="lineno">  215</span>            <span class="comment">/* skip /./ */</span></div>
<div class="line"><span class="lineno">  216</span>            <span class="keywordflow">if</span> ((p[2] == <span class="charliteral">&#39;\0&#39;</span>) || (p[2] == <span class="charliteral">&#39;/&#39;</span>)) {</div>
<div class="line"><span class="lineno">  217</span>                p += 2;</div>
<div class="line"><span class="lineno">  218</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  219</span>            }</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>            <span class="comment">/* collapse /x/../ */</span></div>
<div class="line"><span class="lineno">  222</span>            <span class="keywordflow">if</span> ((p[2] == <span class="charliteral">&#39;.&#39;</span>) &amp;&amp; ((p[3] == <span class="charliteral">&#39;\0&#39;</span>) || (p[3] == <span class="charliteral">&#39;/&#39;</span>))) {</div>
<div class="line"><span class="lineno">  223</span>                <span class="keywordflow">while</span> ((cp &gt; <a class="code hl_variable" href="#adc370b42a7f2f59d2d19a4a3cd47ce59">canonpath</a>) &amp;&amp; (*--cp != <span class="charliteral">&#39;/&#39;</span>))</div>
<div class="line"><span class="lineno">  224</span>                    ;</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>                p += 3;</div>
<div class="line"><span class="lineno">  227</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  228</span>            }</div>
<div class="line"><span class="lineno">  229</span>        }</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>next:</div>
<div class="line"><span class="lineno">  232</span>        *cp++ = *p++;</div>
<div class="line"><span class="lineno">  233</span>    }</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>    <span class="comment">/* remove trailing slash if not root / */</span></div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">if</span> ((cp &gt; <a class="code hl_variable" href="#adc370b42a7f2f59d2d19a4a3cd47ce59">canonpath</a> + 1) &amp;&amp; (cp[-1] == <span class="charliteral">&#39;/&#39;</span>))</div>
<div class="line"><span class="lineno">  237</span>        cp--;</div>
<div class="line"><span class="lineno">  238</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cp == <a class="code hl_variable" href="#adc370b42a7f2f59d2d19a4a3cd47ce59">canonpath</a>)</div>
<div class="line"><span class="lineno">  239</span>        *cp++ = <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>    *cp = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="#adc370b42a7f2f59d2d19a4a3cd47ce59">canonpath</a>;</div>
<div class="line"><span class="lineno">  244</span>}</div>
<div class="ttc" id="afile_8c_html_adc370b42a7f2f59d2d19a4a3cd47ce59"><div class="ttname"><a href="#adc370b42a7f2f59d2d19a4a3cd47ce59">canonpath</a></div><div class="ttdeci">static char * canonpath</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00076">file.c:76</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d13/file_8c_source.html#l00076">canonpath</a>, and <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00247">__rpc_check_path()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00794">rpc_file_exec_run()</a>.</p>

</div>
</div>
<a id="a090b8a33eecdf9cc91830fbfc75b1bed" name="a090b8a33eecdf9cc91830fbfc75b1bed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a090b8a33eecdf9cc91830fbfc75b1bed">&#9670;&#160;</a></span>rpc_errno_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_errno_status </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00154">154</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  155</span>{</div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordflow">switch</span> (errno)</div>
<div class="line"><span class="lineno">  157</span>    {</div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">case</span> EACCES:</div>
<div class="line"><span class="lineno">  159</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312aa18a040703e9965952f5c93c3e727d39">UBUS_STATUS_PERMISSION_DENIED</a>;</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordflow">case</span> ENOTDIR:</div>
<div class="line"><span class="lineno">  162</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">case</span> ENOENT:</div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97">UBUS_STATUS_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">case</span> EINVAL:</div>
<div class="line"><span class="lineno">  168</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  171</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno">  172</span>    }</div>
<div class="line"><span class="lineno">  173</span>}</div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a></div><div class="ttdeci">@ UBUS_STATUS_INVALID_ARGUMENT</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00121">ubusmsg.h:121</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97">UBUS_STATUS_NOT_FOUND</a></div><div class="ttdeci">@ UBUS_STATUS_NOT_FOUND</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00123">ubusmsg.h:123</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312aa18a040703e9965952f5c93c3e727d39"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312aa18a040703e9965952f5c93c3e727d39">UBUS_STATUS_PERMISSION_DENIED</a></div><div class="ttdeci">@ UBUS_STATUS_PERMISSION_DENIED</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00125">ubusmsg.h:125</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a></div><div class="ttdeci">@ UBUS_STATUS_UNKNOWN_ERROR</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00128">ubusmsg.h:128</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00121">UBUS_STATUS_INVALID_ARGUMENT</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00123">UBUS_STATUS_NOT_FOUND</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00125">UBUS_STATUS_PERMISSION_DENIED</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00128">UBUS_STATUS_UNKNOWN_ERROR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00794">rpc_file_exec_run()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00490">rpc_file_list()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00432">rpc_file_md5()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00289">rpc_file_read()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00606">rpc_file_remove()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00563">rpc_file_remove_recursive()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00538">rpc_file_stat()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00370">rpc_file_write()</a>.</p>

</div>
</div>
<a id="a6c914764bc059d662d6b1552b1ca7512" name="a6c914764bc059d662d6b1552b1ca7512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c914764bc059d662d6b1552b1ca7512">&#9670;&#160;</a></span>rpc_fdclose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_fdclose </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00787">787</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  788</span>{</div>
<div class="line"><span class="lineno">  789</span>    <span class="keywordflow">if</span> (fd &gt; 2)</div>
<div class="line"><span class="lineno">  790</span>        close(fd);</div>
<div class="line"><span class="lineno">  791</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00794">rpc_file_exec_run()</a>.</p>

</div>
</div>
<a id="a912dfa3f13bfac0066df14de1019ad40" name="a912dfa3f13bfac0066df14de1019ad40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a912dfa3f13bfac0066df14de1019ad40">&#9670;&#160;</a></span>rpc_file_access()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool rpc_file_access </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>sid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>perm</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00176">176</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  178</span>{</div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">if</span> (!sid)</div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="#a8c9284b14b948aae5a1abc7ed0e16c0c">ops</a>-&gt;<a class="code hl_variable" href="../../d9/dc4/plugin_8h.html#a6c518a4db9c1be9b7a48549844432ef8">session_access</a>(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(sid), <span class="stringliteral">&quot;file&quot;</span>, <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, perm);</div>
<div class="line"><span class="lineno">  183</span>}</div>
<div class="ttc" id="ablobmsg_8h_html_ab788ffb2ae75d047fa39be6e79571d20"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a></div><div class="ttdeci">static void * blobmsg_data(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg.h:78</a></div></div>
<div class="ttc" id="afile_8c_html_a8c9284b14b948aae5a1abc7ed0e16c0c"><div class="ttname"><a href="#a8c9284b14b948aae5a1abc7ed0e16c0c">ops</a></div><div class="ttdeci">static const struct rpc_daemon_ops * ops</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00062">file.c:62</a></div></div>
<div class="ttc" id="aplugin_8h_html_a6c518a4db9c1be9b7a48549844432ef8"><div class="ttname"><a href="../../d9/dc4/plugin_8h.html#a6c518a4db9c1be9b7a48549844432ef8">rpc_daemon_ops::session_access</a></div><div class="ttdeci">bool(* session_access)(const char *sid, const char *scope, const char *object, const char *function)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dc4/plugin_8h_source.html#l00048">plugin.h:48</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00062">ops</a>, <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>, and <a class="el" href="../../d9/dc4/plugin_8h_source.html#l00048">rpc_daemon_ops::session_access</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00247">__rpc_check_path()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00794">rpc_file_exec_run()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_a912dfa3f13bfac0066df14de1019ad40_cgraph.png" border="0" usemap="#ad6/d13/file_8c_a912dfa3f13bfac0066df14de1019ad40_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_a912dfa3f13bfac0066df14de1019ad40_cgraph" id="ad6/d13/file_8c_a912dfa3f13bfac0066df14de1019ad40_cgraph">
<area shape="rect" title=" " alt="" coords="5,92,165,126"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="213,92,364,126"/>
<area shape="poly" title=" " alt="" coords="165,106,197,106,197,112,165,112"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="452,5,563,39"/>
<area shape="poly" title=" " alt="" coords="321,89,411,48,436,39,438,44,413,53,323,94"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="417,63,598,96"/>
<area shape="poly" title=" " alt="" coords="364,96,401,91,401,96,365,101"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="422,120,592,154"/>
<area shape="poly" title=" " alt="" coords="365,116,407,121,406,127,364,121"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="412,177,602,211"/>
<area shape="poly" title=" " alt="" coords="324,124,413,164,430,170,428,175,411,169,322,129"/>
</map>
</div>

</div>
</div>
<a id="a53c5ffc34562e83f1d2a32c99c35d778" name="a53c5ffc34562e83f1d2a32c99c35d778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53c5ffc34562e83f1d2a32c99c35d778">&#9670;&#160;</a></span>rpc_file_api_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_file_api_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d9/dc4/plugin_8h.html#d2/d00/structrpc__daemon__ops">rpc_daemon_ops</a> *</td>          <td class="paramname"><span class="paramname"><em>o</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00989">989</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  990</span>{</div>
<div class="line"><span class="lineno">  991</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d00/ubusd__obj_8h.html#d9/d8b/structubus__method">ubus_method</a> file_methods[] = {</div>
<div class="line"><span class="lineno">  992</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;read&quot;</span>,    <a class="code hl_function" href="#a52589151a970648a50a9785c568ec14c">rpc_file_read</a>,   <a class="code hl_variable" href="#a293a0ad7fac21876992d85d19d7ea29e">rpc_file_RB_policy</a>),</div>
<div class="line"><span class="lineno">  993</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;write&quot;</span>,   <a class="code hl_function" href="#acc8c8b20d5ac2ff992d3fa3662c51a22">rpc_file_write</a>,  <a class="code hl_variable" href="#a19316354dfb18e2fe912e38505f09792">rpc_file_RW_policy</a>),</div>
<div class="line"><span class="lineno">  994</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;list&quot;</span>,    <a class="code hl_function" href="#a0b38d28e71b0678af0e1fe0e2cba3f7d">rpc_file_list</a>,   <a class="code hl_variable" href="#ac0d4aba57b0d9663dcb4c272160e9ce5">rpc_file_R_policy</a>),</div>
<div class="line"><span class="lineno">  995</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;stat&quot;</span>,    <a class="code hl_function" href="#aea357a57fd1840dffe06f51ab888f6d6">rpc_file_stat</a>,   <a class="code hl_variable" href="#ac0d4aba57b0d9663dcb4c272160e9ce5">rpc_file_R_policy</a>),</div>
<div class="line"><span class="lineno">  996</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;md5&quot;</span>,     <a class="code hl_function" href="#afe2053159aa0066d5666e43aba50e4d9">rpc_file_md5</a>,    <a class="code hl_variable" href="#ac0d4aba57b0d9663dcb4c272160e9ce5">rpc_file_R_policy</a>),</div>
<div class="line"><span class="lineno">  997</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;remove&quot;</span>,  <a class="code hl_function" href="#a88ea38fdf3bfb53fd4ccecb0ee25f201">rpc_file_remove</a>, <a class="code hl_variable" href="#ac0d4aba57b0d9663dcb4c272160e9ce5">rpc_file_R_policy</a>),</div>
<div class="line"><span class="lineno">  998</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;exec&quot;</span>,    <a class="code hl_function" href="#a6a2ee41dc6cbdb4592f22877dd457879">rpc_file_exec</a>,   <a class="code hl_variable" href="#a046b4f80aac9da89bf0af046a02c6a72">rpc_exec_policy</a>),</div>
<div class="line"><span class="lineno">  999</span>    };</div>
<div class="line"><span class="lineno"> 1000</span> </div>
<div class="line"><span class="lineno"> 1001</span>    <span class="keyword">static</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d00/ubusd__obj_8h.html#d4/d66/structubus__object__type">ubus_object_type</a> file_type =</div>
<div class="line"><span class="lineno"> 1002</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#a2537aa13909031a58e3d881d6670d68d">UBUS_OBJECT_TYPE</a>(<span class="stringliteral">&quot;rpcd-plugin-file&quot;</span>, file_methods);</div>
<div class="line"><span class="lineno"> 1003</span> </div>
<div class="line"><span class="lineno"> 1004</span>    <span class="keyword">static</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> obj = {</div>
<div class="line"><span class="lineno"> 1005</span>        .name = <span class="stringliteral">&quot;file&quot;</span>,</div>
<div class="line"><span class="lineno"> 1006</span>        .type = &amp;file_type,</div>
<div class="line"><span class="lineno"> 1007</span>        .<a class="code hl_variable" href="../../d9/d00/ubusd__obj_8h.html#a73400f69761b61903631e803f69dda5d">methods</a> = file_methods,</div>
<div class="line"><span class="lineno"> 1008</span>        .n_methods = <a class="code hl_define" href="../../d8/d6a/test-blobmsg-types_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a>(file_methods),</div>
<div class="line"><span class="lineno"> 1009</span>    };</div>
<div class="line"><span class="lineno"> 1010</span> </div>
<div class="line"><span class="lineno"> 1011</span>    <a class="code hl_variable" href="#a8c9284b14b948aae5a1abc7ed0e16c0c">ops</a> = o;</div>
<div class="line"><span class="lineno"> 1012</span> </div>
<div class="line"><span class="lineno"> 1013</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../db/dda/libubus-obj_8c.html#a91976fc505121a3ddd2c4456e730401c">ubus_add_object</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, &amp;obj);</div>
<div class="line"><span class="lineno"> 1014</span>}</div>
<div class="ttc" id="afile_8c_html_a046b4f80aac9da89bf0af046a02c6a72"><div class="ttname"><a href="#a046b4f80aac9da89bf0af046a02c6a72">rpc_exec_policy</a></div><div class="ttdeci">static const struct blobmsg_policy rpc_exec_policy[__RPC_E_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00133">file.c:133</a></div></div>
<div class="ttc" id="afile_8c_html_a0b38d28e71b0678af0e1fe0e2cba3f7d"><div class="ttname"><a href="#a0b38d28e71b0678af0e1fe0e2cba3f7d">rpc_file_list</a></div><div class="ttdeci">static int rpc_file_list(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00490">file.c:490</a></div></div>
<div class="ttc" id="afile_8c_html_a19316354dfb18e2fe912e38505f09792"><div class="ttname"><a href="#a19316354dfb18e2fe912e38505f09792">rpc_file_RW_policy</a></div><div class="ttdeci">static const struct blobmsg_policy rpc_file_RW_policy[__RPC_F_RW_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00115">file.c:115</a></div></div>
<div class="ttc" id="afile_8c_html_a293a0ad7fac21876992d85d19d7ea29e"><div class="ttname"><a href="#a293a0ad7fac21876992d85d19d7ea29e">rpc_file_RB_policy</a></div><div class="ttdeci">static const struct blobmsg_policy rpc_file_RB_policy[__RPC_F_RB_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00098">file.c:98</a></div></div>
<div class="ttc" id="afile_8c_html_a52589151a970648a50a9785c568ec14c"><div class="ttname"><a href="#a52589151a970648a50a9785c568ec14c">rpc_file_read</a></div><div class="ttdeci">static int rpc_file_read(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00289">file.c:289</a></div></div>
<div class="ttc" id="afile_8c_html_a6a2ee41dc6cbdb4592f22877dd457879"><div class="ttname"><a href="#a6a2ee41dc6cbdb4592f22877dd457879">rpc_file_exec</a></div><div class="ttdeci">static int rpc_file_exec(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00971">file.c:971</a></div></div>
<div class="ttc" id="afile_8c_html_a88ea38fdf3bfb53fd4ccecb0ee25f201"><div class="ttname"><a href="#a88ea38fdf3bfb53fd4ccecb0ee25f201">rpc_file_remove</a></div><div class="ttdeci">static int rpc_file_remove(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00606">file.c:606</a></div></div>
<div class="ttc" id="afile_8c_html_ac0d4aba57b0d9663dcb4c272160e9ce5"><div class="ttname"><a href="#ac0d4aba57b0d9663dcb4c272160e9ce5">rpc_file_R_policy</a></div><div class="ttdeci">static const struct blobmsg_policy rpc_file_R_policy[__RPC_F_R_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00085">file.c:85</a></div></div>
<div class="ttc" id="afile_8c_html_acc8c8b20d5ac2ff992d3fa3662c51a22"><div class="ttname"><a href="#acc8c8b20d5ac2ff992d3fa3662c51a22">rpc_file_write</a></div><div class="ttdeci">static int rpc_file_write(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00370">file.c:370</a></div></div>
<div class="ttc" id="afile_8c_html_aea357a57fd1840dffe06f51ab888f6d6"><div class="ttname"><a href="#aea357a57fd1840dffe06f51ab888f6d6">rpc_file_stat</a></div><div class="ttdeci">static int rpc_file_stat(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00538">file.c:538</a></div></div>
<div class="ttc" id="afile_8c_html_afe2053159aa0066d5666e43aba50e4d9"><div class="ttname"><a href="#afe2053159aa0066d5666e43aba50e4d9">rpc_file_md5</a></div><div class="ttdeci">static int rpc_file_md5(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00432">file.c:432</a></div></div>
<div class="ttc" id="ahotplug-dispatch_8c_html_a7c00b3b8999b2056f226d3cc35a83845"><div class="ttname"><a href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a></div><div class="ttdeci">struct ubus_context * ctx</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">hotplug-dispatch.c:42</a></div></div>
<div class="ttc" id="alibubus-obj_8c_html_a91976fc505121a3ddd2c4456e730401c"><div class="ttname"><a href="../../db/dda/libubus-obj_8c.html#a91976fc505121a3ddd2c4456e730401c">ubus_add_object</a></div><div class="ttdeci">int ubus_add_object(struct ubus_context *ctx, struct ubus_object *obj)</div><div class="ttdef"><b>Definition</b> <a href="../../db/dda/libubus-obj_8c_source.html#l00209">libubus-obj.c:209</a></div></div>
<div class="ttc" id="alibubus_8h_html_a2537aa13909031a58e3d881d6670d68d"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a2537aa13909031a58e3d881d6670d68d">UBUS_OBJECT_TYPE</a></div><div class="ttdeci">#define UBUS_OBJECT_TYPE(_name, _methods)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00068">libubus.h:68</a></div></div>
<div class="ttc" id="alibubus_8h_html_aac021711c90050abc4c65261f9799687"><div class="ttname"><a href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a></div><div class="ttdeci">#define UBUS_METHOD(_name, _handler, _policy)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00086">libubus.h:86</a></div></div>
<div class="ttc" id="aubusd__obj_8h_html_a73400f69761b61903631e803f69dda5d"><div class="ttname"><a href="../../d9/d00/ubusd__obj_8h.html#a73400f69761b61903631e803f69dda5d">ubus_object_type::methods</a></div><div class="ttdeci">const struct ubus_method * methods</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00122">libubus.h:122</a></div></div>
<div class="ttc" id="aubusd__obj_8h_html_d4/d66/structubus__object__type"><div class="ttname"><a href="../../d9/d00/ubusd__obj_8h.html#d4/d66/structubus__object__type">ubus_object_type</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00118">libubus.h:118</a></div></div>
<div class="ttc" id="aubusd__obj_8h_html_d6/d75/structubus__object"><div class="ttname"><a href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00126">libubus.h:126</a></div></div>
<div class="ttc" id="aubusd__obj_8h_html_d9/d8b/structubus__method"><div class="ttname"><a href="../../d9/d00/ubusd__obj_8h.html#d9/d8b/structubus__method">ubus_method</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00108">libubus.h:108</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d6a/test-blobmsg-types_8c_source.html#l00120">ARRAY_SIZE</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00122">ubus_object_type::methods</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00062">ops</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00133">rpc_exec_policy</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00971">rpc_file_exec()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00490">rpc_file_list()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00432">rpc_file_md5()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00085">rpc_file_R_policy</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00098">rpc_file_RB_policy</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00289">rpc_file_read()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00606">rpc_file_remove()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00115">rpc_file_RW_policy</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00538">rpc_file_stat()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00370">rpc_file_write()</a>, <a class="el" href="../../db/dda/libubus-obj_8c_source.html#l00209">ubus_add_object()</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00086">UBUS_METHOD</a>, and <a class="el" href="../../db/d55/libubus_8h_source.html#l00068">UBUS_OBJECT_TYPE</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_a53c5ffc34562e83f1d2a32c99c35d778_cgraph.png" border="0" usemap="#ad6/d13/file_8c_a53c5ffc34562e83f1d2a32c99c35d778_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_a53c5ffc34562e83f1d2a32c99c35d778_cgraph" id="ad6/d13/file_8c_a53c5ffc34562e83f1d2a32c99c35d778_cgraph">
<area shape="rect" title=" " alt="" coords="5,731,169,765"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a6a2ee41dc6cbdb4592f22877dd457879" title=" " alt="" coords="235,97,375,130"/>
<area shape="poly" title=" " alt="" coords="92,730,290,145,295,146,97,732"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a0b38d28e71b0678af0e1fe0e2cba3f7d" title=" " alt="" coords="509,1213,633,1246"/>
<area shape="poly" title=" " alt="" coords="101,764,150,833,219,918,304,1004,393,1084,536,1201,533,1205,389,1088,300,1008,215,922,145,837,97,767"/>
<area shape="rect" href="../../d6/d13/file_8c.html#afe2053159aa0066d5666e43aba50e4d9" title=" " alt="" coords="502,814,641,848"/>
<area shape="poly" title=" " alt="" coords="169,759,487,814,486,819,168,765"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a52589151a970648a50a9785c568ec14c" title=" " alt="" coords="502,686,640,720"/>
<area shape="poly" title=" " alt="" coords="169,738,486,708,487,713,169,743"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a88ea38fdf3bfb53fd4ccecb0ee25f201" title=" " alt="" coords="222,587,388,621"/>
<area shape="poly" title=" " alt="" coords="113,729,263,628,266,632,116,733"/>
<area shape="rect" href="../../d6/d13/file_8c.html#aea357a57fd1840dffe06f51ab888f6d6" title=" " alt="" coords="505,1002,637,1036"/>
<area shape="poly" title=" " alt="" coords="120,763,527,992,525,997,118,768"/>
<area shape="rect" href="../../d6/d13/file_8c.html#acc8c8b20d5ac2ff992d3fa3662c51a22" title=" " alt="" coords="500,394,643,428"/>
<area shape="poly" title=" " alt="" coords="95,729,141,656,175,612,215,573,284,525,358,485,431,454,495,431,497,436,433,459,361,490,287,529,218,577,179,616,145,659,100,732"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#a91976fc505121a3ddd2c4456e730401c" title=" " alt="" coords="217,1602,393,1636"/>
<area shape="poly" title=" " alt="" coords="95,765,298,1586,293,1587,90,766"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1269,95,1380,129"/>
<area shape="poly" title=" " alt="" coords="348,94,392,78,440,66,599,38,725,27,1012,19,1072,13,1119,5,1165,5,1222,19,1246,31,1268,47,1303,82,1299,85,1265,51,1243,36,1220,24,1165,10,1119,10,1072,18,1013,24,725,32,600,43,442,71,394,83,350,99"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1068,111,1166,145"/>
<area shape="poly" title=" " alt="" coords="375,111,634,111,965,118,1052,122,1052,127,965,123,634,117,375,116"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1041,251,1193,285"/>
<area shape="poly" title=" " alt="" coords="375,115,721,139,884,152,965,162,1001,177,1034,197,1088,239,1085,243,1031,202,998,182,964,167,884,157,721,144,375,121"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="1036,34,1198,68"/>
<area shape="poly" title=" " alt="" coords="375,101,441,94,759,68,1020,53,1021,58,759,73,441,99,375,107"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a0dcd9fc4e75a0e5a313424b98be8dc52" title=" " alt="" coords="481,205,661,238"/>
<area shape="poly" title=" " alt="" coords="350,128,514,196,512,201,348,133"/>
<area shape="poly" title=" " alt="" coords="1150,249,1219,205,1260,171,1294,138,1298,142,1263,175,1223,209,1153,253"/>
<area shape="poly" title=" " alt="" coords="1177,66,1255,89,1253,94,1176,71"/>
<area shape="poly" title=" " alt="" coords="662,227,1026,258,1026,263,661,232"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="763,177,951,210"/>
<area shape="poly" title=" " alt="" coords="661,210,747,202,748,207,662,215"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a090b8a33eecdf9cc91830fbfc75b1bed" title=" " alt="" coords="770,509,944,542"/>
<area shape="poly" title=" " alt="" coords="591,237,645,298,676,338,704,380,717,414,723,443,730,469,751,496,758,501,755,505,747,499,726,472,718,444,712,416,699,383,671,341,641,301,587,241"/>
<area shape="poly" title=" " alt="" coords="952,190,1080,180,1151,170,1220,155,1276,134,1278,139,1222,160,1152,175,1081,185,952,195"/>
<area shape="poly" title=" " alt="" coords="926,174,1052,142,1053,147,928,179"/>
<area shape="poly" title=" " alt="" coords="919,208,1041,244,1040,249,917,213"/>
<area shape="poly" title=" " alt="" coords="588,1211,645,1143,675,1097,699,1047,709,1000,712,939,710,794,710,720,714,651,726,594,735,571,747,552,755,544,759,548,751,555,740,573,731,595,720,652,716,720,716,794,718,939,714,1001,704,1049,680,1100,649,1146,592,1214"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a51c9c23f8191aee204d7889096e34688" title=" " alt="" coords="764,1213,950,1246"/>
<area shape="poly" title=" " alt="" coords="634,1227,749,1227,749,1232,634,1232"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="1013,1213,1221,1246"/>
<area shape="poly" title=" " alt="" coords="580,1246,600,1297,634,1365,657,1400,684,1433,715,1462,751,1486,808,1511,833,1518,858,1520,882,1518,907,1512,963,1486,993,1465,1019,1438,1041,1409,1060,1377,1088,1314,1105,1261,1110,1263,1093,1316,1065,1379,1046,1412,1023,1442,997,1469,966,1491,909,1517,883,1524,858,1526,832,1523,806,1516,748,1491,712,1467,680,1437,653,1403,630,1367,595,1299,575,1248"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="784,1002,930,1036"/>
<area shape="poly" title=" " alt="" coords="594,1210,819,1043,822,1047,597,1214"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="1047,1001,1187,1034"/>
<area shape="poly" title=" " alt="" coords="616,1210,1056,1038,1058,1043,618,1215"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a56794b194617d9a858dbc783dd2a0c32" title=" " alt="" coords="750,1327,964,1361"/>
<area shape="poly" title=" " alt="" coords="604,1244,670,1279,750,1314,768,1320,767,1325,748,1319,668,1284,602,1249"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14" title=" " alt="" coords="751,1385,963,1418"/>
<area shape="poly" title=" " alt="" coords="591,1245,657,1307,702,1342,751,1371,762,1376,759,1381,748,1376,699,1346,653,1311,587,1249"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a938ceeed1d840f9df7946262f1835214" title=" " alt="" coords="750,1442,964,1476"/>
<area shape="poly" title=" " alt="" coords="585,1245,610,1283,647,1333,695,1385,751,1429,758,1433,756,1438,748,1433,691,1389,643,1337,605,1286,580,1248"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a" title=" " alt="" coords="751,1270,963,1304"/>
<area shape="poly" title=" " alt="" coords="634,1239,756,1264,754,1269,633,1245"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="769,945,945,978"/>
<area shape="poly" title=" " alt="" coords="583,1211,675,1082,748,988,754,984,757,988,751,992,679,1085,587,1214"/>
<area shape="poly" title=" " alt="" coords="950,1227,997,1227,997,1232,950,1232"/>
<area shape="poly" title=" " alt="" coords="939,976,1032,997,1031,1002,938,982"/>
<area shape="poly" title=" " alt="" coords="605,811,654,778,678,756,699,731,712,706,717,683,718,639,721,596,730,574,747,552,755,545,759,549,751,555,735,576,726,597,723,639,723,684,717,708,704,734,682,760,657,782,608,816"/>
<area shape="poly" title=" " alt="" coords="589,846,654,916,700,955,751,989,770,998,768,1002,748,993,697,959,650,920,585,850"/>
<area shape="poly" title=" " alt="" coords="641,823,711,823,794,828,882,844,925,856,966,872,1006,897,1042,927,1096,987,1092,990,1039,931,1003,901,963,877,923,861,881,849,794,833,711,828,641,828"/>
<area shape="poly" title=" " alt="" coords="599,846,665,888,750,931,766,937,764,942,748,936,663,893,596,850"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a9c0a75070ad9e1b8926172638fb8e9d9" title=" " alt="" coords="753,756,961,813"/>
<area shape="poly" title=" " alt="" coords="641,817,737,801,738,806,642,822"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a81ad3c816930b7f2e2ab263ba9c50f89" title=" " alt="" coords="749,675,965,731"/>
<area shape="poly" title=" " alt="" coords="605,811,748,742,764,735,767,740,750,747,607,816"/>
<area shape="rect" href="../../d7/d6c/md5_8c.html#a7d55b5d6fc8a4c77947ee1ee6ef87264" title=" " alt="" coords="805,887,909,921"/>
<area shape="poly" title=" " alt="" coords="641,846,791,885,789,890,639,851"/>
<area shape="poly" title=" " alt="" coords="948,753,963,741,1004,689,1036,630,1062,567,1081,504,1095,443,1104,387,1112,301,1117,301,1109,388,1100,444,1086,506,1067,569,1041,632,1008,692,967,745,952,757"/>
<area shape="poly" title=" " alt="" coords="617,683,659,661,699,632,714,611,722,591,730,571,748,552,754,547,757,551,751,556,734,574,727,593,719,614,703,635,662,666,619,688"/>
<area shape="poly" title=" " alt="" coords="608,718,658,751,682,774,704,800,717,827,723,853,723,900,723,923,725,945,734,967,751,989,771,1003,768,1007,747,993,729,969,720,946,717,923,718,900,718,853,712,829,699,803,679,778,654,756,605,722"/>
<area shape="poly" title=" " alt="" coords="606,683,677,655,722,642,771,631,821,626,872,628,921,639,966,661,1005,693,1036,733,1061,777,1081,824,1105,914,1116,985,1110,985,1100,915,1076,825,1056,779,1032,736,1001,697,963,665,919,644,871,633,822,631,772,636,724,647,679,660,608,688"/>
<area shape="poly" title=" " alt="" coords="606,718,656,752,681,774,703,800,715,819,721,837,725,870,730,901,738,916,751,932,757,936,754,941,747,935,733,919,725,903,719,871,715,838,710,821,699,803,677,778,652,756,603,722"/>
<area shape="poly" title=" " alt="" coords="634,718,741,749,740,754,633,723"/>
<area shape="poly" title=" " alt="" coords="641,700,734,700,734,706,641,706"/>
<area shape="rect" href="../../db/d36/base64_8c.html#a1a594f917ee0549bcde95ba5be5cf2d3" title=" " alt="" coords="790,566,924,600"/>
<area shape="poly" title=" " alt="" coords="605,683,671,651,748,616,785,603,787,608,750,621,673,656,607,688"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2" title=" " alt="" coords="763,451,951,485"/>
<area shape="poly" title=" " alt="" coords="623,683,664,662,699,632,711,614,717,597,721,563,725,529,733,511,747,494,750,492,754,496,751,498,738,514,730,530,726,563,722,598,716,617,703,635,667,666,625,688"/>
<area shape="poly" title=" " alt="" coords="942,448,963,438,1005,406,1042,368,1095,297,1099,300,1046,372,1009,410,966,442,944,453"/>
<area shape="poly" title=" " alt="" coords="340,584,387,565,440,548,522,534,605,525,754,520,754,526,606,531,523,539,442,553,389,570,342,589"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a59f9f0d9dd8a49a36aa272f9fc7bb8a9" title=" " alt="" coords="441,587,701,621"/>
<area shape="poly" title=" " alt="" coords="389,602,426,602,426,607,389,607"/>
<area shape="poly" title=" " alt="" coords="631,584,749,551,774,544,775,549,750,556,633,589"/>
<area shape="poly" title=" " alt="" coords="524,588,519,578,526,569,543,563,571,561,601,563,618,570,616,575,600,568,571,566,544,568,529,573,524,579,528,586"/>
<area shape="poly" title=" " alt="" coords="590,1000,646,941,675,902,699,859,713,815,717,774,709,698,706,662,708,626,721,590,747,552,755,545,759,549,751,555,725,592,713,627,711,662,714,698,722,774,718,816,704,861,679,905,650,945,594,1003"/>
<area shape="poly" title=" " alt="" coords="588,1035,653,1110,699,1153,751,1191,776,1204,774,1209,748,1196,696,1157,649,1113,584,1038"/>
<area shape="poly" title=" " alt="" coords="618,1034,1057,1204,1055,1209,616,1039"/>
<area shape="poly" title=" " alt="" coords="638,1016,768,1016,768,1022,638,1022"/>
<area shape="poly" title=" " alt="" coords="638,1030,750,1046,857,1052,964,1046,1032,1035,1033,1040,965,1051,857,1057,749,1051,637,1035"/>
<area shape="poly" title=" " alt="" coords="637,1003,755,979,756,985,638,1008"/>
<area shape="poly" title=" " alt="" coords="600,391,666,356,748,322,820,303,893,288,1025,272,1026,277,894,294,821,308,750,327,668,360,602,396"/>
<area shape="poly" title=" " alt="" coords="594,391,820,218,823,222,597,396"/>
<area shape="poly" title=" " alt="" coords="604,426,670,460,750,495,768,501,767,506,748,500,668,465,602,431"/>
<area shape="poly" title=" " alt="" coords="644,423,755,445,754,450,643,428"/>
<area shape="rect" href="../../db/d36/base64_8c.html#ac696ba547c5b7a5e3b2e3fe54a19ebdd" title=" " alt="" coords="790,394,924,428"/>
<area shape="poly" title=" " alt="" coords="643,408,775,408,775,414,643,414"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f" title=" " alt="" coords="764,337,950,370"/>
<area shape="poly" title=" " alt="" coords="643,394,754,371,755,377,644,399"/>
<area shape="poly" title=" " alt="" coords="910,334,1048,288,1050,293,912,339"/>
<area shape="poly" title=" " alt="" coords="384,1599,441,1587,523,1576,598,1575,728,1582,787,1580,845,1566,874,1554,903,1537,932,1515,963,1486,989,1453,1002,1421,1006,1388,1004,1355,997,1284,999,1244,1010,1199,1028,1156,1050,1114,1092,1046,1097,1049,1055,1117,1033,1158,1015,1201,1005,1244,1002,1284,1009,1355,1011,1389,1007,1422,993,1456,967,1490,936,1519,906,1542,876,1559,847,1572,788,1585,728,1587,597,1580,524,1581,441,1592,385,1604"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac8502f265053dcc41bf8b5ea1fd2dd33" title=" " alt="" coords="489,1602,653,1636"/>
<area shape="poly" title=" " alt="" coords="394,1616,473,1616,473,1622,394,1622"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#a04cdb66afbb720a35153317f3246e069" title=" " alt="" coords="468,1659,675,1693"/>
<area shape="poly" title=" " alt="" coords="387,1634,442,1646,475,1653,474,1658,440,1651,386,1639"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a42b839aa1a2ef9dd5abdba7c25400b4b" title=" " alt="" coords="451,1717,691,1750"/>
<area shape="poly" title=" " alt="" coords="329,1634,379,1669,442,1703,458,1709,456,1714,440,1708,376,1674,326,1638"/>
</map>
</div>

</div>
</div>
<a id="a6a2ee41dc6cbdb4592f22877dd457879" name="a6a2ee41dc6cbdb4592f22877dd457879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a2ee41dc6cbdb4592f22877dd457879">&#9670;&#160;</a></span>rpc_file_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_file_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00971">971</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  974</span>{</div>
<div class="line"><span class="lineno">  975</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb[<a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a496d49418c994dc4238417b2889603f3">__RPC_E_MAX</a>];</div>
<div class="line"><span class="lineno">  976</span> </div>
<div class="line"><span class="lineno">  977</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#a046b4f80aac9da89bf0af046a02c6a72">rpc_exec_policy</a>, <a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a496d49418c994dc4238417b2889603f3">__RPC_E_MAX</a>, tb,</div>
<div class="line"><span class="lineno">  978</span>                  <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a>(msg), <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(msg));</div>
<div class="line"><span class="lineno">  979</span> </div>
<div class="line"><span class="lineno">  980</span>    <span class="keywordflow">if</span> (!tb[<a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a8fda17b9be87856327d2e3510c7d9440">RPC_E_CMD</a>])</div>
<div class="line"><span class="lineno">  981</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">  982</span> </div>
<div class="line"><span class="lineno">  983</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a0dcd9fc4e75a0e5a313424b98be8dc52">rpc_file_exec_run</a>(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb[<a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a8fda17b9be87856327d2e3510c7d9440">RPC_E_CMD</a>]), tb[<a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a97101a358810d7f7d74ed83d9bd6f65b">RPC_E_SESSION</a>],</div>
<div class="line"><span class="lineno">  984</span>                             tb[<a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a7ac31ccb08283efd91441a84251a6bff">RPC_E_PARM</a>], tb[<a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a0d0a0fc24ea955c0a16d28a957d4ff59">RPC_E_ENV</a>], <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req);</div>
<div class="line"><span class="lineno">  985</span>}</div>
<div class="ttc" id="afile_8c_html_a0dcd9fc4e75a0e5a313424b98be8dc52"><div class="ttname"><a href="#a0dcd9fc4e75a0e5a313424b98be8dc52">rpc_file_exec_run</a></div><div class="ttdeci">static int rpc_file_exec_run(const char *cmd, const struct blob_attr *sid, const struct blob_attr *arg, const struct blob_attr *env, struct ubus_context *ctx, struct ubus_request_data *req)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00794">file.c:794</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d13/file_8c_source.html#l00130">__RPC_E_MAX</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00075">blob_data()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00126">RPC_E_CMD</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00128">RPC_E_ENV</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00127">RPC_E_PARM</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00129">RPC_E_SESSION</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00133">rpc_exec_policy</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00794">rpc_file_exec_run()</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00121">UBUS_STATUS_INVALID_ARGUMENT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00989">rpc_file_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_a6a2ee41dc6cbdb4592f22877dd457879_cgraph.png" border="0" usemap="#ad6/d13/file_8c_a6a2ee41dc6cbdb4592f22877dd457879_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_a6a2ee41dc6cbdb4592f22877dd457879_cgraph" id="ad6/d13/file_8c_a6a2ee41dc6cbdb4592f22877dd457879_cgraph">
<area shape="rect" title=" " alt="" coords="5,507,145,540"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1308,565,1419,599"/>
<area shape="poly" title=" " alt="" coords="79,541,82,616,91,735,111,882,126,961,146,1040,171,1118,201,1192,237,1260,279,1321,328,1371,385,1410,417,1424,450,1435,486,1441,523,1444,821,1444,884,1447,940,1456,1038,1476,1082,1479,1126,1472,1171,1454,1218,1419,1240,1394,1259,1359,1276,1317,1291,1267,1315,1154,1333,1029,1345,902,1353,784,1359,614,1364,615,1358,785,1351,903,1338,1029,1321,1155,1296,1269,1281,1318,1264,1361,1244,1397,1222,1423,1174,1458,1128,1478,1083,1484,1037,1481,939,1462,883,1453,821,1449,523,1449,485,1447,449,1440,415,1429,383,1415,325,1376,275,1324,232,1263,196,1194,166,1120,141,1042,121,962,105,883,85,736,76,616,74,541"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1057,212,1156,246"/>
<area shape="poly" title=" " alt="" coords="75,506,83,453,102,381,117,343,137,305,161,271,191,241,286,175,330,150,374,130,417,115,459,104,544,95,632,98,726,112,945,157,1008,177,1063,202,1060,207,1006,181,944,162,725,117,631,104,544,100,460,110,418,120,376,135,333,155,288,179,194,246,165,274,141,308,122,345,107,383,89,455,81,507"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1031,524,1182,558"/>
<area shape="poly" title=" " alt="" coords="145,522,1015,537,1015,542,145,527"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="193,256,355,290"/>
<area shape="poly" title=" " alt="" coords="88,505,248,300,252,303,92,508"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a0dcd9fc4e75a0e5a313424b98be8dc52" title=" " alt="" coords="435,923,615,956"/>
<area shape="poly" title=" " alt="" coords="97,539,495,910,492,914,93,543"/>
<area shape="poly" title=" " alt="" coords="1183,550,1292,568,1291,573,1182,556"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1273,264,1454,298"/>
<area shape="poly" title=" " alt="" coords="1112,523,1132,479,1165,421,1210,360,1237,331,1266,307,1271,303,1274,308,1270,311,1241,335,1214,363,1170,424,1137,482,1117,525"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1278,483,1448,516"/>
<area shape="poly" title=" " alt="" coords="1182,526,1262,513,1263,518,1183,531"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1268,321,1458,355"/>
<area shape="poly" title=" " alt="" coords="1128,522,1327,363,1330,367,1131,526"/>
<area shape="poly" title=" " alt="" coords="291,289,348,354,441,444,497,491,559,536,626,575,695,605,775,627,858,639,942,643,1024,640,1103,633,1175,622,1292,598,1293,604,1176,628,1104,638,1025,646,942,648,858,644,774,632,693,610,623,580,556,541,494,496,437,448,344,357,287,292"/>
<area shape="poly" title=" " alt="" coords="290,254,338,209,402,164,479,123,542,96,608,78,694,62,844,30,907,16,966,6,1024,3,1084,10,1149,29,1221,63,1248,80,1271,102,1309,152,1337,204,1354,248,1350,250,1332,206,1305,155,1267,105,1244,84,1219,67,1147,34,1083,15,1024,9,967,11,908,21,845,35,695,67,609,83,544,101,481,128,404,168,341,214,294,257"/>
<area shape="poly" title=" " alt="" coords="308,253,352,233,402,214,548,183,694,157,776,146,848,134,914,122,975,115,1034,116,1093,127,1155,154,1222,197,1235,211,1242,225,1248,253,1252,282,1258,295,1270,308,1272,310,1269,314,1266,312,1254,298,1247,283,1242,254,1237,226,1231,214,1218,202,1152,158,1091,133,1033,121,975,120,914,127,849,139,777,152,695,162,549,188,404,219,354,238,310,258"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="776,172,863,206"/>
<area shape="poly" title=" " alt="" coords="355,258,760,195,761,200,356,263"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="403,287,646,320"/>
<area shape="poly" title=" " alt="" coords="356,280,388,284,387,289,355,285"/>
<area shape="poly" title=" " alt="" coords="543,319,605,381,648,416,696,445,762,472,817,483,873,489,945,502,993,514,1016,519,1015,525,992,519,944,507,873,495,816,488,760,477,693,450,645,420,601,385,539,323"/>
<area shape="poly" title=" " alt="" coords="589,284,645,259,659,248,668,237,678,225,693,215,726,201,760,193,762,198,728,206,696,219,681,229,672,240,663,251,648,263,591,289"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="732,344,907,378"/>
<area shape="poly" title=" " alt="" coords="615,318,717,338,716,344,614,324"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="749,229,890,263"/>
<area shape="poly" title=" " alt="" coords="614,283,733,260,734,265,615,289"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="707,287,932,320"/>
<area shape="poly" title=" " alt="" coords="647,301,691,301,691,306,647,306"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="725,401,914,435"/>
<area shape="poly" title=" " alt="" coords="555,319,618,353,695,388,715,394,714,399,693,393,616,358,553,323"/>
<area shape="poly" title=" " alt="" coords="891,239,1041,230,1042,235,891,245"/>
<area shape="poly" title=" " alt="" coords="928,319,946,330,964,351,971,374,978,395,994,415,1024,432,1052,440,1078,442,1105,440,1160,440,1190,447,1221,463,1238,478,1248,494,1256,510,1270,527,1311,556,1308,560,1266,531,1251,513,1243,496,1234,481,1219,467,1188,452,1159,445,1105,446,1078,447,1051,445,1022,437,991,419,973,398,966,375,960,353,943,334,926,323"/>
<area shape="poly" title=" " alt="" coords="900,284,944,273,1042,245,1043,251,945,278,902,289"/>
<area shape="poly" title=" " alt="" coords="932,296,1257,283,1257,288,932,302"/>
<area shape="poly" title=" " alt="" coords="903,318,945,329,1085,365,1146,384,1221,414,1276,442,1325,472,1322,476,1274,447,1219,419,1144,389,1084,370,944,334,902,324"/>
<area shape="poly" title=" " alt="" coords="932,308,1253,329,1252,334,932,313"/>
<area shape="poly" title=" " alt="" coords="907,433,1079,471,1221,509,1273,531,1320,555,1318,560,1271,536,1219,514,1078,476,905,438"/>
<area shape="poly" title=" " alt="" coords="913,401,943,388,986,359,1025,324,1082,257,1086,260,1028,328,989,363,946,393,915,406"/>
<area shape="poly" title=" " alt="" coords="904,433,946,452,962,465,971,478,980,490,994,503,1020,516,1017,520,991,507,976,494,967,481,958,468,943,456,902,438"/>
<area shape="poly" title=" " alt="" coords="532,921,554,879,590,822,637,761,693,707,726,683,757,666,813,645,871,630,944,605,1049,562,1051,567,946,610,873,635,814,650,759,671,729,687,696,711,641,764,594,825,559,882,536,924"/>
<area shape="poly" title=" " alt="" coords="529,921,549,857,584,763,632,654,661,599,692,547,738,490,785,444,789,447,742,493,697,550,665,602,637,656,589,765,554,859,534,923"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="718,721,921,755"/>
<area shape="poly" title=" " alt="" coords="535,920,560,887,596,844,641,800,693,764,702,759,705,764,696,768,645,805,600,848,564,890,540,924"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="1025,779,1188,812"/>
<area shape="poly" title=" " alt="" coords="562,955,635,984,682,999,732,1011,786,1018,840,1019,893,1012,943,995,976,968,1015,922,1084,824,1088,827,1019,925,980,971,946,999,894,1017,840,1025,785,1024,731,1016,680,1004,633,989,560,959"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ac259ea54734cbe6c4939e9294905d68c" title=" " alt="" coords="707,779,932,812"/>
<area shape="poly" title=" " alt="" coords="544,920,608,871,649,844,693,821,708,815,710,820,695,826,652,849,611,875,547,924"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a090b8a33eecdf9cc91830fbfc75b1bed" title=" " alt="" coords="732,836,907,870"/>
<area shape="poly" title=" " alt="" coords="571,920,694,878,720,871,721,876,695,883,572,925"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a6c914764bc059d662d6b1552b1ca7512" title=" " alt="" coords="756,893,883,927"/>
<area shape="poly" title=" " alt="" coords="615,928,741,915,741,921,616,933"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a912dfa3f13bfac0066df14de1019ad40" title=" " alt="" coords="740,561,899,595"/>
<area shape="poly" title=" " alt="" coords="531,921,554,873,590,806,637,733,692,663,731,629,772,601,775,605,735,633,696,667,641,736,594,809,559,876,536,923"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a7a3dca009e10b923b8ed60ba50b61d2d" title=" " alt="" coords="715,951,924,984"/>
<area shape="poly" title=" " alt="" coords="616,945,700,954,699,959,615,951"/>
<area shape="rect" href="../../d6/d13/file_8c.html#aee13b4342d37aa715c5f1d6826dcba07" title=" " alt="" coords="694,1117,945,1151"/>
<area shape="poly" title=" " alt="" coords="540,955,565,988,601,1028,645,1069,696,1104,705,1109,703,1113,693,1108,642,1074,597,1032,561,991,536,958"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a831b751f0d28bf64e9ef4e20e488ba66" title=" " alt="" coords="694,1175,945,1208"/>
<area shape="poly" title=" " alt="" coords="536,956,558,998,592,1054,639,1113,666,1139,696,1161,702,1165,700,1170,693,1166,663,1143,635,1116,588,1057,553,1001,531,958"/>
<area shape="rect" href="../../db/d55/libubus_8h.html#a1c7afaed3794ca2d223198c9945bc6c3" title=" " alt="" coords="717,1060,922,1094"/>
<area shape="poly" title=" " alt="" coords="551,955,615,996,695,1038,733,1052,731,1057,693,1043,612,1000,549,959"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ac0bcdd57d004a600844745bd38e83a2d" title=" " alt="" coords="756,1232,883,1266"/>
<area shape="poly" title=" " alt="" coords="533,956,552,1008,584,1080,606,1118,632,1155,662,1190,696,1219,717,1231,741,1239,740,1244,715,1236,693,1223,658,1193,628,1159,602,1121,580,1082,547,1010,528,958"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#af511d1bcbdfcfaba211d4ae1b0930dbb" title=" " alt="" coords="721,1304,918,1338"/>
<area shape="poly" title=" " alt="" coords="532,956,548,1016,580,1102,602,1149,628,1195,660,1238,696,1276,726,1295,723,1300,693,1280,655,1242,624,1198,597,1152,575,1105,543,1018,527,957"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="725,1368,914,1402"/>
<area shape="poly" title=" " alt="" coords="530,956,542,1028,569,1134,591,1192,619,1249,654,1302,696,1348,713,1360,710,1364,693,1352,649,1305,614,1252,586,1194,564,1136,537,1029,525,957"/>
<area shape="poly" title=" " alt="" coords="901,718,943,700,985,670,1023,635,1081,569,1085,572,1027,639,989,674,946,705,904,723"/>
<area shape="poly" title=" " alt="" coords="1127,776,1328,607,1331,611,1130,780"/>
<area shape="poly" title=" " alt="" coords="899,565,1015,550,1016,555,900,570"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#aa8f30f3e3f083f89504998e9d5747752" title=" " alt="" coords="1037,973,1176,1007"/>
<area shape="poly" title=" " alt="" coords="926,1115,943,1104,960,1084,966,1062,973,1038,991,1016,1021,1000,1023,1005,994,1020,978,1041,971,1063,965,1086,946,1108,928,1119"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a238775ac0dd67c6b79a1ac478377ec11" title=" " alt="" coords="1009,1031,1204,1064"/>
<area shape="poly" title=" " alt="" coords="926,1172,943,1162,960,1141,966,1119,973,1096,991,1074,995,1070,998,1075,995,1077,978,1098,971,1120,965,1144,946,1166,928,1176"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a13ca20f7af9aa4aa3057b1114e23e7f1" title=" " alt="" coords="993,1088,1220,1122"/>
<area shape="poly" title=" " alt="" coords="883,1242,915,1234,943,1219,960,1198,966,1176,973,1153,991,1131,995,1128,998,1132,995,1135,978,1156,971,1178,965,1201,946,1223,917,1239,884,1248"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#afe30e87975d460220899f69103f90d0d" title=" " alt="" coords="998,1145,1215,1179"/>
<area shape="poly" title=" " alt="" coords="882,1237,944,1218,967,1203,991,1188,1006,1182,1008,1187,994,1193,970,1208,946,1223,884,1242"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="1023,1203,1190,1236"/>
<area shape="poly" title=" " alt="" coords="883,1240,1008,1227,1008,1232,884,1245"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a28e87c6264a681dc2a422d32794416c5" title=" " alt="" coords="1003,1260,1210,1294"/>
<area shape="poly" title=" " alt="" coords="884,1252,987,1263,987,1268,883,1258"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1042,1317,1171,1351"/>
<area shape="poly" title=" " alt="" coords="918,1323,1026,1328,1026,1333,918,1328"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1030,1375,1183,1408"/>
<area shape="poly" title=" " alt="" coords="915,1384,1014,1387,1014,1392,915,1390"/>
</map>
</div>

</div>
</div>
<a id="a44287984d670fbbb2ca72a6395ae9954" name="a44287984d670fbbb2ca72a6395ae9954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44287984d670fbbb2ca72a6395ae9954">&#9670;&#160;</a></span>rpc_file_exec_epipe_read_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_file_exec_epipe_read_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>bytes</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00757">757</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  758</span>{</div>
<div class="line"><span class="lineno">  759</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a> *c =</div>
<div class="line"><span class="lineno">  760</span>        <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(s, <span class="keyword">struct</span> <a class="code hl_struct" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a>, <a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>);</div>
<div class="line"><span class="lineno">  761</span> </div>
<div class="line"><span class="lineno">  762</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d79/ustream_8h.html#a2cc071b9667a6e5db4781e53501090c8">ustream_read_buf_full</a>(s))</div>
<div class="line"><span class="lineno">  763</span>        <a class="code hl_function" href="#a238775ac0dd67c6b79a1ac478377ec11">rpc_file_exec_reply</a>(c, <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ad74e2dea71b3e0779258d7d3f0893577">UBUS_STATUS_NOT_SUPPORTED</a>);</div>
<div class="line"><span class="lineno">  764</span>}</div>
<div class="ttc" id="afile_8c_html_a1a1416faa8cb31d8a6950459a008b607"><div class="ttname"><a href="#a1a1416faa8cb31d8a6950459a008b607">rpc_file_exec_context::epipe</a></div><div class="ttdeci">struct ustream_fd epipe</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00070">file.c:70</a></div></div>
<div class="ttc" id="afile_8c_html_a238775ac0dd67c6b79a1ac478377ec11"><div class="ttname"><a href="#a238775ac0dd67c6b79a1ac478377ec11">rpc_file_exec_reply</a></div><div class="ttdeci">static void rpc_file_exec_reply(struct rpc_file_exec_context *c, int rv)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00695">file.c:695</a></div></div>
<div class="ttc" id="afile_8c_html_d6/d5f/structrpc__file__exec__context"><div class="ttname"><a href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a></div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00064">file.c:64</a></div></div>
<div class="ttc" id="alist_8h_html_af8c317a42292b61c93aae91e59118a46"><div class="ttname"><a href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a></div><div class="ttdeci">#define container_of(ptr, type, member)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00038">list.h:38</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312ad74e2dea71b3e0779258d7d3f0893577"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ad74e2dea71b3e0779258d7d3f0893577">UBUS_STATUS_NOT_SUPPORTED</a></div><div class="ttdeci">@ UBUS_STATUS_NOT_SUPPORTED</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00127">ubusmsg.h:127</a></div></div>
<div class="ttc" id="austream_8h_html_a2cc071b9667a6e5db4781e53501090c8"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a2cc071b9667a6e5db4781e53501090c8">ustream_read_buf_full</a></div><div class="ttdeci">static bool ustream_read_buf_full(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00180">ustream.h:180</a></div></div>
<div class="ttc" id="austream_8h_html_a4243590de8945ac3666b7b8947c55b0f"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">ustream_fd::stream</a></div><div class="ttdeci">struct ustream stream</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00124">ustream.h:124</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00070">rpc_file_exec_context::epipe</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00695">rpc_file_exec_reply()</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00127">UBUS_STATUS_NOT_SUPPORTED</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00180">ustream_read_buf_full()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_a44287984d670fbbb2ca72a6395ae9954_cgraph.png" border="0" usemap="#ad6/d13/file_8c_a44287984d670fbbb2ca72a6395ae9954_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_a44287984d670fbbb2ca72a6395ae9954_cgraph" id="ad6/d13/file_8c_a44287984d670fbbb2ca72a6395ae9954_cgraph">
<area shape="rect" title=" " alt="" coords="5,503,205,560"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a238775ac0dd67c6b79a1ac478377ec11" title=" " alt="" coords="268,485,463,519"/>
<area shape="poly" title=" " alt="" coords="205,518,252,512,253,518,206,523"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#a2cc071b9667a6e5db4781e53501090c8" title=" " alt="" coords="253,543,478,576"/>
<area shape="poly" title=" " alt="" coords="206,540,237,543,237,548,205,545"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="577,133,723,167"/>
<area shape="poly" title=" " alt="" coords="368,484,383,427,413,346,434,302,459,259,489,219,524,184,561,163,563,168,528,188,493,223,463,262,438,304,418,348,388,428,373,485"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="1147,188,1287,222"/>
<area shape="poly" title=" " alt="" coords="374,484,397,449,431,404,474,358,525,319,600,279,681,249,765,227,849,211,930,202,1006,197,1131,197,1131,202,1006,203,930,207,849,217,766,232,683,254,603,284,527,323,478,362,435,408,402,452,379,487"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393" title=" " alt="" coords="555,543,745,576"/>
<area shape="poly" title=" " alt="" coords="453,517,549,536,548,542,452,522"/>
<area shape="rect" href="../../d6/d13/file_8c.html#aa26c5cf90b005f4517e97709b17fe722" title=" " alt="" coords="1091,485,1343,519"/>
<area shape="poly" title=" " alt="" coords="463,500,1075,500,1075,505,463,505"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a08d851dae97200fe16233b21dc4c38d2" title=" " alt="" coords="526,333,774,389"/>
<area shape="poly" title=" " alt="" coords="390,482,450,443,525,401,543,393,545,398,527,406,453,447,393,487"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="562,416,738,450"/>
<area shape="poly" title=" " alt="" coords="437,482,563,451,564,456,439,487"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a49ba044023de765e2d9d14db25d1845b" title=" " alt="" coords="823,699,1042,732"/>
<area shape="poly" title=" " alt="" coords="458,517,480,528,496,543,504,558,513,573,528,587,561,606,591,619,646,633,704,642,775,662,823,685,842,691,841,696,821,690,773,667,703,647,645,638,589,625,559,611,524,591,509,576,500,561,491,546,476,532,456,522"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="822,756,1043,790"/>
<area shape="poly" title=" " alt="" coords="464,517,480,528,494,545,501,563,505,597,508,631,515,647,528,663,569,681,648,704,836,750,834,755,646,710,567,686,524,667,510,650,503,632,499,598,496,564,489,548,476,532,461,522"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a55eb7ea0d6ed61f253f5689798ccf5c3" title=" " alt="" coords="579,756,721,790"/>
<area shape="poly" title=" " alt="" coords="464,517,480,528,497,550,505,571,508,613,509,656,515,678,528,701,556,727,588,747,585,751,552,731,524,704,510,680,503,657,502,614,500,572,492,552,476,532,461,521"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1455,129,1560,163"/>
<area shape="poly" title=" " alt="" coords="1287,188,1439,157,1440,162,1288,193"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="1417,188,1597,222"/>
<area shape="poly" title=" " alt="" coords="1287,202,1402,202,1402,208,1287,208"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1905,88,2048,122"/>
<area shape="poly" title=" " alt="" coords="1560,139,1890,110,1890,115,1560,144"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1683,47,1838,80"/>
<area shape="poly" title=" " alt="" coords="1560,127,1691,83,1693,88,1561,132"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1905,5,2048,39"/>
<area shape="poly" title=" " alt="" coords="1524,127,1585,77,1626,51,1670,32,1726,18,1784,11,1890,10,1890,16,1784,16,1727,23,1672,37,1629,56,1588,81,1528,131"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1692,265,1829,299"/>
<area shape="poly" title=" " alt="" coords="1561,152,1593,161,1625,173,1685,212,1733,253,1730,257,1682,216,1622,178,1591,166,1560,157"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1711,156,1810,190"/>
<area shape="poly" title=" " alt="" coords="1561,149,1696,163,1695,169,1560,154"/>
<area shape="poly" title=" " alt="" coords="1839,76,1890,86,1889,91,1838,81"/>
<area shape="poly" title=" " alt="" coords="1838,46,1889,36,1890,41,1839,51"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1905,375,2048,408"/>
<area shape="poly" title=" " alt="" coords="1797,297,1929,365,1926,370,1794,302"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="2103,348,2244,382"/>
<area shape="poly" title=" " alt="" coords="1829,283,1936,293,2056,316,2122,339,2121,344,2054,321,1936,299,1829,288"/>
<area shape="poly" title=" " alt="" coords="2048,379,2088,374,2088,379,2048,385"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="2292,429,2391,463"/>
<area shape="poly" title=" " alt="" coords="2212,380,2292,420,2290,424,2209,385"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="835,641,1030,675"/>
<area shape="poly" title=" " alt="" coords="705,574,775,600,823,620,862,633,861,639,821,625,773,605,703,579"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="1686,745,1835,779"/>
<area shape="poly" title=" " alt="" coords="1030,668,1671,748,1670,754,1030,673"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="2118,699,2229,732"/>
<area shape="poly" title=" " alt="" coords="1835,759,1939,754,2055,742,2103,732,2104,738,2055,747,1940,760,1835,764"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1901,699,2052,732"/>
<area shape="poly" title=" " alt="" coords="1835,744,1885,732,1886,738,1836,749"/>
<area shape="poly" title=" " alt="" coords="2052,713,2102,713,2102,718,2052,718"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a9c0a75070ad9e1b8926172638fb8e9d9" title=" " alt="" coords="1403,405,1611,461"/>
<area shape="poly" title=" " alt="" coords="1290,482,1388,459,1389,464,1291,487"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a81ad3c816930b7f2e2ab263ba9c50f89" title=" " alt="" coords="1400,543,1615,600"/>
<area shape="poly" title=" " alt="" coords="1291,517,1385,540,1384,545,1290,522"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add51c2b7e0940c808099cd9dfb82f05a" title=" " alt="" coords="1391,485,1623,519"/>
<area shape="poly" title=" " alt="" coords="1344,500,1375,500,1375,505,1344,505"/>
<area shape="poly" title=" " alt="" coords="1543,402,1601,359,1670,316,1696,303,1699,308,1673,320,1604,363,1546,406"/>
<area shape="poly" title=" " alt="" coords="1612,432,1726,429,1849,418,1896,410,1897,415,1850,423,1727,434,1612,437"/>
<area shape="poly" title=" " alt="" coords="1559,401,1612,378,1671,360,1783,344,1896,340,2001,344,2088,351,2087,356,2000,349,1896,345,1783,349,1672,365,1614,383,1561,406"/>
<area shape="poly" title=" " alt="" coords="1606,459,1625,471,1641,485,1651,499,1659,513,1673,528,1731,580,1779,617,1830,648,1899,685,1909,690,1906,695,1896,690,1828,653,1776,621,1728,584,1669,532,1655,516,1646,502,1637,488,1622,475,1603,464"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac9fd36cdb87493b31a675621ed53a8d7" title=" " alt="" coords="1705,375,1816,408"/>
<area shape="poly" title=" " alt="" coords="1611,413,1689,400,1690,406,1612,418"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1671,484,1850,518"/>
<area shape="poly" title=" " alt="" coords="1613,458,1681,477,1679,482,1611,463"/>
<area shape="poly" title=" " alt="" coords="1817,389,1890,389,1890,394,1817,394"/>
<area shape="poly" title=" " alt="" coords="1615,575,1671,572,1731,565,1792,551,1848,528,1882,505,1912,477,1955,420,1959,423,1915,481,1885,509,1851,533,1793,556,1732,570,1672,578,1615,580"/>
<area shape="poly" title=" " alt="" coords="1616,589,1670,594,1730,595,1790,591,1849,578,1895,561,1939,540,2022,489,2092,435,2143,390,2147,394,2096,439,2025,493,1942,545,1897,566,1850,583,1791,596,1730,601,1670,599,1615,594"/>
<area shape="poly" title=" " alt="" coords="1544,598,1625,674,1648,701,1673,724,1694,736,1691,741,1670,728,1644,704,1621,677,1540,602"/>
<area shape="poly" title=" " alt="" coords="1610,540,1682,520,1684,525,1612,545"/>
<area shape="poly" title=" " alt="" coords="710,329,763,306,822,285,903,262,985,242,1131,215,1132,220,987,248,904,267,823,290,765,311,712,334"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="847,344,1018,378"/>
<area shape="poly" title=" " alt="" coords="775,358,832,358,832,364,775,364"/>
<area shape="poly" title=" " alt="" coords="1009,341,1041,323,1057,303,1064,282,1071,260,1089,239,1109,226,1132,217,1134,221,1112,231,1092,243,1076,263,1069,283,1062,305,1044,327,1012,346"/>
<area shape="poly" title=" " alt="" coords="1017,342,1090,329,1303,290,1469,259,1549,248,1636,243,1734,243,1850,250,1955,258,2000,266,2056,285,2102,309,2142,336,2139,341,2100,313,2054,290,1999,271,1954,263,1849,255,1734,249,1636,248,1550,254,1469,264,1303,295,1091,334,1018,347"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f" title=" " alt="" coords="1151,344,1283,378"/>
<area shape="poly" title=" " alt="" coords="1018,358,1135,358,1135,364,1018,364"/>
<area shape="poly" title=" " alt="" coords="738,416,773,399,788,382,796,365,804,346,821,329,851,313,879,305,931,304,982,304,1010,298,1041,285,1056,275,1065,263,1074,251,1089,239,1131,220,1134,225,1092,243,1078,254,1069,266,1060,278,1044,290,1012,303,983,309,931,309,880,311,853,318,824,334,808,349,801,367,793,385,776,403,740,421"/>
<area shape="poly" title=" " alt="" coords="719,413,848,379,849,385,720,418"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e8112f19ea399af22d957f19cf6cfc7" title=" " alt="" coords="1898,641,2055,675"/>
<area shape="poly" title=" " alt="" coords="711,448,1001,526,1194,571,1391,609,1524,627,1658,639,1882,653,1882,658,1657,645,1524,632,1391,614,1193,577,1000,532,709,453"/>
<area shape="poly" title=" " alt="" coords="2016,638,2054,620,2191,540,2300,470,2303,474,2194,544,2056,625,2019,643"/>
<area shape="poly" title=" " alt="" coords="2037,673,2104,693,2102,698,2036,678"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1174,740,1260,774"/>
<area shape="poly" title=" " alt="" coords="1043,729,1159,746,1158,751,1042,734"/>
<area shape="poly" title=" " alt="" coords="1043,764,1159,757,1159,763,1043,769"/>
<area shape="poly" title=" " alt="" coords="722,770,807,770,807,776,722,776"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc" title=" " alt="" coords="824,813,1041,847"/>
<area shape="poly" title=" " alt="" coords="722,785,832,807,831,812,721,790"/>
</map>
</div>

</div>
</div>
<a id="a51441a32515cafc2701c01b2db20504d" name="a51441a32515cafc2701c01b2db20504d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51441a32515cafc2701c01b2db20504d">&#9670;&#160;</a></span>rpc_file_exec_epipe_state_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_file_exec_epipe_state_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00777">777</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  778</span>{</div>
<div class="line"><span class="lineno">  779</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a> *c =</div>
<div class="line"><span class="lineno">  780</span>        <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(s, <span class="keyword">struct</span> <a class="code hl_struct" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a>, <a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>);</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>    <span class="keywordflow">if</span> (c-&gt;<a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0a033ab27c8b83cc83765b571e7e3a03">eof</a> &amp;&amp; c-&gt;<a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0a033ab27c8b83cc83765b571e7e3a03">eof</a>)</div>
<div class="line"><span class="lineno">  783</span>        <a class="code hl_function" href="#a238775ac0dd67c6b79a1ac478377ec11">rpc_file_exec_reply</a>(c, <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab7a81fcac034b9ddc28cbf812d2ae6eb">UBUS_STATUS_OK</a>);</div>
<div class="line"><span class="lineno">  784</span>}</div>
<div class="ttc" id="afile_8c_html_a4b464218d423036dc2bfd705c1e62685"><div class="ttname"><a href="#a4b464218d423036dc2bfd705c1e62685">rpc_file_exec_context::opipe</a></div><div class="ttdeci">struct ustream_fd opipe</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00069">file.c:69</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312ab7a81fcac034b9ddc28cbf812d2ae6eb"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab7a81fcac034b9ddc28cbf812d2ae6eb">UBUS_STATUS_OK</a></div><div class="ttdeci">@ UBUS_STATUS_OK</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00119">ubusmsg.h:119</a></div></div>
<div class="ttc" id="austream_8h_html_a0a033ab27c8b83cc83765b571e7e3a03"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a0a033ab27c8b83cc83765b571e7e3a03">ustream::eof</a></div><div class="ttdeci">bool eof</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00117">ustream.h:117</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00117">ustream::eof</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00070">rpc_file_exec_context::epipe</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00069">rpc_file_exec_context::opipe</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00695">rpc_file_exec_reply()</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00119">UBUS_STATUS_OK</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_a51441a32515cafc2701c01b2db20504d_cgraph.png" border="0" usemap="#ad6/d13/file_8c_a51441a32515cafc2701c01b2db20504d_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_a51441a32515cafc2701c01b2db20504d_cgraph" id="ad6/d13/file_8c_a51441a32515cafc2701c01b2db20504d_cgraph">
<area shape="rect" title=" " alt="" coords="5,519,205,575"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a238775ac0dd67c6b79a1ac478377ec11" title=" " alt="" coords="253,530,447,564"/>
<area shape="poly" title=" " alt="" coords="205,544,237,544,237,550,205,550"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="546,162,692,196"/>
<area shape="poly" title=" " alt="" coords="351,529,362,469,387,384,406,338,429,292,458,250,493,213,511,200,530,191,532,196,513,205,497,217,463,253,434,295,411,340,392,386,368,470,356,530"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="1116,217,1256,250"/>
<area shape="poly" title=" " alt="" coords="356,528,375,491,405,441,445,391,468,367,494,347,568,305,648,273,732,250,816,235,898,226,974,222,1101,224,1101,229,974,227,898,231,817,240,733,255,650,278,570,310,496,352,472,371,449,394,409,444,380,493,361,531"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393" title=" " alt="" coords="524,585,714,618"/>
<area shape="poly" title=" " alt="" coords="437,562,518,578,517,584,436,567"/>
<area shape="rect" href="../../d6/d13/file_8c.html#aa26c5cf90b005f4517e97709b17fe722" title=" " alt="" coords="1060,487,1312,521"/>
<area shape="poly" title=" " alt="" coords="447,539,1044,509,1044,514,448,545"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a08d851dae97200fe16233b21dc4c38d2" title=" " alt="" coords="495,361,743,418"/>
<area shape="poly" title=" " alt="" coords="369,528,424,484,494,438,525,422,527,427,496,443,427,489,373,532"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="531,453,707,486"/>
<area shape="poly" title=" " alt="" coords="410,527,543,489,544,494,412,532"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a49ba044023de765e2d9d14db25d1845b" title=" " alt="" coords="792,642,1011,676"/>
<area shape="poly" title=" " alt="" coords="375,562,428,597,461,615,496,628,567,646,640,656,711,661,777,662,777,667,711,666,639,661,566,651,494,633,459,620,425,602,372,566"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="791,699,1012,733"/>
<area shape="poly" title=" " alt="" coords="367,562,419,617,456,646,496,668,565,692,638,707,710,715,776,718,776,724,709,721,637,713,564,697,494,673,453,650,416,621,363,566"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a55eb7ea0d6ed61f253f5689798ccf5c3" title=" " alt="" coords="548,745,690,778"/>
<area shape="poly" title=" " alt="" coords="362,563,383,597,413,640,451,685,496,723,534,742,532,747,494,728,447,689,408,643,378,600,358,565"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1424,121,1529,154"/>
<area shape="poly" title=" " alt="" coords="1238,214,1408,157,1410,162,1240,219"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="1386,217,1566,250"/>
<area shape="poly" title=" " alt="" coords="1256,231,1371,231,1371,236,1256,236"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1871,91,2014,125"/>
<area shape="poly" title=" " alt="" coords="1529,139,1661,144,1740,143,1818,136,1868,127,1869,132,1819,142,1740,148,1661,149,1529,144"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1652,35,1807,69"/>
<area shape="poly" title=" " alt="" coords="1525,118,1639,78,1658,72,1659,77,1641,83,1527,123"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1871,9,2014,42"/>
<area shape="poly" title=" " alt="" coords="1492,118,1553,67,1594,40,1640,20,1694,8,1751,3,1806,4,1856,8,1855,14,1806,9,1751,9,1695,13,1641,25,1597,45,1556,71,1496,122"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1661,253,1798,286"/>
<area shape="poly" title=" " alt="" coords="1512,152,1683,243,1680,247,1509,157"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1680,93,1779,126"/>
<area shape="poly" title=" " alt="" coords="1529,129,1664,114,1665,119,1530,134"/>
<area shape="poly" title=" " alt="" coords="1797,67,1862,84,1860,89,1795,72"/>
<area shape="poly" title=" " alt="" coords="1807,40,1855,34,1856,39,1808,45"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1871,362,2014,396"/>
<area shape="poly" title=" " alt="" coords="1765,285,1896,352,1893,357,1763,289"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="2066,335,2207,369"/>
<area shape="poly" title=" " alt="" coords="1798,270,1903,281,2019,303,2085,326,2084,331,2017,308,1902,286,1798,276"/>
<area shape="poly" title=" " alt="" coords="2014,366,2050,361,2051,367,2014,372"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="2255,470,2354,504"/>
<area shape="poly" title=" " alt="" coords="2161,367,2272,458,2269,462,2158,372"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="804,585,999,618"/>
<area shape="poly" title=" " alt="" coords="715,599,789,599,789,604,715,604"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="1655,739,1804,773"/>
<area shape="poly" title=" " alt="" coords="996,616,1641,737,1640,742,995,622"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="2081,711,2192,745"/>
<area shape="poly" title=" " alt="" coords="1789,771,1839,782,1896,790,1957,792,2017,784,2059,770,2096,751,2098,756,2061,775,2019,789,1958,797,1896,796,1838,787,1788,776"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1867,741,2018,774"/>
<area shape="poly" title=" " alt="" coords="1804,754,1851,754,1851,760,1804,759"/>
<area shape="poly" title=" " alt="" coords="2018,744,2065,736,2066,742,2019,749"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a9c0a75070ad9e1b8926172638fb8e9d9" title=" " alt="" coords="1372,377,1580,434"/>
<area shape="poly" title=" " alt="" coords="1237,484,1376,437,1377,442,1239,489"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a81ad3c816930b7f2e2ab263ba9c50f89" title=" " alt="" coords="1369,459,1584,515"/>
<area shape="poly" title=" " alt="" coords="1312,494,1353,492,1353,497,1313,499"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add51c2b7e0940c808099cd9dfb82f05a" title=" " alt="" coords="1360,539,1592,573"/>
<area shape="poly" title=" " alt="" coords="1284,519,1364,534,1363,539,1283,524"/>
<area shape="poly" title=" " alt="" coords="1521,374,1639,303,1667,290,1669,295,1642,308,1524,379"/>
<area shape="poly" title=" " alt="" coords="1581,397,1855,381,1856,386,1581,402"/>
<area shape="poly" title=" " alt="" coords="1580,381,1640,371,1753,355,1867,347,1942,345,2018,347,2051,347,2050,353,2018,352,1942,351,1867,352,1753,361,1641,376,1581,386"/>
<area shape="poly" title=" " alt="" coords="1581,433,1594,445,1614,475,1621,505,1621,534,1618,563,1614,591,1615,619,1623,647,1642,674,1719,697,1859,734,1858,739,1717,702,1639,678,1618,649,1610,620,1609,591,1613,562,1616,534,1616,506,1609,477,1590,449,1577,436"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac9fd36cdb87493b31a675621ed53a8d7" title=" " alt="" coords="1674,413,1785,446"/>
<area shape="poly" title=" " alt="" coords="1581,413,1658,420,1658,426,1581,418"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1640,470,1819,504"/>
<area shape="poly" title=" " alt="" coords="1566,432,1641,456,1660,462,1658,467,1640,461,1565,437"/>
<area shape="poly" title=" " alt="" coords="1785,414,1856,397,1857,402,1786,419"/>
<area shape="poly" title=" " alt="" coords="1561,513,1620,527,1685,535,1753,532,1786,525,1818,514,1851,493,1880,465,1904,435,1922,408,1927,411,1909,438,1884,469,1855,497,1820,519,1788,530,1754,537,1685,540,1619,532,1560,518"/>
<area shape="poly" title=" " alt="" coords="1562,513,1593,524,1617,534,1641,542,1691,550,1730,555,1769,553,1818,542,1861,527,1904,509,1983,464,2052,417,2103,377,2106,381,2055,421,1986,469,1906,513,1863,532,1819,547,1770,558,1730,560,1690,556,1640,547,1615,539,1591,529,1560,518"/>
<area shape="poly" title=" " alt="" coords="1581,514,1594,525,1612,550,1619,575,1621,599,1620,623,1619,671,1627,694,1642,719,1654,729,1650,733,1638,722,1622,696,1614,671,1614,623,1616,599,1614,576,1607,552,1590,529,1578,518"/>
<area shape="poly" title=" " alt="" coords="1584,484,1625,484,1625,490,1584,490"/>
<area shape="poly" title=" " alt="" coords="679,358,732,335,791,314,872,291,954,271,1100,244,1101,249,956,276,873,296,792,319,734,340,681,363"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="816,373,987,406"/>
<area shape="poly" title=" " alt="" coords="744,387,801,387,801,392,744,392"/>
<area shape="poly" title=" " alt="" coords="979,370,1010,352,1026,329,1033,306,1039,282,1058,260,1078,247,1100,239,1102,244,1080,252,1061,264,1044,285,1038,308,1031,332,1013,356,982,374"/>
<area shape="poly" title=" " alt="" coords="987,373,1312,318,1453,295,1515,283,1591,260,1615,248,1640,238,1689,229,1729,229,1819,238,1921,245,1965,254,2019,272,2065,296,2105,324,2102,328,2063,301,2017,277,1963,259,1920,251,1818,243,1729,234,1690,235,1641,243,1617,253,1593,265,1516,288,1454,300,1312,323,988,379"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f" title=" " alt="" coords="1120,274,1252,308"/>
<area shape="poly" title=" " alt="" coords="961,370,1011,351,1034,338,1059,324,1105,308,1106,313,1061,329,1037,342,1013,356,963,375"/>
<area shape="poly" title=" " alt="" coords="698,450,742,427,757,411,764,393,773,375,790,358,820,342,848,335,900,334,952,334,980,328,1010,314,1025,301,1033,288,1042,273,1058,259,1101,242,1103,247,1061,264,1046,277,1038,290,1029,305,1013,318,982,333,953,339,900,339,849,340,822,347,793,362,777,378,769,395,761,414,745,432,701,455"/>
<area shape="poly" title=" " alt="" coords="681,450,824,409,825,414,682,455"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e8112f19ea399af22d957f19cf6cfc7" title=" " alt="" coords="1651,630,1808,664"/>
<area shape="poly" title=" " alt="" coords="708,481,1636,629,1635,635,707,486"/>
<area shape="poly" title=" " alt="" coords="1792,627,2239,502,2241,507,1794,632"/>
<area shape="poly" title=" " alt="" coords="1809,643,1909,649,1965,656,2019,668,2059,683,2096,701,2094,706,2057,688,2017,673,1964,662,1909,654,1808,648"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a055e87e50f40e8a0bffc669e2a47d1eb" title=" " alt="" coords="1892,683,1993,717"/>
<area shape="poly" title=" " alt="" coords="1800,662,1877,681,1876,686,1799,667"/>
<area shape="poly" title=" " alt="" coords="1994,705,2066,715,2065,721,1993,710"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1143,699,1229,733"/>
<area shape="poly" title=" " alt="" coords="989,674,1129,702,1128,707,988,679"/>
<area shape="poly" title=" " alt="" coords="1012,714,1128,714,1128,719,1012,719"/>
<area shape="poly" title=" " alt="" coords="690,748,777,733,778,739,691,753"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc" title=" " alt="" coords="793,757,1010,790"/>
<area shape="poly" title=" " alt="" coords="691,762,777,766,777,771,691,767"/>
</map>
</div>

</div>
</div>
<a id="a7a3dca009e10b923b8ed60ba50b61d2d" name="a7a3dca009e10b923b8ed60ba50b61d2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a3dca009e10b923b8ed60ba50b61d2d">&#9670;&#160;</a></span>rpc_file_exec_lookup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char * rpc_file_exec_lookup </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00629">629</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  630</span>{</div>
<div class="line"><span class="lineno">  631</span>    <span class="keyword">struct </span>stat s;</div>
<div class="line"><span class="lineno">  632</span>    <span class="keywordtype">int</span> plen = 0, clen = strlen(<a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>) + 1;</div>
<div class="line"><span class="lineno">  633</span>    <span class="keywordtype">char</span> *search, *p;</div>
<div class="line"><span class="lineno">  634</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>[PATH_MAX];</div>
<div class="line"><span class="lineno">  635</span> </div>
<div class="line"><span class="lineno">  636</span>    <span class="keywordflow">if</span> (!stat(<a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>, &amp;s) &amp;&amp; S_ISREG(s.st_mode))</div>
<div class="line"><span class="lineno">  637</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>;</div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>    search = getenv(<span class="stringliteral">&quot;PATH&quot;</span>);</div>
<div class="line"><span class="lineno">  640</span> </div>
<div class="line"><span class="lineno">  641</span>    <span class="keywordflow">if</span> (!search)</div>
<div class="line"><span class="lineno">  642</span>        search = <span class="stringliteral">&quot;/bin:/usr/bin:/sbin:/usr/sbin&quot;</span>;</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>    p = search;</div>
<div class="line"><span class="lineno">  645</span> </div>
<div class="line"><span class="lineno">  646</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  647</span>    {</div>
<div class="line"><span class="lineno">  648</span>        <span class="keywordflow">if</span> (*p != <span class="charliteral">&#39;:&#39;</span> &amp;&amp; *p != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><span class="lineno">  649</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  650</span> </div>
<div class="line"><span class="lineno">  651</span>        plen = p - search;</div>
<div class="line"><span class="lineno">  652</span> </div>
<div class="line"><span class="lineno">  653</span>        <span class="keywordflow">if</span> ((plen + clen) &gt;= <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>))</div>
<div class="line"><span class="lineno">  654</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span>        strncpy(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, search, plen);</div>
<div class="line"><span class="lineno">  657</span>        sprintf(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a> + plen, <span class="stringliteral">&quot;/%s&quot;</span>, <a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>);</div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span>        <span class="keywordflow">if</span> (!stat(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, &amp;s) &amp;&amp; S_ISREG(s.st_mode))</div>
<div class="line"><span class="lineno">  660</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>;</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>        search = p + 1;</div>
<div class="line"><span class="lineno">  663</span>    }</div>
<div class="line"><span class="lineno">  664</span>    <span class="keywordflow">while</span> (*p++);</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  667</span>}</div>
<div class="ttc" id="ajson__script_8c_html_a12c0be34061dfc832e2b49607c448229"><div class="ttname"><a href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a></div><div class="ttdeci">static const struct json_handler cmd[]</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d4c/json__script_8c_source.html#l00207">json_script.c:207</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d4c/json__script_8c_source.html#l00207">cmd</a>, and <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00794">rpc_file_exec_run()</a>.</p>

</div>
</div>
<a id="abed1cf12263728dd6be6f99ea11398c9" name="abed1cf12263728dd6be6f99ea11398c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abed1cf12263728dd6be6f99ea11398c9">&#9670;&#160;</a></span>rpc_file_exec_opipe_read_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_file_exec_opipe_read_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>bytes</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00747">747</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  748</span>{</div>
<div class="line"><span class="lineno">  749</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a> *c =</div>
<div class="line"><span class="lineno">  750</span>        <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(s, <span class="keyword">struct</span> <a class="code hl_struct" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a>, <a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>);</div>
<div class="line"><span class="lineno">  751</span> </div>
<div class="line"><span class="lineno">  752</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d79/ustream_8h.html#a2cc071b9667a6e5db4781e53501090c8">ustream_read_buf_full</a>(s))</div>
<div class="line"><span class="lineno">  753</span>        <a class="code hl_function" href="#a238775ac0dd67c6b79a1ac478377ec11">rpc_file_exec_reply</a>(c, <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ad74e2dea71b3e0779258d7d3f0893577">UBUS_STATUS_NOT_SUPPORTED</a>);</div>
<div class="line"><span class="lineno">  754</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00069">rpc_file_exec_context::opipe</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00695">rpc_file_exec_reply()</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00127">UBUS_STATUS_NOT_SUPPORTED</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00180">ustream_read_buf_full()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_abed1cf12263728dd6be6f99ea11398c9_cgraph.png" border="0" usemap="#ad6/d13/file_8c_abed1cf12263728dd6be6f99ea11398c9_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_abed1cf12263728dd6be6f99ea11398c9_cgraph" id="ad6/d13/file_8c_abed1cf12263728dd6be6f99ea11398c9_cgraph">
<area shape="rect" title=" " alt="" coords="5,503,205,560"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a238775ac0dd67c6b79a1ac478377ec11" title=" " alt="" coords="268,485,463,519"/>
<area shape="poly" title=" " alt="" coords="205,518,252,512,253,518,206,523"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#a2cc071b9667a6e5db4781e53501090c8" title=" " alt="" coords="253,543,478,576"/>
<area shape="poly" title=" " alt="" coords="206,540,237,543,237,548,205,545"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="577,133,723,167"/>
<area shape="poly" title=" " alt="" coords="368,484,383,427,413,346,434,302,459,259,489,219,524,184,561,163,563,168,528,188,493,223,463,262,438,304,418,348,388,428,373,485"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="1147,188,1287,222"/>
<area shape="poly" title=" " alt="" coords="374,484,397,449,431,404,474,358,525,319,600,279,681,249,765,227,849,211,930,202,1006,197,1131,197,1131,202,1006,203,930,207,849,217,766,232,683,254,603,284,527,323,478,362,435,408,402,452,379,487"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393" title=" " alt="" coords="555,543,745,576"/>
<area shape="poly" title=" " alt="" coords="453,517,549,536,548,542,452,522"/>
<area shape="rect" href="../../d6/d13/file_8c.html#aa26c5cf90b005f4517e97709b17fe722" title=" " alt="" coords="1091,485,1343,519"/>
<area shape="poly" title=" " alt="" coords="463,500,1075,500,1075,505,463,505"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a08d851dae97200fe16233b21dc4c38d2" title=" " alt="" coords="526,333,774,389"/>
<area shape="poly" title=" " alt="" coords="390,482,450,443,525,401,543,393,545,398,527,406,453,447,393,487"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="562,416,738,450"/>
<area shape="poly" title=" " alt="" coords="437,482,563,451,564,456,439,487"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a49ba044023de765e2d9d14db25d1845b" title=" " alt="" coords="823,699,1042,732"/>
<area shape="poly" title=" " alt="" coords="458,517,480,528,496,543,504,558,513,573,528,587,561,606,591,619,646,633,704,642,775,662,823,685,842,691,841,696,821,690,773,667,703,647,645,638,589,625,559,611,524,591,509,576,500,561,491,546,476,532,456,522"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="822,756,1043,790"/>
<area shape="poly" title=" " alt="" coords="464,517,480,528,494,545,501,563,505,597,508,631,515,647,528,663,569,681,648,704,836,750,834,755,646,710,567,686,524,667,510,650,503,632,499,598,496,564,489,548,476,532,461,522"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a55eb7ea0d6ed61f253f5689798ccf5c3" title=" " alt="" coords="579,756,721,790"/>
<area shape="poly" title=" " alt="" coords="464,517,480,528,497,550,505,571,508,613,509,656,515,678,528,701,556,727,588,747,585,751,552,731,524,704,510,680,503,657,502,614,500,572,492,552,476,532,461,521"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1455,129,1560,163"/>
<area shape="poly" title=" " alt="" coords="1287,188,1439,157,1440,162,1288,193"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="1417,188,1597,222"/>
<area shape="poly" title=" " alt="" coords="1287,202,1402,202,1402,208,1287,208"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1905,88,2048,122"/>
<area shape="poly" title=" " alt="" coords="1560,139,1890,110,1890,115,1560,144"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1683,47,1838,80"/>
<area shape="poly" title=" " alt="" coords="1560,127,1691,83,1693,88,1561,132"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1905,5,2048,39"/>
<area shape="poly" title=" " alt="" coords="1524,127,1585,77,1626,51,1670,32,1726,18,1784,11,1890,10,1890,16,1784,16,1727,23,1672,37,1629,56,1588,81,1528,131"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1692,265,1829,299"/>
<area shape="poly" title=" " alt="" coords="1561,152,1593,161,1625,173,1685,212,1733,253,1730,257,1682,216,1622,178,1591,166,1560,157"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1711,156,1810,190"/>
<area shape="poly" title=" " alt="" coords="1561,149,1696,163,1695,169,1560,154"/>
<area shape="poly" title=" " alt="" coords="1839,76,1890,86,1889,91,1838,81"/>
<area shape="poly" title=" " alt="" coords="1838,46,1889,36,1890,41,1839,51"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1905,375,2048,408"/>
<area shape="poly" title=" " alt="" coords="1797,297,1929,365,1926,370,1794,302"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="2103,348,2244,382"/>
<area shape="poly" title=" " alt="" coords="1829,283,1936,293,2056,316,2122,339,2121,344,2054,321,1936,299,1829,288"/>
<area shape="poly" title=" " alt="" coords="2048,379,2088,374,2088,379,2048,385"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="2292,429,2391,463"/>
<area shape="poly" title=" " alt="" coords="2212,380,2292,420,2290,424,2209,385"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="835,641,1030,675"/>
<area shape="poly" title=" " alt="" coords="705,574,775,600,823,620,862,633,861,639,821,625,773,605,703,579"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="1686,745,1835,779"/>
<area shape="poly" title=" " alt="" coords="1030,668,1671,748,1670,754,1030,673"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="2118,699,2229,732"/>
<area shape="poly" title=" " alt="" coords="1835,759,1939,754,2055,742,2103,732,2104,738,2055,747,1940,760,1835,764"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1901,699,2052,732"/>
<area shape="poly" title=" " alt="" coords="1835,744,1885,732,1886,738,1836,749"/>
<area shape="poly" title=" " alt="" coords="2052,713,2102,713,2102,718,2052,718"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a9c0a75070ad9e1b8926172638fb8e9d9" title=" " alt="" coords="1403,405,1611,461"/>
<area shape="poly" title=" " alt="" coords="1290,482,1388,459,1389,464,1291,487"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a81ad3c816930b7f2e2ab263ba9c50f89" title=" " alt="" coords="1400,543,1615,600"/>
<area shape="poly" title=" " alt="" coords="1291,517,1385,540,1384,545,1290,522"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add51c2b7e0940c808099cd9dfb82f05a" title=" " alt="" coords="1391,485,1623,519"/>
<area shape="poly" title=" " alt="" coords="1344,500,1375,500,1375,505,1344,505"/>
<area shape="poly" title=" " alt="" coords="1543,402,1601,359,1670,316,1696,303,1699,308,1673,320,1604,363,1546,406"/>
<area shape="poly" title=" " alt="" coords="1612,432,1726,429,1849,418,1896,410,1897,415,1850,423,1727,434,1612,437"/>
<area shape="poly" title=" " alt="" coords="1559,401,1612,378,1671,360,1783,344,1896,340,2001,344,2088,351,2087,356,2000,349,1896,345,1783,349,1672,365,1614,383,1561,406"/>
<area shape="poly" title=" " alt="" coords="1606,459,1625,471,1641,485,1651,499,1659,513,1673,528,1731,580,1779,617,1830,648,1899,685,1909,690,1906,695,1896,690,1828,653,1776,621,1728,584,1669,532,1655,516,1646,502,1637,488,1622,475,1603,464"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac9fd36cdb87493b31a675621ed53a8d7" title=" " alt="" coords="1705,375,1816,408"/>
<area shape="poly" title=" " alt="" coords="1611,413,1689,400,1690,406,1612,418"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1671,484,1850,518"/>
<area shape="poly" title=" " alt="" coords="1613,458,1681,477,1679,482,1611,463"/>
<area shape="poly" title=" " alt="" coords="1817,389,1890,389,1890,394,1817,394"/>
<area shape="poly" title=" " alt="" coords="1615,575,1671,572,1731,565,1792,551,1848,528,1882,505,1912,477,1955,420,1959,423,1915,481,1885,509,1851,533,1793,556,1732,570,1672,578,1615,580"/>
<area shape="poly" title=" " alt="" coords="1616,589,1670,594,1730,595,1790,591,1849,578,1895,561,1939,540,2022,489,2092,435,2143,390,2147,394,2096,439,2025,493,1942,545,1897,566,1850,583,1791,596,1730,601,1670,599,1615,594"/>
<area shape="poly" title=" " alt="" coords="1544,598,1625,674,1648,701,1673,724,1694,736,1691,741,1670,728,1644,704,1621,677,1540,602"/>
<area shape="poly" title=" " alt="" coords="1610,540,1682,520,1684,525,1612,545"/>
<area shape="poly" title=" " alt="" coords="710,329,763,306,822,285,903,262,985,242,1131,215,1132,220,987,248,904,267,823,290,765,311,712,334"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="847,344,1018,378"/>
<area shape="poly" title=" " alt="" coords="775,358,832,358,832,364,775,364"/>
<area shape="poly" title=" " alt="" coords="1009,341,1041,323,1057,303,1064,282,1071,260,1089,239,1109,226,1132,217,1134,221,1112,231,1092,243,1076,263,1069,283,1062,305,1044,327,1012,346"/>
<area shape="poly" title=" " alt="" coords="1017,342,1090,329,1303,290,1469,259,1549,248,1636,243,1734,243,1850,250,1955,258,2000,266,2056,285,2102,309,2142,336,2139,341,2100,313,2054,290,1999,271,1954,263,1849,255,1734,249,1636,248,1550,254,1469,264,1303,295,1091,334,1018,347"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f" title=" " alt="" coords="1151,344,1283,378"/>
<area shape="poly" title=" " alt="" coords="1018,358,1135,358,1135,364,1018,364"/>
<area shape="poly" title=" " alt="" coords="738,416,773,399,788,382,796,365,804,346,821,329,851,313,879,305,931,304,982,304,1010,298,1041,285,1056,275,1065,263,1074,251,1089,239,1131,220,1134,225,1092,243,1078,254,1069,266,1060,278,1044,290,1012,303,983,309,931,309,880,311,853,318,824,334,808,349,801,367,793,385,776,403,740,421"/>
<area shape="poly" title=" " alt="" coords="719,413,848,379,849,385,720,418"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e8112f19ea399af22d957f19cf6cfc7" title=" " alt="" coords="1898,641,2055,675"/>
<area shape="poly" title=" " alt="" coords="711,448,1001,526,1194,571,1391,609,1524,627,1658,639,1882,653,1882,658,1657,645,1524,632,1391,614,1193,577,1000,532,709,453"/>
<area shape="poly" title=" " alt="" coords="2016,638,2054,620,2191,540,2300,470,2303,474,2194,544,2056,625,2019,643"/>
<area shape="poly" title=" " alt="" coords="2037,673,2104,693,2102,698,2036,678"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1174,740,1260,774"/>
<area shape="poly" title=" " alt="" coords="1043,729,1159,746,1158,751,1042,734"/>
<area shape="poly" title=" " alt="" coords="1043,764,1159,757,1159,763,1043,769"/>
<area shape="poly" title=" " alt="" coords="722,770,807,770,807,776,722,776"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc" title=" " alt="" coords="824,813,1041,847"/>
<area shape="poly" title=" " alt="" coords="722,785,832,807,831,812,721,790"/>
</map>
</div>

</div>
</div>
<a id="a0a84dcff7700810d47805c9a973d5a27" name="a0a84dcff7700810d47805c9a973d5a27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a84dcff7700810d47805c9a973d5a27">&#9670;&#160;</a></span>rpc_file_exec_opipe_state_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_file_exec_opipe_state_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00767">767</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  768</span>{</div>
<div class="line"><span class="lineno">  769</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a> *c =</div>
<div class="line"><span class="lineno">  770</span>        <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(s, <span class="keyword">struct</span> <a class="code hl_struct" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a>, <a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>);</div>
<div class="line"><span class="lineno">  771</span> </div>
<div class="line"><span class="lineno">  772</span>    <span class="keywordflow">if</span> (c-&gt;<a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0a033ab27c8b83cc83765b571e7e3a03">eof</a> &amp;&amp; c-&gt;<a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0a033ab27c8b83cc83765b571e7e3a03">eof</a>)</div>
<div class="line"><span class="lineno">  773</span>        <a class="code hl_function" href="#a238775ac0dd67c6b79a1ac478377ec11">rpc_file_exec_reply</a>(c, <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab7a81fcac034b9ddc28cbf812d2ae6eb">UBUS_STATUS_OK</a>);</div>
<div class="line"><span class="lineno">  774</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00117">ustream::eof</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00070">rpc_file_exec_context::epipe</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00069">rpc_file_exec_context::opipe</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00695">rpc_file_exec_reply()</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00119">UBUS_STATUS_OK</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_a0a84dcff7700810d47805c9a973d5a27_cgraph.png" border="0" usemap="#ad6/d13/file_8c_a0a84dcff7700810d47805c9a973d5a27_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_a0a84dcff7700810d47805c9a973d5a27_cgraph" id="ad6/d13/file_8c_a0a84dcff7700810d47805c9a973d5a27_cgraph">
<area shape="rect" title=" " alt="" coords="5,519,205,575"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a238775ac0dd67c6b79a1ac478377ec11" title=" " alt="" coords="253,530,447,564"/>
<area shape="poly" title=" " alt="" coords="205,544,237,544,237,550,205,550"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="546,162,692,196"/>
<area shape="poly" title=" " alt="" coords="351,529,362,469,387,384,406,338,429,292,458,250,493,213,511,200,530,191,532,196,513,205,497,217,463,253,434,295,411,340,392,386,368,470,356,530"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="1116,217,1256,250"/>
<area shape="poly" title=" " alt="" coords="356,528,375,491,405,441,445,391,468,367,494,347,568,305,648,273,732,250,816,235,898,226,974,222,1101,224,1101,229,974,227,898,231,817,240,733,255,650,278,570,310,496,352,472,371,449,394,409,444,380,493,361,531"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393" title=" " alt="" coords="524,585,714,618"/>
<area shape="poly" title=" " alt="" coords="437,562,518,578,517,584,436,567"/>
<area shape="rect" href="../../d6/d13/file_8c.html#aa26c5cf90b005f4517e97709b17fe722" title=" " alt="" coords="1060,487,1312,521"/>
<area shape="poly" title=" " alt="" coords="447,539,1044,509,1044,514,448,545"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a08d851dae97200fe16233b21dc4c38d2" title=" " alt="" coords="495,361,743,418"/>
<area shape="poly" title=" " alt="" coords="369,528,424,484,494,438,525,422,527,427,496,443,427,489,373,532"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="531,453,707,486"/>
<area shape="poly" title=" " alt="" coords="410,527,543,489,544,494,412,532"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a49ba044023de765e2d9d14db25d1845b" title=" " alt="" coords="792,642,1011,676"/>
<area shape="poly" title=" " alt="" coords="375,562,428,597,461,615,496,628,567,646,640,656,711,661,777,662,777,667,711,666,639,661,566,651,494,633,459,620,425,602,372,566"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="791,699,1012,733"/>
<area shape="poly" title=" " alt="" coords="367,562,419,617,456,646,496,668,565,692,638,707,710,715,776,718,776,724,709,721,637,713,564,697,494,673,453,650,416,621,363,566"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a55eb7ea0d6ed61f253f5689798ccf5c3" title=" " alt="" coords="548,745,690,778"/>
<area shape="poly" title=" " alt="" coords="362,563,383,597,413,640,451,685,496,723,534,742,532,747,494,728,447,689,408,643,378,600,358,565"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1424,121,1529,154"/>
<area shape="poly" title=" " alt="" coords="1238,214,1408,157,1410,162,1240,219"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="1386,217,1566,250"/>
<area shape="poly" title=" " alt="" coords="1256,231,1371,231,1371,236,1256,236"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1871,91,2014,125"/>
<area shape="poly" title=" " alt="" coords="1529,139,1661,144,1740,143,1818,136,1868,127,1869,132,1819,142,1740,148,1661,149,1529,144"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1652,35,1807,69"/>
<area shape="poly" title=" " alt="" coords="1525,118,1639,78,1658,72,1659,77,1641,83,1527,123"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1871,9,2014,42"/>
<area shape="poly" title=" " alt="" coords="1492,118,1553,67,1594,40,1640,20,1694,8,1751,3,1806,4,1856,8,1855,14,1806,9,1751,9,1695,13,1641,25,1597,45,1556,71,1496,122"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1661,253,1798,286"/>
<area shape="poly" title=" " alt="" coords="1512,152,1683,243,1680,247,1509,157"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1680,93,1779,126"/>
<area shape="poly" title=" " alt="" coords="1529,129,1664,114,1665,119,1530,134"/>
<area shape="poly" title=" " alt="" coords="1797,67,1862,84,1860,89,1795,72"/>
<area shape="poly" title=" " alt="" coords="1807,40,1855,34,1856,39,1808,45"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1871,362,2014,396"/>
<area shape="poly" title=" " alt="" coords="1765,285,1896,352,1893,357,1763,289"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="2066,335,2207,369"/>
<area shape="poly" title=" " alt="" coords="1798,270,1903,281,2019,303,2085,326,2084,331,2017,308,1902,286,1798,276"/>
<area shape="poly" title=" " alt="" coords="2014,366,2050,361,2051,367,2014,372"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="2255,470,2354,504"/>
<area shape="poly" title=" " alt="" coords="2161,367,2272,458,2269,462,2158,372"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="804,585,999,618"/>
<area shape="poly" title=" " alt="" coords="715,599,789,599,789,604,715,604"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="1655,739,1804,773"/>
<area shape="poly" title=" " alt="" coords="996,616,1641,737,1640,742,995,622"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="2081,711,2192,745"/>
<area shape="poly" title=" " alt="" coords="1789,771,1839,782,1896,790,1957,792,2017,784,2059,770,2096,751,2098,756,2061,775,2019,789,1958,797,1896,796,1838,787,1788,776"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1867,741,2018,774"/>
<area shape="poly" title=" " alt="" coords="1804,754,1851,754,1851,760,1804,759"/>
<area shape="poly" title=" " alt="" coords="2018,744,2065,736,2066,742,2019,749"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a9c0a75070ad9e1b8926172638fb8e9d9" title=" " alt="" coords="1372,377,1580,434"/>
<area shape="poly" title=" " alt="" coords="1237,484,1376,437,1377,442,1239,489"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a81ad3c816930b7f2e2ab263ba9c50f89" title=" " alt="" coords="1369,459,1584,515"/>
<area shape="poly" title=" " alt="" coords="1312,494,1353,492,1353,497,1313,499"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add51c2b7e0940c808099cd9dfb82f05a" title=" " alt="" coords="1360,539,1592,573"/>
<area shape="poly" title=" " alt="" coords="1284,519,1364,534,1363,539,1283,524"/>
<area shape="poly" title=" " alt="" coords="1521,374,1639,303,1667,290,1669,295,1642,308,1524,379"/>
<area shape="poly" title=" " alt="" coords="1581,397,1855,381,1856,386,1581,402"/>
<area shape="poly" title=" " alt="" coords="1580,381,1640,371,1753,355,1867,347,1942,345,2018,347,2051,347,2050,353,2018,352,1942,351,1867,352,1753,361,1641,376,1581,386"/>
<area shape="poly" title=" " alt="" coords="1581,433,1594,445,1614,475,1621,505,1621,534,1618,563,1614,591,1615,619,1623,647,1642,674,1719,697,1859,734,1858,739,1717,702,1639,678,1618,649,1610,620,1609,591,1613,562,1616,534,1616,506,1609,477,1590,449,1577,436"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac9fd36cdb87493b31a675621ed53a8d7" title=" " alt="" coords="1674,413,1785,446"/>
<area shape="poly" title=" " alt="" coords="1581,413,1658,420,1658,426,1581,418"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1640,470,1819,504"/>
<area shape="poly" title=" " alt="" coords="1566,432,1641,456,1660,462,1658,467,1640,461,1565,437"/>
<area shape="poly" title=" " alt="" coords="1785,414,1856,397,1857,402,1786,419"/>
<area shape="poly" title=" " alt="" coords="1561,513,1620,527,1685,535,1753,532,1786,525,1818,514,1851,493,1880,465,1904,435,1922,408,1927,411,1909,438,1884,469,1855,497,1820,519,1788,530,1754,537,1685,540,1619,532,1560,518"/>
<area shape="poly" title=" " alt="" coords="1562,513,1593,524,1617,534,1641,542,1691,550,1730,555,1769,553,1818,542,1861,527,1904,509,1983,464,2052,417,2103,377,2106,381,2055,421,1986,469,1906,513,1863,532,1819,547,1770,558,1730,560,1690,556,1640,547,1615,539,1591,529,1560,518"/>
<area shape="poly" title=" " alt="" coords="1581,514,1594,525,1612,550,1619,575,1621,599,1620,623,1619,671,1627,694,1642,719,1654,729,1650,733,1638,722,1622,696,1614,671,1614,623,1616,599,1614,576,1607,552,1590,529,1578,518"/>
<area shape="poly" title=" " alt="" coords="1584,484,1625,484,1625,490,1584,490"/>
<area shape="poly" title=" " alt="" coords="679,358,732,335,791,314,872,291,954,271,1100,244,1101,249,956,276,873,296,792,319,734,340,681,363"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="816,373,987,406"/>
<area shape="poly" title=" " alt="" coords="744,387,801,387,801,392,744,392"/>
<area shape="poly" title=" " alt="" coords="979,370,1010,352,1026,329,1033,306,1039,282,1058,260,1078,247,1100,239,1102,244,1080,252,1061,264,1044,285,1038,308,1031,332,1013,356,982,374"/>
<area shape="poly" title=" " alt="" coords="987,373,1312,318,1453,295,1515,283,1591,260,1615,248,1640,238,1689,229,1729,229,1819,238,1921,245,1965,254,2019,272,2065,296,2105,324,2102,328,2063,301,2017,277,1963,259,1920,251,1818,243,1729,234,1690,235,1641,243,1617,253,1593,265,1516,288,1454,300,1312,323,988,379"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f" title=" " alt="" coords="1120,274,1252,308"/>
<area shape="poly" title=" " alt="" coords="961,370,1011,351,1034,338,1059,324,1105,308,1106,313,1061,329,1037,342,1013,356,963,375"/>
<area shape="poly" title=" " alt="" coords="698,450,742,427,757,411,764,393,773,375,790,358,820,342,848,335,900,334,952,334,980,328,1010,314,1025,301,1033,288,1042,273,1058,259,1101,242,1103,247,1061,264,1046,277,1038,290,1029,305,1013,318,982,333,953,339,900,339,849,340,822,347,793,362,777,378,769,395,761,414,745,432,701,455"/>
<area shape="poly" title=" " alt="" coords="681,450,824,409,825,414,682,455"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e8112f19ea399af22d957f19cf6cfc7" title=" " alt="" coords="1651,630,1808,664"/>
<area shape="poly" title=" " alt="" coords="708,481,1636,629,1635,635,707,486"/>
<area shape="poly" title=" " alt="" coords="1792,627,2239,502,2241,507,1794,632"/>
<area shape="poly" title=" " alt="" coords="1809,643,1909,649,1965,656,2019,668,2059,683,2096,701,2094,706,2057,688,2017,673,1964,662,1909,654,1808,648"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a055e87e50f40e8a0bffc669e2a47d1eb" title=" " alt="" coords="1892,683,1993,717"/>
<area shape="poly" title=" " alt="" coords="1800,662,1877,681,1876,686,1799,667"/>
<area shape="poly" title=" " alt="" coords="1994,705,2066,715,2065,721,1993,710"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1143,699,1229,733"/>
<area shape="poly" title=" " alt="" coords="989,674,1129,702,1128,707,988,679"/>
<area shape="poly" title=" " alt="" coords="1012,714,1128,714,1128,719,1012,719"/>
<area shape="poly" title=" " alt="" coords="690,748,777,733,778,739,691,753"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc" title=" " alt="" coords="793,757,1010,790"/>
<area shape="poly" title=" " alt="" coords="691,762,777,766,777,771,691,767"/>
</map>
</div>

</div>
</div>
<a id="aee13b4342d37aa715c5f1d6826dcba07" name="aee13b4342d37aa715c5f1d6826dcba07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee13b4342d37aa715c5f1d6826dcba07">&#9670;&#160;</a></span>rpc_file_exec_process_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_file_exec_process_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d56/uloop_8h.html#da/d43/structuloop__process">uloop_process</a> *</td>          <td class="paramname"><span class="paramname"><em>p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>stat</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00735">735</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  736</span>{</div>
<div class="line"><span class="lineno">  737</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a> *c =</div>
<div class="line"><span class="lineno">  738</span>        <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(p, <span class="keyword">struct</span> <a class="code hl_struct" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a>, <a class="code hl_variable" href="#a9ce24695306fcbf313ab704c3d7f383c">process</a>);</div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span>    c-&gt;<a class="code hl_variable" href="#ad278ac2d0d3cfdc82236915588b1bea2">stat</a> = <a class="code hl_variable" href="#ad278ac2d0d3cfdc82236915588b1bea2">stat</a>;</div>
<div class="line"><span class="lineno">  741</span> </div>
<div class="line"><span class="lineno">  742</span>    <a class="code hl_function" href="../../da/d79/ustream_8h.html#aa8f30f3e3f083f89504998e9d5747752">ustream_poll</a>(&amp;c-&gt;<a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>);</div>
<div class="line"><span class="lineno">  743</span>    <a class="code hl_function" href="../../da/d79/ustream_8h.html#aa8f30f3e3f083f89504998e9d5747752">ustream_poll</a>(&amp;c-&gt;<a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>);</div>
<div class="line"><span class="lineno">  744</span>}</div>
<div class="ttc" id="afile_8c_html_a9ce24695306fcbf313ab704c3d7f383c"><div class="ttname"><a href="#a9ce24695306fcbf313ab704c3d7f383c">rpc_file_exec_context::process</a></div><div class="ttdeci">struct uloop_process process</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00068">file.c:68</a></div></div>
<div class="ttc" id="afile_8c_html_ad278ac2d0d3cfdc82236915588b1bea2"><div class="ttname"><a href="#ad278ac2d0d3cfdc82236915588b1bea2">rpc_file_exec_context::stat</a></div><div class="ttdeci">int stat</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00071">file.c:71</a></div></div>
<div class="ttc" id="austream_8h_html_aa8f30f3e3f083f89504998e9d5747752"><div class="ttname"><a href="../../da/d79/ustream_8h.html#aa8f30f3e3f083f89504998e9d5747752">ustream_poll</a></div><div class="ttdeci">static bool ustream_poll(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00214">ustream.h:214</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00070">rpc_file_exec_context::epipe</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00069">rpc_file_exec_context::opipe</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00068">rpc_file_exec_context::process</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00071">rpc_file_exec_context::stat</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00214">ustream_poll()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00794">rpc_file_exec_run()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_aee13b4342d37aa715c5f1d6826dcba07_cgraph.png" border="0" usemap="#ad6/d13/file_8c_aee13b4342d37aa715c5f1d6826dcba07_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_aee13b4342d37aa715c5f1d6826dcba07_cgraph" id="ad6/d13/file_8c_aee13b4342d37aa715c5f1d6826dcba07_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,256,39"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#aa8f30f3e3f083f89504998e9d5747752" title=" " alt="" coords="304,5,443,39"/>
<area shape="poly" title=" " alt="" coords="256,20,288,20,288,25,256,25"/>
</map>
</div>

</div>
</div>
<a id="a238775ac0dd67c6b79a1ac478377ec11" name="a238775ac0dd67c6b79a1ac478377ec11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a238775ac0dd67c6b79a1ac478377ec11">&#9670;&#160;</a></span>rpc_file_exec_reply()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_file_exec_reply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a> *</td>          <td class="paramname"><span class="paramname"><em>c</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>rv</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00695">695</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  696</span>{</div>
<div class="line"><span class="lineno">  697</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91">uloop_timeout_cancel</a>(&amp;c-&gt;<a class="code hl_variable" href="#aebdb64bf9d42e2137d9273439b364d55">timeout</a>);</div>
<div class="line"><span class="lineno">  698</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#a49ba044023de765e2d9d14db25d1845b">uloop_process_delete</a>(&amp;c-&gt;<a class="code hl_variable" href="#a9ce24695306fcbf313ab704c3d7f383c">process</a>);</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>    <span class="keywordflow">if</span> (rv == <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab7a81fcac034b9ddc28cbf812d2ae6eb">UBUS_STATUS_OK</a>)</div>
<div class="line"><span class="lineno">  701</span>    {</div>
<div class="line"><span class="lineno">  702</span>        <a class="code hl_function" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b">blob_buf_init</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, 0);</div>
<div class="line"><span class="lineno">  703</span> </div>
<div class="line"><span class="lineno">  704</span>        <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393">blobmsg_add_u32</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;code&quot;</span>, WEXITSTATUS(c-&gt;<a class="code hl_variable" href="#ad278ac2d0d3cfdc82236915588b1bea2">stat</a>));</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>        <a class="code hl_function" href="#aa26c5cf90b005f4517e97709b17fe722">rpc_ustream_to_blobmsg</a>(&amp;c-&gt;<a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>, <span class="stringliteral">&quot;stdout&quot;</span>);</div>
<div class="line"><span class="lineno">  707</span>        <a class="code hl_function" href="#aa26c5cf90b005f4517e97709b17fe722">rpc_ustream_to_blobmsg</a>(&amp;c-&gt;<a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>, <span class="stringliteral">&quot;stderr&quot;</span>);</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span>        <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4">ubus_send_reply</a>(c-&gt;<a class="code hl_variable" href="#a5515737d76e04bca9d03ae9f3a28160c">context</a>, &amp;c-&gt;<a class="code hl_variable" href="#a2a2195414926c884c66349275dc17854">request</a>, <a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>.<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#af6065d74116605108b22c11e75ec669c">head</a>);</div>
<div class="line"><span class="lineno">  710</span>        <a class="code hl_function" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59">blob_buf_free</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>);</div>
<div class="line"><span class="lineno">  711</span>    }</div>
<div class="line"><span class="lineno">  712</span> </div>
<div class="line"><span class="lineno">  713</span>    <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#a08d851dae97200fe16233b21dc4c38d2">ubus_complete_deferred_request</a>(c-&gt;<a class="code hl_variable" href="#a5515737d76e04bca9d03ae9f3a28160c">context</a>, &amp;c-&gt;<a class="code hl_variable" href="#a2a2195414926c884c66349275dc17854">request</a>, rv);</div>
<div class="line"><span class="lineno">  714</span> </div>
<div class="line"><span class="lineno">  715</span>    <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a55eb7ea0d6ed61f253f5689798ccf5c3">ustream_free</a>(&amp;c-&gt;<a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>);</div>
<div class="line"><span class="lineno">  716</span>    <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a55eb7ea0d6ed61f253f5689798ccf5c3">ustream_free</a>(&amp;c-&gt;<a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>);</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>    close(c-&gt;<a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0bca51b2e8287eeab242d9aaf262afb4">fd</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#ad8badf8512adcf9a8819ed088bde09cc">fd</a>);</div>
<div class="line"><span class="lineno">  719</span>    close(c-&gt;<a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0bca51b2e8287eeab242d9aaf262afb4">fd</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#ad8badf8512adcf9a8819ed088bde09cc">fd</a>);</div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>    free(c);</div>
<div class="line"><span class="lineno">  722</span>}</div>
<div class="ttc" id="ablob_8c_html_a58d1b624b96aa768608f45d390cc0d59"><div class="ttname"><a href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59">blob_buf_free</a></div><div class="ttdeci">void blob_buf_free(struct blob_buf *buf)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da0/blob_8c_source.html#l00104">blob.c:104</a></div></div>
<div class="ttc" id="ablob_8c_html_af8ca2237342df92c699fbb2ddb5f390b"><div class="ttname"><a href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b">blob_buf_init</a></div><div class="ttdeci">int blob_buf_init(struct blob_buf *buf, int id)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da0/blob_8c_source.html#l00091">blob.c:91</a></div></div>
<div class="ttc" id="ablob_8h_html_af6065d74116605108b22c11e75ec669c"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#af6065d74116605108b22c11e75ec669c">blob_buf::head</a></div><div class="ttdeci">struct blob_attr * head</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00065">blob.h:65</a></div></div>
<div class="ttc" id="afile_8c_html_a2a2195414926c884c66349275dc17854"><div class="ttname"><a href="#a2a2195414926c884c66349275dc17854">rpc_file_exec_context::request</a></div><div class="ttdeci">struct ubus_request_data request</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00066">file.c:66</a></div></div>
<div class="ttc" id="afile_8c_html_a5515737d76e04bca9d03ae9f3a28160c"><div class="ttname"><a href="#a5515737d76e04bca9d03ae9f3a28160c">rpc_file_exec_context::context</a></div><div class="ttdeci">struct ubus_context * context</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00065">file.c:65</a></div></div>
<div class="ttc" id="afile_8c_html_aa26c5cf90b005f4517e97709b17fe722"><div class="ttname"><a href="#aa26c5cf90b005f4517e97709b17fe722">rpc_ustream_to_blobmsg</a></div><div class="ttdeci">static void rpc_ustream_to_blobmsg(struct ustream *s, const char *name)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00671">file.c:671</a></div></div>
<div class="ttc" id="afile_8c_html_aebdb64bf9d42e2137d9273439b364d55"><div class="ttname"><a href="#aebdb64bf9d42e2137d9273439b364d55">rpc_file_exec_context::timeout</a></div><div class="ttdeci">struct uloop_timeout timeout</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00067">file.c:67</a></div></div>
<div class="ttc" id="alibubus-req_8c_html_a08d851dae97200fe16233b21dc4c38d2"><div class="ttname"><a href="../../d2/de5/libubus-req_8c.html#a08d851dae97200fe16233b21dc4c38d2">ubus_complete_deferred_request</a></div><div class="ttdeci">void ubus_complete_deferred_request(struct ubus_context *ctx, struct ubus_request_data *req, int ret)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/de5/libubus-req_8c_source.html#l00189">libubus-req.c:189</a></div></div>
<div class="ttc" id="alibubus-req_8c_html_aab336677450493ac2229e8a2f70fa0e4"><div class="ttname"><a href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4">ubus_send_reply</a></div><div class="ttdeci">int ubus_send_reply(struct ubus_context *ctx, struct ubus_request_data *req, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/de5/libubus-req_8c_source.html#l00205">libubus-req.c:205</a></div></div>
<div class="ttc" id="auloop_8c_html_a49ba044023de765e2d9d14db25d1845b"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#a49ba044023de765e2d9d14db25d1845b">uloop_process_delete</a></div><div class="ttdeci">int uloop_process_delete(struct uloop_process *p)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00412">uloop.c:412</a></div></div>
<div class="ttc" id="auloop_8c_html_a6231184d2f54ac1bc945ecb73c517d91"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91">uloop_timeout_cancel</a></div><div class="ttdeci">int uloop_timeout_cancel(struct uloop_timeout *timeout)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00348">uloop.c:348</a></div></div>
<div class="ttc" id="auloop_8h_html_ad8badf8512adcf9a8819ed088bde09cc"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#ad8badf8512adcf9a8819ed088bde09cc">uloop_fd::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00065">uloop.h:65</a></div></div>
<div class="ttc" id="austream_8c_html_a55eb7ea0d6ed61f253f5689798ccf5c3"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a55eb7ea0d6ed61f253f5689798ccf5c3">ustream_free</a></div><div class="ttdeci">void ustream_free(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00094">ustream.c:94</a></div></div>
<div class="ttc" id="austream_8h_html_a0bca51b2e8287eeab242d9aaf262afb4"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a0bca51b2e8287eeab242d9aaf262afb4">ustream_fd::fd</a></div><div class="ttdeci">struct uloop_fd fd</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00125">ustream.h:125</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/da0/blob_8c_source.html#l00104">blob_buf_free()</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00091">blob_buf_init()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00221">blobmsg_add_u32()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00075">buf</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00065">rpc_file_exec_context::context</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00070">rpc_file_exec_context::epipe</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00065">uloop_fd::fd</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00125">ustream_fd::fd</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00065">blob_buf::head</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00069">rpc_file_exec_context::opipe</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00068">rpc_file_exec_context::process</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00066">rpc_file_exec_context::request</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00671">rpc_ustream_to_blobmsg()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00071">rpc_file_exec_context::stat</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00067">rpc_file_exec_context::timeout</a>, <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00189">ubus_complete_deferred_request()</a>, <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00205">ubus_send_reply()</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00119">UBUS_STATUS_OK</a>, <a class="el" href="../../d1/d08/uloop_8c_source.html#l00412">uloop_process_delete()</a>, <a class="el" href="../../d1/d08/uloop_8c_source.html#l00348">uloop_timeout_cancel()</a>, and <a class="el" href="../../d6/d26/ustream_8c_source.html#l00094">ustream_free()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00757">rpc_file_exec_epipe_read_cb()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00777">rpc_file_exec_epipe_state_cb()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00747">rpc_file_exec_opipe_read_cb()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00767">rpc_file_exec_opipe_state_cb()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00725">rpc_file_exec_timeout_cb()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_a238775ac0dd67c6b79a1ac478377ec11_cgraph.png" border="0" usemap="#ad6/d13/file_8c_a238775ac0dd67c6b79a1ac478377ec11_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_a238775ac0dd67c6b79a1ac478377ec11_cgraph" id="ad6/d13/file_8c_a238775ac0dd67c6b79a1ac478377ec11_cgraph">
<area shape="rect" title=" " alt="" coords="5,581,200,615"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="299,334,445,368"/>
<area shape="poly" title=" " alt="" coords="108,579,125,538,154,482,194,425,219,399,246,377,283,360,285,365,249,381,222,403,198,429,159,485,130,540,112,581"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="869,622,1008,656"/>
<area shape="poly" title=" " alt="" coords="154,613,200,626,248,635,415,650,583,654,734,650,853,644,853,649,734,656,583,659,415,656,247,641,198,631,153,618"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393" title=" " alt="" coords="277,392,467,425"/>
<area shape="poly" title=" " alt="" coords="113,579,165,513,203,475,246,442,273,429,276,433,249,447,207,479,169,516,117,582"/>
<area shape="rect" href="../../d6/d13/file_8c.html#aa26c5cf90b005f4517e97709b17fe722" title=" " alt="" coords="812,309,1065,343"/>
<area shape="poly" title=" " alt="" coords="121,579,174,535,209,511,247,491,314,467,369,456,425,449,495,435,855,345,857,350,497,440,426,454,370,461,315,472,249,496,212,516,178,539,124,583"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a08d851dae97200fe16233b21dc4c38d2" title=" " alt="" coords="248,570,496,626"/>
<area shape="poly" title=" " alt="" coords="200,595,232,595,232,601,200,601"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="284,506,460,540"/>
<area shape="poly" title=" " alt="" coords="165,578,293,542,294,547,167,583"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a49ba044023de765e2d9d14db25d1845b" title=" " alt="" coords="545,712,763,745"/>
<area shape="poly" title=" " alt="" coords="125,613,178,654,212,674,249,690,319,710,392,722,464,728,530,730,529,736,463,734,392,727,318,715,247,695,210,679,175,658,121,617"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="544,769,764,803"/>
<area shape="poly" title=" " alt="" coords="118,614,169,676,207,709,249,735,318,761,390,777,462,786,528,789,528,794,461,791,389,783,316,766,246,740,203,713,166,679,114,617"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a55eb7ea0d6ed61f253f5689798ccf5c3" title=" " alt="" coords="301,813,443,847"/>
<area shape="poly" title=" " alt="" coords="114,614,133,651,163,699,202,749,249,792,287,811,284,815,246,796,198,753,158,702,128,653,109,616"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1176,680,1282,713"/>
<area shape="poly" title=" " alt="" coords="1009,650,1161,681,1160,686,1008,656"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="1139,622,1319,656"/>
<area shape="poly" title=" " alt="" coords="1009,637,1123,637,1123,642,1009,642"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1624,774,1766,808"/>
<area shape="poly" title=" " alt="" coords="1283,706,1315,718,1346,733,1361,745,1370,757,1379,768,1394,777,1447,793,1503,801,1558,803,1608,800,1608,806,1558,808,1503,806,1446,798,1392,782,1376,772,1366,760,1357,749,1344,737,1313,723,1281,711"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1405,733,1560,767"/>
<area shape="poly" title=" " alt="" coords="1283,705,1390,728,1389,733,1282,710"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1624,692,1766,725"/>
<area shape="poly" title=" " alt="" coords="1282,695,1609,704,1608,709,1282,701"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1414,513,1550,547"/>
<area shape="poly" title=" " alt="" coords="1281,688,1313,680,1344,666,1359,654,1369,641,1391,609,1448,555,1451,559,1395,613,1373,644,1363,657,1346,671,1315,685,1283,694"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1433,624,1532,657"/>
<area shape="poly" title=" " alt="" coords="1282,682,1417,652,1418,657,1283,688"/>
<area shape="poly" title=" " alt="" coords="1560,762,1609,772,1608,777,1559,768"/>
<area shape="poly" title=" " alt="" coords="1559,732,1608,723,1609,728,1560,737"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1624,404,1766,437"/>
<area shape="poly" title=" " alt="" coords="1516,510,1646,442,1648,447,1518,515"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1819,430,1960,464"/>
<area shape="poly" title=" " alt="" coords="1550,524,1655,513,1770,491,1836,468,1838,473,1771,496,1655,518,1551,529"/>
<area shape="poly" title=" " alt="" coords="1767,428,1804,433,1803,438,1766,433"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="2008,324,2106,357"/>
<area shape="poly" title=" " alt="" coords="1916,428,2015,364,2018,368,1919,432"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="557,52,751,85"/>
<area shape="poly" title=" " alt="" coords="466,397,494,379,515,350,524,322,526,293,523,264,519,234,518,203,525,170,542,136,566,110,595,91,598,95,569,115,546,139,530,172,524,203,524,234,528,263,531,293,530,323,520,352,498,382,469,402"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="1408,26,1556,60"/>
<area shape="poly" title=" " alt="" coords="752,63,1392,43,1393,49,752,68"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1834,54,1945,88"/>
<area shape="poly" title=" " alt="" coords="1543,23,1593,13,1650,5,1711,4,1771,11,1813,25,1850,44,1847,49,1811,30,1770,16,1711,9,1650,10,1593,18,1544,28"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1619,26,1771,60"/>
<area shape="poly" title=" " alt="" coords="1556,41,1604,41,1604,46,1556,46"/>
<area shape="poly" title=" " alt="" coords="1771,51,1819,58,1818,64,1771,57"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a9c0a75070ad9e1b8926172638fb8e9d9" title=" " alt="" coords="1125,342,1333,398"/>
<area shape="poly" title=" " alt="" coords="1054,341,1110,349,1109,354,1054,346"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a81ad3c816930b7f2e2ab263ba9c50f89" title=" " alt="" coords="1121,255,1337,312"/>
<area shape="poly" title=" " alt="" coords="1057,306,1105,299,1106,304,1058,311"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add51c2b7e0940c808099cd9dfb82f05a" title=" " alt="" coords="1113,197,1345,231"/>
<area shape="poly" title=" " alt="" coords="970,306,1035,273,1112,241,1136,233,1137,238,1114,246,1037,278,973,311"/>
<area shape="poly" title=" " alt="" coords="1264,397,1323,444,1394,492,1420,504,1417,509,1392,496,1320,448,1261,401"/>
<area shape="poly" title=" " alt="" coords="1334,388,1393,397,1505,408,1609,414,1608,420,1505,413,1393,402,1333,393"/>
<area shape="poly" title=" " alt="" coords="1314,396,1394,418,1498,438,1581,447,1664,448,1771,447,1803,447,1803,452,1771,453,1664,454,1580,452,1497,443,1392,423,1313,401"/>
<area shape="poly" title=" " alt="" coords="1323,339,1343,321,1359,296,1366,272,1367,247,1365,222,1363,197,1364,172,1373,147,1391,121,1470,96,1606,62,1607,67,1471,101,1395,125,1377,149,1370,173,1368,197,1370,222,1372,247,1371,272,1364,298,1347,325,1326,343"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac9fd36cdb87493b31a675621ed53a8d7" title=" " alt="" coords="1427,353,1538,387"/>
<area shape="poly" title=" " alt="" coords="1334,367,1411,367,1411,373,1334,373"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1393,296,1571,329"/>
<area shape="poly" title=" " alt="" coords="1333,344,1389,331,1391,336,1334,349"/>
<area shape="poly" title=" " alt="" coords="1539,380,1609,397,1608,403,1538,386"/>
<area shape="poly" title=" " alt="" coords="1337,259,1393,254,1453,254,1514,262,1572,281,1607,302,1637,331,1661,361,1680,389,1675,392,1657,364,1633,334,1604,307,1570,286,1513,267,1453,259,1393,259,1337,264"/>
<area shape="poly" title=" " alt="" coords="1332,252,1388,242,1448,236,1511,238,1572,249,1616,264,1659,283,1740,329,1808,377,1859,418,1856,422,1805,381,1737,333,1657,288,1614,269,1571,254,1510,243,1449,242,1388,247,1333,257"/>
<area shape="poly" title=" " alt="" coords="1330,252,1343,241,1358,221,1365,202,1367,162,1369,120,1376,99,1391,77,1403,67,1407,71,1395,81,1381,101,1374,121,1372,162,1370,203,1362,224,1347,245,1334,256"/>
<area shape="poly" title=" " alt="" coords="1337,293,1378,298,1377,303,1337,298"/>
<area shape="poly" title=" " alt="" coords="497,604,853,630,853,636,496,610"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="569,501,739,535"/>
<area shape="poly" title=" " alt="" coords="474,566,576,537,578,542,475,571"/>
<area shape="poly" title=" " alt="" coords="726,533,766,552,781,564,790,577,799,589,814,601,855,619,853,624,811,605,795,593,786,580,777,568,763,556,724,538"/>
<area shape="poly" title=" " alt="" coords="740,533,813,545,1020,573,1110,580,1228,582,1483,582,1566,580,1630,571,1693,554,1770,523,1815,499,1854,472,1857,476,1818,504,1772,528,1694,559,1631,577,1567,585,1484,587,1227,587,1110,585,1019,578,812,550,739,538"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f" title=" " alt="" coords="873,501,1004,535"/>
<area shape="poly" title=" " alt="" coords="740,515,857,515,857,521,740,521"/>
<area shape="poly" title=" " alt="" coords="461,537,765,598,854,617,853,623,764,603,460,542"/>
<area shape="poly" title=" " alt="" coords="460,519,553,517,553,522,461,524"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e8112f19ea399af22d957f19cf6cfc7" title=" " alt="" coords="1404,136,1561,169"/>
<area shape="poly" title=" " alt="" coords="399,504,507,438,678,346,780,298,888,252,1000,213,1112,182,1184,169,1257,160,1388,151,1388,156,1257,165,1184,174,1113,187,1001,218,890,257,782,303,681,351,510,442,401,508"/>
<area shape="poly" title=" " alt="" coords="1537,167,1994,317,1992,322,1535,172"/>
<area shape="poly" title=" " alt="" coords="1561,133,1619,121,1818,82,1819,87,1620,126,1562,138"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a055e87e50f40e8a0bffc669e2a47d1eb" title=" " alt="" coords="1644,136,1746,169"/>
<area shape="poly" title=" " alt="" coords="1561,150,1629,150,1629,155,1561,155"/>
<area shape="poly" title=" " alt="" coords="1736,133,1832,92,1834,97,1738,138"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="896,748,981,781"/>
<area shape="poly" title=" " alt="" coords="764,740,880,755,880,760,764,745"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1182,748,1276,781"/>
<area shape="poly" title=" " alt="" coords="982,762,1166,762,1166,767,982,767"/>
<area shape="poly" title=" " alt="" coords="765,775,880,766,881,771,765,780"/>
<area shape="poly" title=" " alt="" coords="443,816,528,803,529,808,444,821"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc" title=" " alt="" coords="546,826,763,860"/>
<area shape="poly" title=" " alt="" coords="444,831,530,835,530,840,443,836"/>
</map>
</div>

</div>
</div>
<a id="a0dcd9fc4e75a0e5a313424b98be8dc52" name="a0dcd9fc4e75a0e5a313424b98be8dc52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dcd9fc4e75a0e5a313424b98be8dc52">&#9670;&#160;</a></span>rpc_file_exec_run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_file_exec_run </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>sid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00794">794</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  797</span>{</div>
<div class="line"><span class="lineno">  798</span>    pid_t pid;</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>    <span class="keywordtype">int</span> devnull;</div>
<div class="line"><span class="lineno">  801</span>    <span class="keywordtype">int</span> opipe[2];</div>
<div class="line"><span class="lineno">  802</span>    <span class="keywordtype">int</span> epipe[2];</div>
<div class="line"><span class="lineno">  803</span> </div>
<div class="line"><span class="lineno">  804</span>    <span class="keywordtype">int</span> rem;</div>
<div class="line"><span class="lineno">  805</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *cur;</div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  807</span>    uint8_t arglen;</div>
<div class="line"><span class="lineno">  808</span>    <span class="keywordtype">char</span> *executable, **args, **tmp, *p;</div>
<div class="line"><span class="lineno">  809</span> </div>
<div class="line"><span class="lineno">  810</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a> *c;</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>    <span class="keywordflow">if</span> (sid &amp;&amp; env)</div>
<div class="line"><span class="lineno">  813</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312aa18a040703e9965952f5c93c3e727d39">UBUS_STATUS_PERMISSION_DENIED</a>;</div>
<div class="line"><span class="lineno">  814</span> </div>
<div class="line"><span class="lineno">  815</span>    <a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a> = <a class="code hl_function" href="#a7a3dca009e10b923b8ed60ba50b61d2d">rpc_file_exec_lookup</a>(<a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>);</div>
<div class="line"><span class="lineno">  816</span> </div>
<div class="line"><span class="lineno">  817</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>)</div>
<div class="line"><span class="lineno">  818</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97">UBUS_STATUS_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  819</span> </div>
<div class="line"><span class="lineno">  820</span>    executable = <a class="code hl_function" href="#ac259ea54734cbe6c4939e9294905d68c">rpc_canonicalize_path</a>(<a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>);</div>
<div class="line"><span class="lineno">  821</span> </div>
<div class="line"><span class="lineno">  822</span>    <span class="keywordflow">if</span> (executable == NULL)</div>
<div class="line"><span class="lineno">  823</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno">  824</span> </div>
<div class="line"><span class="lineno">  825</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a912dfa3f13bfac0066df14de1019ad40">rpc_file_access</a>(sid, executable, <span class="stringliteral">&quot;exec&quot;</span>))</div>
<div class="line"><span class="lineno">  826</span>    {</div>
<div class="line"><span class="lineno">  827</span>        <span class="keywordflow">if</span> (arg == NULL || strlen(executable) &gt;= <span class="keyword">sizeof</span>(<a class="code hl_variable" href="#aba1145374a2a9d69ea54edd15e19f7f7">cmdstr</a>))</div>
<div class="line"><span class="lineno">  828</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312aa18a040703e9965952f5c93c3e727d39">UBUS_STATUS_PERMISSION_DENIED</a>;</div>
<div class="line"><span class="lineno">  829</span> </div>
<div class="line"><span class="lineno">  830</span>        arglen = 2;</div>
<div class="line"><span class="lineno">  831</span>        p = <a class="code hl_variable" href="#aba1145374a2a9d69ea54edd15e19f7f7">cmdstr</a> + sprintf(<a class="code hl_variable" href="#aba1145374a2a9d69ea54edd15e19f7f7">cmdstr</a>, <span class="stringliteral">&quot;%s&quot;</span>, executable);</div>
<div class="line"><span class="lineno">  832</span> </div>
<div class="line"><span class="lineno">  833</span>        <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(cur, arg, rem)</div>
<div class="line"><span class="lineno">  834</span>        {</div>
<div class="line"><span class="lineno">  835</span>            <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(cur) != <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>)</div>
<div class="line"><span class="lineno">  836</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  837</span> </div>
<div class="line"><span class="lineno">  838</span>            <span class="keywordflow">if</span> (arglen == 255 ||</div>
<div class="line"><span class="lineno">  839</span>                p + <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052">blobmsg_data_len</a>(cur) &gt;= <a class="code hl_variable" href="#aba1145374a2a9d69ea54edd15e19f7f7">cmdstr</a> + <span class="keyword">sizeof</span>(<a class="code hl_variable" href="#aba1145374a2a9d69ea54edd15e19f7f7">cmdstr</a>))</div>
<div class="line"><span class="lineno">  840</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312aa18a040703e9965952f5c93c3e727d39">UBUS_STATUS_PERMISSION_DENIED</a>;</div>
<div class="line"><span class="lineno">  841</span> </div>
<div class="line"><span class="lineno">  842</span>            p += sprintf(p, <span class="stringliteral">&quot; %s&quot;</span>, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603">blobmsg_get_string</a>(cur));</div>
<div class="line"><span class="lineno">  843</span>            arglen++;</div>
<div class="line"><span class="lineno">  844</span>        }</div>
<div class="line"><span class="lineno">  845</span> </div>
<div class="line"><span class="lineno">  846</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a912dfa3f13bfac0066df14de1019ad40">rpc_file_access</a>(sid, <a class="code hl_variable" href="#aba1145374a2a9d69ea54edd15e19f7f7">cmdstr</a>, <span class="stringliteral">&quot;exec&quot;</span>))</div>
<div class="line"><span class="lineno">  847</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312aa18a040703e9965952f5c93c3e727d39">UBUS_STATUS_PERMISSION_DENIED</a>;</div>
<div class="line"><span class="lineno">  848</span>    }</div>
<div class="line"><span class="lineno">  849</span> </div>
<div class="line"><span class="lineno">  850</span>    c = malloc(<span class="keyword">sizeof</span>(*c));</div>
<div class="line"><span class="lineno">  851</span> </div>
<div class="line"><span class="lineno">  852</span>    <span class="keywordflow">if</span> (!c)</div>
<div class="line"><span class="lineno">  853</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>    <span class="keywordflow">if</span> (pipe(<a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>))</div>
<div class="line"><span class="lineno">  856</span>        <span class="keywordflow">goto</span> fail_opipe;</div>
<div class="line"><span class="lineno">  857</span> </div>
<div class="line"><span class="lineno">  858</span>    <span class="keywordflow">if</span> (pipe(<a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>))</div>
<div class="line"><span class="lineno">  859</span>        <span class="keywordflow">goto</span> fail_epipe;</div>
<div class="line"><span class="lineno">  860</span> </div>
<div class="line"><span class="lineno">  861</span>    <span class="keywordflow">switch</span> ((pid = fork()))</div>
<div class="line"><span class="lineno">  862</span>    {</div>
<div class="line"><span class="lineno">  863</span>    <span class="keywordflow">case</span> -1:</div>
<div class="line"><span class="lineno">  864</span>        <span class="keywordflow">goto</span> fail_fork;</div>
<div class="line"><span class="lineno">  865</span> </div>
<div class="line"><span class="lineno">  866</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno">  867</span>        <a class="code hl_function" href="../../d1/d08/uloop_8c.html#ac0bcdd57d004a600844745bd38e83a2d">uloop_done</a>();</div>
<div class="line"><span class="lineno">  868</span> </div>
<div class="line"><span class="lineno">  869</span>        devnull = open(<span class="stringliteral">&quot;/dev/null&quot;</span>, O_RDWR);</div>
<div class="line"><span class="lineno">  870</span> </div>
<div class="line"><span class="lineno">  871</span>        <span class="keywordflow">if</span> (devnull == -1)</div>
<div class="line"><span class="lineno">  872</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>        dup2(devnull, 0);</div>
<div class="line"><span class="lineno">  875</span>        dup2(<a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>[1], 1);</div>
<div class="line"><span class="lineno">  876</span>        dup2(<a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>[1], 2);</div>
<div class="line"><span class="lineno">  877</span> </div>
<div class="line"><span class="lineno">  878</span>        <a class="code hl_function" href="#a6c914764bc059d662d6b1552b1ca7512">rpc_fdclose</a>(devnull);</div>
<div class="line"><span class="lineno">  879</span>        <a class="code hl_function" href="#a6c914764bc059d662d6b1552b1ca7512">rpc_fdclose</a>(<a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>[0]);</div>
<div class="line"><span class="lineno">  880</span>        <a class="code hl_function" href="#a6c914764bc059d662d6b1552b1ca7512">rpc_fdclose</a>(<a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>[1]);</div>
<div class="line"><span class="lineno">  881</span>        <a class="code hl_function" href="#a6c914764bc059d662d6b1552b1ca7512">rpc_fdclose</a>(<a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>[0]);</div>
<div class="line"><span class="lineno">  882</span>        <a class="code hl_function" href="#a6c914764bc059d662d6b1552b1ca7512">rpc_fdclose</a>(<a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>[1]);</div>
<div class="line"><span class="lineno">  883</span> </div>
<div class="line"><span class="lineno">  884</span>        arglen = 2;</div>
<div class="line"><span class="lineno">  885</span>        args = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *) * arglen);</div>
<div class="line"><span class="lineno">  886</span> </div>
<div class="line"><span class="lineno">  887</span>        <span class="keywordflow">if</span> (!args)</div>
<div class="line"><span class="lineno">  888</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno">  889</span> </div>
<div class="line"><span class="lineno">  890</span>        args[0] = (<span class="keywordtype">char</span> *)executable;</div>
<div class="line"><span class="lineno">  891</span>        args[1] = NULL;</div>
<div class="line"><span class="lineno">  892</span> </div>
<div class="line"><span class="lineno">  893</span>        <span class="keywordflow">if</span> (arg)</div>
<div class="line"><span class="lineno">  894</span>        {</div>
<div class="line"><span class="lineno">  895</span>            <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(cur, arg, rem)</div>
<div class="line"><span class="lineno">  896</span>            {</div>
<div class="line"><span class="lineno">  897</span>                <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(cur) != <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>)</div>
<div class="line"><span class="lineno">  898</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  899</span> </div>
<div class="line"><span class="lineno">  900</span>                <span class="keywordflow">if</span> (arglen == 255)</div>
<div class="line"><span class="lineno">  901</span>                {</div>
<div class="line"><span class="lineno">  902</span>                    free(args);</div>
<div class="line"><span class="lineno">  903</span>                    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">  904</span>                }</div>
<div class="line"><span class="lineno">  905</span> </div>
<div class="line"><span class="lineno">  906</span>                arglen++;</div>
<div class="line"><span class="lineno">  907</span>                tmp = realloc(args, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *) * arglen);</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>                <span class="keywordflow">if</span> (!tmp)</div>
<div class="line"><span class="lineno">  910</span>                {</div>
<div class="line"><span class="lineno">  911</span>                    free(args);</div>
<div class="line"><span class="lineno">  912</span>                    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno">  913</span>                }</div>
<div class="line"><span class="lineno">  914</span> </div>
<div class="line"><span class="lineno">  915</span>                args = tmp;</div>
<div class="line"><span class="lineno">  916</span>                args[arglen-2] = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur);</div>
<div class="line"><span class="lineno">  917</span>                args[arglen-1] = NULL;</div>
<div class="line"><span class="lineno">  918</span>            }</div>
<div class="line"><span class="lineno">  919</span>        }</div>
<div class="line"><span class="lineno">  920</span> </div>
<div class="line"><span class="lineno">  921</span>        <span class="keywordflow">if</span> (env)</div>
<div class="line"><span class="lineno">  922</span>        {</div>
<div class="line"><span class="lineno">  923</span>            <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(cur, env, rem)</div>
<div class="line"><span class="lineno">  924</span>            {</div>
<div class="line"><span class="lineno">  925</span>                <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(cur) != <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>)</div>
<div class="line"><span class="lineno">  926</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  927</span> </div>
<div class="line"><span class="lineno">  928</span>                setenv(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(cur), <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur), 1);</div>
<div class="line"><span class="lineno">  929</span>            }</div>
<div class="line"><span class="lineno">  930</span>        }</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>        <span class="keywordflow">if</span> (execv(executable, args))</div>
<div class="line"><span class="lineno">  933</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  934</span> </div>
<div class="line"><span class="lineno">  935</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  936</span>        memset(c, 0, <span class="keyword">sizeof</span>(*c));</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>        <a class="code hl_define" href="#aff37b3e4b3e6591fd1cd765f58ee0f9d">ustream_declare</a>(c-&gt;<a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>, <a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>[0], exec_opipe);</div>
<div class="line"><span class="lineno">  939</span>        <a class="code hl_define" href="#aff37b3e4b3e6591fd1cd765f58ee0f9d">ustream_declare</a>(c-&gt;<a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>, <a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>[0], exec_epipe);</div>
<div class="line"><span class="lineno">  940</span> </div>
<div class="line"><span class="lineno">  941</span>        c-&gt;<a class="code hl_variable" href="#a9ce24695306fcbf313ab704c3d7f383c">process</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a41e26562918b24966ac2e0d7906fb1b8">pid</a> = pid;</div>
<div class="line"><span class="lineno">  942</span>        c-&gt;<a class="code hl_variable" href="#a9ce24695306fcbf313ab704c3d7f383c">process</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a46406fa271016311e9876c440d30897f">cb</a> = <a class="code hl_function" href="#aee13b4342d37aa715c5f1d6826dcba07">rpc_file_exec_process_cb</a>;</div>
<div class="line"><span class="lineno">  943</span>        <a class="code hl_function" href="../../d1/d08/uloop_8c.html#af511d1bcbdfcfaba211d4ae1b0930dbb">uloop_process_add</a>(&amp;c-&gt;<a class="code hl_variable" href="#a9ce24695306fcbf313ab704c3d7f383c">process</a>);</div>
<div class="line"><span class="lineno">  944</span> </div>
<div class="line"><span class="lineno">  945</span>        c-&gt;<a class="code hl_variable" href="#aebdb64bf9d42e2137d9273439b364d55">timeout</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a7b331d0a02bb53b37ae38716956c97bd">cb</a> = <a class="code hl_function" href="#a831b751f0d28bf64e9ef4e20e488ba66">rpc_file_exec_timeout_cb</a>;</div>
<div class="line"><span class="lineno">  946</span>        <a class="code hl_function" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346">uloop_timeout_set</a>(&amp;c-&gt;<a class="code hl_variable" href="#aebdb64bf9d42e2137d9273439b364d55">timeout</a>, *<a class="code hl_variable" href="#a8c9284b14b948aae5a1abc7ed0e16c0c">ops</a>-&gt;<a class="code hl_variable" href="../../d9/dc4/plugin_8h.html#a2b266e311d5ce6f0da55beb217a42ebd">exec_timeout</a>);</div>
<div class="line"><span class="lineno">  947</span> </div>
<div class="line"><span class="lineno">  948</span>        close(<a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>[1]);</div>
<div class="line"><span class="lineno">  949</span>        close(<a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>[1]);</div>
<div class="line"><span class="lineno">  950</span> </div>
<div class="line"><span class="lineno">  951</span>        c-&gt;<a class="code hl_variable" href="#a5515737d76e04bca9d03ae9f3a28160c">context</a> = <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>;</div>
<div class="line"><span class="lineno">  952</span>        <a class="code hl_function" href="../../db/d55/libubus_8h.html#a1c7afaed3794ca2d223198c9945bc6c3">ubus_defer_request</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req, &amp;c-&gt;<a class="code hl_variable" href="#a2a2195414926c884c66349275dc17854">request</a>);</div>
<div class="line"><span class="lineno">  953</span>    }</div>
<div class="line"><span class="lineno">  954</span> </div>
<div class="line"><span class="lineno">  955</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab7a81fcac034b9ddc28cbf812d2ae6eb">UBUS_STATUS_OK</a>;</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span>fail_fork:</div>
<div class="line"><span class="lineno">  958</span>    close(<a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>[0]);</div>
<div class="line"><span class="lineno">  959</span>    close(<a class="code hl_variable" href="#a1a1416faa8cb31d8a6950459a008b607">epipe</a>[1]);</div>
<div class="line"><span class="lineno">  960</span> </div>
<div class="line"><span class="lineno">  961</span>fail_epipe:</div>
<div class="line"><span class="lineno">  962</span>    close(<a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>[0]);</div>
<div class="line"><span class="lineno">  963</span>    close(<a class="code hl_variable" href="#a4b464218d423036dc2bfd705c1e62685">opipe</a>[1]);</div>
<div class="line"><span class="lineno">  964</span> </div>
<div class="line"><span class="lineno">  965</span>fail_opipe:</div>
<div class="line"><span class="lineno">  966</span>    free(c);</div>
<div class="line"><span class="lineno">  967</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  968</span>}</div>
<div class="ttc" id="ablobmsg_8h_html_a065ed993444c3173838a480ba4aac052"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052">blobmsg_data_len</a></div><div class="ttdeci">static size_t blobmsg_data_len(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00095">blobmsg.h:95</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a69a81065d5c7977bc26fbd093f21a132"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a></div><div class="ttdeci">#define blobmsg_for_each_attr(pos, attr, rem)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00364">blobmsg.h:364</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a6ee526c7b55debcecad8e34e3e6108d0"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a></div><div class="ttdeci">static const char * blobmsg_name(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00062">blobmsg.h:62</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a></div><div class="ttdeci">blobmsg_type</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00025">blobmsg.h:25</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a></div><div class="ttdeci">@ BLOBMSG_TYPE_STRING</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00029">blobmsg.h:29</a></div></div>
<div class="ttc" id="afile_8c_html_a090b8a33eecdf9cc91830fbfc75b1bed"><div class="ttname"><a href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a></div><div class="ttdeci">static int rpc_errno_status(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00154">file.c:154</a></div></div>
<div class="ttc" id="afile_8c_html_a6c914764bc059d662d6b1552b1ca7512"><div class="ttname"><a href="#a6c914764bc059d662d6b1552b1ca7512">rpc_fdclose</a></div><div class="ttdeci">static void rpc_fdclose(int fd)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00787">file.c:787</a></div></div>
<div class="ttc" id="afile_8c_html_a7a3dca009e10b923b8ed60ba50b61d2d"><div class="ttname"><a href="#a7a3dca009e10b923b8ed60ba50b61d2d">rpc_file_exec_lookup</a></div><div class="ttdeci">static const char * rpc_file_exec_lookup(const char *cmd)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00629">file.c:629</a></div></div>
<div class="ttc" id="afile_8c_html_a831b751f0d28bf64e9ef4e20e488ba66"><div class="ttname"><a href="#a831b751f0d28bf64e9ef4e20e488ba66">rpc_file_exec_timeout_cb</a></div><div class="ttdeci">static void rpc_file_exec_timeout_cb(struct uloop_timeout *t)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00725">file.c:725</a></div></div>
<div class="ttc" id="afile_8c_html_aba1145374a2a9d69ea54edd15e19f7f7"><div class="ttname"><a href="#aba1145374a2a9d69ea54edd15e19f7f7">cmdstr</a></div><div class="ttdeci">static char cmdstr[RPC_CMDLINE_MAX_SIZE]</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00077">file.c:77</a></div></div>
<div class="ttc" id="afile_8c_html_aee13b4342d37aa715c5f1d6826dcba07"><div class="ttname"><a href="#aee13b4342d37aa715c5f1d6826dcba07">rpc_file_exec_process_cb</a></div><div class="ttdeci">static void rpc_file_exec_process_cb(struct uloop_process *p, int stat)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00735">file.c:735</a></div></div>
<div class="ttc" id="afile_8c_html_aff37b3e4b3e6591fd1cd765f58ee0f9d"><div class="ttname"><a href="#aff37b3e4b3e6591fd1cd765f58ee0f9d">ustream_declare</a></div><div class="ttdeci">#define ustream_declare(us, fd, name)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00054">file.c:54</a></div></div>
<div class="ttc" id="alibubus_8h_html_a1c7afaed3794ca2d223198c9945bc6c3"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a1c7afaed3794ca2d223198c9945bc6c3">ubus_defer_request</a></div><div class="ttdeci">static void ubus_defer_request(struct ubus_context *ctx, struct ubus_request_data *req, struct ubus_request_data *new_req)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00375">libubus.h:375</a></div></div>
<div class="ttc" id="aplugin_8h_html_a2b266e311d5ce6f0da55beb217a42ebd"><div class="ttname"><a href="../../d9/dc4/plugin_8h.html#a2b266e311d5ce6f0da55beb217a42ebd">rpc_daemon_ops::exec_timeout</a></div><div class="ttdeci">int * exec_timeout</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dc4/plugin_8h_source.html#l00057">plugin.h:57</a></div></div>
<div class="ttc" id="auloop_8c_html_ac0bcdd57d004a600844745bd38e83a2d"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#ac0bcdd57d004a600844745bd38e83a2d">uloop_done</a></div><div class="ttdeci">void uloop_done(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00686">uloop.c:686</a></div></div>
<div class="ttc" id="auloop_8c_html_aeae1856255dccd537fd19cdda1cba346"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346">uloop_timeout_set</a></div><div class="ttdeci">int uloop_timeout_set(struct uloop_timeout *timeout, int msecs)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00328">uloop.c:328</a></div></div>
<div class="ttc" id="auloop_8c_html_af511d1bcbdfcfaba211d4ae1b0930dbb"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#af511d1bcbdfcfaba211d4ae1b0930dbb">uloop_process_add</a></div><div class="ttdeci">int uloop_process_add(struct uloop_process *p)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00391">uloop.c:391</a></div></div>
<div class="ttc" id="auloop_8h_html_a41e26562918b24966ac2e0d7906fb1b8"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#a41e26562918b24966ac2e0d7906fb1b8">uloop_process::pid</a></div><div class="ttdeci">pid_t pid</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00087">uloop.h:87</a></div></div>
<div class="ttc" id="auloop_8h_html_a46406fa271016311e9876c440d30897f"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#a46406fa271016311e9876c440d30897f">uloop_process::cb</a></div><div class="ttdeci">uloop_process_handler cb</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00086">uloop.h:86</a></div></div>
<div class="ttc" id="auloop_8h_html_a7b331d0a02bb53b37ae38716956c97bd"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#a7b331d0a02bb53b37ae38716956c97bd">uloop_timeout::cb</a></div><div class="ttdeci">uloop_timeout_handler cb</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00077">uloop.h:77</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00095">blobmsg_data_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00364">blobmsg_for_each_attr</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00348">blobmsg_get_string()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00062">blobmsg_name()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00029">BLOBMSG_TYPE_STRING</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00086">uloop_process::cb</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00077">uloop_timeout::cb</a>, <a class="el" href="../../d4/d4c/json__script_8c_source.html#l00207">cmd</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00077">cmdstr</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00065">rpc_file_exec_context::context</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00070">rpc_file_exec_context::epipe</a>, <a class="el" href="../../d9/dc4/plugin_8h_source.html#l00057">rpc_daemon_ops::exec_timeout</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00069">rpc_file_exec_context::opipe</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00062">ops</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00087">uloop_process::pid</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00068">rpc_file_exec_context::process</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00066">rpc_file_exec_context::request</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00186">rpc_canonicalize_path()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00154">rpc_errno_status()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00787">rpc_fdclose()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00176">rpc_file_access()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00629">rpc_file_exec_lookup()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00735">rpc_file_exec_process_cb()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00725">rpc_file_exec_timeout_cb()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00067">rpc_file_exec_context::timeout</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00375">ubus_defer_request()</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00121">UBUS_STATUS_INVALID_ARGUMENT</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00123">UBUS_STATUS_NOT_FOUND</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00119">UBUS_STATUS_OK</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00125">UBUS_STATUS_PERMISSION_DENIED</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00128">UBUS_STATUS_UNKNOWN_ERROR</a>, <a class="el" href="../../d1/d08/uloop_8c_source.html#l00686">uloop_done()</a>, <a class="el" href="../../d1/d08/uloop_8c_source.html#l00391">uloop_process_add()</a>, <a class="el" href="../../d1/d08/uloop_8c_source.html#l00328">uloop_timeout_set()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00054">ustream_declare</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00971">rpc_file_exec()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_a0dcd9fc4e75a0e5a313424b98be8dc52_cgraph.png" border="0" usemap="#ad6/d13/file_8c_a0dcd9fc4e75a0e5a313424b98be8dc52_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_a0dcd9fc4e75a0e5a313424b98be8dc52_cgraph" id="ad6/d13/file_8c_a0dcd9fc4e75a0e5a313424b98be8dc52_cgraph">
<area shape="rect" title=" " alt="" coords="5,392,186,426"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="570,108,721,142"/>
<area shape="poly" title=" " alt="" coords="94,391,99,322,106,275,117,223,135,170,159,119,191,73,232,36,255,22,279,13,330,4,383,6,436,17,486,34,533,55,608,97,605,101,531,60,484,39,434,22,382,11,331,9,281,18,257,27,235,40,195,77,163,122,140,172,123,224,111,276,104,323,100,392"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="265,165,453,199"/>
<area shape="poly" title=" " alt="" coords="101,391,118,352,146,302,184,251,207,228,232,208,249,198,252,203,235,212,210,232,188,255,151,305,123,355,106,393"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="257,51,461,84"/>
<area shape="poly" title=" " alt="" coords="96,391,107,333,130,252,148,209,170,166,198,127,232,93,242,86,245,90,235,97,202,131,175,169,153,211,135,254,112,334,102,392"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="565,332,727,366"/>
<area shape="poly" title=" " alt="" coords="186,404,326,397,484,381,559,367,560,372,484,386,327,402,186,409"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ac259ea54734cbe6c4939e9294905d68c" title=" " alt="" coords="247,223,471,256"/>
<area shape="poly" title=" " alt="" coords="106,390,156,328,192,294,232,265,242,260,244,265,235,270,195,298,160,332,111,393"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a090b8a33eecdf9cc91830fbfc75b1bed" title=" " alt="" coords="272,280,446,314"/>
<area shape="poly" title=" " alt="" coords="118,389,169,355,233,322,256,314,258,319,235,327,172,360,121,394"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a6c914764bc059d662d6b1552b1ca7512" title=" " alt="" coords="296,337,422,371"/>
<area shape="poly" title=" " alt="" coords="179,389,280,368,281,373,181,394"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a912dfa3f13bfac0066df14de1019ad40" title=" " alt="" coords="279,108,439,142"/>
<area shape="poly" title=" " alt="" coords="98,391,112,343,138,277,177,209,203,177,232,150,264,134,266,139,235,155,206,181,182,212,143,280,117,344,103,392"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a7a3dca009e10b923b8ed60ba50b61d2d" title=" " alt="" coords="254,447,464,480"/>
<area shape="poly" title=" " alt="" coords="181,424,260,440,259,445,179,429"/>
<area shape="rect" href="../../d6/d13/file_8c.html#aee13b4342d37aa715c5f1d6826dcba07" title=" " alt="" coords="234,504,484,538"/>
<area shape="poly" title=" " alt="" coords="121,424,172,458,235,490,252,496,250,501,233,495,169,462,118,428"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a831b751f0d28bf64e9ef4e20e488ba66" title=" " alt="" coords="234,561,484,595"/>
<area shape="poly" title=" " alt="" coords="111,424,160,486,195,520,235,548,244,552,242,557,232,552,192,524,156,489,106,428"/>
<area shape="rect" href="../../db/d55/libubus_8h.html#a1c7afaed3794ca2d223198c9945bc6c3" title=" " alt="" coords="257,619,461,652"/>
<area shape="poly" title=" " alt="" coords="106,425,123,463,151,512,188,563,210,586,235,605,244,610,241,615,232,610,207,590,184,566,146,515,118,465,101,427"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ac0bcdd57d004a600844745bd38e83a2d" title=" " alt="" coords="295,676,423,710"/>
<area shape="poly" title=" " alt="" coords="103,425,117,473,143,538,182,606,206,636,235,663,257,675,281,683,280,688,255,680,232,667,203,640,177,609,138,540,112,475,98,427"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#af511d1bcbdfcfaba211d4ae1b0930dbb" title=" " alt="" coords="548,985,744,1019"/>
<area shape="poly" title=" " alt="" coords="99,426,101,509,106,567,116,633,133,701,157,769,191,833,236,888,267,915,302,937,339,955,379,969,458,989,532,998,532,1003,457,994,377,975,337,960,299,942,264,919,232,892,187,836,152,771,128,703,111,634,101,568,95,509,94,426"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="264,844,454,878"/>
<area shape="poly" title=" " alt="" coords="105,425,151,552,189,637,236,721,283,782,330,831,326,835,279,785,231,723,185,640,146,554,100,427"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="878,223,989,256"/>
<area shape="poly" title=" " alt="" coords="723,134,761,150,777,165,786,181,794,196,809,209,835,222,863,230,862,235,833,227,806,214,790,199,781,183,773,169,758,155,721,139"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="843,165,1024,199"/>
<area shape="poly" title=" " alt="" coords="722,137,832,159,830,164,721,142"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="848,51,1019,84"/>
<area shape="poly" title=" " alt="" coords="721,107,832,85,833,90,722,112"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="838,108,1029,142"/>
<area shape="poly" title=" " alt="" coords="722,122,823,122,823,127,722,127"/>
<area shape="poly" title=" " alt="" coords="446,162,554,140,555,145,447,167"/>
<area shape="poly" title=" " alt="" coords="453,197,532,209,711,225,863,234,862,239,710,230,532,214,452,202"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="597,165,695,199"/>
<area shape="poly" title=" " alt="" coords="454,179,581,179,581,185,454,185"/>
<area shape="poly" title=" " alt="" coords="447,82,555,104,554,109,446,87"/>
<area shape="poly" title=" " alt="" coords="691,329,872,260,874,265,693,334"/>
<area shape="poly" title=" " alt="" coords="439,122,555,122,555,127,439,127"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#aa8f30f3e3f083f89504998e9d5747752" title=" " alt="" coords="576,475,715,508"/>
<area shape="poly" title=" " alt="" coords="484,505,560,497,560,503,485,511"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a238775ac0dd67c6b79a1ac478377ec11" title=" " alt="" coords="549,532,743,566"/>
<area shape="poly" title=" " alt="" coords="484,563,533,558,533,563,485,568"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="860,463,1007,496"/>
<area shape="poly" title=" " alt="" coords="716,529,759,518,807,506,845,497,846,502,808,511,760,523,718,534"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="1108,471,1247,504"/>
<area shape="poly" title=" " alt="" coords="739,529,758,519,773,502,780,483,788,464,806,448,846,431,889,423,932,421,976,424,1057,440,1124,462,1122,467,1056,445,975,429,932,426,889,428,848,437,809,452,792,467,785,485,778,504,761,523,741,534"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393" title=" " alt="" coords="838,601,1029,635"/>
<area shape="poly" title=" " alt="" coords="718,564,760,574,808,586,843,595,842,600,807,591,759,579,716,569"/>
<area shape="rect" href="../../d6/d13/file_8c.html#aa26c5cf90b005f4517e97709b17fe722" title=" " alt="" coords="807,659,1060,692"/>
<area shape="poly" title=" " alt="" coords="741,564,761,575,778,592,786,611,793,629,809,645,815,649,812,653,806,649,789,632,781,613,773,595,758,579,739,568"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a08d851dae97200fe16233b21dc4c38d2" title=" " alt="" coords="809,520,1058,577"/>
<area shape="poly" title=" " alt="" coords="743,546,794,546,794,551,743,551"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="823,761,1044,795"/>
<area shape="poly" title=" " alt="" coords="745,563,761,575,775,590,783,606,788,638,792,670,798,686,809,703,840,731,875,752,872,756,837,735,805,706,794,689,787,671,783,639,778,608,771,593,758,579,742,568"/>
<area shape="poly" title=" " alt="" coords="1048,517,1092,506,1093,511,1049,522"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a13ca20f7af9aa4aa3057b1114e23e7f1" title=" " alt="" coords="532,704,759,738"/>
<area shape="poly" title=" " alt="" coords="423,696,517,705,516,711,423,702"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#afe30e87975d460220899f69103f90d0d" title=" " alt="" coords="538,761,754,795"/>
<area shape="poly" title=" " alt="" coords="410,708,533,747,557,754,556,759,531,753,408,713"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="563,589,729,623"/>
<area shape="poly" title=" " alt="" coords="422,680,483,662,507,647,531,632,547,625,549,630,533,636,509,652,485,667,423,686"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a28e87c6264a681dc2a422d32794416c5" title=" " alt="" coords="542,647,749,680"/>
<area shape="poly" title=" " alt="" coords="423,684,526,673,527,678,423,689"/>
<area shape="poly" title=" " alt="" coords="754,775,808,775,808,781,754,781"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="869,956,998,990"/>
<area shape="poly" title=" " alt="" coords="744,989,853,978,854,983,745,995"/>
<area shape="poly" title=" " alt="" coords="453,846,759,805,818,795,819,801,760,810,454,852"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="570,871,722,904"/>
<area shape="poly" title=" " alt="" coords="454,867,554,876,553,881,454,872"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="548,928,744,962"/>
<area shape="poly" title=" " alt="" coords="411,876,533,914,557,921,556,926,531,919,410,881"/>
<area shape="poly" title=" " alt="" coords="745,952,854,962,853,968,744,957"/>
</map>
</div>

</div>
</div>
<a id="a831b751f0d28bf64e9ef4e20e488ba66" name="a831b751f0d28bf64e9ef4e20e488ba66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a831b751f0d28bf64e9ef4e20e488ba66">&#9670;&#160;</a></span>rpc_file_exec_timeout_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_file_exec_timeout_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d56/uloop_8h.html#d8/d2b/structuloop__timeout">uloop_timeout</a> *</td>          <td class="paramname"><span class="paramname"><em>t</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00725">725</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  726</span>{</div>
<div class="line"><span class="lineno">  727</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a> *c =</div>
<div class="line"><span class="lineno">  728</span>        <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(t, <span class="keyword">struct</span> <a class="code hl_struct" href="#d6/d5f/structrpc__file__exec__context">rpc_file_exec_context</a>, <a class="code hl_variable" href="../../de/d89/procd_2ubus_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>);</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>    kill(c-&gt;<a class="code hl_variable" href="#a9ce24695306fcbf313ab704c3d7f383c">process</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a41e26562918b24966ac2e0d7906fb1b8">pid</a>, SIGKILL);</div>
<div class="line"><span class="lineno">  731</span>    <a class="code hl_function" href="#a238775ac0dd67c6b79a1ac478377ec11">rpc_file_exec_reply</a>(c, <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a2a3fdb833db1dcb4d3e95d94c412c645">UBUS_STATUS_TIMEOUT</a>);</div>
<div class="line"><span class="lineno">  732</span>}</div>
<div class="ttc" id="aprocd_2ubus_8c_html_a493b57f443cc38b3d3df9c1e584d9d82"><div class="ttname"><a href="../../de/d89/procd_2ubus_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a></div><div class="ttdeci">static int timeout</div><div class="ttdef"><b>Definition</b> <a href="../../de/d89/procd_2ubus_8c_source.html#l00025">ubus.c:25</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312a2a3fdb833db1dcb4d3e95d94c412c645"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a2a3fdb833db1dcb4d3e95d94c412c645">UBUS_STATUS_TIMEOUT</a></div><div class="ttdeci">@ UBUS_STATUS_TIMEOUT</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00126">ubusmsg.h:126</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00087">uloop_process::pid</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00068">rpc_file_exec_context::process</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00695">rpc_file_exec_reply()</a>, <a class="el" href="../../de/d89/procd_2ubus_8c_source.html#l00025">timeout</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00126">UBUS_STATUS_TIMEOUT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00794">rpc_file_exec_run()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_a831b751f0d28bf64e9ef4e20e488ba66_cgraph.png" border="0" usemap="#ad6/d13/file_8c_a831b751f0d28bf64e9ef4e20e488ba66_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_a831b751f0d28bf64e9ef4e20e488ba66_cgraph" id="ad6/d13/file_8c_a831b751f0d28bf64e9ef4e20e488ba66_cgraph">
<area shape="rect" title=" " alt="" coords="5,530,256,564"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a238775ac0dd67c6b79a1ac478377ec11" title=" " alt="" coords="304,530,498,564"/>
<area shape="poly" title=" " alt="" coords="256,544,288,544,288,550,256,550"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="597,162,743,196"/>
<area shape="poly" title=" " alt="" coords="402,529,413,469,438,384,457,338,480,292,509,250,544,213,562,200,581,191,583,196,564,205,548,217,514,253,485,295,462,340,443,386,419,470,407,530"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="1167,217,1307,250"/>
<area shape="poly" title=" " alt="" coords="407,528,426,491,456,441,496,391,519,367,545,347,619,305,699,273,783,250,867,235,949,226,1025,222,1152,224,1152,229,1025,227,949,231,868,240,784,255,701,278,621,310,547,352,523,371,500,394,460,444,431,493,412,531"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393" title=" " alt="" coords="575,585,765,618"/>
<area shape="poly" title=" " alt="" coords="488,562,569,578,568,584,487,567"/>
<area shape="rect" href="../../d6/d13/file_8c.html#aa26c5cf90b005f4517e97709b17fe722" title=" " alt="" coords="1111,487,1363,521"/>
<area shape="poly" title=" " alt="" coords="498,539,1095,509,1095,514,499,545"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a08d851dae97200fe16233b21dc4c38d2" title=" " alt="" coords="546,361,794,418"/>
<area shape="poly" title=" " alt="" coords="420,528,475,484,545,438,576,422,578,427,547,443,478,489,424,532"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="582,453,758,486"/>
<area shape="poly" title=" " alt="" coords="461,527,594,489,595,494,463,532"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a49ba044023de765e2d9d14db25d1845b" title=" " alt="" coords="843,642,1062,676"/>
<area shape="poly" title=" " alt="" coords="426,562,479,597,512,615,547,628,618,646,691,656,762,661,828,662,828,667,762,666,690,661,617,651,545,633,510,620,476,602,423,566"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="842,699,1063,733"/>
<area shape="poly" title=" " alt="" coords="418,562,470,617,507,646,547,668,616,692,689,707,761,715,827,718,827,724,760,721,688,713,615,697,545,673,504,650,467,621,414,566"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a55eb7ea0d6ed61f253f5689798ccf5c3" title=" " alt="" coords="599,745,741,778"/>
<area shape="poly" title=" " alt="" coords="413,563,434,597,464,640,502,685,547,723,585,742,583,747,545,728,498,689,459,643,429,600,409,565"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1475,121,1580,154"/>
<area shape="poly" title=" " alt="" coords="1289,214,1459,157,1461,162,1291,219"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="1437,217,1617,250"/>
<area shape="poly" title=" " alt="" coords="1307,231,1422,231,1422,236,1307,236"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1922,91,2065,125"/>
<area shape="poly" title=" " alt="" coords="1580,139,1712,144,1791,143,1869,136,1919,127,1920,132,1870,142,1791,148,1712,149,1580,144"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1703,35,1858,69"/>
<area shape="poly" title=" " alt="" coords="1576,118,1690,78,1709,72,1710,77,1692,83,1578,123"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1922,9,2065,42"/>
<area shape="poly" title=" " alt="" coords="1543,118,1604,67,1645,40,1691,20,1745,8,1802,3,1857,4,1907,8,1906,14,1857,9,1802,9,1746,13,1692,25,1648,45,1607,71,1547,122"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1712,253,1849,286"/>
<area shape="poly" title=" " alt="" coords="1563,152,1734,243,1731,247,1560,157"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1731,93,1830,126"/>
<area shape="poly" title=" " alt="" coords="1580,129,1715,114,1716,119,1581,134"/>
<area shape="poly" title=" " alt="" coords="1848,67,1913,84,1911,89,1846,72"/>
<area shape="poly" title=" " alt="" coords="1858,40,1906,34,1907,39,1859,45"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1922,362,2065,396"/>
<area shape="poly" title=" " alt="" coords="1816,285,1947,352,1944,357,1814,289"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="2117,335,2258,369"/>
<area shape="poly" title=" " alt="" coords="1849,270,1954,281,2070,303,2136,326,2135,331,2068,308,1953,286,1849,276"/>
<area shape="poly" title=" " alt="" coords="2065,366,2101,361,2102,367,2065,372"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="2306,470,2405,504"/>
<area shape="poly" title=" " alt="" coords="2212,367,2323,458,2320,462,2209,372"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="855,585,1050,618"/>
<area shape="poly" title=" " alt="" coords="766,599,840,599,840,604,766,604"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="1706,739,1855,773"/>
<area shape="poly" title=" " alt="" coords="1047,616,1692,737,1691,742,1046,622"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="2132,711,2243,745"/>
<area shape="poly" title=" " alt="" coords="1840,771,1890,782,1947,790,2008,792,2068,784,2110,770,2147,751,2149,756,2112,775,2070,789,2009,797,1947,796,1889,787,1839,776"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1918,741,2069,774"/>
<area shape="poly" title=" " alt="" coords="1855,754,1902,754,1902,760,1855,759"/>
<area shape="poly" title=" " alt="" coords="2069,744,2116,736,2117,742,2070,749"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a9c0a75070ad9e1b8926172638fb8e9d9" title=" " alt="" coords="1423,377,1631,434"/>
<area shape="poly" title=" " alt="" coords="1288,484,1427,437,1428,442,1290,489"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a81ad3c816930b7f2e2ab263ba9c50f89" title=" " alt="" coords="1420,459,1635,515"/>
<area shape="poly" title=" " alt="" coords="1363,494,1404,492,1404,497,1364,499"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add51c2b7e0940c808099cd9dfb82f05a" title=" " alt="" coords="1411,539,1643,573"/>
<area shape="poly" title=" " alt="" coords="1335,519,1415,534,1414,539,1334,524"/>
<area shape="poly" title=" " alt="" coords="1572,374,1690,303,1718,290,1720,295,1693,308,1575,379"/>
<area shape="poly" title=" " alt="" coords="1632,397,1906,381,1907,386,1632,402"/>
<area shape="poly" title=" " alt="" coords="1631,381,1691,371,1804,355,1918,347,1993,345,2069,347,2102,347,2101,353,2069,352,1993,351,1918,352,1804,361,1692,376,1632,386"/>
<area shape="poly" title=" " alt="" coords="1632,433,1645,445,1665,475,1672,505,1672,534,1669,563,1665,591,1666,619,1674,647,1693,674,1770,697,1910,734,1909,739,1768,702,1690,678,1669,649,1661,620,1660,591,1664,562,1667,534,1667,506,1660,477,1641,449,1628,436"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac9fd36cdb87493b31a675621ed53a8d7" title=" " alt="" coords="1725,413,1836,446"/>
<area shape="poly" title=" " alt="" coords="1632,413,1709,420,1709,426,1632,418"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1691,470,1870,504"/>
<area shape="poly" title=" " alt="" coords="1617,432,1692,456,1711,462,1709,467,1691,461,1616,437"/>
<area shape="poly" title=" " alt="" coords="1836,414,1907,397,1908,402,1837,419"/>
<area shape="poly" title=" " alt="" coords="1612,513,1671,527,1736,535,1804,532,1837,525,1869,514,1902,493,1931,465,1955,435,1973,408,1978,411,1960,438,1935,469,1906,497,1871,519,1839,530,1805,537,1736,540,1670,532,1611,518"/>
<area shape="poly" title=" " alt="" coords="1613,513,1644,524,1668,534,1692,542,1742,550,1781,555,1820,553,1869,542,1912,527,1955,509,2034,464,2103,417,2154,377,2157,381,2106,421,2037,469,1957,513,1914,532,1870,547,1821,558,1781,560,1741,556,1691,547,1666,539,1642,529,1611,518"/>
<area shape="poly" title=" " alt="" coords="1632,514,1645,525,1663,550,1670,575,1672,599,1671,623,1670,671,1678,694,1693,719,1705,729,1701,733,1689,722,1673,696,1665,671,1665,623,1667,599,1665,576,1658,552,1641,529,1629,518"/>
<area shape="poly" title=" " alt="" coords="1635,484,1676,484,1676,490,1635,490"/>
<area shape="poly" title=" " alt="" coords="730,358,783,335,842,314,923,291,1005,271,1151,244,1152,249,1007,276,924,296,843,319,785,340,732,363"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="867,373,1038,406"/>
<area shape="poly" title=" " alt="" coords="795,387,852,387,852,392,795,392"/>
<area shape="poly" title=" " alt="" coords="1030,370,1061,352,1077,329,1084,306,1090,282,1109,260,1129,247,1151,239,1153,244,1131,252,1112,264,1095,285,1089,308,1082,332,1064,356,1033,374"/>
<area shape="poly" title=" " alt="" coords="1038,373,1363,318,1504,295,1566,283,1642,260,1666,248,1691,238,1740,229,1780,229,1870,238,1972,245,2016,254,2070,272,2116,296,2156,324,2153,328,2114,301,2068,277,2014,259,1971,251,1869,243,1780,234,1741,235,1692,243,1668,253,1644,265,1567,288,1505,300,1363,323,1039,379"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f" title=" " alt="" coords="1171,274,1303,308"/>
<area shape="poly" title=" " alt="" coords="1012,370,1062,351,1085,338,1110,324,1156,308,1157,313,1112,329,1088,342,1064,356,1014,375"/>
<area shape="poly" title=" " alt="" coords="749,450,793,427,808,411,815,393,824,375,841,358,871,342,899,335,951,334,1003,334,1031,328,1061,314,1076,301,1084,288,1093,273,1109,259,1152,242,1154,247,1112,264,1097,277,1089,290,1080,305,1064,318,1033,333,1004,339,951,339,900,340,873,347,844,362,828,378,820,395,812,414,796,432,752,455"/>
<area shape="poly" title=" " alt="" coords="732,450,875,409,876,414,733,455"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e8112f19ea399af22d957f19cf6cfc7" title=" " alt="" coords="1702,630,1859,664"/>
<area shape="poly" title=" " alt="" coords="759,481,1687,629,1686,635,758,486"/>
<area shape="poly" title=" " alt="" coords="1843,627,2290,502,2292,507,1845,632"/>
<area shape="poly" title=" " alt="" coords="1860,643,1960,649,2016,656,2070,668,2110,683,2147,701,2145,706,2108,688,2068,673,2015,662,1960,654,1859,648"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a055e87e50f40e8a0bffc669e2a47d1eb" title=" " alt="" coords="1943,683,2044,717"/>
<area shape="poly" title=" " alt="" coords="1851,662,1928,681,1927,686,1850,667"/>
<area shape="poly" title=" " alt="" coords="2045,705,2117,715,2116,721,2044,710"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1194,699,1280,733"/>
<area shape="poly" title=" " alt="" coords="1040,674,1180,702,1179,707,1039,679"/>
<area shape="poly" title=" " alt="" coords="1063,714,1179,714,1179,719,1063,719"/>
<area shape="poly" title=" " alt="" coords="741,748,828,733,829,739,742,753"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc" title=" " alt="" coords="844,757,1061,790"/>
<area shape="poly" title=" " alt="" coords="742,762,828,766,828,771,742,767"/>
</map>
</div>

</div>
</div>
<a id="a0b38d28e71b0678af0e1fe0e2cba3f7d" name="a0b38d28e71b0678af0e1fe0e2cba3f7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b38d28e71b0678af0e1fe0e2cba3f7d">&#9670;&#160;</a></span>rpc_file_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_file_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00490">490</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  493</span>{</div>
<div class="line"><span class="lineno">  494</span>    DIR *fd;</div>
<div class="line"><span class="lineno">  495</span>    <span class="keywordtype">void</span> *c, *d;</div>
<div class="line"><span class="lineno">  496</span>    <span class="keyword">struct </span>stat s;</div>
<div class="line"><span class="lineno">  497</span>    <span class="keyword">struct </span>dirent *e;</div>
<div class="line"><span class="lineno">  498</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, *entrypath;</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="#aa1d17d220c2f1361e5b5cf36bac3aca9">rpc_check_path</a>(msg, R, <span class="stringliteral">&quot;list&quot;</span>, &amp;<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, NULL))</div>
<div class="line"><span class="lineno">  501</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  502</span> </div>
<div class="line"><span class="lineno">  503</span>    <span class="keywordflow">if</span> ((fd = opendir(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>)) == NULL)</div>
<div class="line"><span class="lineno">  504</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b">blob_buf_init</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, 0);</div>
<div class="line"><span class="lineno">  507</span>    c = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a938ceeed1d840f9df7946262f1835214">blobmsg_open_array</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;entries&quot;</span>);</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>    <span class="keywordflow">while</span> ((e = readdir(fd)) != NULL)</div>
<div class="line"><span class="lineno">  510</span>    {</div>
<div class="line"><span class="lineno">  511</span>        <span class="keywordflow">if</span> (!strcmp(e-&gt;d_name, <span class="stringliteral">&quot;.&quot;</span>) || !strcmp(e-&gt;d_name, <span class="stringliteral">&quot;..&quot;</span>))</div>
<div class="line"><span class="lineno">  512</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>        <span class="keywordflow">if</span> (asprintf(&amp;entrypath, <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, e-&gt;d_name) &lt; 0)</div>
<div class="line"><span class="lineno">  515</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  516</span> </div>
<div class="line"><span class="lineno">  517</span>        <span class="keywordflow">if</span> (!stat(entrypath, &amp;s))</div>
<div class="line"><span class="lineno">  518</span>        {</div>
<div class="line"><span class="lineno">  519</span>            d = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a">blobmsg_open_table</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, NULL);</div>
<div class="line"><span class="lineno">  520</span>            <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6">blobmsg_add_string</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;name&quot;</span>, e-&gt;d_name);</div>
<div class="line"><span class="lineno">  521</span>            <a class="code hl_function" href="#a51c9c23f8191aee204d7889096e34688">_rpc_file_add_stat</a>(&amp;s);</div>
<div class="line"><span class="lineno">  522</span>            <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14">blobmsg_close_table</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, d);</div>
<div class="line"><span class="lineno">  523</span>        }</div>
<div class="line"><span class="lineno">  524</span> </div>
<div class="line"><span class="lineno">  525</span>        free(entrypath);</div>
<div class="line"><span class="lineno">  526</span>    }</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>    closedir(fd);</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a56794b194617d9a858dbc783dd2a0c32">blobmsg_close_array</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, c);</div>
<div class="line"><span class="lineno">  531</span>    <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4">ubus_send_reply</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req, <a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>.<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#af6065d74116605108b22c11e75ec669c">head</a>);</div>
<div class="line"><span class="lineno">  532</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59">blob_buf_free</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>);</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  535</span>}</div>
<div class="ttc" id="ablobmsg_8h_html_a2de3b7599bec41a8c9919f780bd28f1a"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a">blobmsg_open_table</a></div><div class="ttdeci">static void * blobmsg_open_table(struct blob_buf *buf, const char *name)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00256">blobmsg.h:256</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a3252218dfc4cb4c8b54772196e8c2a14"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14">blobmsg_close_table</a></div><div class="ttdeci">static void blobmsg_close_table(struct blob_buf *buf, void *cookie)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00268">blobmsg.h:268</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a56794b194617d9a858dbc783dd2a0c32"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a56794b194617d9a858dbc783dd2a0c32">blobmsg_close_array</a></div><div class="ttdeci">static void blobmsg_close_array(struct blob_buf *buf, void *cookie)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00262">blobmsg.h:262</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a938ceeed1d840f9df7946262f1835214"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a938ceeed1d840f9df7946262f1835214">blobmsg_open_array</a></div><div class="ttdeci">static void * blobmsg_open_array(struct blob_buf *buf, const char *name)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00250">blobmsg.h:250</a></div></div>
<div class="ttc" id="afile_8c_html_a51c9c23f8191aee204d7889096e34688"><div class="ttname"><a href="#a51c9c23f8191aee204d7889096e34688">_rpc_file_add_stat</a></div><div class="ttdeci">static void _rpc_file_add_stat(struct stat *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00465">file.c:465</a></div></div>
<div class="ttc" id="afile_8c_html_aa1d17d220c2f1361e5b5cf36bac3aca9"><div class="ttname"><a href="#aa1d17d220c2f1361e5b5cf36bac3aca9">rpc_check_path</a></div><div class="ttdeci">#define rpc_check_path(msg, policy_selector, perm, path, s)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00281">file.c:281</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d13/file_8c_source.html#l00465">_rpc_file_add_stat()</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00104">blob_buf_free()</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00091">blob_buf_init()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00235">blobmsg_add_string()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00262">blobmsg_close_array()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00268">blobmsg_close_table()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00250">blobmsg_open_array()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00256">blobmsg_open_table()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00075">buf</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00065">blob_buf::head</a>, <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00281">rpc_check_path</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00154">rpc_errno_status()</a>, and <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00205">ubus_send_reply()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00989">rpc_file_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_a0b38d28e71b0678af0e1fe0e2cba3f7d_cgraph.png" border="0" usemap="#ad6/d13/file_8c_a0b38d28e71b0678af0e1fe0e2cba3f7d_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_a0b38d28e71b0678af0e1fe0e2cba3f7d_cgraph" id="ad6/d13/file_8c_a0b38d28e71b0678af0e1fe0e2cba3f7d_cgraph">
<area shape="rect" title=" " alt="" coords="5,474,130,508"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a51c9c23f8191aee204d7889096e34688" title=" " alt="" coords="192,394,377,428"/>
<area shape="poly" title=" " alt="" coords="110,471,177,445,215,431,217,436,179,450,111,476"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="442,337,650,371"/>
<area shape="poly" title=" " alt="" coords="78,472,117,424,145,399,177,379,238,358,303,345,367,340,426,340,426,345,367,345,303,350,239,363,179,384,148,403,121,428,82,475"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="211,656,358,689"/>
<area shape="poly" title=" " alt="" coords="80,507,118,569,146,604,179,634,200,647,198,651,176,639,142,608,113,572,75,510"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="982,504,1122,537"/>
<area shape="poly" title=" " alt="" coords="130,485,178,483,391,483,661,483,779,487,930,499,967,504,966,509,929,504,778,493,661,489,391,488,178,488,130,490"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a56794b194617d9a858dbc783dd2a0c32" title=" " alt="" coords="439,712,653,745"/>
<area shape="poly" title=" " alt="" coords="89,506,129,540,179,573,236,597,284,609,332,620,392,641,452,670,506,701,503,705,450,675,390,646,331,625,283,614,234,602,176,577,125,544,85,511"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14" title=" " alt="" coords="440,592,652,625"/>
<area shape="poly" title=" " alt="" coords="131,504,460,585,459,590,129,509"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a938ceeed1d840f9df7946262f1835214" title=" " alt="" coords="178,192,391,225"/>
<area shape="poly" title=" " alt="" coords="70,473,82,431,103,375,134,315,154,286,176,260,196,243,218,230,220,235,199,248,180,264,158,289,139,318,108,377,87,433,75,475"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a" title=" " alt="" coords="179,274,390,308"/>
<area shape="poly" title=" " alt="" coords="75,473,113,407,142,368,176,334,212,312,215,317,179,339,146,372,117,410,79,475"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a090b8a33eecdf9cc91830fbfc75b1bed" title=" " alt="" coords="197,713,372,747"/>
<area shape="poly" title=" " alt="" coords="75,508,87,547,107,600,138,654,157,678,179,700,185,704,182,708,176,704,153,682,133,657,102,602,82,549,70,509"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="458,504,634,537"/>
<area shape="poly" title=" " alt="" coords="130,492,443,512,443,517,130,498"/>
<area shape="poly" title=" " alt="" coords="364,391,451,372,452,377,365,396"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393" title=" " alt="" coords="451,394,641,428"/>
<area shape="poly" title=" " alt="" coords="377,408,435,408,435,414,377,414"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="718,337,913,371"/>
<area shape="poly" title=" " alt="" coords="651,351,703,351,703,356,651,356"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="978,166,1126,200"/>
<area shape="poly" title=" " alt="" coords="839,334,1013,207,1016,211,842,339"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1436,170,1547,204"/>
<area shape="poly" title=" " alt="" coords="1126,181,1421,184,1421,189,1126,186"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aee908e6de67c16a4d810d08f28ed1803" title=" " alt="" coords="1210,377,1318,411"/>
<area shape="poly" title=" " alt="" coords="1072,198,1237,364,1233,367,1068,202"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1189,116,1340,149"/>
<area shape="poly" title=" " alt="" coords="1125,163,1175,151,1177,156,1126,168"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1406,61,1577,95"/>
<area shape="poly" title=" " alt="" coords="1092,163,1124,145,1138,133,1147,122,1157,111,1173,101,1227,83,1283,72,1339,67,1391,67,1391,72,1339,73,1284,77,1228,88,1175,106,1160,115,1151,125,1142,137,1128,149,1095,168"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1439,546,1544,580"/>
<area shape="poly" title=" " alt="" coords="1290,409,1457,535,1454,539,1287,413"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1832,384,1974,417"/>
<area shape="poly" title=" " alt="" coords="1319,385,1402,379,1593,371,1677,372,1784,379,1817,383,1816,388,1784,384,1677,378,1593,377,1402,384,1319,391"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1402,228,1581,261"/>
<area shape="poly" title=" " alt="" coords="1317,376,1353,356,1368,337,1376,318,1384,299,1401,278,1418,267,1421,271,1404,282,1388,301,1381,320,1373,340,1356,360,1320,381"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1832,576,1974,609"/>
<area shape="poly" title=" " alt="" coords="1545,564,1817,584,1817,589,1544,570"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1629,605,1784,639"/>
<area shape="poly" title=" " alt="" coords="1545,575,1628,598,1627,603,1544,580"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1832,660,1974,693"/>
<area shape="poly" title=" " alt="" coords="1514,578,1565,616,1596,634,1630,649,1676,662,1725,670,1817,676,1816,682,1724,675,1675,667,1628,654,1594,639,1562,620,1511,583"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1638,496,1775,529"/>
<area shape="poly" title=" " alt="" coords="1544,548,1622,529,1623,535,1545,553"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1657,438,1756,472"/>
<area shape="poly" title=" " alt="" coords="1518,543,1568,513,1627,481,1641,475,1643,480,1630,486,1570,517,1521,548"/>
<area shape="poly" title=" " alt="" coords="1784,608,1816,603,1817,608,1785,613"/>
<area shape="poly" title=" " alt="" coords="1770,637,1826,652,1825,657,1769,642"/>
<area shape="poly" title=" " alt="" coords="1760,493,1783,482,1828,454,1868,425,1871,429,1831,459,1785,487,1762,497"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="2022,496,2164,529"/>
<area shape="poly" title=" " alt="" coords="1775,510,2006,510,2006,515,1775,515"/>
<area shape="poly" title=" " alt="" coords="1935,416,2051,485,2049,490,1932,420"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="2212,496,2310,529"/>
<area shape="poly" title=" " alt="" coords="2164,510,2196,510,2196,515,2164,515"/>
<area shape="poly" title=" " alt="" coords="1338,147,1421,168,1420,173,1337,153"/>
<area shape="poly" title=" " alt="" coords="1337,112,1403,96,1404,101,1338,118"/>
<area shape="poly" title=" " alt="" coords="628,391,718,372,719,377,629,396"/>
<area shape="poly" title=" " alt="" coords="1122,528,1174,535,1424,556,1423,562,1174,540,1122,534"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="1174,492,1354,525"/>
<area shape="poly" title=" " alt="" coords="1122,514,1158,512,1158,517,1122,519"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aa980250f4a411659367b8bffaf5d6118" title=" " alt="" coords="1187,685,1341,719"/>
<area shape="poly" title=" " alt="" coords="654,724,871,720,1126,710,1171,707,1172,712,1126,715,872,725,654,730"/>
<area shape="poly" title=" " alt="" coords="1342,696,1784,679,1816,678,1816,683,1784,684,1342,702"/>
<area shape="poly" title=" " alt="" coords="1274,683,1323,612,1359,570,1401,532,1458,490,1507,463,1559,443,1628,423,1725,405,1816,398,1817,403,1725,410,1629,428,1561,448,1509,467,1461,494,1404,536,1363,573,1328,615,1278,686"/>
<area shape="poly" title=" " alt="" coords="1285,717,1336,757,1369,778,1403,794,1485,819,1551,827,1705,826,1904,826,1936,823,1965,817,2022,793,2074,757,2120,714,2161,667,2195,620,2242,542,2246,545,2199,623,2165,670,2124,717,2077,761,2025,797,1967,822,1936,829,1905,831,1705,831,1550,833,1484,824,1401,799,1366,782,1333,762,1282,721"/>
<area shape="poly" title=" " alt="" coords="1274,683,1311,620,1352,537,1367,494,1375,459,1383,424,1400,381,1432,322,1466,273,1470,276,1437,325,1405,383,1388,425,1380,460,1372,495,1357,539,1316,622,1279,686"/>
<area shape="poly" title=" " alt="" coords="653,621,978,666,1172,689,1171,694,977,671,652,626"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aaac450f6a679be8a392d17c3ed8700b4" title=" " alt="" coords="701,166,930,200"/>
<area shape="poly" title=" " alt="" coords="391,201,686,187,686,192,391,206"/>
<area shape="poly" title=" " alt="" coords="930,180,962,180,962,186,930,186"/>
<area shape="poly" title=" " alt="" coords="923,163,1023,138,1075,121,1125,101,1138,92,1148,83,1158,74,1173,66,1285,26,1333,13,1379,5,1424,3,1472,9,1523,23,1582,46,1638,76,1689,115,1736,159,1778,206,1845,297,1888,368,1883,371,1841,300,1774,209,1732,163,1686,119,1635,81,1580,51,1522,28,1471,15,1424,9,1379,10,1334,18,1287,31,1175,71,1161,78,1152,87,1142,96,1127,105,1077,126,1024,144,924,168"/>
<area shape="poly" title=" " alt="" coords="903,198,978,210,1197,229,1387,239,1387,244,1196,235,977,215,902,203"/>
<area shape="poly" title=" " alt="" coords="827,164,852,136,886,101,929,67,977,42,1035,25,1096,16,1158,13,1219,16,1332,32,1423,54,1422,59,1331,37,1219,21,1158,19,1097,21,1037,30,979,47,931,72,890,105,856,139,832,168"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="981,57,1123,91"/>
<area shape="poly" title=" " alt="" coords="853,163,999,95,1001,100,855,168"/>
<area shape="poly" title=" " alt="" coords="371,271,713,201,714,206,372,276"/>
<area shape="poly" title=" " alt="" coords="635,518,967,518,967,523,635,523"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e8112f19ea399af22d957f19cf6cfc7" title=" " alt="" coords="737,394,894,428"/>
<area shape="poly" title=" " alt="" coords="589,501,756,432,758,437,591,506"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="730,564,901,597"/>
<area shape="poly" title=" " alt="" coords="626,535,722,557,721,562,624,541"/>
<area shape="poly" title=" " alt="" coords="892,391,929,381,977,362,1188,285,1401,213,1420,207,1422,212,1403,218,1190,290,979,367,931,386,893,396"/>
<area shape="poly" title=" " alt="" coords="895,415,978,420,1167,433,1249,433,1354,421,1409,407,1453,390,1527,348,1563,329,1603,312,1649,301,1705,296,1905,296,1958,302,2009,317,2058,340,2104,367,2181,428,2236,482,2232,486,2178,432,2101,372,2056,345,2007,322,1957,307,1904,302,1705,302,1650,306,1604,317,1566,333,1530,353,1456,394,1410,412,1355,426,1250,439,1167,439,977,426,894,421"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a055e87e50f40e8a0bffc669e2a47d1eb" title=" " alt="" coords="1001,377,1103,411"/>
<area shape="poly" title=" " alt="" coords="894,403,985,396,986,401,895,408"/>
<area shape="poly" title=" " alt="" coords="1102,379,1251,341,1317,320,1353,305,1370,283,1376,261,1383,237,1401,213,1420,201,1423,205,1404,217,1387,239,1381,262,1374,286,1356,309,1319,325,1252,346,1103,384"/>
<area shape="poly" title=" " alt="" coords="1103,391,1194,391,1194,396,1103,396"/>
<area shape="poly" title=" " alt="" coords="901,585,1126,607,1194,618,1258,632,1372,667,1568,742,1660,766,1707,772,1755,773,1805,767,1858,754,1913,733,1973,704,1994,689,2013,670,2044,627,2067,582,2081,543,2086,545,2071,584,2049,630,2017,674,1998,693,1976,708,1916,738,1859,759,1806,773,1755,778,1707,778,1659,772,1567,747,1370,672,1256,637,1193,623,1126,612,901,590"/>
<area shape="poly" title=" " alt="" coords="884,561,967,539,968,544,885,566"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f" title=" " alt="" coords="986,622,1118,656"/>
<area shape="poly" title=" " alt="" coords="887,595,971,617,970,622,886,600"/>
</map>
</div>

</div>
</div>
<a id="afe2053159aa0066d5666e43aba50e4d9" name="afe2053159aa0066d5666e43aba50e4d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe2053159aa0066d5666e43aba50e4d9">&#9670;&#160;</a></span>rpc_file_md5()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_file_md5 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00432">432</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  435</span>{</div>
<div class="line"><span class="lineno">  436</span>    <span class="keywordtype">int</span> rv, i;</div>
<div class="line"><span class="lineno">  437</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>;</div>
<div class="line"><span class="lineno">  438</span>    <span class="keyword">struct </span>stat s;</div>
<div class="line"><span class="lineno">  439</span>    uint8_t md5[16];</div>
<div class="line"><span class="lineno">  440</span>    <span class="keywordtype">char</span> *wbuf;</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="#aa1d17d220c2f1361e5b5cf36bac3aca9">rpc_check_path</a>(msg, R, <span class="stringliteral">&quot;read&quot;</span>, &amp;<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, &amp;s))</div>
<div class="line"><span class="lineno">  443</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordflow">if</span> (!S_ISREG(s.st_mode))</div>
<div class="line"><span class="lineno">  446</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ad74e2dea71b3e0779258d7d3f0893577">UBUS_STATUS_NOT_SUPPORTED</a>;</div>
<div class="line"><span class="lineno">  447</span> </div>
<div class="line"><span class="lineno">  448</span>    <span class="keywordflow">if</span> ((rv = <a class="code hl_function" href="../../d7/d6c/md5_8c.html#a7d55b5d6fc8a4c77947ee1ee6ef87264">md5sum</a>(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, md5)) &lt;= 0)</div>
<div class="line"><span class="lineno">  449</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b">blob_buf_init</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, 0);</div>
<div class="line"><span class="lineno">  452</span>    wbuf = <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#a81ad3c816930b7f2e2ab263ba9c50f89">blobmsg_alloc_string_buffer</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;md5&quot;</span>, 33);</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordflow">for</span> (i = 0; i &lt; 16; i++)</div>
<div class="line"><span class="lineno">  455</span>        sprintf(wbuf + (i * 2), <span class="stringliteral">&quot;%02x&quot;</span>, (uint8_t) md5[i]);</div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#a9c0a75070ad9e1b8926172638fb8e9d9">blobmsg_add_string_buffer</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>);</div>
<div class="line"><span class="lineno">  458</span>    <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4">ubus_send_reply</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req, <a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>.<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#af6065d74116605108b22c11e75ec669c">head</a>);</div>
<div class="line"><span class="lineno">  459</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59">blob_buf_free</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>);</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab7a81fcac034b9ddc28cbf812d2ae6eb">UBUS_STATUS_OK</a>;</div>
<div class="line"><span class="lineno">  462</span>}</div>
<div class="ttc" id="ablobmsg_8c_html_a81ad3c816930b7f2e2ab263ba9c50f89"><div class="ttname"><a href="../../d1/d30/blobmsg_8c.html#a81ad3c816930b7f2e2ab263ba9c50f89">blobmsg_alloc_string_buffer</a></div><div class="ttdeci">void * blobmsg_alloc_string_buffer(struct blob_buf *buf, const char *name, unsigned int maxlen)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d30/blobmsg_8c_source.html#l00326">blobmsg.c:326</a></div></div>
<div class="ttc" id="ablobmsg_8c_html_a9c0a75070ad9e1b8926172638fb8e9d9"><div class="ttname"><a href="../../d1/d30/blobmsg_8c.html#a9c0a75070ad9e1b8926172638fb8e9d9">blobmsg_add_string_buffer</a></div><div class="ttdeci">void blobmsg_add_string_buffer(struct blob_buf *buf)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d30/blobmsg_8c_source.html#l00361">blobmsg.c:361</a></div></div>
<div class="ttc" id="amd5_8c_html_a7d55b5d6fc8a4c77947ee1ee6ef87264"><div class="ttname"><a href="../../d7/d6c/md5_8c.html#a7d55b5d6fc8a4c77947ee1ee6ef87264">md5sum</a></div><div class="ttdeci">int md5sum(const char *file, void *md5_buf)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d6c/md5_8c_source.html#l00311">md5.c:311</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/da0/blob_8c_source.html#l00104">blob_buf_free()</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00091">blob_buf_init()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00361">blobmsg_add_string_buffer()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00326">blobmsg_alloc_string_buffer()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00075">buf</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00065">blob_buf::head</a>, <a class="el" href="../../d7/d6c/md5_8c_source.html#l00311">md5sum()</a>, <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00281">rpc_check_path</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00154">rpc_errno_status()</a>, <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00205">ubus_send_reply()</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00127">UBUS_STATUS_NOT_SUPPORTED</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00119">UBUS_STATUS_OK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00989">rpc_file_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_afe2053159aa0066d5666e43aba50e4d9_cgraph.png" border="0" usemap="#ad6/d13/file_8c_afe2053159aa0066d5666e43aba50e4d9_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_afe2053159aa0066d5666e43aba50e4d9_cgraph" id="ad6/d13/file_8c_afe2053159aa0066d5666e43aba50e4d9_cgraph">
<area shape="rect" title=" " alt="" coords="5,534,145,568"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="208,256,354,289"/>
<area shape="poly" title=" " alt="" coords="77,533,88,486,109,423,143,357,165,326,191,298,194,296,197,300,194,302,169,329,147,359,114,426,93,488,82,534"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="715,313,854,347"/>
<area shape="poly" title=" " alt="" coords="131,531,712,349,714,354,133,536"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a9c0a75070ad9e1b8926172638fb8e9d9" title=" " alt="" coords="680,744,889,801"/>
<area shape="poly" title=" " alt="" coords="146,558,243,574,367,599,501,634,633,679,685,704,732,733,729,738,683,709,631,684,500,639,365,604,242,579,145,563"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a81ad3c816930b7f2e2ab263ba9c50f89" title=" " alt="" coords="417,523,632,579"/>
<area shape="poly" title=" " alt="" coords="145,548,401,548,401,554,145,554"/>
<area shape="rect" href="../../d7/d6c/md5_8c.html#a7d55b5d6fc8a4c77947ee1ee6ef87264" title=" " alt="" coords="229,694,333,728"/>
<area shape="poly" title=" " alt="" coords="93,566,137,612,194,662,230,684,227,689,191,667,133,616,89,570"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a090b8a33eecdf9cc91830fbfc75b1bed" title=" " alt="" coords="194,752,368,785"/>
<area shape="poly" title=" " alt="" coords="85,568,99,603,122,649,154,697,194,738,198,741,195,745,191,742,150,701,118,652,94,606,80,570"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="193,313,369,347"/>
<area shape="poly" title=" " alt="" coords="90,532,252,356,256,360,94,535"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1208,346,1313,380"/>
<area shape="poly" title=" " alt="" coords="855,332,1193,356,1192,361,854,337"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="937,258,1117,292"/>
<area shape="poly" title=" " alt="" coords="854,311,933,293,935,299,855,317"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1607,352,1749,385"/>
<area shape="poly" title=" " alt="" coords="1313,361,1591,365,1591,370,1313,366"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1403,309,1559,343"/>
<area shape="poly" title=" " alt="" coords="1313,352,1387,339,1388,344,1314,357"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1607,282,1749,316"/>
<area shape="poly" title=" " alt="" coords="1297,343,1354,317,1378,303,1403,294,1451,286,1500,283,1591,286,1591,291,1500,288,1451,291,1404,299,1380,308,1357,321,1300,348"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1413,614,1549,648"/>
<area shape="poly" title=" " alt="" coords="1287,378,1322,406,1357,441,1390,482,1420,525,1465,599,1461,602,1416,528,1386,485,1353,445,1318,410,1284,383"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1431,418,1531,452"/>
<area shape="poly" title=" " alt="" coords="1314,378,1417,412,1416,417,1312,383"/>
<area shape="poly" title=" " alt="" coords="1560,340,1592,347,1591,352,1559,345"/>
<area shape="poly" title=" " alt="" coords="1559,313,1591,308,1592,313,1559,318"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1607,682,1749,716"/>
<area shape="poly" title=" " alt="" coords="1533,646,1613,674,1612,679,1531,651"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1797,532,1938,565"/>
<area shape="poly" title=" " alt="" coords="1549,614,1781,564,1782,569,1550,619"/>
<area shape="poly" title=" " alt="" coords="1699,680,1832,573,1835,577,1702,684"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1986,257,2085,291"/>
<area shape="poly" title=" " alt="" coords="1877,530,2014,302,2018,305,1882,533"/>
<area shape="poly" title=" " alt="" coords="802,742,825,711,856,677,893,645,936,620,997,617,1120,618,1398,625,1397,631,1120,623,997,622,937,626,896,649,859,681,829,715,806,745"/>
<area shape="poly" title=" " alt="" coords="890,797,988,816,1104,833,1230,839,1293,837,1355,831,1414,821,1459,810,1558,770,1600,747,1639,723,1642,727,1603,752,1560,775,1461,815,1415,826,1356,836,1294,843,1230,845,1104,838,987,822,888,802"/>
<area shape="poly" title=" " alt="" coords="843,799,938,838,1026,868,1096,890,1167,903,1259,907,1482,907,1517,904,1551,897,1583,884,1614,868,1671,826,1721,776,1765,721,1801,667,1850,578,1854,581,1806,669,1769,724,1725,779,1674,830,1617,873,1585,889,1552,902,1518,910,1482,912,1259,912,1166,908,1094,895,1024,873,936,843,841,804"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac9fd36cdb87493b31a675621ed53a8d7" title=" " alt="" coords="1205,788,1316,821"/>
<area shape="poly" title=" " alt="" coords="889,777,1189,797,1189,802,889,782"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1171,730,1349,764"/>
<area shape="poly" title=" " alt="" coords="889,764,1155,750,1156,755,889,769"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="951,520,1103,553"/>
<area shape="poly" title=" " alt="" coords="800,742,854,662,892,617,935,577,964,558,967,563,938,581,896,621,859,665,805,745"/>
<area shape="poly" title=" " alt="" coords="1316,788,1593,718,1594,723,1317,793"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1205,273,1316,307"/>
<area shape="poly" title=" " alt="" coords="1034,518,1052,480,1081,431,1118,379,1163,332,1194,311,1197,316,1167,336,1122,382,1085,434,1057,483,1038,520"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1170,570,1351,604"/>
<area shape="poly" title=" " alt="" coords="1104,550,1165,564,1164,569,1102,555"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1175,456,1345,489"/>
<area shape="poly" title=" " alt="" coords="1090,516,1181,491,1182,496,1092,521"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1165,513,1355,547"/>
<area shape="poly" title=" " alt="" coords="1103,532,1149,530,1150,536,1103,537"/>
<area shape="poly" title=" " alt="" coords="556,578,596,624,635,680,649,718,655,750,662,779,682,811,723,852,760,885,797,911,834,930,874,943,917,952,1026,958,1261,958,1311,956,1352,949,1387,939,1419,925,1482,885,1557,829,1586,805,1612,778,1654,727,1658,730,1616,782,1590,809,1560,833,1485,889,1422,930,1389,944,1353,955,1311,961,1262,963,1025,963,917,957,872,948,832,935,794,915,757,889,719,856,678,814,657,781,649,751,644,719,630,683,592,627,552,581"/>
<area shape="poly" title=" " alt="" coords="607,520,749,479,838,458,936,440,1039,427,1145,422,1252,425,1356,440,1381,450,1404,462,1504,489,1606,510,1782,536,1781,542,1605,515,1503,494,1402,467,1378,455,1355,446,1251,431,1145,427,1040,433,937,445,839,463,750,484,609,525"/>
<area shape="poly" title=" " alt="" coords="609,577,761,628,937,679,1050,705,1156,726,1155,732,1049,711,936,684,759,633,607,582"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="710,520,859,553"/>
<area shape="poly" title=" " alt="" coords="633,542,695,539,695,544,633,548"/>
<area shape="poly" title=" " alt="" coords="859,534,936,534,936,539,859,539"/>
<area shape="poly" title=" " alt="" coords="816,517,965,435,1164,331,1206,311,1208,316,1166,336,967,440,818,521"/>
<area shape="poly" title=" " alt="" coords="859,518,936,504,1159,478,1160,484,937,510,860,523"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aee908e6de67c16a4d810d08f28ed1803" title=" " alt="" coords="973,636,1081,669"/>
<area shape="poly" title=" " alt="" coords="823,551,977,626,975,631,821,556"/>
<area shape="poly" title=" " alt="" coords="1049,633,1083,603,1115,564,1131,532,1138,503,1145,474,1163,442,1189,412,1218,387,1222,391,1193,416,1167,445,1150,476,1143,505,1136,534,1119,567,1086,606,1053,637"/>
<area shape="poly" title=" " alt="" coords="1081,654,1591,690,1591,696,1081,659"/>
<area shape="poly" title=" " alt="" coords="1045,668,1095,720,1129,749,1166,774,1191,785,1189,790,1164,779,1126,753,1092,724,1041,672"/>
<area shape="poly" title=" " alt="" coords="1074,667,1118,686,1166,709,1198,722,1196,727,1164,713,1116,691,1072,672"/>
<area shape="rect" href="../../d7/d6c/md5_8c.html#a727cce34c2111b921569928af888cfdb" title=" " alt="" coords="463,694,587,728"/>
<area shape="poly" title=" " alt="" coords="333,708,447,708,447,714,333,714"/>
<area shape="rect" href="../../d7/d6c/md5_8c.html#ad2c3b6875fa4339312479e6eada7be1b" title=" " alt="" coords="471,986,578,1020"/>
<area shape="poly" title=" " alt="" coords="334,717,353,725,371,737,392,765,401,793,406,822,419,855,461,919,501,973,497,976,456,923,415,858,401,823,396,794,388,768,367,741,351,730,332,722"/>
<area shape="rect" href="../../d7/d6c/md5_8c.html#a6f61fc88f2b63d04b2e420d5cc49f9aa" title=" " alt="" coords="466,810,583,844"/>
<area shape="poly" title=" " alt="" coords="334,723,370,737,432,768,486,799,483,804,429,772,368,741,332,728"/>
<area shape="rect" href="../../d7/d6c/md5_8c.html#a1bd55a163520eef98f892a0424e5aaff" title=" " alt="" coords="751,998,818,1032"/>
<area shape="poly" title=" " alt="" coords="579,1003,736,1010,736,1015,579,1008"/>
<area shape="poly" title=" " alt="" coords="541,842,598,907,638,944,682,977,709,991,737,1001,735,1006,707,995,679,981,634,948,594,911,537,846"/>
<area shape="poly" title=" " alt="" coords="369,327,699,327,699,332,369,332"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e8112f19ea399af22d957f19cf6cfc7" title=" " alt="" coords="446,70,603,104"/>
<area shape="poly" title=" " alt="" coords="351,310,367,300,385,281,394,263,402,243,415,219,457,162,497,114,501,117,461,165,419,222,406,245,399,265,389,284,371,304,354,314"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="440,233,610,267"/>
<area shape="poly" title=" " alt="" coords="336,310,368,299,457,269,459,274,370,304,337,315"/>
<area shape="poly" title=" " alt="" coords="561,67,616,45,680,26,776,9,852,4,1026,6,1679,6,1737,13,1792,33,1843,62,1889,98,1930,137,1966,176,2017,242,2012,245,1962,179,1926,141,1886,102,1840,67,1789,38,1736,18,1679,11,1025,11,852,9,776,14,681,31,618,50,563,72"/>
<area shape="poly" title=" " alt="" coords="594,67,700,48,766,41,835,38,908,41,981,50,1052,69,1118,98,1163,132,1200,175,1229,219,1248,258,1243,260,1224,222,1196,178,1160,136,1116,103,1050,74,980,56,908,46,835,43,766,46,701,53,594,72"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a055e87e50f40e8a0bffc669e2a47d1eb" title=" " alt="" coords="734,97,835,131"/>
<area shape="poly" title=" " alt="" coords="604,92,719,104,718,110,604,98"/>
<area shape="poly" title=" " alt="" coords="835,104,895,99,967,99,1044,109,1082,120,1118,134,1159,160,1193,193,1222,227,1243,258,1239,261,1218,230,1190,196,1155,164,1116,139,1080,125,1043,115,967,105,895,104,835,109"/>
<area shape="poly" title=" " alt="" coords="836,113,866,122,891,140,901,156,909,176,919,226,923,285,923,349,923,474,928,525,939,565,962,597,990,624,986,628,958,601,934,567,923,526,918,474,918,349,917,285,914,227,904,178,897,159,887,144,863,127,835,118"/>
<area shape="poly" title=" " alt="" coords="583,265,714,305,712,310,581,270"/>
<area shape="poly" title=" " alt="" coords="610,241,897,226,1077,220,1259,218,1482,218,1562,215,1626,214,1656,218,1686,228,1717,244,1751,268,1778,294,1801,325,1819,358,1834,393,1855,461,1865,515,1860,516,1850,462,1829,395,1815,361,1796,328,1774,298,1747,272,1714,248,1684,233,1655,223,1625,219,1562,220,1482,223,1259,223,1077,226,897,232,610,247"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f" title=" " alt="" coords="719,154,850,188"/>
<area shape="poly" title=" " alt="" coords="582,230,711,190,713,195,584,235"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#ad1aaffb83e802ad470cb77be9f56977c" title=" " alt="" coords="972,149,1082,183"/>
<area shape="poly" title=" " alt="" coords="851,167,956,165,956,170,851,172"/>
</map>
</div>

</div>
</div>
<a id="a52589151a970648a50a9785c568ec14c" name="a52589151a970648a50a9785c568ec14c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52589151a970648a50a9785c568ec14c">&#9670;&#160;</a></span>rpc_file_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_file_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00289">289</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  292</span>{</div>
<div class="line"><span class="lineno">  293</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> **tb;</div>
<div class="line"><span class="lineno">  294</span>    <span class="keywordtype">bool</span> base64 = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  295</span>    <span class="keywordtype">int</span> fd, rv;</div>
<div class="line"><span class="lineno">  296</span>    ssize_t len;</div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>;</div>
<div class="line"><span class="lineno">  298</span>    <span class="keyword">struct </span>stat s;</div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordtype">char</span> *wbuf;</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>    tb = <a class="code hl_define" href="#aa1d17d220c2f1361e5b5cf36bac3aca9">rpc_check_path</a>(msg, RB, <span class="stringliteral">&quot;read&quot;</span>, &amp;<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, &amp;s);</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>    <span class="keywordflow">if</span> (tb == NULL)</div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>    <span class="keywordflow">if</span> (s.st_size &gt;= <a class="code hl_define" href="#a3dc7a931eb797bd3ec3dcda81c9a1918">RPC_FILE_MAX_SIZE</a>)</div>
<div class="line"><span class="lineno">  307</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ad74e2dea71b3e0779258d7d3f0893577">UBUS_STATUS_NOT_SUPPORTED</a>;</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>    <span class="keywordflow">if</span> ((fd = open(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, O_RDONLY)) &lt; 0)</div>
<div class="line"><span class="lineno">  310</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>    <span class="comment">/* some sysfs files do not report a length */</span></div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">if</span> (s.st_size == 0)</div>
<div class="line"><span class="lineno">  314</span>        s.st_size = <a class="code hl_define" href="#a65b3c42c01ff6b971943ccbb3679566c">RPC_FILE_MIN_SIZE</a>;</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b">blob_buf_init</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, 0);</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>    <span class="keywordflow">if</span> (tb[<a class="code hl_enumvalue" href="#a2f1398dba5e4a5616b83437528bdb28ea3f2ca77b16198018f1b65fd4f97efcac">RPC_F_RB_BASE64</a>])</div>
<div class="line"><span class="lineno">  319</span>        base64 = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2">blobmsg_get_bool</a>(tb[<a class="code hl_enumvalue" href="#a2f1398dba5e4a5616b83437528bdb28ea3f2ca77b16198018f1b65fd4f97efcac">RPC_F_RB_BASE64</a>]);</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>    len = s.st_size + 1;</div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordflow">if</span> (base64)</div>
<div class="line"><span class="lineno">  323</span>        len = <a class="code hl_define" href="../../d5/d1d/libubox_2utils_8h.html#a612eac40f80058fd1d6fb381724c0e0a">B64_ENCODE_LEN</a>(s.st_size);</div>
<div class="line"><span class="lineno">  324</span>    wbuf = <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#a81ad3c816930b7f2e2ab263ba9c50f89">blobmsg_alloc_string_buffer</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;data&quot;</span>, len);</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>    <span class="keywordflow">if</span> (!wbuf)</div>
<div class="line"><span class="lineno">  327</span>    {</div>
<div class="line"><span class="lineno">  328</span>        rv = <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno">  329</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno">  330</span>    }</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    <span class="keywordflow">if</span> ((len = read(fd, wbuf, s.st_size)) &lt;= 0)</div>
<div class="line"><span class="lineno">  333</span>    {</div>
<div class="line"><span class="lineno">  334</span>        rv = <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a29e69371d9c9dad4e99fb14467850323">UBUS_STATUS_NO_DATA</a>;</div>
<div class="line"><span class="lineno">  335</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno">  336</span>    }</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>    <span class="keywordflow">if</span> (base64)</div>
<div class="line"><span class="lineno">  339</span>    {</div>
<div class="line"><span class="lineno">  340</span>        uint8_t *data = calloc(len, <span class="keyword">sizeof</span>(uint8_t));</div>
<div class="line"><span class="lineno">  341</span>        <span class="keywordflow">if</span> (!data)</div>
<div class="line"><span class="lineno">  342</span>        {</div>
<div class="line"><span class="lineno">  343</span>            rv = <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno">  344</span>            <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno">  345</span>        }</div>
<div class="line"><span class="lineno">  346</span>        memcpy(data, wbuf, len);</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>        len = <a class="code hl_function" href="../../db/d36/base64_8c.html#a1a594f917ee0549bcde95ba5be5cf2d3">b64_encode</a>(data, len, wbuf, <a class="code hl_define" href="../../d5/d1d/libubox_2utils_8h.html#a612eac40f80058fd1d6fb381724c0e0a">B64_ENCODE_LEN</a>(len));</div>
<div class="line"><span class="lineno">  349</span>        free(data);</div>
<div class="line"><span class="lineno">  350</span>        <span class="keywordflow">if</span> (len &lt; 0)</div>
<div class="line"><span class="lineno">  351</span>        {</div>
<div class="line"><span class="lineno">  352</span>            rv = <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno">  353</span>            <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno">  354</span>        }</div>
<div class="line"><span class="lineno">  355</span>    }</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>    *(wbuf + len) = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  358</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#a9c0a75070ad9e1b8926172638fb8e9d9">blobmsg_add_string_buffer</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>);</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>    <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4">ubus_send_reply</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req, <a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>.<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#af6065d74116605108b22c11e75ec669c">head</a>);</div>
<div class="line"><span class="lineno">  361</span>    rv = <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab7a81fcac034b9ddc28cbf812d2ae6eb">UBUS_STATUS_OK</a>;</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>out:</div>
<div class="line"><span class="lineno">  364</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59">blob_buf_free</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>);</div>
<div class="line"><span class="lineno">  365</span>    close(fd);</div>
<div class="line"><span class="lineno">  366</span>    <span class="keywordflow">return</span> rv;</div>
<div class="line"><span class="lineno">  367</span>}</div>
<div class="ttc" id="abase64_8c_html_a1a594f917ee0549bcde95ba5be5cf2d3"><div class="ttname"><a href="../../db/d36/base64_8c.html#a1a594f917ee0549bcde95ba5be5cf2d3">b64_encode</a></div><div class="ttdeci">int b64_encode(const void *_src, size_t srclength, void *dest, size_t targsize)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d36/base64_8c_source.html#l00139">base64.c:139</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_adfbec0b532211a1442310392496a45f2"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2">blobmsg_get_bool</a></div><div class="ttdeci">static bool blobmsg_get_bool(struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00283">blobmsg.h:283</a></div></div>
<div class="ttc" id="afile_8c_html_a65b3c42c01ff6b971943ccbb3679566c"><div class="ttname"><a href="#a65b3c42c01ff6b971943ccbb3679566c">RPC_FILE_MIN_SIZE</a></div><div class="ttdeci">#define RPC_FILE_MIN_SIZE</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00041">file.c:41</a></div></div>
<div class="ttc" id="alibubox_2utils_8h_html_a612eac40f80058fd1d6fb381724c0e0a"><div class="ttname"><a href="../../d5/d1d/libubox_2utils_8h.html#a612eac40f80058fd1d6fb381724c0e0a">B64_ENCODE_LEN</a></div><div class="ttdeci">#define B64_ENCODE_LEN(_len)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d1d/libubox_2utils_8h_source.html#l00247">utils.h:247</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312a29e69371d9c9dad4e99fb14467850323"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a29e69371d9c9dad4e99fb14467850323">UBUS_STATUS_NO_DATA</a></div><div class="ttdeci">@ UBUS_STATUS_NO_DATA</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00124">ubusmsg.h:124</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d36/base64_8c_source.html#l00139">b64_encode()</a>, <a class="el" href="../../d5/d1d/libubox_2utils_8h_source.html#l00247">B64_ENCODE_LEN</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00104">blob_buf_free()</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00091">blob_buf_init()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00361">blobmsg_add_string_buffer()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00326">blobmsg_alloc_string_buffer()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00283">blobmsg_get_bool()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00075">buf</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00065">blob_buf::head</a>, <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00281">rpc_check_path</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00154">rpc_errno_status()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00093">RPC_F_RB_BASE64</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00044">RPC_FILE_MAX_SIZE</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00041">RPC_FILE_MIN_SIZE</a>, <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00205">ubus_send_reply()</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00124">UBUS_STATUS_NO_DATA</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00127">UBUS_STATUS_NOT_SUPPORTED</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00119">UBUS_STATUS_OK</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00128">UBUS_STATUS_UNKNOWN_ERROR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00989">rpc_file_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_a52589151a970648a50a9785c568ec14c_cgraph.png" border="0" usemap="#ad6/d13/file_8c_a52589151a970648a50a9785c568ec14c_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_a52589151a970648a50a9785c568ec14c_cgraph" id="ad6/d13/file_8c_a52589151a970648a50a9785c568ec14c_cgraph">
<area shape="rect" title=" " alt="" coords="5,458,144,492"/>
<area shape="rect" href="../../db/d36/base64_8c.html#a1a594f917ee0549bcde95ba5be5cf2d3" title=" " alt="" coords="213,242,347,276"/>
<area shape="poly" title=" " alt="" coords="79,456,94,421,117,374,149,326,190,285,198,279,201,283,193,289,153,330,122,377,99,423,84,458"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="207,299,353,333"/>
<area shape="poly" title=" " alt="" coords="86,456,129,405,158,376,190,350,212,337,214,342,193,354,162,380,133,408,90,459"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="714,877,853,910"/>
<area shape="poly" title=" " alt="" coords="81,491,91,543,111,616,144,694,167,732,194,765,248,811,310,845,377,870,447,887,517,897,584,902,698,900,698,905,583,907,516,902,446,893,375,876,307,850,245,815,190,769,162,735,139,697,106,618,85,544,76,492"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a9c0a75070ad9e1b8926172638fb8e9d9" title=" " alt="" coords="679,180,888,236"/>
<area shape="poly" title=" " alt="" coords="121,455,691,240,692,245,123,460"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a81ad3c816930b7f2e2ab263ba9c50f89" title=" " alt="" coords="416,408,631,464"/>
<area shape="poly" title=" " alt="" coords="144,466,400,444,401,449,144,471"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2" title=" " alt="" coords="430,489,618,522"/>
<area shape="poly" title=" " alt="" coords="144,477,415,495,414,501,144,482"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a090b8a33eecdf9cc91830fbfc75b1bed" title=" " alt="" coords="193,721,367,754"/>
<area shape="poly" title=" " alt="" coords="82,491,94,534,115,593,148,654,169,683,193,707,197,710,193,714,190,711,165,686,144,657,110,595,89,536,77,492"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="192,663,368,697"/>
<area shape="poly" title=" " alt="" coords="95,490,253,651,249,654,91,494"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1207,663,1312,697"/>
<area shape="poly" title=" " alt="" coords="854,900,913,903,980,901,1050,888,1083,878,1115,863,1158,831,1194,790,1222,747,1242,710,1247,712,1227,750,1198,793,1162,835,1117,868,1085,883,1051,894,981,906,913,909,853,906"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="936,929,1116,962"/>
<area shape="poly" title=" " alt="" coords="854,906,930,922,929,927,853,911"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1606,685,1748,718"/>
<area shape="poly" title=" " alt="" coords="1312,689,1403,703,1480,705,1558,703,1590,702,1590,707,1558,708,1480,711,1402,708,1312,694"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1402,659,1558,693"/>
<area shape="poly" title=" " alt="" coords="1312,676,1386,675,1387,680,1312,682"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1606,577,1748,610"/>
<area shape="poly" title=" " alt="" coords="1311,663,1353,642,1367,628,1375,613,1384,599,1401,587,1448,572,1497,566,1546,566,1591,571,1590,577,1546,572,1498,571,1449,577,1404,592,1388,603,1380,616,1371,631,1356,646,1314,668"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1412,382,1548,416"/>
<area shape="poly" title=" " alt="" coords="1283,661,1317,633,1352,598,1386,555,1416,508,1461,428,1466,431,1421,511,1390,558,1356,602,1321,637,1286,665"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1430,602,1530,636"/>
<area shape="poly" title=" " alt="" coords="1311,663,1415,634,1416,639,1313,668"/>
<area shape="poly" title=" " alt="" coords="1558,683,1591,688,1590,693,1558,689"/>
<area shape="poly" title=" " alt="" coords="1530,656,1557,646,1625,615,1628,620,1559,650,1532,661"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1606,311,1748,345"/>
<area shape="poly" title=" " alt="" coords="1528,379,1613,348,1614,353,1530,384"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1796,449,1937,482"/>
<area shape="poly" title=" " alt="" coords="1549,408,1781,448,1780,453,1548,413"/>
<area shape="poly" title=" " alt="" coords="1703,343,1831,437,1828,441,1700,348"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1985,657,2084,690"/>
<area shape="poly" title=" " alt="" coords="1884,481,2012,643,2008,646,1880,484"/>
<area shape="poly" title=" " alt="" coords="888,192,990,187,1111,192,1174,200,1237,213,1298,232,1356,258,1390,281,1420,310,1463,367,1459,370,1416,313,1386,285,1353,262,1296,237,1235,218,1173,205,1110,197,990,192,888,198"/>
<area shape="poly" title=" " alt="" coords="866,177,965,149,1087,125,1154,118,1221,115,1289,119,1355,129,1416,146,1462,166,1559,227,1608,263,1649,299,1645,303,1604,267,1556,232,1460,171,1415,151,1354,135,1288,124,1221,121,1154,123,1088,130,966,154,867,182"/>
<area shape="poly" title=" " alt="" coords="821,177,897,126,1002,69,1063,43,1126,22,1192,8,1258,3,1481,3,1523,6,1561,17,1597,34,1631,55,1663,82,1692,112,1743,179,1785,251,1818,322,1859,433,1854,435,1813,324,1780,254,1738,182,1688,115,1659,86,1628,60,1595,38,1559,22,1522,12,1481,8,1258,8,1193,13,1128,27,1065,48,1005,74,900,131,824,182"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac9fd36cdb87493b31a675621ed53a8d7" title=" " alt="" coords="1204,145,1315,178"/>
<area shape="poly" title=" " alt="" coords="888,192,935,187,1188,164,1188,169,936,192,889,197"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1170,273,1348,306"/>
<area shape="poly" title=" " alt="" coords="889,223,1155,269,1154,274,888,228"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="950,457,1102,490"/>
<area shape="poly" title=" " alt="" coords="808,235,865,308,938,391,994,445,990,448,934,395,861,311,804,238"/>
<area shape="poly" title=" " alt="" coords="1307,176,1355,195,1620,302,1618,307,1353,200,1305,181"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1204,554,1315,588"/>
<area shape="poly" title=" " alt="" coords="1077,488,1117,507,1141,524,1165,540,1190,550,1188,555,1163,545,1138,529,1115,512,1074,493"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1169,497,1350,530"/>
<area shape="poly" title=" " alt="" coords="1103,484,1153,493,1153,498,1102,489"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1174,382,1344,416"/>
<area shape="poly" title=" " alt="" coords="1076,453,1163,424,1183,418,1184,423,1165,429,1077,459"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1164,439,1354,473"/>
<area shape="poly" title=" " alt="" coords="1102,465,1148,462,1149,467,1102,470"/>
<area shape="poly" title=" " alt="" coords="531,406,550,355,581,290,623,224,649,193,678,166,762,105,800,86,838,71,877,62,920,57,1024,53,1261,53,1351,59,1388,67,1421,78,1485,113,1559,167,1592,197,1621,232,1662,296,1658,299,1617,235,1588,201,1556,171,1482,118,1419,83,1386,72,1350,64,1260,59,1025,59,920,62,878,67,839,76,802,90,765,110,681,170,653,197,627,227,586,293,555,357,536,408"/>
<area shape="poly" title=" " alt="" coords="619,463,633,474,646,491,653,509,655,543,659,575,667,589,681,602,717,617,777,631,857,641,950,648,1052,648,1157,641,1259,624,1353,598,1368,589,1377,579,1386,568,1401,558,1449,537,1499,520,1601,493,1698,477,1781,468,1781,473,1699,482,1602,499,1501,525,1451,542,1404,562,1390,572,1381,583,1371,593,1355,602,1260,630,1157,646,1052,653,950,653,856,647,776,636,715,622,678,606,663,592,654,576,650,543,647,510,641,494,629,478,616,467"/>
<area shape="poly" title=" " alt="" coords="629,405,774,368,935,332,1048,313,1154,298,1155,304,1049,318,936,337,775,373,630,410"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="709,419,858,453"/>
<area shape="poly" title=" " alt="" coords="632,433,694,433,694,439,632,439"/>
<area shape="poly" title=" " alt="" coords="858,445,935,457,934,462,858,450"/>
<area shape="poly" title=" " alt="" coords="820,451,874,476,936,500,1070,535,1189,558,1188,563,1069,540,935,505,872,481,818,456"/>
<area shape="poly" title=" " alt="" coords="858,428,1158,404,1159,409,858,433"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aee908e6de67c16a4d810d08f28ed1803" title=" " alt="" coords="972,347,1080,381"/>
<area shape="poly" title=" " alt="" coords="842,416,956,382,958,387,844,421"/>
<area shape="poly" title=" " alt="" coords="1055,379,1088,407,1118,443,1130,465,1137,485,1142,522,1148,558,1155,577,1166,598,1191,628,1219,652,1216,656,1187,631,1162,602,1150,579,1143,559,1137,523,1132,486,1125,467,1114,445,1084,411,1052,384"/>
<area shape="poly" title=" " alt="" coords="1080,358,1590,330,1590,335,1080,364"/>
<area shape="poly" title=" " alt="" coords="1045,345,1225,186,1229,190,1049,349"/>
<area shape="poly" title=" " alt="" coords="1080,344,1189,309,1190,314,1081,349"/>
<area shape="poly" title=" " alt="" coords="618,497,934,476,935,482,619,502"/>
<area shape="poly" title=" " alt="" coords="354,695,370,706,382,719,389,733,394,760,400,786,406,798,417,810,456,825,528,843,699,876,698,881,527,848,454,830,415,814,402,801,395,788,389,761,383,735,377,722,366,710,351,700"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e8112f19ea399af22d957f19cf6cfc7" title=" " alt="" coords="445,663,602,697"/>
<area shape="poly" title=" " alt="" coords="369,677,429,677,429,683,369,683"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="439,766,609,800"/>
<area shape="poly" title=" " alt="" coords="340,695,369,706,477,756,475,761,367,710,338,700"/>
<area shape="poly" title=" " alt="" coords="590,695,746,733,965,777,1089,797,1219,814,1350,825,1479,829,1678,829,1726,826,1773,815,1819,800,1863,780,1941,737,1998,698,2001,702,1943,742,1865,785,1821,805,1775,820,1727,831,1678,835,1479,835,1349,831,1218,819,1088,803,964,782,744,738,589,700"/>
<area shape="poly" title=" " alt="" coords="602,666,1188,578,1188,584,603,671"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a055e87e50f40e8a0bffc669e2a47d1eb" title=" " alt="" coords="733,558,834,592"/>
<area shape="poly" title=" " alt="" coords="566,660,724,595,727,600,568,665"/>
<area shape="poly" title=" " alt="" coords="835,572,1188,569,1188,574,835,577"/>
<area shape="poly" title=" " alt="" coords="803,555,992,389,995,393,806,559"/>
<area shape="poly" title=" " alt="" coords="589,798,633,818,648,830,657,841,666,852,681,863,700,872,698,877,678,868,663,856,653,845,644,833,630,822,587,802"/>
<area shape="poly" title=" " alt="" coords="609,780,1024,779,1481,779,1561,781,1624,781,1653,777,1682,768,1713,752,1746,729,1772,704,1794,676,1826,612,1847,549,1858,497,1863,498,1852,550,1831,614,1798,679,1776,708,1750,733,1716,757,1684,773,1655,782,1625,787,1561,787,1481,784,1025,784,609,785"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f" title=" " alt="" coords="718,819,849,853"/>
<area shape="poly" title=" " alt="" coords="610,798,703,817,702,822,609,803"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#ad1aaffb83e802ad470cb77be9f56977c" title=" " alt="" coords="971,819,1081,853"/>
<area shape="poly" title=" " alt="" coords="850,833,955,833,955,839,850,839"/>
</map>
</div>

</div>
</div>
<a id="a88ea38fdf3bfb53fd4ccecb0ee25f201" name="a88ea38fdf3bfb53fd4ccecb0ee25f201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88ea38fdf3bfb53fd4ccecb0ee25f201">&#9670;&#160;</a></span>rpc_file_remove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_file_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00606">606</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  609</span>{</div>
<div class="line"><span class="lineno">  610</span>    <span class="keyword">struct </span>stat s;</div>
<div class="line"><span class="lineno">  611</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a> = NULL;</div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="#aa1d17d220c2f1361e5b5cf36bac3aca9">rpc_check_path</a>(msg, R, <span class="stringliteral">&quot;write&quot;</span>, &amp;<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, NULL))</div>
<div class="line"><span class="lineno">  614</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  615</span> </div>
<div class="line"><span class="lineno">  616</span>    <span class="keywordflow">if</span> (lstat(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, &amp;s))</div>
<div class="line"><span class="lineno">  617</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span>    <span class="keywordflow">if</span> (S_ISDIR(s.st_mode))</div>
<div class="line"><span class="lineno">  620</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a59f9f0d9dd8a49a36aa272f9fc7bb8a9">rpc_file_remove_recursive</a>(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>);</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>    <span class="keywordflow">if</span> (unlink(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>))</div>
<div class="line"><span class="lineno">  623</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  624</span> </div>
<div class="line"><span class="lineno">  625</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  626</span>}</div>
<div class="ttc" id="afile_8c_html_a59f9f0d9dd8a49a36aa272f9fc7bb8a9"><div class="ttname"><a href="#a59f9f0d9dd8a49a36aa272f9fc7bb8a9">rpc_file_remove_recursive</a></div><div class="ttdeci">static int rpc_file_remove_recursive(const char *path)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00563">file.c:563</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00281">rpc_check_path</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00154">rpc_errno_status()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00563">rpc_file_remove_recursive()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00989">rpc_file_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_a88ea38fdf3bfb53fd4ccecb0ee25f201_cgraph.png" border="0" usemap="#ad6/d13/file_8c_a88ea38fdf3bfb53fd4ccecb0ee25f201_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_a88ea38fdf3bfb53fd4ccecb0ee25f201_cgraph" id="ad6/d13/file_8c_a88ea38fdf3bfb53fd4ccecb0ee25f201_cgraph">
<area shape="rect" title=" " alt="" coords="5,8,172,42"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a090b8a33eecdf9cc91830fbfc75b1bed" title=" " alt="" coords="528,8,702,42"/>
<area shape="poly" title=" " alt="" coords="172,11,220,8,350,3,480,8,513,10,512,15,480,13,350,8,220,13,172,17"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a59f9f0d9dd8a49a36aa272f9fc7bb8a9" title=" " alt="" coords="220,47,480,80"/>
<area shape="poly" title=" " alt="" coords="172,34,217,41,216,46,172,40"/>
<area shape="poly" title=" " alt="" coords="469,43,512,37,513,42,470,49"/>
<area shape="poly" title=" " alt="" coords="303,48,298,37,305,28,322,22,350,20,379,22,396,29,394,34,378,28,350,25,323,27,308,32,304,38,308,45"/>
</map>
</div>

</div>
</div>
<a id="a59f9f0d9dd8a49a36aa272f9fc7bb8a9" name="a59f9f0d9dd8a49a36aa272f9fc7bb8a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59f9f0d9dd8a49a36aa272f9fc7bb8a9">&#9670;&#160;</a></span>rpc_file_remove_recursive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_file_remove_recursive </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00563">563</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  564</span>{</div>
<div class="line"><span class="lineno">  565</span>    DIR *fd;</div>
<div class="line"><span class="lineno">  566</span>    <span class="keywordtype">int</span> <a class="code hl_define" href="../../d2/d62/udevtrigger_8c.html#abdc0ddb6c825c951cdc8e45b53459445">err</a> = 0;</div>
<div class="line"><span class="lineno">  567</span>    <span class="keyword">struct </span>stat s;</div>
<div class="line"><span class="lineno">  568</span>    <span class="keyword">struct </span>dirent *e;</div>
<div class="line"><span class="lineno">  569</span>    <span class="keywordtype">char</span> *entrypath;</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>    <span class="keywordflow">if</span> ((fd = opendir(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>)) == NULL)</div>
<div class="line"><span class="lineno">  572</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>    <span class="keywordflow">for</span> (e = readdir(fd); e != NULL &amp;&amp; <a class="code hl_define" href="../../d2/d62/udevtrigger_8c.html#abdc0ddb6c825c951cdc8e45b53459445">err</a> == 0; e = readdir(fd))</div>
<div class="line"><span class="lineno">  575</span>    {</div>
<div class="line"><span class="lineno">  576</span>        <span class="keywordflow">if</span> (!strcmp(e-&gt;d_name, <span class="stringliteral">&quot;.&quot;</span>) || !strcmp(e-&gt;d_name, <span class="stringliteral">&quot;..&quot;</span>))</div>
<div class="line"><span class="lineno">  577</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>        <span class="keywordflow">if</span> (asprintf(&amp;entrypath, <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, e-&gt;d_name) &gt;= 0)</div>
<div class="line"><span class="lineno">  580</span>        {</div>
<div class="line"><span class="lineno">  581</span>            <span class="keywordflow">if</span> (!lstat(entrypath, &amp;s))</div>
<div class="line"><span class="lineno">  582</span>            {</div>
<div class="line"><span class="lineno">  583</span>                <span class="keywordflow">if</span> (S_ISDIR(s.st_mode))</div>
<div class="line"><span class="lineno">  584</span>                    <a class="code hl_define" href="../../d2/d62/udevtrigger_8c.html#abdc0ddb6c825c951cdc8e45b53459445">err</a> = <a class="code hl_function" href="#a59f9f0d9dd8a49a36aa272f9fc7bb8a9">rpc_file_remove_recursive</a>(entrypath);</div>
<div class="line"><span class="lineno">  585</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (unlink(entrypath))</div>
<div class="line"><span class="lineno">  586</span>                    <a class="code hl_define" href="../../d2/d62/udevtrigger_8c.html#abdc0ddb6c825c951cdc8e45b53459445">err</a> = <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  587</span>            }</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>            free(entrypath);</div>
<div class="line"><span class="lineno">  590</span>        }</div>
<div class="line"><span class="lineno">  591</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  592</span>        {</div>
<div class="line"><span class="lineno">  593</span>            <a class="code hl_define" href="../../d2/d62/udevtrigger_8c.html#abdc0ddb6c825c951cdc8e45b53459445">err</a> = <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno">  594</span>        }</div>
<div class="line"><span class="lineno">  595</span>    }</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>    closedir(fd);</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d2/d62/udevtrigger_8c.html#abdc0ddb6c825c951cdc8e45b53459445">err</a> &amp;&amp; rmdir(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>))</div>
<div class="line"><span class="lineno">  600</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="../../d2/d62/udevtrigger_8c.html#abdc0ddb6c825c951cdc8e45b53459445">err</a>;</div>
<div class="line"><span class="lineno">  603</span>}</div>
<div class="ttc" id="audevtrigger_8c_html_abdc0ddb6c825c951cdc8e45b53459445"><div class="ttname"><a href="../../d2/d62/udevtrigger_8c.html#abdc0ddb6c825c951cdc8e45b53459445">err</a></div><div class="ttdeci">#define err(format, arg...)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d62/udevtrigger_8c_source.html#l00058">udevtrigger.c:58</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/d62/udevtrigger_8c_source.html#l00058">err</a>, <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00154">rpc_errno_status()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00563">rpc_file_remove_recursive()</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00128">UBUS_STATUS_UNKNOWN_ERROR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00606">rpc_file_remove()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00563">rpc_file_remove_recursive()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_a59f9f0d9dd8a49a36aa272f9fc7bb8a9_cgraph.png" border="0" usemap="#ad6/d13/file_8c_a59f9f0d9dd8a49a36aa272f9fc7bb8a9_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_a59f9f0d9dd8a49a36aa272f9fc7bb8a9_cgraph" id="ad6/d13/file_8c_a59f9f0d9dd8a49a36aa272f9fc7bb8a9_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,266,63"/>
<area shape="poly" title=" " alt="" coords="88,30,83,20,90,10,108,5,136,3,165,5,182,11,180,16,164,10,135,8,109,10,93,15,88,20,93,28"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a090b8a33eecdf9cc91830fbfc75b1bed" title=" " alt="" coords="314,29,488,63"/>
<area shape="poly" title=" " alt="" coords="266,44,298,44,298,49,266,49"/>
</map>
</div>

</div>
</div>
<a id="aea357a57fd1840dffe06f51ab888f6d6" name="aea357a57fd1840dffe06f51ab888f6d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea357a57fd1840dffe06f51ab888f6d6">&#9670;&#160;</a></span>rpc_file_stat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_file_stat </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00538">538</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  541</span>{</div>
<div class="line"><span class="lineno">  542</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>;</div>
<div class="line"><span class="lineno">  543</span>    <span class="keyword">struct </span>stat s;</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="#aa1d17d220c2f1361e5b5cf36bac3aca9">rpc_check_path</a>(msg, R, <span class="stringliteral">&quot;list&quot;</span>, &amp;<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, &amp;s))</div>
<div class="line"><span class="lineno">  546</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  547</span> </div>
<div class="line"><span class="lineno">  548</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b">blob_buf_init</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, 0);</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6">blobmsg_add_string</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;path&quot;</span>, <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>);</div>
<div class="line"><span class="lineno">  551</span>    <a class="code hl_function" href="#a51c9c23f8191aee204d7889096e34688">_rpc_file_add_stat</a>(&amp;s);</div>
<div class="line"><span class="lineno">  552</span> </div>
<div class="line"><span class="lineno">  553</span>    <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4">ubus_send_reply</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req, <a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>.<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#af6065d74116605108b22c11e75ec669c">head</a>);</div>
<div class="line"><span class="lineno">  554</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59">blob_buf_free</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>);</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  557</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d13/file_8c_source.html#l00465">_rpc_file_add_stat()</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00104">blob_buf_free()</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00091">blob_buf_init()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00235">blobmsg_add_string()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00075">buf</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00065">blob_buf::head</a>, <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00281">rpc_check_path</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00154">rpc_errno_status()</a>, and <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00205">ubus_send_reply()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00989">rpc_file_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_aea357a57fd1840dffe06f51ab888f6d6_cgraph.png" border="0" usemap="#ad6/d13/file_8c_aea357a57fd1840dffe06f51ab888f6d6_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_aea357a57fd1840dffe06f51ab888f6d6_cgraph" id="ad6/d13/file_8c_aea357a57fd1840dffe06f51ab888f6d6_cgraph">
<area shape="rect" title=" " alt="" coords="5,487,138,520"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a51c9c23f8191aee204d7889096e34688" title=" " alt="" coords="186,327,371,360"/>
<area shape="poly" title=" " alt="" coords="93,484,241,368,244,372,97,488"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="419,269,627,303"/>
<area shape="poly" title=" " alt="" coords="75,485,87,448,109,400,141,351,161,330,184,312,236,287,292,273,349,268,403,268,403,273,350,273,293,279,238,292,187,316,165,334,145,354,114,402,92,450,80,487"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="205,459,352,492"/>
<area shape="poly" title=" " alt="" coords="138,492,189,485,190,490,138,497"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="922,660,1062,694"/>
<area shape="poly" title=" " alt="" coords="86,519,127,567,155,592,187,612,281,647,380,672,481,688,581,696,676,699,764,697,907,686,907,691,765,702,676,704,581,702,480,693,379,677,279,652,184,617,152,597,123,571,82,522"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a090b8a33eecdf9cc91830fbfc75b1bed" title=" " alt="" coords="191,568,366,602"/>
<area shape="poly" title=" " alt="" coords="117,518,187,546,220,559,218,564,185,551,115,523"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="435,515,611,548"/>
<area shape="poly" title=" " alt="" coords="138,505,419,522,419,528,138,510"/>
<area shape="poly" title=" " alt="" coords="352,324,433,305,434,310,354,329"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393" title=" " alt="" coords="428,327,618,360"/>
<area shape="poly" title=" " alt="" coords="372,341,412,341,412,346,372,346"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="675,229,870,263"/>
<area shape="poly" title=" " alt="" coords="627,267,659,262,660,267,628,272"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="918,123,1066,156"/>
<area shape="poly" title=" " alt="" coords="808,226,941,161,943,166,810,231"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1382,177,1493,211"/>
<area shape="poly" title=" " alt="" coords="1067,145,1295,173,1367,182,1366,187,1294,178,1066,151"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aee908e6de67c16a4d810d08f28ed1803" title=" " alt="" coords="1150,340,1258,374"/>
<area shape="poly" title=" " alt="" coords="1012,155,1178,328,1174,331,1008,159"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1129,72,1280,106"/>
<area shape="poly" title=" " alt="" coords="1065,119,1115,107,1117,112,1066,125"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1352,5,1523,39"/>
<area shape="poly" title=" " alt="" coords="1011,120,1056,87,1084,70,1113,57,1169,40,1227,29,1336,19,1337,24,1228,34,1170,46,1115,62,1086,75,1059,91,1015,124"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1385,533,1490,567"/>
<area shape="poly" title=" " alt="" coords="1228,372,1406,521,1403,525,1225,376"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1784,365,1926,399"/>
<area shape="poly" title=" " alt="" coords="1259,349,1349,342,1468,337,1602,338,1736,349,1785,358,1784,363,1736,354,1602,344,1468,343,1350,347,1259,354"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac9fd36cdb87493b31a675621ed53a8d7" title=" " alt="" coords="1603,364,1714,398"/>
<area shape="poly" title=" " alt="" coords="1259,364,1343,374,1472,380,1587,380,1587,385,1472,385,1342,379,1258,369"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1348,287,1527,320"/>
<area shape="poly" title=" " alt="" coords="1258,342,1345,322,1347,327,1260,347"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1784,557,1926,591"/>
<area shape="poly" title=" " alt="" coords="1491,550,1768,567,1768,572,1490,556"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1581,588,1736,622"/>
<area shape="poly" title=" " alt="" coords="1491,561,1573,581,1572,586,1490,566"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1784,627,1926,660"/>
<area shape="poly" title=" " alt="" coords="1462,565,1514,601,1547,618,1581,632,1629,642,1677,648,1769,649,1768,654,1677,653,1628,647,1580,637,1545,623,1512,606,1459,570"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1590,421,1727,455"/>
<area shape="poly" title=" " alt="" coords="1463,531,1516,498,1579,464,1590,459,1592,464,1582,469,1519,503,1466,535"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1609,479,1708,512"/>
<area shape="poly" title=" " alt="" coords="1490,535,1593,509,1594,514,1491,540"/>
<area shape="poly" title=" " alt="" coords="1736,590,1768,585,1769,590,1737,595"/>
<area shape="poly" title=" " alt="" coords="1737,618,1770,624,1769,629,1736,623"/>
<area shape="poly" title=" " alt="" coords="1719,418,1778,401,1779,406,1721,423"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1974,393,2116,427"/>
<area shape="poly" title=" " alt="" coords="1727,431,1959,414,1959,419,1727,436"/>
<area shape="poly" title=" " alt="" coords="1927,390,1959,395,1958,400,1926,395"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="2164,313,2262,347"/>
<area shape="poly" title=" " alt="" coords="2081,390,2161,352,2163,357,2083,395"/>
<area shape="poly" title=" " alt="" coords="1714,379,1768,379,1768,384,1714,384"/>
<area shape="poly" title=" " alt="" coords="1258,104,1296,123,1320,144,1330,154,1344,164,1368,175,1366,180,1341,168,1326,158,1316,148,1293,127,1256,109"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1347,120,1528,154"/>
<area shape="poly" title=" " alt="" coords="1281,102,1338,114,1337,119,1280,107"/>
<area shape="poly" title=" " alt="" coords="1265,69,1361,41,1362,46,1266,74"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1342,63,1533,96"/>
<area shape="poly" title=" " alt="" coords="1280,83,1327,81,1327,87,1280,88"/>
<area shape="poly" title=" " alt="" coords="602,324,626,313,640,303,649,293,659,282,674,272,684,267,686,272,677,276,663,286,653,297,644,307,629,318,604,329"/>
<area shape="poly" title=" " alt="" coords="1054,657,1369,567,1370,572,1055,662"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="1114,667,1294,700"/>
<area shape="poly" title=" " alt="" coords="1062,676,1098,678,1098,683,1062,682"/>
<area shape="poly" title=" " alt="" coords="589,546,719,584,871,630,931,652,930,657,869,635,718,589,588,552"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e8112f19ea399af22d957f19cf6cfc7" title=" " alt="" coords="694,287,851,320"/>
<area shape="poly" title=" " alt="" coords="541,512,740,329,744,333,545,516"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="687,519,858,552"/>
<area shape="poly" title=" " alt="" coords="612,530,672,531,672,537,612,536"/>
<area shape="poly" title=" " alt="" coords="848,284,868,273,883,260,891,245,900,230,916,217,953,205,1003,196,1125,187,1256,185,1367,188,1367,194,1255,191,1125,192,1003,201,955,210,919,222,904,234,895,248,887,263,871,278,850,289"/>
<area shape="poly" title=" " alt="" coords="851,295,1265,265,1491,252,1657,246,1857,246,1938,252,2018,267,2092,286,2152,305,2151,310,2090,291,2017,272,1937,257,1856,251,1657,251,1492,257,1266,270,852,300"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a055e87e50f40e8a0bffc669e2a47d1eb" title=" " alt="" coords="941,232,1043,266"/>
<area shape="poly" title=" " alt="" coords="842,283,925,263,926,268,844,289"/>
<area shape="poly" title=" " alt="" coords="1042,240,1294,210,1366,201,1367,206,1295,215,1043,246"/>
<area shape="poly" title=" " alt="" coords="1028,264,1157,330,1155,335,1026,269"/>
<area shape="poly" title=" " alt="" coords="859,549,1119,596,1453,649,1615,670,1757,682,1865,684,1902,679,1925,671,1952,648,1975,621,1993,591,2008,559,2028,495,2038,442,2043,443,2033,496,2013,561,1998,594,1979,625,1956,652,1928,675,1903,684,1865,689,1757,688,1615,675,1452,654,1118,601,858,554"/>
<area shape="poly" title=" " alt="" coords="825,550,871,577,887,593,896,609,905,623,919,639,936,650,933,655,916,643,901,627,891,611,883,597,868,582,822,555"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f" title=" " alt="" coords="926,512,1058,546"/>
<area shape="poly" title=" " alt="" coords="858,530,910,529,911,534,858,536"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#ad1aaffb83e802ad470cb77be9f56977c" title=" " alt="" coords="1150,507,1259,540"/>
<area shape="poly" title=" " alt="" coords="1058,525,1134,523,1134,528,1058,530"/>
</map>
</div>

</div>
</div>
<a id="acc8c8b20d5ac2ff992d3fa3662c51a22" name="acc8c8b20d5ac2ff992d3fa3662c51a22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc8c8b20d5ac2ff992d3fa3662c51a22">&#9670;&#160;</a></span>rpc_file_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_file_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00370">370</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  373</span>{</div>
<div class="line"><span class="lineno">  374</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> **tb;</div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordtype">int</span> append = O_TRUNC;</div>
<div class="line"><span class="lineno">  376</span>    mode_t prev_mode, <a class="code hl_enumeration" href="../../d8/ddc/trace_8c.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a> = 0666;</div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordtype">int</span> fd, rv = 0;</div>
<div class="line"><span class="lineno">  378</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a> = NULL;</div>
<div class="line"><span class="lineno">  379</span>    <span class="keywordtype">void</span> *<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a> = NULL;</div>
<div class="line"><span class="lineno">  380</span>    ssize_t data_len = 0;</div>
<div class="line"><span class="lineno">  381</span> </div>
<div class="line"><span class="lineno">  382</span>    tb = <a class="code hl_define" href="#aa1d17d220c2f1361e5b5cf36bac3aca9">rpc_check_path</a>(msg, RW, <span class="stringliteral">&quot;write&quot;</span>, &amp;<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, NULL);</div>
<div class="line"><span class="lineno">  383</span> </div>
<div class="line"><span class="lineno">  384</span>    <span class="keywordflow">if</span> (tb == NULL)</div>
<div class="line"><span class="lineno">  385</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>    <span class="keywordflow">if</span> (!tb[<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a5072ac601adf12eac070b1672fa72ca9">RPC_F_RW_DATA</a>])</div>
<div class="line"><span class="lineno">  388</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>    <a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a> = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb[<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a5072ac601adf12eac070b1672fa72ca9">RPC_F_RW_DATA</a>]);</div>
<div class="line"><span class="lineno">  391</span>    data_len = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052">blobmsg_data_len</a>(tb[<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a5072ac601adf12eac070b1672fa72ca9">RPC_F_RW_DATA</a>]) - 1;</div>
<div class="line"><span class="lineno">  392</span> </div>
<div class="line"><span class="lineno">  393</span>    <span class="keywordflow">if</span> (tb[<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426abb9d8862e0c2b76991c1b6f052a62c6b">RPC_F_RW_APPEND</a>] &amp;&amp; <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2">blobmsg_get_bool</a>(tb[<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426abb9d8862e0c2b76991c1b6f052a62c6b">RPC_F_RW_APPEND</a>]))</div>
<div class="line"><span class="lineno">  394</span>        append = O_APPEND;</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>    <span class="keywordflow">if</span> (tb[<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a94d4a23f9fce32831ddf24f9bb748787">RPC_F_RW_MODE</a>])</div>
<div class="line"><span class="lineno">  397</span>        <a class="code hl_enumeration" href="../../d8/ddc/trace_8c.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a> = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f">blobmsg_get_u32</a>(tb[<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a94d4a23f9fce32831ddf24f9bb748787">RPC_F_RW_MODE</a>]);</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>    prev_mode = umask(0);</div>
<div class="line"><span class="lineno">  400</span>    fd = open(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, O_CREAT | O_WRONLY | append, <a class="code hl_enumeration" href="../../d8/ddc/trace_8c.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>);</div>
<div class="line"><span class="lineno">  401</span>    umask(prev_mode);</div>
<div class="line"><span class="lineno">  402</span>    <span class="keywordflow">if</span> (fd &lt; 0)</div>
<div class="line"><span class="lineno">  403</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  404</span> </div>
<div class="line"><span class="lineno">  405</span>    <span class="keywordflow">if</span> (tb[<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426afd3e17fb562d13d8ce20a1b41dbe456e">RPC_F_RW_BASE64</a>] &amp;&amp; <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2">blobmsg_get_bool</a>(tb[<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426afd3e17fb562d13d8ce20a1b41dbe456e">RPC_F_RW_BASE64</a>]))</div>
<div class="line"><span class="lineno">  406</span>    {</div>
<div class="line"><span class="lineno">  407</span>        data_len = <a class="code hl_function" href="../../db/d36/base64_8c.html#ac696ba547c5b7a5e3b2e3fe54a19ebdd">b64_decode</a>(<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>, <a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>, data_len);</div>
<div class="line"><span class="lineno">  408</span>        <span class="keywordflow">if</span> (data_len &lt; 0)</div>
<div class="line"><span class="lineno">  409</span>        {</div>
<div class="line"><span class="lineno">  410</span>            rv = <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno">  411</span>            <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno">  412</span>        }</div>
<div class="line"><span class="lineno">  413</span>    }</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>    <span class="keywordflow">if</span> (write(fd, <a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>, data_len) &lt; 0)</div>
<div class="line"><span class="lineno">  416</span>        rv = -1;</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>out:</div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordflow">if</span> (fsync(fd) &lt; 0)</div>
<div class="line"><span class="lineno">  420</span>        rv = -1;</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>    close(fd);</div>
<div class="line"><span class="lineno">  423</span>    sync();</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>    <span class="keywordflow">if</span> (rv)</div>
<div class="line"><span class="lineno">  426</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a090b8a33eecdf9cc91830fbfc75b1bed">rpc_errno_status</a>();</div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  429</span>}</div>
<div class="ttc" id="abase64_8c_html_ac696ba547c5b7a5e3b2e3fe54a19ebdd"><div class="ttname"><a href="../../db/d36/base64_8c.html#ac696ba547c5b7a5e3b2e3fe54a19ebdd">b64_decode</a></div><div class="ttdeci">int b64_decode(const void *_src, void *dest, size_t targsize)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d36/base64_8c_source.html#l00203">base64.c:203</a></div></div>
<div class="ttc" id="ablob_8h_html_aae7cde5b300aec19a4125e96fe2a35da"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">blob_attr::data</a></div><div class="ttdeci">char data[]</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00054">blob.h:54</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a856562b4d96007d3ce1a052998451a0f"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f">blobmsg_get_u32</a></div><div class="ttdeci">static uint32_t blobmsg_get_u32(struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00293">blobmsg.h:293</a></div></div>
<div class="ttc" id="atrace_8c_html_a1a6b6fb557d8d37d59700faf4e4c9167"><div class="ttname"><a href="../../d8/ddc/trace_8c.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a></div><div class="ttdeci">mode</div><div class="ttdef"><b>Definition</b> <a href="../../d8/ddc/trace_8c_source.html#l00075">trace.c:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d36/base64_8c_source.html#l00203">b64_decode()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00095">blobmsg_data_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00283">blobmsg_get_bool()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00293">blobmsg_get_u32()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00054">blob_attr::data</a>, <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00281">rpc_check_path</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00154">rpc_errno_status()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00108">RPC_F_RW_APPEND</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00110">RPC_F_RW_BASE64</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00107">RPC_F_RW_DATA</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00109">RPC_F_RW_MODE</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00121">UBUS_STATUS_INVALID_ARGUMENT</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00128">UBUS_STATUS_UNKNOWN_ERROR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00989">rpc_file_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_acc8c8b20d5ac2ff992d3fa3662c51a22_cgraph.png" border="0" usemap="#ad6/d13/file_8c_acc8c8b20d5ac2ff992d3fa3662c51a22_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_acc8c8b20d5ac2ff992d3fa3662c51a22_cgraph" id="ad6/d13/file_8c_acc8c8b20d5ac2ff992d3fa3662c51a22_cgraph">
<area shape="rect" title=" " alt="" coords="5,144,149,178"/>
<area shape="rect" href="../../db/d36/base64_8c.html#ac696ba547c5b7a5e3b2e3fe54a19ebdd" title=" " alt="" coords="224,5,358,39"/>
<area shape="poly" title=" " alt="" coords="93,142,137,100,195,56,221,43,223,48,198,60,140,104,96,145"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="433,129,584,163"/>
<area shape="poly" title=" " alt="" coords="103,141,145,118,196,100,249,89,291,87,333,91,386,100,422,108,456,121,455,126,420,114,384,105,332,96,290,92,249,95,197,105,148,123,106,146"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="197,229,385,263"/>
<area shape="poly" title=" " alt="" coords="112,176,198,216,213,221,211,226,196,221,110,181"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2" title=" " alt="" coords="197,115,385,148"/>
<area shape="poly" title=" " alt="" coords="149,148,181,144,182,149,150,154"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f" title=" " alt="" coords="198,172,384,206"/>
<area shape="poly" title=" " alt="" coords="150,168,183,172,182,177,149,173"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a090b8a33eecdf9cc91830fbfc75b1bed" title=" " alt="" coords="204,287,378,320"/>
<area shape="poly" title=" " alt="" coords="94,176,137,225,166,251,198,273,206,277,203,282,195,278,163,255,133,228,90,180"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="672,203,783,236"/>
<area shape="poly" title=" " alt="" coords="556,161,633,189,658,197,657,202,631,194,554,166"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="637,88,818,122"/>
<area shape="poly" title=" " alt="" coords="584,129,621,122,622,127,585,134"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="642,145,813,179"/>
<area shape="poly" title=" " alt="" coords="585,149,627,152,626,157,585,154"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="632,31,823,64"/>
<area shape="poly" title=" " alt="" coords="534,127,579,100,631,73,646,67,648,72,633,78,581,104,537,131"/>
<area shape="poly" title=" " alt="" coords="356,226,384,216,428,193,468,169,471,174,431,198,386,221,358,231"/>
<area shape="poly" title=" " alt="" coords="385,238,656,221,657,226,385,243"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="460,257,558,291"/>
<area shape="poly" title=" " alt="" coords="386,256,444,263,444,269,385,261"/>
<area shape="poly" title=" " alt="" coords="385,135,418,137,418,143,385,141"/>
<area shape="poly" title=" " alt="" coords="380,169,417,161,418,167,381,174"/>
</map>
</div>

</div>
</div>
<a id="aa26c5cf90b005f4517e97709b17fe722" name="aa26c5cf90b005f4517e97709b17fe722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa26c5cf90b005f4517e97709b17fe722">&#9670;&#160;</a></span>rpc_ustream_to_blobmsg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_ustream_to_blobmsg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00671">671</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  672</span>{</div>
<div class="line"><span class="lineno">  673</span>    <span class="keywordtype">int</span> len;</div>
<div class="line"><span class="lineno">  674</span>    <span class="keywordtype">char</span> *rbuf, *wbuf;</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>    <span class="keywordflow">if</span> ((len = <a class="code hl_function" href="../../da/d79/ustream_8h.html#add51c2b7e0940c808099cd9dfb82f05a">ustream_pending_data</a>(s, <span class="keyword">false</span>)) &gt; 0)</div>
<div class="line"><span class="lineno">  677</span>    {</div>
<div class="line"><span class="lineno">  678</span>        wbuf = <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#a81ad3c816930b7f2e2ab263ba9c50f89">blobmsg_alloc_string_buffer</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, name, len + 1);</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>        <span class="keywordflow">if</span> (!wbuf)</div>
<div class="line"><span class="lineno">  681</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>        <a class="code hl_define" href="#aaa68607b6a06880cf4cdf21c8913ad42">ustream_for_each_read_buffer</a>(s, rbuf, len)</div>
<div class="line"><span class="lineno">  684</span>        {</div>
<div class="line"><span class="lineno">  685</span>            memcpy(wbuf, rbuf, len);</div>
<div class="line"><span class="lineno">  686</span>            wbuf += len;</div>
<div class="line"><span class="lineno">  687</span>        }</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>        *wbuf = 0;</div>
<div class="line"><span class="lineno">  690</span>        <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#a9c0a75070ad9e1b8926172638fb8e9d9">blobmsg_add_string_buffer</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>);</div>
<div class="line"><span class="lineno">  691</span>    }</div>
<div class="line"><span class="lineno">  692</span>}</div>
<div class="ttc" id="afile_8c_html_aaa68607b6a06880cf4cdf21c8913ad42"><div class="ttname"><a href="#aaa68607b6a06880cf4cdf21c8913ad42">ustream_for_each_read_buffer</a></div><div class="ttdeci">#define ustream_for_each_read_buffer(stream, ptr, len)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00049">file.c:49</a></div></div>
<div class="ttc" id="austream_8h_html_add51c2b7e0940c808099cd9dfb82f05a"><div class="ttname"><a href="../../da/d79/ustream_8h.html#add51c2b7e0940c808099cd9dfb82f05a">ustream_pending_data</a></div><div class="ttdeci">static int ustream_pending_data(struct ustream *s, bool write)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00174">ustream.h:174</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00361">blobmsg_add_string_buffer()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00326">blobmsg_alloc_string_buffer()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00075">buf</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00049">ustream_for_each_read_buffer</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00174">ustream_pending_data()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00695">rpc_file_exec_reply()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d13/file_8c_aa26c5cf90b005f4517e97709b17fe722_cgraph.png" border="0" usemap="#ad6/d13/file_8c_aa26c5cf90b005f4517e97709b17fe722_cgraph" alt=""/></div>
<map name="ad6/d13/file_8c_aa26c5cf90b005f4517e97709b17fe722_cgraph" id="ad6/d13/file_8c_aa26c5cf90b005f4517e97709b17fe722_cgraph">
<area shape="rect" title=" " alt="" coords="5,442,258,476"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a9c0a75070ad9e1b8926172638fb8e9d9" title=" " alt="" coords="782,471,991,527"/>
<area shape="poly" title=" " alt="" coords="258,463,767,490,767,495,258,468"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a81ad3c816930b7f2e2ab263ba9c50f89" title=" " alt="" coords="314,325,530,382"/>
<area shape="poly" title=" " alt="" coords="179,439,326,385,328,390,181,444"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add51c2b7e0940c808099cd9dfb82f05a" title=" " alt="" coords="306,497,538,530"/>
<area shape="poly" title=" " alt="" coords="225,474,314,491,313,496,224,479"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1292,523,1428,557"/>
<area shape="poly" title=" " alt="" coords="991,510,1039,515,1277,533,1277,538,1038,520,991,515"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1503,443,1646,477"/>
<area shape="poly" title=" " alt="" coords="991,490,1488,462,1488,468,991,496"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1694,497,1835,530"/>
<area shape="poly" title=" " alt="" coords="905,526,928,562,958,605,996,647,1040,682,1097,712,1147,726,1265,739,1362,753,1403,752,1455,739,1499,721,1543,698,1622,644,1689,587,1736,539,1740,543,1692,591,1626,648,1545,703,1501,726,1456,744,1404,757,1361,758,1265,744,1146,732,1095,717,1037,686,992,651,954,608,923,565,901,529"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac9fd36cdb87493b31a675621ed53a8d7" title=" " alt="" coords="1072,427,1184,461"/>
<area shape="poly" title=" " alt="" coords="991,473,1057,457,1058,463,992,478"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1039,370,1217,404"/>
<area shape="poly" title=" " alt="" coords="933,468,983,439,1038,412,1051,407,1053,412,1040,417,985,444,935,472"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1052,638,1204,672"/>
<area shape="poly" title=" " alt="" coords="934,526,1089,627,1086,632,931,530"/>
<area shape="poly" title=" " alt="" coords="1406,520,1512,481,1514,486,1408,525"/>
<area shape="poly" title=" " alt="" coords="1429,533,1678,517,1679,522,1429,538"/>
<area shape="poly" title=" " alt="" coords="1638,475,1688,490,1687,495,1636,480"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1883,497,1981,530"/>
<area shape="poly" title=" " alt="" coords="1835,511,1867,511,1867,516,1835,516"/>
<area shape="poly" title=" " alt="" coords="1184,444,1488,454,1488,460,1184,449"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1305,581,1416,614"/>
<area shape="poly" title=" " alt="" coords="1198,635,1289,612,1290,617,1199,640"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1270,695,1451,729"/>
<area shape="poly" title=" " alt="" coords="1199,670,1275,688,1273,694,1198,675"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1275,805,1445,838"/>
<area shape="poly" title=" " alt="" coords="1154,670,1325,793,1322,798,1151,674"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1265,638,1455,672"/>
<area shape="poly" title=" " alt="" coords="1204,652,1249,652,1249,658,1204,658"/>
<area shape="poly" title=" " alt="" coords="529,325,696,294,791,283,885,279,1129,279,1225,284,1299,299,1370,326,1457,369,1505,399,1546,431,1543,435,1502,403,1454,373,1368,331,1297,304,1224,289,1129,284,885,284,791,288,697,299,530,330"/>
<area shape="poly" title=" " alt="" coords="440,323,504,240,550,188,605,136,667,88,735,48,771,33,808,21,846,13,885,11,1361,11,1447,7,1516,4,1549,7,1581,17,1613,35,1648,62,1670,94,1690,140,1708,196,1724,259,1748,384,1762,481,1756,482,1742,385,1719,260,1703,198,1685,141,1666,96,1644,66,1610,39,1579,22,1548,13,1516,9,1447,12,1362,16,885,16,847,19,809,26,772,38,737,53,670,92,608,140,554,192,508,243,444,326"/>
<area shape="poly" title=" " alt="" coords="530,355,991,376,1023,378,1023,383,991,382,530,361"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="586,583,734,617"/>
<area shape="poly" title=" " alt="" coords="453,380,634,571,630,574,449,384"/>
<area shape="poly" title=" " alt="" coords="735,609,783,616,1037,644,1036,649,782,622,735,615"/>
<area shape="poly" title=" " alt="" coords="735,597,1289,595,1289,600,735,603"/>
<area shape="poly" title=" " alt="" coords="690,615,750,652,835,698,935,745,1039,783,1095,797,1152,806,1260,816,1259,822,1152,812,1094,802,1038,788,933,750,833,703,748,656,687,620"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aee908e6de67c16a4d810d08f28ed1803" title=" " alt="" coords="832,391,941,425"/>
<area shape="poly" title=" " alt="" coords="671,581,715,522,746,488,781,457,825,430,828,434,784,461,750,492,719,526,675,585"/>
<area shape="poly" title=" " alt="" coords="927,388,979,369,1038,355,1106,348,1175,350,1244,357,1310,370,1429,402,1520,435,1519,440,1428,407,1309,375,1243,363,1175,355,1106,354,1039,360,981,375,929,393"/>
<area shape="poly" title=" " alt="" coords="941,414,1057,431,1056,436,940,419"/>
<area shape="poly" title=" " alt="" coords="941,401,1023,393,1023,399,941,406"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1075,185,1181,218"/>
<area shape="poly" title=" " alt="" coords="906,389,1094,226,1098,230,910,393"/>
<area shape="poly" title=" " alt="" coords="1143,217,1341,509,1337,512,1139,220"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1503,187,1646,221"/>
<area shape="poly" title=" " alt="" coords="1181,201,1265,203,1455,203,1488,203,1488,208,1455,208,1265,208,1181,206"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1283,102,1438,136"/>
<area shape="poly" title=" " alt="" coords="1168,182,1264,144,1282,138,1284,143,1266,149,1170,187"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1503,77,1646,110"/>
<area shape="poly" title=" " alt="" coords="1141,183,1191,132,1225,106,1264,87,1321,73,1379,67,1437,69,1488,74,1488,79,1436,74,1380,73,1322,78,1266,92,1228,111,1194,136,1145,186"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1311,159,1410,193"/>
<area shape="poly" title=" " alt="" coords="1180,193,1295,181,1296,186,1181,199"/>
<area shape="poly" title=" " alt="" coords="1426,134,1456,144,1529,178,1527,182,1454,149,1424,139"/>
<area shape="poly" title=" " alt="" coords="1438,107,1488,101,1488,106,1438,112"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab88af8f0f3e8ddaf6aa2623d0b84813c" name="ab88af8f0f3e8ddaf6aa2623d0b84813c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">&#9670;&#160;</a></span>buf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d3c/blob_8h.html#d3/dcb/structblob__buf">blob_buf</a> buf</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00075">75</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00465">_rpc_file_add_stat()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00695">rpc_file_exec_reply()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00490">rpc_file_list()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00432">rpc_file_md5()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00289">rpc_file_read()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00538">rpc_file_stat()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00671">rpc_ustream_to_blobmsg()</a>.</p>

</div>
</div>
<a id="adc370b42a7f2f59d2d19a4a3cd47ce59" name="adc370b42a7f2f59d2d19a4a3cd47ce59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc370b42a7f2f59d2d19a4a3cd47ce59">&#9670;&#160;</a></span>canonpath</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* canonpath</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00076">76</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00186">rpc_canonicalize_path()</a>.</p>

</div>
</div>
<a id="aba1145374a2a9d69ea54edd15e19f7f7" name="aba1145374a2a9d69ea54edd15e19f7f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba1145374a2a9d69ea54edd15e19f7f7">&#9670;&#160;</a></span>cmdstr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char cmdstr[<a class="el" href="#a1246bc208d2a3b8225b8484cf67c523f">RPC_CMDLINE_MAX_SIZE</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00077">77</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00794">rpc_file_exec_run()</a>.</p>

</div>
</div>
<a id="a297d9b009215d9223bca75fa0438b956" name="a297d9b009215d9223bca75fa0438b956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a297d9b009215d9223bca75fa0438b956">&#9670;&#160;</a></span>d_types</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* d_types[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [DT_BLK]     = <span class="stringliteral">&quot;block&quot;</span>,</div>
<div class="line">    [DT_CHR]     = <span class="stringliteral">&quot;char&quot;</span>,</div>
<div class="line">    [DT_DIR]     = <span class="stringliteral">&quot;directory&quot;</span>,</div>
<div class="line">    [DT_FIFO]    = <span class="stringliteral">&quot;fifo&quot;</span>,</div>
<div class="line">    [DT_LNK]     = <span class="stringliteral">&quot;symlink&quot;</span>,</div>
<div class="line">    [DT_REG]     = <span class="stringliteral">&quot;file&quot;</span>,</div>
<div class="line">    [DT_SOCK]    = <span class="stringliteral">&quot;socket&quot;</span>,</div>
<div class="line">    [DT_UNKNOWN] = <span class="stringliteral">&quot;unknown&quot;</span>,</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00141">141</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  141</span>                               {</div>
<div class="line"><span class="lineno">  142</span>    [DT_BLK]     = <span class="stringliteral">&quot;block&quot;</span>,</div>
<div class="line"><span class="lineno">  143</span>    [DT_CHR]     = <span class="stringliteral">&quot;char&quot;</span>,</div>
<div class="line"><span class="lineno">  144</span>    [DT_DIR]     = <span class="stringliteral">&quot;directory&quot;</span>,</div>
<div class="line"><span class="lineno">  145</span>    [DT_FIFO]    = <span class="stringliteral">&quot;fifo&quot;</span>,</div>
<div class="line"><span class="lineno">  146</span>    [DT_LNK]     = <span class="stringliteral">&quot;symlink&quot;</span>,</div>
<div class="line"><span class="lineno">  147</span>    [DT_REG]     = <span class="stringliteral">&quot;file&quot;</span>,</div>
<div class="line"><span class="lineno">  148</span>    [DT_SOCK]    = <span class="stringliteral">&quot;socket&quot;</span>,</div>
<div class="line"><span class="lineno">  149</span>    [DT_UNKNOWN] = <span class="stringliteral">&quot;unknown&quot;</span>,</div>
<div class="line"><span class="lineno">  150</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00465">_rpc_file_add_stat()</a>.</p>

</div>
</div>
<a id="a8c9284b14b948aae5a1abc7ed0e16c0c" name="a8c9284b14b948aae5a1abc7ed0e16c0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c9284b14b948aae5a1abc7ed0e16c0c">&#9670;&#160;</a></span>ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d9/dc4/plugin_8h.html#d2/d00/structrpc__daemon__ops">rpc_daemon_ops</a>* ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00062">62</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/db1/netifd_2ubus_8c_source.html#l01058">netifd_handle_iface_prepare()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00176">rpc_file_access()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00989">rpc_file_api_init()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00794">rpc_file_exec_run()</a>, <a class="el" href="../../d0/d2f/iwinfo_8c_source.html#l00817">rpc_iwinfo_phyname()</a>, and <a class="el" href="../../db/dc3/ucode_8c_source.html#l01028">rpc_ucode_api_init()</a>.</p>

</div>
</div>
<a id="a046b4f80aac9da89bf0af046a02c6a72" name="a046b4f80aac9da89bf0af046a02c6a72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a046b4f80aac9da89bf0af046a02c6a72">&#9670;&#160;</a></span>rpc_exec_policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> rpc_exec_policy[<a class="el" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a496d49418c994dc4238417b2889603f3">__RPC_E_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a8fda17b9be87856327d2e3510c7d9440">RPC_E_CMD</a>]     = { .name = <span class="stringliteral">&quot;command&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a7ac31ccb08283efd91441a84251a6bff">RPC_E_PARM</a>]    = { .name = <span class="stringliteral">&quot;params&quot;</span>,  .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a73b081b5b7befc2e98c585c25e9750f2">BLOBMSG_TYPE_ARRAY</a>  },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a0d0a0fc24ea955c0a16d28a957d4ff59">RPC_E_ENV</a>]     = { .name = <span class="stringliteral">&quot;env&quot;</span>,     .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a32115da5d02a4fba2b0ddad9f3ff82a7">BLOBMSG_TYPE_TABLE</a>  },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a97101a358810d7f7d74ed83d9bd6f65b">RPC_E_SESSION</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>,</div>
<div class="line">                        .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">}</div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9a32115da5d02a4fba2b0ddad9f3ff82a7"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a32115da5d02a4fba2b0ddad9f3ff82a7">BLOBMSG_TYPE_TABLE</a></div><div class="ttdeci">@ BLOBMSG_TYPE_TABLE</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00028">blobmsg.h:28</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9a73b081b5b7befc2e98c585c25e9750f2"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a73b081b5b7befc2e98c585c25e9750f2">BLOBMSG_TYPE_ARRAY</a></div><div class="ttdeci">@ BLOBMSG_TYPE_ARRAY</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00027">blobmsg.h:27</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00133">133</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  133</span>                                                                  {</div>
<div class="line"><span class="lineno">  134</span>    [<a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a8fda17b9be87856327d2e3510c7d9440">RPC_E_CMD</a>]     = { .name = <span class="stringliteral">&quot;command&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">  135</span>    [<a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a7ac31ccb08283efd91441a84251a6bff">RPC_E_PARM</a>]    = { .name = <span class="stringliteral">&quot;params&quot;</span>,  .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a73b081b5b7befc2e98c585c25e9750f2">BLOBMSG_TYPE_ARRAY</a>  },</div>
<div class="line"><span class="lineno">  136</span>    [<a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a0d0a0fc24ea955c0a16d28a957d4ff59">RPC_E_ENV</a>]     = { .name = <span class="stringliteral">&quot;env&quot;</span>,     .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a32115da5d02a4fba2b0ddad9f3ff82a7">BLOBMSG_TYPE_TABLE</a>  },</div>
<div class="line"><span class="lineno">  137</span>    [<a class="code hl_enumvalue" href="#a0ac0b7994a7d738aa77d2c1cfe8d6d13a97101a358810d7f7d74ed83d9bd6f65b">RPC_E_SESSION</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>,</div>
<div class="line"><span class="lineno">  138</span>                        .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">  139</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00989">rpc_file_api_init()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00971">rpc_file_exec()</a>.</p>

</div>
</div>
<a id="ac0d4aba57b0d9663dcb4c272160e9ce5" name="ac0d4aba57b0d9663dcb4c272160e9ce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0d4aba57b0d9663dcb4c272160e9ce5">&#9670;&#160;</a></span>rpc_file_R_policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> rpc_file_R_policy[<a class="el" href="#aa7df87806f64f3b241c8cde9eb57cad5af9ddd7dc53a6e1507cded0cffda62c25">__RPC_F_R_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aa7df87806f64f3b241c8cde9eb57cad5af1cd590a736f98325bfbc213be2c45ea">RPC_F_R_PATH</a>]    = { .name = <span class="stringliteral">&quot;path&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aa7df87806f64f3b241c8cde9eb57cad5aefbb24d6324bb4b6022473ac1243589a">RPC_F_R_SESSION</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>,</div>
<div class="line">                          .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00085">85</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   85</span>                                                                      {</div>
<div class="line"><span class="lineno">   86</span>    [<a class="code hl_enumvalue" href="#aa7df87806f64f3b241c8cde9eb57cad5af1cd590a736f98325bfbc213be2c45ea">RPC_F_R_PATH</a>]    = { .name = <span class="stringliteral">&quot;path&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   87</span>    [<a class="code hl_enumvalue" href="#aa7df87806f64f3b241c8cde9eb57cad5aefbb24d6324bb4b6022473ac1243589a">RPC_F_R_SESSION</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>,</div>
<div class="line"><span class="lineno">   88</span>                          .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   89</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00989">rpc_file_api_init()</a>.</p>

</div>
</div>
<a id="a293a0ad7fac21876992d85d19d7ea29e" name="a293a0ad7fac21876992d85d19d7ea29e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a293a0ad7fac21876992d85d19d7ea29e">&#9670;&#160;</a></span>rpc_file_RB_policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> rpc_file_RB_policy[<a class="el" href="#a2f1398dba5e4a5616b83437528bdb28ea43d4cf9feeee6bffd84c8f06efca441a">__RPC_F_RB_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a2f1398dba5e4a5616b83437528bdb28eaddda863cdd779997792ecdc2ee4f1499">RPC_F_RB_PATH</a>]    = { .name = <span class="stringliteral">&quot;path&quot;</span>,   .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a2f1398dba5e4a5616b83437528bdb28ea3f2ca77b16198018f1b65fd4f97efcac">RPC_F_RB_BASE64</a>]  = { .name = <span class="stringliteral">&quot;base64&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a>   },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a2f1398dba5e4a5616b83437528bdb28ea796487886f32ef861cd70a2fca3adce0">RPC_F_RB_SESSION</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>,</div>
<div class="line">                           .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">}</div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a></div><div class="ttdeci">@ BLOBMSG_TYPE_BOOL</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00034">blobmsg.h:34</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00098">98</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   98</span>                                                                        {</div>
<div class="line"><span class="lineno">   99</span>    [<a class="code hl_enumvalue" href="#a2f1398dba5e4a5616b83437528bdb28eaddda863cdd779997792ecdc2ee4f1499">RPC_F_RB_PATH</a>]    = { .name = <span class="stringliteral">&quot;path&quot;</span>,   .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">  100</span>    [<a class="code hl_enumvalue" href="#a2f1398dba5e4a5616b83437528bdb28ea3f2ca77b16198018f1b65fd4f97efcac">RPC_F_RB_BASE64</a>]  = { .name = <span class="stringliteral">&quot;base64&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a>   },</div>
<div class="line"><span class="lineno">  101</span>    [<a class="code hl_enumvalue" href="#a2f1398dba5e4a5616b83437528bdb28ea796487886f32ef861cd70a2fca3adce0">RPC_F_RB_SESSION</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>,</div>
<div class="line"><span class="lineno">  102</span>                           .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">  103</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00989">rpc_file_api_init()</a>.</p>

</div>
</div>
<a id="a19316354dfb18e2fe912e38505f09792" name="a19316354dfb18e2fe912e38505f09792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19316354dfb18e2fe912e38505f09792">&#9670;&#160;</a></span>rpc_file_RW_policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> rpc_file_RW_policy[<a class="el" href="#aeac2de18c0ed342a690b3e2ba3c52426a2869661700c56605932b0082e157b527">__RPC_F_RW_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a73aadb856e5a9d90bcb0e59202cd090d">RPC_F_RW_PATH</a>]    = { .name = <span class="stringliteral">&quot;path&quot;</span>,   .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a5072ac601adf12eac070b1672fa72ca9">RPC_F_RW_DATA</a>]    = { .name = <span class="stringliteral">&quot;data&quot;</span>,   .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426abb9d8862e0c2b76991c1b6f052a62c6b">RPC_F_RW_APPEND</a>]  = { .name = <span class="stringliteral">&quot;append&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a>  },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a94d4a23f9fce32831ddf24f9bb748787">RPC_F_RW_MODE</a>]    = { .name = <span class="stringliteral">&quot;mode&quot;</span>,   .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a>  },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426afd3e17fb562d13d8ce20a1b41dbe456e">RPC_F_RW_BASE64</a>]  = { .name = <span class="stringliteral">&quot;base64&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a>   },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a3d9f5643f9cc44bc226421fcfe133ce8">RPC_F_RW_SESSION</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>,</div>
<div class="line">                           .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">}</div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a></div><div class="ttdeci">@ BLOBMSG_TYPE_INT32</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00031">blobmsg.h:31</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l00115">115</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  115</span>                                                                        {</div>
<div class="line"><span class="lineno">  116</span>    [<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a73aadb856e5a9d90bcb0e59202cd090d">RPC_F_RW_PATH</a>]    = { .name = <span class="stringliteral">&quot;path&quot;</span>,   .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">  117</span>    [<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a5072ac601adf12eac070b1672fa72ca9">RPC_F_RW_DATA</a>]    = { .name = <span class="stringliteral">&quot;data&quot;</span>,   .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">  118</span>    [<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426abb9d8862e0c2b76991c1b6f052a62c6b">RPC_F_RW_APPEND</a>]  = { .name = <span class="stringliteral">&quot;append&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a>  },</div>
<div class="line"><span class="lineno">  119</span>    [<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a94d4a23f9fce32831ddf24f9bb748787">RPC_F_RW_MODE</a>]    = { .name = <span class="stringliteral">&quot;mode&quot;</span>,   .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a>  },</div>
<div class="line"><span class="lineno">  120</span>    [<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426afd3e17fb562d13d8ce20a1b41dbe456e">RPC_F_RW_BASE64</a>]  = { .name = <span class="stringliteral">&quot;base64&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a>   },</div>
<div class="line"><span class="lineno">  121</span>    [<a class="code hl_enumvalue" href="#aeac2de18c0ed342a690b3e2ba3c52426a3d9f5643f9cc44bc226421fcfe133ce8">RPC_F_RW_SESSION</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>,</div>
<div class="line"><span class="lineno">  122</span>                           .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">  123</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d6/d13/file_8c_source.html#l00989">rpc_file_api_init()</a>.</p>

</div>
</div>
<a id="a9cf335329d79680c19c21b0b666c8d42" name="a9cf335329d79680c19c21b0b666c8d42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cf335329d79680c19c21b0b666c8d42">&#9670;&#160;</a></span>rpc_plugin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rpc_plugin rpc_plugin</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .init = <a class="code hl_function" href="#a53c5ffc34562e83f1d2a32c99c35d778">rpc_file_api_init</a></div>
<div class="line">}</div>
<div class="ttc" id="afile_8c_html_a53c5ffc34562e83f1d2a32c99c35d778"><div class="ttname"><a href="#a53c5ffc34562e83f1d2a32c99c35d778">rpc_file_api_init</a></div><div class="ttdeci">static int rpc_file_api_init(const struct rpc_daemon_ops *o, struct ubus_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/file_8c_source.html#l00989">file.c:989</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d6/d13/file_8c_source.html#l01016">1016</a> of file <a class="el" href="../../d6/d13/file_8c_source.html">file.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1016</span>                               {</div>
<div class="line"><span class="lineno"> 1017</span>    .init = <a class="code hl_function" href="#a53c5ffc34562e83f1d2a32c99c35d778">rpc_file_api_init</a></div>
<div class="line"><span class="lineno"> 1018</span>};</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
