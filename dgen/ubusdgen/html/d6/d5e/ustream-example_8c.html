<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>zbus: /home/g41797/CLionProjects/github.com/g41797/zbus/src/libs/libubox/examples/ustream-example.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">zbus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_87a455bccb09a92130c26a11a880c98a.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_397c898d2cf76178a72912abd1158536.html">libubox</a></li><li class="navelem"><a class="el" href="../../dir_856f50611263b5dc31332c2f58aaa4af.html">examples</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">ustream-example.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;getopt.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../da/d79/ustream_8h_source.html">ustream.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d56/uloop_8h_source.html">uloop.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/dd5/usock_8h_source.html">usock.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ustream-example.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d5/d91/ustream-example_8c__incl.png" border="0" usemap="#a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2libubox_2examples_2ustream-example_8c" alt=""/></div>
<map name="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2libubox_2examples_2ustream-example_8c" id="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2libubox_2examples_2ustream-example_8c">
<area shape="rect" title=" " alt="" coords="507,5,794,108"/>
<area shape="rect" title=" " alt="" coords="5,156,141,190"/>
<area shape="poly" title=" " alt="" coords="507,89,156,158,155,153,506,84"/>
<area shape="rect" title=" " alt="" coords="165,156,293,190"/>
<area shape="poly" title=" " alt="" coords="507,99,304,154,303,149,506,94"/>
<area shape="rect" title=" " alt="" coords="316,156,401,190"/>
<area shape="poly" title=" " alt="" coords="521,111,415,152,413,147,519,106"/>
<area shape="rect" title=" " alt="" coords="425,156,524,190"/>
<area shape="poly" title=" " alt="" coords="574,111,513,150,510,145,571,106"/>
<area shape="rect" title=" " alt="" coords="548,156,638,190"/>
<area shape="poly" title=" " alt="" coords="627,109,610,143,605,141,623,107"/>
<area shape="rect" title=" " alt="" coords="662,156,756,190"/>
<area shape="poly" title=" " alt="" coords="679,107,696,141,691,143,674,109"/>
<area shape="rect" title=" " alt="" coords="780,156,878,190"/>
<area shape="poly" title=" " alt="" coords="731,106,792,145,789,150,728,111"/>
<area shape="rect" href="../../da/d79/ustream_8h.html" title=" " alt="" coords="902,156,1017,190"/>
<area shape="poly" title=" " alt="" coords="789,106,903,148,901,153,787,111"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html" title=" " alt="" coords="1009,238,1100,271"/>
<area shape="poly" title=" " alt="" coords="794,77,866,91,934,109,992,130,1031,154,1042,169,1050,187,1057,222,1052,223,1045,189,1038,172,1027,158,990,135,933,114,864,97,793,82"/>
<area shape="rect" href="../../d1/dd5/usock_8h.html" title=" " alt="" coords="1092,156,1185,190"/>
<area shape="poly" title=" " alt="" coords="795,89,1074,153,1077,154,1076,159,1072,159,794,94"/>
<area shape="rect" title=" " alt="" coords="887,238,985,271"/>
<area shape="poly" title=" " alt="" coords="957,191,948,223,942,222,952,189"/>
<area shape="poly" title=" " alt="" coords="981,188,1025,225,1022,230,977,192"/>
<area shape="rect" title=" " alt="" coords="706,319,824,353"/>
<area shape="poly" title=" " alt="" coords="1010,271,839,317,838,312,1008,266"/>
<area shape="rect" title=" " alt="" coords="848,319,975,353"/>
<area shape="poly" title=" " alt="" coords="1027,274,955,314,952,309,1024,269"/>
<area shape="rect" title=" " alt="" coords="1050,401,1157,435"/>
<area shape="poly" title=" " alt="" coords="1049,273,1038,310,1036,332,1041,352,1053,372,1070,389,1066,393,1049,375,1036,354,1031,332,1032,309,1044,271"/>
<area shape="rect" title=" " alt="" coords="1051,319,1143,353"/>
<area shape="poly" title=" " alt="" coords="1065,271,1083,304,1079,307,1061,273"/>
<area shape="rect" title=" " alt="" coords="1167,319,1262,353"/>
<area shape="poly" title=" " alt="" coords="1088,269,1170,310,1167,315,1086,274"/>
<area shape="rect" href="../../da/d23/list_8h.html" title=" " alt="" coords="1285,319,1352,353"/>
<area shape="poly" title=" " alt="" coords="1101,266,1271,316,1269,321,1099,271"/>
<area shape="poly" title=" " alt="" coords="1286,352,1162,398,1160,393,1284,347"/>
<area shape="rect" title=" " alt="" coords="1270,401,1367,435"/>
<area shape="poly" title=" " alt="" coords="1321,353,1321,386,1316,386,1316,353"/>
</map>
</div>
</div>
<p><a href="../../d6/d5e/ustream-example_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:d3/db7/structclient" id="r_d3/db7/structclient"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#d3/db7/structclient">client</a></td></tr>
<tr class="separator:d3/db7/structclient"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a14d20a7b981abfe6caa69d489e26bd14" id="r_a14d20a7b981abfe6caa69d489e26bd14"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a14d20a7b981abfe6caa69d489e26bd14">client_read_cb</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s, int bytes)</td></tr>
<tr class="separator:a14d20a7b981abfe6caa69d489e26bd14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8f3213bb3fb2aa807cc67b3b8d2e143" id="r_aa8f3213bb3fb2aa807cc67b3b8d2e143"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8f3213bb3fb2aa807cc67b3b8d2e143">client_close</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s)</td></tr>
<tr class="separator:aa8f3213bb3fb2aa807cc67b3b8d2e143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addf95cde6e81f69db700b66210348e34" id="r_addf95cde6e81f69db700b66210348e34"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#addf95cde6e81f69db700b66210348e34">client_notify_write</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s, int bytes)</td></tr>
<tr class="separator:addf95cde6e81f69db700b66210348e34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3cf154cfdf245f675ec8a102e917601" id="r_ac3cf154cfdf245f675ec8a102e917601"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac3cf154cfdf245f675ec8a102e917601">client_notify_state</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s)</td></tr>
<tr class="separator:ac3cf154cfdf245f675ec8a102e917601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267b473df8c4d0aa4be8a445dc0ade60" id="r_a267b473df8c4d0aa4be8a445dc0ade60"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a267b473df8c4d0aa4be8a445dc0ade60">server_cb</a> (struct <a class="el" href="../../dc/d56/uloop_8h.html#db/d9e/structuloop__fd">uloop_fd</a> *fd, unsigned int <a class="el" href="../../d3/d91/uloop-epoll_8c.html#a0e992398f478de38db56a1146ea84e93">events</a>)</td></tr>
<tr class="separator:a267b473df8c4d0aa4be8a445dc0ade60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67aac42ef31467a0ed32ac0b7617303" id="r_ae67aac42ef31467a0ed32ac0b7617303"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae67aac42ef31467a0ed32ac0b7617303">run_server</a> (void)</td></tr>
<tr class="separator:ae67aac42ef31467a0ed32ac0b7617303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae758b32f54677314ee0dda87bccaddce" id="r_ae758b32f54677314ee0dda87bccaddce"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae758b32f54677314ee0dda87bccaddce">usage</a> (const char *name)</td></tr>
<tr class="separator:ae758b32f54677314ee0dda87bccaddce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627" id="r_a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:acb8f1470f1d509b6cf5cf79f4bd80d8b" id="r_acb8f1470f1d509b6cf5cf79f4bd80d8b"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dc/d56/uloop_8h.html#db/d9e/structuloop__fd">uloop_fd</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acb8f1470f1d509b6cf5cf79f4bd80d8b">server</a></td></tr>
<tr class="separator:acb8f1470f1d509b6cf5cf79f4bd80d8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad723da1801ae1586eb330380e2d9a912" id="r_ad723da1801ae1586eb330380e2d9a912"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad723da1801ae1586eb330380e2d9a912">port</a> = &quot;10000&quot;</td></tr>
<tr class="separator:ad723da1801ae1586eb330380e2d9a912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac26f9739197d5c329dfa3be4d4177e07" id="r_ac26f9739197d5c329dfa3be4d4177e07"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="#d3/db7/structclient">client</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac26f9739197d5c329dfa3be4d4177e07">next_client</a> = NULL</td></tr>
<tr class="separator:ac26f9739197d5c329dfa3be4d4177e07"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="d3/db7/structclient" id="d3/db7/structclient"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d3/db7/structclient">&#9670;&#160;</a></span>client</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct client</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00018">18</a> of file <a class="el" href="../../d6/d5e/ustream-example_8c_source.html">ustream-example.c</a>.</p>
</div><div class="dynheader">
Collaboration diagram for client:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d7a/structclient__coll__graph.png" border="0" usemap="#aclient_coll__map" alt="Collaboration graph"/></div>
<map name="aclient_coll__map" id="aclient_coll__map">
<area shape="rect" title=" " alt="" coords="1441,60,1512,94"/>
<area shape="rect" title=" " alt="" coords="1169,5,1360,39"/>
<area shape="poly" title=" " alt="" coords="1359,41,1418,56,1442,63,1440,68,1416,61,1358,46"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd" title=" " alt="" coords="1202,443,1327,476"/>
<area shape="poly" title=" " alt="" coords="1280,428,1464,93,1468,95,1285,430"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#d8/d8e/structustream" title=" " alt="" coords="953,683,1051,716"/>
<area shape="poly" title=" " alt="" coords="1031,670,1242,475,1246,479,1035,674"/>
<area shape="poly" title=" " alt="" coords="982,665,989,659,1002,656,1014,658,1022,665,1025,673,1023,683,1018,682,1020,674,1018,668,1012,663,1002,661,991,663,985,669"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#da/dd1/structustream__buf__list" title=" " alt="" coords="525,337,698,371"/>
<area shape="poly" title=" " alt="" coords="714,367,749,381,796,413,839,452,878,494,912,538,964,622,995,681,990,684,960,624,907,542,874,498,835,455,793,417,746,386,712,371"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#d9/dc0/structustream__buf" title=" " alt="" coords="169,432,306,466"/>
<area shape="poly" title=" " alt="" coords="319,466,352,469,386,467,419,460,449,445,460,432,461,416,463,399,473,382,497,366,523,357,525,362,499,371,477,385,468,400,466,417,464,434,453,449,421,465,387,473,352,474,318,471"/>
<area shape="poly" title=" " alt="" coords="215,415,223,408,237,405,251,408,260,414,263,423,261,432,255,431,258,423,255,417,249,412,237,411,225,413,218,419"/>
<area shape="rect" title=" " alt="" coords="5,432,68,466"/>
<area shape="poly" title=" " alt="" coords="83,446,168,446,168,452,83,452"/>
<area shape="rect" title=" " alt="" coords="215,200,260,234"/>
<area shape="poly" title=" " alt="" coords="262,187,295,157,335,130,407,98,468,82,530,75,610,74,1266,74,1440,74,1440,80,1266,80,610,79,530,81,469,87,409,103,337,135,298,161,266,190"/>
<area shape="poly" title=" " alt="" coords="269,188,300,168,335,153,367,145,393,143,451,153,602,182,665,196,722,212,775,235,826,267,878,311,932,372,945,416,965,507,1000,682,995,683,960,508,940,418,927,374,874,315,823,271,772,240,720,217,663,201,601,187,451,158,393,149,368,151,337,158,302,173,272,192"/>
<area shape="poly" title=" " alt="" coords="268,242,300,268,337,291,409,310,524,335,523,340,408,315,335,296,297,273,265,247"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html#db/d9e/structuloop__fd" title=" " alt="" coords="561,443,661,476"/>
<area shape="poly" title=" " alt="" coords="256,246,289,299,311,325,337,347,366,361,392,365,419,367,452,376,523,408,582,440,580,444,521,412,450,381,418,373,391,370,365,366,335,351,307,329,284,302,251,249"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html#d8/d2b/structuloop__timeout" title=" " alt="" coords="535,979,687,1012"/>
<area shape="poly" title=" " alt="" coords="703,1002,759,1001,819,993,877,974,903,960,928,942,950,917,967,888,980,857,989,824,997,763,999,717,1004,717,1003,763,994,825,985,858,972,890,954,920,931,946,906,964,879,979,820,998,759,1007,703,1008"/>
<area shape="poly" title=" " alt="" coords="572,961,586,954,611,952,634,954,649,960,655,969,650,979,646,977,649,970,645,964,633,959,611,957,588,960,575,966"/>
<area shape="rect" href="../../da/d23/list_8h.html#d9/d93/structlist__head" title=" " alt="" coords="186,949,289,983"/>
<area shape="poly" title=" " alt="" coords="305,969,535,987,534,992,305,974"/>
<area shape="poly" title=" " alt="" coords="215,932,223,925,237,923,251,925,260,931,263,940,261,950,255,948,258,940,255,934,249,930,237,928,225,930,218,936"/>
<area shape="rect" title=" " alt="" coords="207,576,268,610"/>
<area shape="poly" title=" " alt="" coords="283,594,451,609,587,617,693,619,799,628,859,640,930,660,974,680,972,684,928,665,858,646,798,634,693,624,587,622,451,614,283,599"/>
<area shape="poly" title=" " alt="" coords="283,610,337,632,370,638,400,638,427,643,440,651,453,663,464,685,469,716,468,791,466,866,469,896,477,918,493,937,512,953,555,976,552,980,509,957,489,941,473,921,464,897,461,866,463,790,463,716,459,687,449,666,437,655,425,648,399,644,370,643,335,637,281,615"/>
<area shape="poly" title=" " alt="" coords="282,583,383,564,427,554,449,545,458,534,461,521,463,507,473,494,493,480,516,470,560,460,561,465,517,475,496,485,477,497,468,509,466,522,463,536,453,549,428,559,384,569,283,588"/>
<area shape="rect" title=" " alt="" coords="163,1007,312,1040"/>
<area shape="poly" title=" " alt="" coords="328,1022,451,1017,534,1007,535,1012,451,1022,328,1027"/>
<area shape="rect" title=" " alt="" coords="498,711,724,768"/>
<area shape="poly" title=" " alt="" coords="739,724,953,702,953,707,740,729"/>
<area shape="rect" title=" " alt="" coords="498,793,724,849"/>
<area shape="poly" title=" " alt="" coords="739,803,834,782,882,768,928,749,956,733,980,714,984,719,959,737,930,754,884,773,835,788,740,808"/>
<area shape="rect" title=" " alt="" coords="482,873,740,907"/>
<area shape="poly" title=" " alt="" coords="705,907,759,912,818,910,876,898,903,887,928,872,945,856,960,837,980,794,992,751,997,716,1002,717,997,752,985,796,964,840,949,860,931,876,905,891,877,903,819,915,759,917,704,913"/>
<area shape="rect" title=" " alt="" coords="195,695,280,728"/>
<area shape="poly" title=" " alt="" coords="296,718,370,722,411,719,450,712,462,705,474,697,556,678,621,675,687,678,771,680,851,676,930,680,953,684,953,689,929,685,851,681,771,685,687,684,621,680,556,683,476,702,464,709,452,717,412,725,370,727,295,723"/>
<area shape="poly" title=" " alt="" coords="296,710,386,706,425,698,449,686,465,664,470,641,468,618,462,594,456,569,453,544,458,519,473,494,492,478,514,467,560,457,561,462,516,472,495,482,477,497,463,521,459,545,461,568,467,593,473,617,475,642,470,666,453,690,426,703,387,711,296,715"/>
<area shape="rect" title=" " alt="" coords="475,1036,747,1070"/>
<area shape="poly" title=" " alt="" coords="701,1070,757,1075,818,1073,877,1059,903,1046,927,1029,944,1006,958,972,978,881,991,786,997,717,1002,717,996,786,984,882,963,973,948,1009,931,1032,906,1050,878,1064,819,1078,757,1081,700,1075"/>
<area shape="poly" title=" " alt="" coords="677,457,1201,457,1201,462,677,462"/>
<area shape="poly" title=" " alt="" coords="572,425,586,418,611,416,634,418,649,424,655,433,650,443,646,441,649,434,645,428,633,423,611,421,588,424,575,430"/>
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a56a9902a3a861a61ba9167993415a167" name="a56a9902a3a861a61ba9167993415a167"></a>int</td>
<td class="fieldname">
ctr</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="acc98117c828d6f93d6a2dc0e070fa520" name="acc98117c828d6f93d6a2dc0e070fa520"></a>struct <a class="el" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a></td>
<td class="fieldname">
s</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a6d1f60dc1df0e257281bf00244cbc165" name="a6d1f60dc1df0e257281bf00244cbc165"></a>struct sockaddr_in</td>
<td class="fieldname">
sin</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa8f3213bb3fb2aa807cc67b3b8d2e143" name="aa8f3213bb3fb2aa807cc67b3b8d2e143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8f3213bb3fb2aa807cc67b3b8d2e143">&#9670;&#160;</a></span>client_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void client_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00052">52</a> of file <a class="el" href="../../d6/d5e/ustream-example_8c_source.html">ustream-example.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   53</span>{</div>
<div class="line"><span class="lineno">   54</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d3/db7/structclient">client</a> *cl = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(<a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>, <span class="keyword">struct</span> <a class="code hl_struct" href="#d3/db7/structclient">client</a>, <a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>);</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>    fprintf(stderr, <span class="stringliteral">&quot;Connection closed\n&quot;</span>);</div>
<div class="line"><span class="lineno">   57</span>    <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a55eb7ea0d6ed61f253f5689798ccf5c3">ustream_free</a>(<a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>);</div>
<div class="line"><span class="lineno">   58</span>    close(cl-&gt;<a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0bca51b2e8287eeab242d9aaf262afb4">fd</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#ad8badf8512adcf9a8819ed088bde09cc">fd</a>);</div>
<div class="line"><span class="lineno">   59</span>    free(cl);</div>
<div class="line"><span class="lineno">   60</span>}</div>
<div class="ttc" id="alist_8h_html_af8c317a42292b61c93aae91e59118a46"><div class="ttname"><a href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a></div><div class="ttdeci">#define container_of(ptr, type, member)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00038">list.h:38</a></div></div>
<div class="ttc" id="auloop_8h_html_ad8badf8512adcf9a8819ed088bde09cc"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#ad8badf8512adcf9a8819ed088bde09cc">uloop_fd::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00065">uloop.h:65</a></div></div>
<div class="ttc" id="austream-example_8c_html_acc98117c828d6f93d6a2dc0e070fa520"><div class="ttname"><a href="#acc98117c828d6f93d6a2dc0e070fa520">client::s</a></div><div class="ttdeci">struct ustream_fd s</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d5e/ustream-example_8c_source.html#l00021">ustream-example.c:21</a></div></div>
<div class="ttc" id="austream-example_8c_html_d3/db7/structclient"><div class="ttname"><a href="#d3/db7/structclient">client</a></div><div class="ttdef"><b>Definition</b> <a href="../../d6/d5e/ustream-example_8c_source.html#l00018">ustream-example.c:18</a></div></div>
<div class="ttc" id="austream_8c_html_a55eb7ea0d6ed61f253f5689798ccf5c3"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a55eb7ea0d6ed61f253f5689798ccf5c3">ustream_free</a></div><div class="ttdeci">void ustream_free(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00094">ustream.c:94</a></div></div>
<div class="ttc" id="austream_8h_html_a0bca51b2e8287eeab242d9aaf262afb4"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a0bca51b2e8287eeab242d9aaf262afb4">ustream_fd::fd</a></div><div class="ttdeci">struct uloop_fd fd</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00125">ustream.h:125</a></div></div>
<div class="ttc" id="austream_8h_html_a4243590de8945ac3666b7b8947c55b0f"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">ustream_fd::stream</a></div><div class="ttdeci">struct ustream stream</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00124">ustream.h:124</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00065">uloop_fd::fd</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00125">ustream_fd::fd</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00021">client::s</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, and <a class="el" href="../../d6/d26/ustream_8c_source.html#l00094">ustream_free()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00072">client_notify_state()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d5e/ustream-example_8c_aa8f3213bb3fb2aa807cc67b3b8d2e143_cgraph.png" border="0" usemap="#ad6/d5e/ustream-example_8c_aa8f3213bb3fb2aa807cc67b3b8d2e143_cgraph" alt=""/></div>
<map name="ad6/d5e/ustream-example_8c_aa8f3213bb3fb2aa807cc67b3b8d2e143_cgraph" id="ad6/d5e/ustream-example_8c_aa8f3213bb3fb2aa807cc67b3b8d2e143_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,133,68"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a55eb7ea0d6ed61f253f5689798ccf5c3" title=" " alt="" coords="181,35,323,68"/>
<area shape="poly" title=" " alt="" coords="133,49,165,49,165,54,133,54"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="371,5,591,39"/>
<area shape="poly" title=" " alt="" coords="323,40,355,36,356,41,324,45"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc" title=" " alt="" coords="373,63,590,96"/>
<area shape="poly" title=" " alt="" coords="324,58,357,62,357,67,323,63"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="639,5,725,39"/>
<area shape="poly" title=" " alt="" coords="591,20,624,20,624,25,591,25"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="773,5,867,39"/>
<area shape="poly" title=" " alt="" coords="725,20,757,20,757,25,725,25"/>
</map>
</div>

</div>
</div>
<a id="ac3cf154cfdf245f675ec8a102e917601" name="ac3cf154cfdf245f675ec8a102e917601"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3cf154cfdf245f675ec8a102e917601">&#9670;&#160;</a></span>client_notify_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void client_notify_state </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00072">72</a> of file <a class="el" href="../../d6/d5e/ustream-example_8c_source.html">ustream-example.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>{</div>
<div class="line"><span class="lineno">   74</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d3/db7/structclient">client</a> *cl = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(<a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>, <span class="keyword">struct</span> <a class="code hl_struct" href="#d3/db7/structclient">client</a>, <a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>);</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>-&gt;eof)</div>
<div class="line"><span class="lineno">   77</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>    fprintf(stderr, <span class="stringliteral">&quot;eof!, pending: %d, total: %d\n&quot;</span>, <a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>-&gt;w.data_bytes, cl-&gt;<a class="code hl_variable" href="#a56a9902a3a861a61ba9167993415a167">ctr</a>);</div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>-&gt;w.data_bytes)</div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#aa8f3213bb3fb2aa807cc67b3b8d2e143">client_close</a>(<a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>);</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>}</div>
<div class="ttc" id="austream-example_8c_html_a56a9902a3a861a61ba9167993415a167"><div class="ttname"><a href="#a56a9902a3a861a61ba9167993415a167">client::ctr</a></div><div class="ttdeci">int ctr</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d5e/ustream-example_8c_source.html#l00022">ustream-example.c:22</a></div></div>
<div class="ttc" id="austream-example_8c_html_aa8f3213bb3fb2aa807cc67b3b8d2e143"><div class="ttname"><a href="#aa8f3213bb3fb2aa807cc67b3b8d2e143">client_close</a></div><div class="ttdeci">static void client_close(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d5e/ustream-example_8c_source.html#l00052">ustream-example.c:52</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00052">client_close()</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00022">client::ctr</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00021">client::s</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00085">server_cb()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d5e/ustream-example_8c_ac3cf154cfdf245f675ec8a102e917601_cgraph.png" border="0" usemap="#ad6/d5e/ustream-example_8c_ac3cf154cfdf245f675ec8a102e917601_cgraph" alt=""/></div>
<map name="ad6/d5e/ustream-example_8c_ac3cf154cfdf245f675ec8a102e917601_cgraph" id="ad6/d5e/ustream-example_8c_ac3cf154cfdf245f675ec8a102e917601_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,193,68"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#aa8f3213bb3fb2aa807cc67b3b8d2e143" title=" " alt="" coords="241,35,368,68"/>
<area shape="poly" title=" " alt="" coords="193,49,225,49,225,54,193,54"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a55eb7ea0d6ed61f253f5689798ccf5c3" title=" " alt="" coords="416,35,558,68"/>
<area shape="poly" title=" " alt="" coords="368,49,400,49,400,54,368,54"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="606,5,827,39"/>
<area shape="poly" title=" " alt="" coords="559,40,591,36,591,41,559,45"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc" title=" " alt="" coords="608,63,825,96"/>
<area shape="poly" title=" " alt="" coords="559,58,593,62,592,67,559,63"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="875,5,960,39"/>
<area shape="poly" title=" " alt="" coords="827,20,859,20,859,25,827,25"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1008,5,1102,39"/>
<area shape="poly" title=" " alt="" coords="960,20,992,20,992,25,960,25"/>
</map>
</div>

</div>
</div>
<a id="addf95cde6e81f69db700b66210348e34" name="addf95cde6e81f69db700b66210348e34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addf95cde6e81f69db700b66210348e34">&#9670;&#160;</a></span>client_notify_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void client_notify_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>bytes</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00062">62</a> of file <a class="el" href="../../d6/d5e/ustream-example_8c_source.html">ustream-example.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   63</span>{</div>
<div class="line"><span class="lineno">   64</span>    fprintf(stderr, <span class="stringliteral">&quot;Wrote %d bytes, pending: %d\n&quot;</span>, bytes, s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a2cb8be7b642a24ce03d0d8910b98500d">data_bytes</a>);</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">if</span> (s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a2cb8be7b642a24ce03d0d8910b98500d">data_bytes</a> &lt; 128 &amp;&amp; <a class="code hl_function" href="../../da/d79/ustream_8h.html#a0b06f5cce1f3d6ebac398da293f42bf0">ustream_read_blocked</a>(s)) {</div>
<div class="line"><span class="lineno">   67</span>        fprintf(stderr, <span class="stringliteral">&quot;Unblock read\n&quot;</span>);</div>
<div class="line"><span class="lineno">   68</span>        <a class="code hl_function" href="../../d6/d26/ustream_8c.html#ad9a99d5c375c49ea750fe97d0e93ada1">ustream_set_read_blocked</a>(s, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   69</span>    }</div>
<div class="line"><span class="lineno">   70</span>}</div>
<div class="ttc" id="austream_8c_html_ad9a99d5c375c49ea750fe97d0e93ada1"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#ad9a99d5c375c49ea750fe97d0e93ada1">ustream_set_read_blocked</a></div><div class="ttdeci">void ustream_set_read_blocked(struct ustream *s, bool set)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00205">ustream.c:205</a></div></div>
<div class="ttc" id="austream_8h_html_a03853611acd8f4e90eec49c1e183ee87"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a03853611acd8f4e90eec49c1e183ee87">ustream::w</a></div><div class="ttdeci">struct ustream_buf_list r w</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00050">ustream.h:50</a></div></div>
<div class="ttc" id="austream_8h_html_a0b06f5cce1f3d6ebac398da293f42bf0"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a0b06f5cce1f3d6ebac398da293f42bf0">ustream_read_blocked</a></div><div class="ttdeci">static bool ustream_read_blocked(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00169">ustream.h:169</a></div></div>
<div class="ttc" id="austream_8h_html_a2cb8be7b642a24ce03d0d8910b98500d"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a2cb8be7b642a24ce03d0d8910b98500d">ustream_buf_list::data_bytes</a></div><div class="ttdeci">int data_bytes</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00040">ustream.h:40</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00021">client::s</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00169">ustream_read_blocked()</a>, and <a class="el" href="../../d6/d26/ustream_8c_source.html#l00205">ustream_set_read_blocked()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00085">server_cb()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d5e/ustream-example_8c_addf95cde6e81f69db700b66210348e34_cgraph.png" border="0" usemap="#ad6/d5e/ustream-example_8c_addf95cde6e81f69db700b66210348e34_cgraph" alt=""/></div>
<map name="ad6/d5e/ustream-example_8c_addf95cde6e81f69db700b66210348e34_cgraph" id="ad6/d5e/ustream-example_8c_addf95cde6e81f69db700b66210348e34_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,193,68"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#a0b06f5cce1f3d6ebac398da293f42bf0" title=" " alt="" coords="259,5,487,39"/>
<area shape="poly" title=" " alt="" coords="193,39,243,33,244,39,194,44"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#ad9a99d5c375c49ea750fe97d0e93ada1" title=" " alt="" coords="241,63,505,96"/>
<area shape="poly" title=" " alt="" coords="194,58,225,62,225,67,193,64"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f" title=" " alt="" coords="553,51,755,108"/>
<area shape="poly" title=" " alt="" coords="505,77,537,77,537,82,505,82"/>
</map>
</div>

</div>
</div>
<a id="a14d20a7b981abfe6caa69d489e26bd14" name="a14d20a7b981abfe6caa69d489e26bd14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14d20a7b981abfe6caa69d489e26bd14">&#9670;&#160;</a></span>client_read_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void client_read_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>bytes</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00025">25</a> of file <a class="el" href="../../d6/d5e/ustream-example_8c_source.html">ustream-example.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   26</span>{</div>
<div class="line"><span class="lineno">   27</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d3/db7/structclient">client</a> *cl = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(<a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>, <span class="keyword">struct</span> <a class="code hl_struct" href="#d3/db7/structclient">client</a>, <a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>);</div>
<div class="line"><span class="lineno">   28</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d79/ustream_8h.html#d9/dc0/structustream__buf">ustream_buf</a> *<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> = s-&gt;r.head;</div>
<div class="line"><span class="lineno">   29</span>    <span class="keywordtype">char</span> *newline, *str;</div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   31</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">   32</span>        str = <a class="code hl_function" href="../../d6/d26/ustream_8c.html#af8718ea51e10ce9d433e4346110f0653">ustream_get_read_buf</a>(s, NULL);</div>
<div class="line"><span class="lineno">   33</span>        <span class="keywordflow">if</span> (!str)</div>
<div class="line"><span class="lineno">   34</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>        newline = strchr(<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;data, <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><span class="lineno">   37</span>        <span class="keywordflow">if</span> (!newline)</div>
<div class="line"><span class="lineno">   38</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>        *newline = 0;</div>
<div class="line"><span class="lineno">   41</span>        <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a5cd5e3fd92cce6077f0ed0fa53c5eb56">ustream_printf</a>(s, <span class="stringliteral">&quot;%s\n&quot;</span>, str);</div>
<div class="line"><span class="lineno">   42</span>        <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a6e2924135643035597d360c6dcb0a294">ustream_consume</a>(s, newline + 1 - str);</div>
<div class="line"><span class="lineno">   43</span>        cl-&gt;<a class="code hl_variable" href="#a56a9902a3a861a61ba9167993415a167">ctr</a> += newline + 1 - str;</div>
<div class="line"><span class="lineno">   44</span>    } <span class="keywordflow">while</span>(1);</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">if</span> (s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a2cb8be7b642a24ce03d0d8910b98500d">data_bytes</a> &gt; 256 &amp;&amp; !<a class="code hl_function" href="../../da/d79/ustream_8h.html#a0b06f5cce1f3d6ebac398da293f42bf0">ustream_read_blocked</a>(s)) {</div>
<div class="line"><span class="lineno">   47</span>        fprintf(stderr, <span class="stringliteral">&quot;Block read, bytes: %d\n&quot;</span>, s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a2cb8be7b642a24ce03d0d8910b98500d">data_bytes</a>);</div>
<div class="line"><span class="lineno">   48</span>        <a class="code hl_function" href="../../d6/d26/ustream_8c.html#ad9a99d5c375c49ea750fe97d0e93ada1">ustream_set_read_blocked</a>(s, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   49</span>    }</div>
<div class="line"><span class="lineno">   50</span>}</div>
<div class="ttc" id="amkdev_8c_html_a024e65f7d9664cdc767f51c283fd8353"><div class="ttname"><a href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a></div><div class="ttdeci">static char buf[PATH_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d9a/mkdev_8c_source.html#l00034">mkdev.c:34</a></div></div>
<div class="ttc" id="austream_8c_html_a5cd5e3fd92cce6077f0ed0fa53c5eb56"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a5cd5e3fd92cce6077f0ed0fa53c5eb56">ustream_printf</a></div><div class="ttdeci">int ustream_printf(struct ustream *s, const char *format,...)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00540">ustream.c:540</a></div></div>
<div class="ttc" id="austream_8c_html_a6e2924135643035597d360c6dcb0a294"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a6e2924135643035597d360c6dcb0a294">ustream_consume</a></div><div class="ttdeci">void ustream_consume(struct ustream *s, int len)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00215">ustream.c:215</a></div></div>
<div class="ttc" id="austream_8c_html_af8718ea51e10ce9d433e4346110f0653"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#af8718ea51e10ce9d433e4346110f0653">ustream_get_read_buf</a></div><div class="ttdeci">char * ustream_get_read_buf(struct ustream *s, int *buflen)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00334">ustream.c:334</a></div></div>
<div class="ttc" id="austream_8h_html_d9/dc0/structustream__buf"><div class="ttname"><a href="../../da/d79/ustream_8h.html#d9/dc0/structustream__buf">ustream_buf</a></div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00128">ustream.h:128</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00022">client::ctr</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00040">ustream_buf_list::data_bytes</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00021">client::s</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00215">ustream_consume()</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00334">ustream_get_read_buf()</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00540">ustream_printf()</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00169">ustream_read_blocked()</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00205">ustream_set_read_blocked()</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00050">ustream::w</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00085">server_cb()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d5e/ustream-example_8c_a14d20a7b981abfe6caa69d489e26bd14_cgraph.png" border="0" usemap="#ad6/d5e/ustream-example_8c_a14d20a7b981abfe6caa69d489e26bd14_cgraph" alt=""/></div>
<map name="ad6/d5e/ustream-example_8c_a14d20a7b981abfe6caa69d489e26bd14_cgraph" id="ad6/d5e/ustream-example_8c_a14d20a7b981abfe6caa69d489e26bd14_cgraph">
<area shape="rect" title=" " alt="" coords="5,133,158,167"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6e2924135643035597d360c6dcb0a294" title=" " alt="" coords="243,76,433,109"/>
<area shape="poly" title=" " alt="" coords="154,130,205,118,238,110,239,116,206,123,155,135"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#af8718ea51e10ce9d433e4346110f0653" title=" " alt="" coords="225,133,451,167"/>
<area shape="poly" title=" " alt="" coords="158,147,209,147,209,152,158,152"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a5cd5e3fd92cce6077f0ed0fa53c5eb56" title=" " alt="" coords="259,190,417,224"/>
<area shape="poly" title=" " alt="" coords="155,164,206,176,244,185,243,190,205,182,154,170"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#a0b06f5cce1f3d6ebac398da293f42bf0" title=" " alt="" coords="224,248,452,281"/>
<area shape="poly" title=" " alt="" coords="104,165,149,200,207,234,221,240,219,245,205,239,146,205,101,169"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#ad9a99d5c375c49ea750fe97d0e93ada1" title=" " alt="" coords="206,17,470,51"/>
<area shape="poly" title=" " alt="" coords="101,130,146,95,205,61,223,53,225,58,207,65,149,99,104,134"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f" title=" " alt="" coords="518,5,720,62"/>
<area shape="poly" title=" " alt="" coords="421,72,502,55,503,61,423,77"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a63bfcff990b542772fd9fbc5b6e1f870" title=" " alt="" coords="528,86,710,120"/>
<area shape="poly" title=" " alt="" coords="434,93,512,96,512,102,433,99"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a64710c908502c6d43dc365d365e28370" title=" " alt="" coords="768,29,950,63"/>
<area shape="poly" title=" " alt="" coords="692,83,770,64,771,69,693,88"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a3a72c25243ae144e230cc375fa016aac" title=" " alt="" coords="771,86,947,120"/>
<area shape="poly" title=" " alt="" coords="711,100,755,100,755,106,711,106"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a61be783dcc8b068e3462484564835363" title=" " alt="" coords="535,192,703,225"/>
<area shape="poly" title=" " alt="" coords="417,205,519,205,519,211,417,210"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0ed3a1f1af94d311249c4b34b9e937d3" title=" " alt="" coords="1291,152,1508,185"/>
<area shape="poly" title=" " alt="" coords="703,196,768,190,1040,175,1275,168,1276,173,1040,180,769,195,704,201"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0fd4724c3a2419db5c46a929ca2d7c9c" title=" " alt="" coords="783,246,935,280"/>
<area shape="poly" title=" " alt="" coords="697,223,768,240,767,245,696,228"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aff14ca1c3b81e376b6033f2cf55bf75b" title=" " alt="" coords="998,196,1237,229"/>
<area shape="poly" title=" " alt="" coords="704,206,982,209,982,214,704,212"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a90259dc27343d0ee765236e3e42302da" title=" " alt="" coords="1015,289,1220,323"/>
<area shape="poly" title=" " alt="" coords="644,224,699,259,733,277,769,290,827,302,886,310,999,312,999,318,886,315,826,308,768,295,731,281,697,264,642,228"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa67ddac4c773e0d21f6626bf2371f8d2" title=" " alt="" coords="1854,124,2044,157"/>
<area shape="poly" title=" " alt="" coords="1481,148,1562,136,1706,130,1838,132,1838,137,1706,135,1563,142,1481,153"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a4f850d5efa8e096ca116a2b98a68bd16" title=" " alt="" coords="1568,209,1785,243"/>
<area shape="poly" title=" " alt="" coords="1485,183,1578,203,1577,208,1484,188"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a09dacab33f0a207388ab373c77fd45b3" title=" " alt="" coords="1562,152,1791,185"/>
<area shape="poly" title=" " alt="" coords="1509,166,1547,166,1547,171,1509,171"/>
<area shape="poly" title=" " alt="" coords="1791,154,1838,149,1839,154,1791,159"/>
<area shape="poly" title=" " alt="" coords="935,245,1012,230,1013,235,936,251"/>
<area shape="poly" title=" " alt="" coords="936,273,1000,284,999,289,935,278"/>
<area shape="poly" title=" " alt="" coords="1229,192,1276,185,1276,190,1230,198"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add76dce88c832892b8971ab19c766aab" title=" " alt="" coords="1285,289,1514,323"/>
<area shape="poly" title=" " alt="" coords="1220,303,1269,303,1269,308,1220,308"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="1582,289,1771,323"/>
<area shape="poly" title=" " alt="" coords="1515,303,1566,303,1566,308,1515,308"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1873,232,2025,265"/>
<area shape="poly" title=" " alt="" coords="1759,286,1857,265,1858,270,1760,291"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="1851,289,2047,323"/>
<area shape="poly" title=" " alt="" coords="1772,303,1835,303,1835,308,1772,308"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="1839,346,2059,380"/>
<area shape="poly" title=" " alt="" coords="1760,320,1851,340,1850,345,1759,326"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="2107,232,2236,265"/>
<area shape="poly" title=" " alt="" coords="2017,286,2058,275,2092,266,2093,272,2060,280,2019,291"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="2133,289,2211,323"/>
<area shape="poly" title=" " alt="" coords="2047,303,2117,303,2117,308,2047,308"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="2284,232,2386,265"/>
<area shape="poly" title=" " alt="" coords="2237,246,2269,246,2269,251,2237,251"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="2129,346,2214,380"/>
<area shape="poly" title=" " alt="" coords="2060,360,2113,360,2113,366,2060,366"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="2288,346,2382,380"/>
<area shape="poly" title=" " alt="" coords="2215,360,2273,360,2273,366,2215,366"/>
<area shape="poly" title=" " alt="" coords="470,31,502,31,502,36,470,36"/>
</map>
</div>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627" name="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>argc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>argv</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00133">133</a> of file <a class="el" href="../../d6/d5e/ustream-example_8c_source.html">ustream-example.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  134</span>{</div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordtype">int</span> ch;</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">while</span> ((ch = getopt(argc, argv, <span class="stringliteral">&quot;p:&quot;</span>)) != -1) {</div>
<div class="line"><span class="lineno">  138</span>        <span class="keywordflow">switch</span>(ch) {</div>
<div class="line"><span class="lineno">  139</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line"><span class="lineno">  140</span>            <a class="code hl_variable" href="#ad723da1801ae1586eb330380e2d9a912">port</a> = optarg;</div>
<div class="line"><span class="lineno">  141</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  142</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  143</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../dd/d26/jail_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f">usage</a>(argv[0]);</div>
<div class="line"><span class="lineno">  144</span>        }</div>
<div class="line"><span class="lineno">  145</span>    }</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#ae67aac42ef31467a0ed32ac0b7617303">run_server</a>();</div>
<div class="line"><span class="lineno">  148</span>}</div>
<div class="ttc" id="ajail_8c_html_ad96d407a911fbb914fa8e4cfbf2faf0f"><div class="ttname"><a href="../../dd/d26/jail_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f">usage</a></div><div class="ttdeci">static void usage(void)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d26/jail_8c_source.html#l01001">jail.c:1001</a></div></div>
<div class="ttc" id="austream-example_8c_html_ad723da1801ae1586eb330380e2d9a912"><div class="ttname"><a href="#ad723da1801ae1586eb330380e2d9a912">port</a></div><div class="ttdeci">static const char * port</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d5e/ustream-example_8c_source.html#l00015">ustream-example.c:15</a></div></div>
<div class="ttc" id="austream-example_8c_html_ae67aac42ef31467a0ed32ac0b7617303"><div class="ttname"><a href="#ae67aac42ef31467a0ed32ac0b7617303">run_server</a></div><div class="ttdeci">static int run_server(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d5e/ustream-example_8c_source.html#l00110">ustream-example.c:110</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00015">port</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00110">run_server()</a>, and <a class="el" href="../../dd/d26/jail_8c_source.html#l01001">usage()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d5e/ustream-example_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph.png" border="0" usemap="#ad6/d5e/ustream-example_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph" alt=""/></div>
<map name="ad6/d5e/ustream-example_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph" id="ad6/d5e/ustream-example_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph">
<area shape="rect" title=" " alt="" coords="5,573,73,606"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#ae67aac42ef31467a0ed32ac0b7617303" title=" " alt="" coords="121,543,242,577"/>
<area shape="poly" title=" " alt="" coords="73,580,105,573,106,578,74,585"/>
<area shape="rect" href="../../dd/d26/jail_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f" title=" " alt="" coords="143,601,220,634"/>
<area shape="poly" title=" " alt="" coords="74,593,128,604,127,609,73,599"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#a267b473df8c4d0aa4be8a445dc0ade60" title=" " alt="" coords="291,543,402,577"/>
<area shape="poly" title=" " alt="" coords="242,557,275,557,275,563,242,563"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0" title=" " alt="" coords="1307,194,1451,228"/>
<area shape="poly" title=" " alt="" coords="183,542,208,419,234,331,270,238,292,192,318,149,347,109,379,74,415,45,455,22,499,8,547,3,826,3,904,8,981,23,1056,45,1127,72,1252,132,1340,183,1338,188,1250,136,1125,77,1054,50,980,28,903,13,826,8,547,8,500,13,457,27,418,49,383,78,351,113,322,152,297,195,275,240,239,332,213,420,188,543"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae960d01033fb72572bc1aa539a501fe7" title=" " alt="" coords="770,405,880,438"/>
<area shape="poly" title=" " alt="" coords="242,540,289,528,545,472,754,431,755,437,546,477,291,533,243,545"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html#aba97081464ac3304fef640bcfc7d3077" title=" " alt="" coords="290,629,403,662"/>
<area shape="poly" title=" " alt="" coords="222,575,243,586,303,618,301,623,241,590,219,580"/>
<area shape="rect" href="../../d2/d90/usock_8c.html#aa75bb163bb0164a604ab8b9c554dddc5" title=" " alt="" coords="309,743,384,777"/>
<area shape="poly" title=" " alt="" coords="229,575,244,586,262,607,272,627,280,648,292,673,327,729,323,732,288,676,275,650,267,630,258,610,240,590,226,579"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#ac3cf154cfdf245f675ec8a102e917601" title=" " alt="" coords="454,514,642,548"/>
<area shape="poly" title=" " alt="" coords="402,549,438,544,439,549,403,555"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#addf95cde6e81f69db700b66210348e34" title=" " alt="" coords="454,571,642,605"/>
<area shape="poly" title=" " alt="" coords="403,565,439,570,438,575,402,570"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#a14d20a7b981abfe6caa69d489e26bd14" title=" " alt="" coords="472,629,624,662"/>
<area shape="poly" title=" " alt="" coords="376,575,452,615,467,621,465,626,450,620,374,580"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#ab157e7dbc4962e8c574302cac07d2f4a" title=" " alt="" coords="466,255,630,289"/>
<area shape="poly" title=" " alt="" coords="358,541,524,300,528,303,362,544"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#aa8f3213bb3fb2aa807cc67b3b8d2e143" title=" " alt="" coords="761,514,889,548"/>
<area shape="poly" title=" " alt="" coords="642,528,745,528,745,533,642,533"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#a0b06f5cce1f3d6ebac398da293f42bf0" title=" " alt="" coords="711,571,939,605"/>
<area shape="poly" title=" " alt="" coords="642,585,696,585,696,591,642,591"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#ad9a99d5c375c49ea750fe97d0e93ada1" title=" " alt="" coords="693,629,957,662"/>
<area shape="poly" title=" " alt="" coords="633,603,726,622,725,627,632,608"/>
<area shape="poly" title=" " alt="" coords="624,627,725,606,726,611,625,632"/>
<area shape="poly" title=" " alt="" coords="625,643,677,643,677,648,625,648"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6e2924135643035597d360c6dcb0a294" title=" " alt="" coords="730,801,920,834"/>
<area shape="poly" title=" " alt="" coords="626,658,646,671,659,686,666,701,671,732,675,761,682,774,694,787,716,801,714,805,691,791,678,777,670,762,666,732,661,703,655,689,643,675,623,662"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#af8718ea51e10ce9d433e4346110f0653" title=" " alt="" coords="712,686,938,720"/>
<area shape="poly" title=" " alt="" coords="625,658,726,680,725,685,624,664"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a5cd5e3fd92cce6077f0ed0fa53c5eb56" title=" " alt="" coords="746,743,904,777"/>
<area shape="poly" title=" " alt="" coords="626,660,646,671,662,686,671,702,679,716,694,730,732,746,730,751,691,734,675,720,666,704,658,690,643,675,623,665"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a49c9339ef140d0df2e16b187760e9ad6" title=" " alt="" coords="1294,459,1464,493"/>
<area shape="poly" title=" " alt="" coords="559,288,578,324,607,369,646,414,669,433,694,448,740,464,804,475,879,482,961,486,1132,485,1278,480,1279,485,1132,491,961,491,878,488,803,481,739,469,692,453,666,437,642,418,603,372,573,327,555,291"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a3f629385f1e131dcb62d6aad6ec03de7" title=" " alt="" coords="741,290,909,324"/>
<area shape="poly" title=" " alt="" coords="630,280,726,292,725,297,630,285"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a64ffdd9b78d6b923a98f1f82067fc6ae" title=" " alt="" coords="719,209,931,266"/>
<area shape="poly" title=" " alt="" coords="630,259,703,250,704,255,630,264"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a16f1933feaa2425d7811875086609290" title=" " alt="" coords="1005,162,1227,196"/>
<area shape="poly" title=" " alt="" coords="573,252,626,221,658,206,692,195,768,179,845,170,921,167,989,167,989,173,921,172,846,176,769,184,693,200,660,211,628,226,576,257"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a1a4319f10cc2c3a3f20af3fdc27e2d77" title=" " alt="" coords="735,43,915,77"/>
<area shape="poly" title=" " alt="" coords="555,253,575,217,604,172,644,125,691,86,719,73,721,77,694,90,647,129,609,175,579,220,560,256"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a4fd8792e264b0d96920fc7bc741a530d" title=" " alt="" coords="715,347,935,381"/>
<area shape="poly" title=" " alt="" coords="584,287,635,311,694,333,717,340,715,345,692,339,633,316,582,292"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a7ce37220303d8df1bf648645a88bd3e9" title=" " alt="" coords="731,101,919,134"/>
<area shape="poly" title=" " alt="" coords="563,253,617,203,653,175,691,151,724,137,726,142,694,156,656,179,620,207,567,257"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="1531,347,1697,381"/>
<area shape="poly" title=" " alt="" coords="1454,456,1482,446,1532,418,1577,388,1580,393,1535,423,1484,450,1455,461"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#ae98d2f54596aacb1f0f176d0e565e2e2" title=" " alt="" coords="1763,318,1947,352"/>
<area shape="poly" title=" " alt="" coords="1697,351,1747,345,1747,350,1698,357"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#abe443fe3f794c14f0aaa0c5f18a27ddd" title=" " alt="" coords="1745,375,1964,409"/>
<area shape="poly" title=" " alt="" coords="1698,371,1730,375,1729,380,1697,376"/>
<area shape="poly" title=" " alt="" coords="931,213,1014,197,1015,202,932,219"/>
<area shape="poly" title=" " alt="" coords="1228,190,1292,197,1291,203,1228,195"/>
<area shape="poly" title=" " alt="" coords="1408,226,1575,336,1572,341,1405,230"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#a1b6212744c4241320adc3a2170525f20" title=" " alt="" coords="1547,194,1681,228"/>
<area shape="poly" title=" " alt="" coords="1451,208,1531,208,1531,213,1451,213"/>
<area shape="poly" title=" " alt="" coords="916,73,958,86,1023,117,1079,151,1076,155,1021,121,956,90,915,78"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ac0bcdd57d004a600844745bd38e83a2d" title=" " alt="" coords="1053,353,1180,386"/>
<area shape="poly" title=" " alt="" coords="880,409,1037,381,1038,386,881,414"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a28e87c6264a681dc2a422d32794416c5" title=" " alt="" coords="1275,402,1483,436"/>
<area shape="poly" title=" " alt="" coords="881,418,1260,417,1260,422,881,424"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#a5b8f7c4e758eaf7384d7dafa9cd59502" title=" " alt="" coords="1031,295,1202,329"/>
<area shape="poly" title=" " alt="" coords="880,415,919,406,956,391,970,379,979,365,988,351,1003,338,1015,332,1017,336,1007,342,992,355,983,368,974,382,958,396,920,412,881,420"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae9d27835a99bfac45ed3f07a26287d7a" title=" " alt="" coords="1059,226,1173,260"/>
<area shape="poly" title=" " alt="" coords="880,418,919,410,938,402,955,391,967,379,974,366,979,339,984,310,991,295,1003,281,1022,267,1043,256,1046,261,1025,271,1007,285,996,298,989,311,985,340,979,368,972,382,959,395,941,407,921,415,881,424"/>
<area shape="poly" title=" " alt="" coords="1180,366,1515,362,1515,368,1180,371"/>
<area shape="poly" title=" " alt="" coords="1181,379,1271,396,1270,401,1180,384"/>
<area shape="poly" title=" " alt="" coords="1174,233,1291,219,1292,224,1174,238"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a14d4e1fa83f245cd59f0c68f48c90d75" title=" " alt="" coords="451,686,645,720"/>
<area shape="poly" title=" " alt="" coords="405,659,473,679,471,684,403,664"/>
<area shape="rect" href="../../d1/dd5/usock_8h.html#a7be021755da2683746e60598709bb718" title=" " alt="" coords="488,801,608,834"/>
<area shape="poly" title=" " alt="" coords="386,768,474,794,473,799,384,773"/>
<area shape="rect" href="../../d2/d90/usock_8c.html#a7794edcc739eb0b2e1440bf2f966647c" title=" " alt="" coords="486,743,610,777"/>
<area shape="poly" title=" " alt="" coords="385,757,470,757,470,763,385,763"/>
</map>
</div>

</div>
</div>
<a id="ae67aac42ef31467a0ed32ac0b7617303" name="ae67aac42ef31467a0ed32ac0b7617303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae67aac42ef31467a0ed32ac0b7617303">&#9670;&#160;</a></span>run_server()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int run_server </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00110">110</a> of file <a class="el" href="../../d6/d5e/ustream-example_8c_source.html">ustream-example.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  111</span>{</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>    <a class="code hl_variable" href="#acb8f1470f1d509b6cf5cf79f4bd80d8b">server</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#ae413fa6bfe9ee31b5764d402d9795fdc">cb</a> = <a class="code hl_function" href="#a267b473df8c4d0aa4be8a445dc0ade60">server_cb</a>;</div>
<div class="line"><span class="lineno">  114</span>    <a class="code hl_variable" href="#acb8f1470f1d509b6cf5cf79f4bd80d8b">server</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#ad8badf8512adcf9a8819ed088bde09cc">fd</a> = <a class="code hl_function" href="../../d2/d90/usock_8c.html#aa75bb163bb0164a604ab8b9c554dddc5">usock</a>(<a class="code hl_define" href="../../d1/dd5/usock_8h.html#afef4e95c54ecc332cf0cfa25ac331cef">USOCK_TCP</a> | <a class="code hl_define" href="../../d1/dd5/usock_8h.html#af284063a38222098ab822c5ba4b78bdc">USOCK_SERVER</a> | <a class="code hl_define" href="../../d1/dd5/usock_8h.html#abcd996e0dc3af4da4a10fcd27b978f99">USOCK_IPV4ONLY</a> | <a class="code hl_define" href="../../d1/dd5/usock_8h.html#a17accf766f31291d8fa2cd6603c3c00a">USOCK_NUMERIC</a>, <span class="stringliteral">&quot;127.0.0.1&quot;</span>, <a class="code hl_variable" href="#ad723da1801ae1586eb330380e2d9a912">port</a>);</div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#acb8f1470f1d509b6cf5cf79f4bd80d8b">server</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#ad8badf8512adcf9a8819ed088bde09cc">fd</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  116</span>        perror(<span class="stringliteral">&quot;usock&quot;</span>);</div>
<div class="line"><span class="lineno">  117</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  118</span>    }</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#ae960d01033fb72572bc1aa539a501fe7">uloop_init</a>();</div>
<div class="line"><span class="lineno">  121</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0">uloop_fd_add</a>(&amp;<a class="code hl_variable" href="#acb8f1470f1d509b6cf5cf79f4bd80d8b">server</a>, <a class="code hl_define" href="../../dc/d56/uloop_8h.html#ac20cd5fed660ef784791db47283d9ebf">ULOOP_READ</a>);</div>
<div class="line"><span class="lineno">  122</span>    <a class="code hl_function" href="../../dc/d56/uloop_8h.html#aba97081464ac3304fef640bcfc7d3077">uloop_run</a>();</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  125</span>}</div>
<div class="ttc" id="auloop_8c_html_a570d5b4ff73cb373a6ca0ac54a9726a0"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0">uloop_fd_add</a></div><div class="ttdeci">int uloop_fd_add(struct uloop_fd *sock, unsigned int flags)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00235">uloop.c:235</a></div></div>
<div class="ttc" id="auloop_8c_html_ae960d01033fb72572bc1aa539a501fe7"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#ae960d01033fb72572bc1aa539a501fe7">uloop_init</a></div><div class="ttdeci">int uloop_init(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00150">uloop.c:150</a></div></div>
<div class="ttc" id="auloop_8h_html_aba97081464ac3304fef640bcfc7d3077"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#aba97081464ac3304fef640bcfc7d3077">uloop_run</a></div><div class="ttdeci">static int uloop_run(void)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00147">uloop.h:147</a></div></div>
<div class="ttc" id="auloop_8h_html_ac20cd5fed660ef784791db47283d9ebf"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#ac20cd5fed660ef784791db47283d9ebf">ULOOP_READ</a></div><div class="ttdeci">#define ULOOP_READ</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00047">uloop.h:47</a></div></div>
<div class="ttc" id="auloop_8h_html_ae413fa6bfe9ee31b5764d402d9795fdc"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#ae413fa6bfe9ee31b5764d402d9795fdc">uloop_fd::cb</a></div><div class="ttdeci">uloop_fd_handler cb</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00064">uloop.h:64</a></div></div>
<div class="ttc" id="ausock_8c_html_aa75bb163bb0164a604ab8b9c554dddc5"><div class="ttname"><a href="../../d2/d90/usock_8c.html#aa75bb163bb0164a604ab8b9c554dddc5">usock</a></div><div class="ttdeci">int usock(int type, const char *host, const char *service)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d90/usock_8c_source.html#l00252">usock.c:252</a></div></div>
<div class="ttc" id="ausock_8h_html_a17accf766f31291d8fa2cd6603c3c00a"><div class="ttname"><a href="../../d1/dd5/usock_8h.html#a17accf766f31291d8fa2cd6603c3c00a">USOCK_NUMERIC</a></div><div class="ttdeci">#define USOCK_NUMERIC</div><div class="ttdef"><b>Definition</b> <a href="../../d1/dd5/usock_8h_source.html#l00028">usock.h:28</a></div></div>
<div class="ttc" id="ausock_8h_html_abcd996e0dc3af4da4a10fcd27b978f99"><div class="ttname"><a href="../../d1/dd5/usock_8h.html#abcd996e0dc3af4da4a10fcd27b978f99">USOCK_IPV4ONLY</a></div><div class="ttdeci">#define USOCK_IPV4ONLY</div><div class="ttdef"><b>Definition</b> <a href="../../d1/dd5/usock_8h_source.html#l00030">usock.h:30</a></div></div>
<div class="ttc" id="ausock_8h_html_af284063a38222098ab822c5ba4b78bdc"><div class="ttname"><a href="../../d1/dd5/usock_8h.html#af284063a38222098ab822c5ba4b78bdc">USOCK_SERVER</a></div><div class="ttdeci">#define USOCK_SERVER</div><div class="ttdef"><b>Definition</b> <a href="../../d1/dd5/usock_8h_source.html#l00025">usock.h:25</a></div></div>
<div class="ttc" id="ausock_8h_html_afef4e95c54ecc332cf0cfa25ac331cef"><div class="ttname"><a href="../../d1/dd5/usock_8h.html#afef4e95c54ecc332cf0cfa25ac331cef">USOCK_TCP</a></div><div class="ttdeci">#define USOCK_TCP</div><div class="ttdef"><b>Definition</b> <a href="../../d1/dd5/usock_8h_source.html#l00022">usock.h:22</a></div></div>
<div class="ttc" id="austream-example_8c_html_a267b473df8c4d0aa4be8a445dc0ade60"><div class="ttname"><a href="#a267b473df8c4d0aa4be8a445dc0ade60">server_cb</a></div><div class="ttdeci">static void server_cb(struct uloop_fd *fd, unsigned int events)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d5e/ustream-example_8c_source.html#l00085">ustream-example.c:85</a></div></div>
<div class="ttc" id="austream-example_8c_html_acb8f1470f1d509b6cf5cf79f4bd80d8b"><div class="ttname"><a href="#acb8f1470f1d509b6cf5cf79f4bd80d8b">server</a></div><div class="ttdeci">static struct uloop_fd server</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d5e/ustream-example_8c_source.html#l00014">ustream-example.c:14</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d56/uloop_8h_source.html#l00064">uloop_fd::cb</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00065">uloop_fd::fd</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00015">port</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00014">server</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00085">server_cb()</a>, <a class="el" href="../../d1/d08/uloop_8c_source.html#l00235">uloop_fd_add()</a>, <a class="el" href="../../d1/d08/uloop_8c_source.html#l00150">uloop_init()</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00047">ULOOP_READ</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00147">uloop_run()</a>, <a class="el" href="../../d2/d90/usock_8c_source.html#l00252">usock()</a>, <a class="el" href="../../d1/dd5/usock_8h_source.html#l00030">USOCK_IPV4ONLY</a>, <a class="el" href="../../d1/dd5/usock_8h_source.html#l00028">USOCK_NUMERIC</a>, <a class="el" href="../../d1/dd5/usock_8h_source.html#l00025">USOCK_SERVER</a>, and <a class="el" href="../../d1/dd5/usock_8h_source.html#l00022">USOCK_TCP</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00133">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d5e/ustream-example_8c_ae67aac42ef31467a0ed32ac0b7617303_cgraph.png" border="0" usemap="#ad6/d5e/ustream-example_8c_ae67aac42ef31467a0ed32ac0b7617303_cgraph" alt=""/></div>
<map name="ad6/d5e/ustream-example_8c_ae67aac42ef31467a0ed32ac0b7617303_cgraph" id="ad6/d5e/ustream-example_8c_ae67aac42ef31467a0ed32ac0b7617303_cgraph">
<area shape="rect" title=" " alt="" coords="5,582,127,615"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#a267b473df8c4d0aa4be8a445dc0ade60" title=" " alt="" coords="176,316,287,350"/>
<area shape="poly" title=" " alt="" coords="76,580,209,362,214,365,80,583"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0" title=" " alt="" coords="1202,548,1346,582"/>
<area shape="poly" title=" " alt="" coords="67,581,74,529,89,450,113,356,148,257,170,208,196,162,225,119,257,81,294,49,335,25,381,9,431,4,711,4,780,5,809,13,843,30,921,85,993,150,1058,222,1115,295,1165,367,1206,434,1260,533,1255,536,1201,436,1160,370,1111,299,1054,225,989,154,918,89,840,34,807,18,779,10,711,9,431,9,382,15,338,30,297,54,261,85,229,122,200,164,175,210,153,259,118,358,94,451,79,529,72,582"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae960d01033fb72572bc1aa539a501fe7" title=" " alt="" coords="654,803,765,837"/>
<area shape="poly" title=" " alt="" coords="127,591,228,586,347,585,405,588,457,595,500,606,531,622,549,641,557,662,559,684,558,706,557,749,564,769,579,789,607,806,640,815,638,821,605,811,576,793,559,772,552,749,552,705,554,684,552,663,544,644,528,626,498,611,456,600,404,594,347,590,228,591,127,596"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html#aba97081464ac3304fef640bcfc7d3077" title=" " alt="" coords="175,636,288,670"/>
<area shape="poly" title=" " alt="" coords="120,614,164,628,163,633,118,619"/>
<area shape="rect" href="../../d2/d90/usock_8c.html#aa75bb163bb0164a604ab8b9c554dddc5" title=" " alt="" coords="194,694,269,727"/>
<area shape="poly" title=" " alt="" coords="89,614,128,646,176,680,182,684,179,688,173,685,125,650,85,618"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#ac3cf154cfdf245f675ec8a102e917601" title=" " alt="" coords="339,115,526,149"/>
<area shape="poly" title=" " alt="" coords="248,314,402,158,406,162,252,318"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#addf95cde6e81f69db700b66210348e34" title=" " alt="" coords="339,316,526,350"/>
<area shape="poly" title=" " alt="" coords="287,331,323,331,323,336,287,336"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#a14d20a7b981abfe6caa69d489e26bd14" title=" " alt="" coords="357,244,509,278"/>
<area shape="poly" title=" " alt="" coords="280,313,368,281,370,286,282,318"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#ab157e7dbc4962e8c574302cac07d2f4a" title=" " alt="" coords="351,527,514,561"/>
<area shape="poly" title=" " alt="" coords="251,349,407,514,403,517,247,352"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#aa8f3213bb3fb2aa807cc67b3b8d2e143" title=" " alt="" coords="646,44,773,78"/>
<area shape="poly" title=" " alt="" coords="488,112,577,87,630,74,631,79,578,92,490,117"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#a0b06f5cce1f3d6ebac398da293f42bf0" title=" " alt="" coords="596,331,823,365"/>
<area shape="poly" title=" " alt="" coords="527,336,581,338,580,344,527,341"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#ad9a99d5c375c49ea750fe97d0e93ada1" title=" " alt="" coords="577,274,842,307"/>
<area shape="poly" title=" " alt="" coords="526,316,581,308,582,313,527,321"/>
<area shape="poly" title=" " alt="" coords="472,276,522,297,578,317,602,324,601,329,577,323,520,302,470,281"/>
<area shape="poly" title=" " alt="" coords="510,267,562,272,561,278,509,272"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6e2924135643035597d360c6dcb0a294" title=" " alt="" coords="614,159,805,193"/>
<area shape="poly" title=" " alt="" coords="471,241,577,201,602,194,603,200,578,206,473,246"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#af8718ea51e10ce9d433e4346110f0653" title=" " alt="" coords="596,216,823,250"/>
<area shape="poly" title=" " alt="" coords="509,251,581,244,581,249,510,256"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a5cd5e3fd92cce6077f0ed0fa53c5eb56" title=" " alt="" coords="631,102,788,135"/>
<area shape="poly" title=" " alt="" coords="448,242,502,193,538,166,576,144,615,130,617,135,578,149,540,171,505,197,452,246"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a49c9339ef140d0df2e16b187760e9ad6" title=" " alt="" coords="916,631,1086,665"/>
<area shape="poly" title=" " alt="" coords="505,559,531,578,546,599,552,621,553,664,552,684,554,703,562,721,579,738,613,760,645,774,675,782,705,783,736,779,768,769,840,738,856,724,864,708,872,691,888,674,900,667,903,671,891,678,876,694,869,711,861,728,843,742,770,774,737,784,706,789,674,787,643,779,610,765,576,742,558,724,549,705,547,684,547,664,547,622,541,602,527,582,502,563"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a3f629385f1e131dcb62d6aad6ec03de7" title=" " alt="" coords="626,527,793,561"/>
<area shape="poly" title=" " alt="" coords="515,541,610,541,610,547,515,547"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a64ffdd9b78d6b923a98f1f82067fc6ae" title=" " alt="" coords="603,389,816,446"/>
<area shape="poly" title=" " alt="" coords="457,524,510,490,576,455,590,449,592,454,578,460,513,495,460,529"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a16f1933feaa2425d7811875086609290" title=" " alt="" coords="890,522,1112,555"/>
<area shape="poly" title=" " alt="" coords="494,559,531,578,546,592,555,606,563,618,579,628,649,652,679,656,707,657,767,647,841,628,876,616,909,599,965,563,968,567,911,604,878,621,842,633,768,653,708,662,678,662,648,657,576,633,560,622,550,609,542,595,528,582,491,564"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a1a4319f10cc2c3a3f20af3fdc27e2d77" title=" " alt="" coords="619,470,800,503"/>
<area shape="poly" title=" " alt="" coords="514,524,609,505,610,510,515,530"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a4fd8792e264b0d96920fc7bc741a530d" title=" " alt="" coords="600,584,819,618"/>
<area shape="poly" title=" " alt="" coords="515,558,610,578,609,583,514,563"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a7ce37220303d8df1bf648645a88bd3e9" title=" " alt="" coords="615,694,804,727"/>
<area shape="poly" title=" " alt="" coords="501,559,531,578,549,603,555,627,562,650,579,673,603,687,600,692,576,677,557,653,550,629,544,605,528,582,498,564"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="1435,631,1602,665"/>
<area shape="poly" title=" " alt="" coords="1087,645,1420,645,1420,651,1087,651"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#ae98d2f54596aacb1f0f176d0e565e2e2" title=" " alt="" coords="1667,602,1852,635"/>
<area shape="poly" title=" " alt="" coords="1602,635,1651,629,1652,634,1602,640"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#abe443fe3f794c14f0aaa0c5f18a27ddd" title=" " alt="" coords="1650,659,1869,693"/>
<area shape="poly" title=" " alt="" coords="1602,655,1635,659,1634,664,1602,660"/>
<area shape="poly" title=" " alt="" coords="813,444,843,455,904,483,958,512,956,516,902,488,841,460,811,449"/>
<area shape="poly" title=" " alt="" coords="1113,547,1186,554,1186,559,1112,552"/>
<area shape="poly" title=" " alt="" coords="1327,580,1453,623,1451,628,1325,585"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#a1b6212744c4241320adc3a2170525f20" title=" " alt="" coords="1451,548,1586,582"/>
<area shape="poly" title=" " alt="" coords="1346,563,1436,563,1436,568,1346,568"/>
<area shape="poly" title=" " alt="" coords="801,500,888,516,887,521,800,505"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ac0bcdd57d004a600844745bd38e83a2d" title=" " alt="" coords="937,803,1065,837"/>
<area shape="poly" title=" " alt="" coords="765,817,922,817,922,823,765,823"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a28e87c6264a681dc2a422d32794416c5" title=" " alt="" coords="1170,859,1377,893"/>
<area shape="poly" title=" " alt="" coords="765,828,890,847,1027,860,1154,868,1154,873,1026,865,889,852,765,833"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#a5b8f7c4e758eaf7384d7dafa9cd59502" title=" " alt="" coords="915,746,1087,779"/>
<area shape="poly" title=" " alt="" coords="765,807,899,780,900,785,766,812"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae9d27835a99bfac45ed3f07a26287d7a" title=" " alt="" coords="944,688,1058,722"/>
<area shape="poly" title=" " alt="" coords="764,809,803,799,840,782,855,770,863,757,873,744,888,731,928,715,930,719,891,736,877,747,868,760,859,773,843,786,805,804,766,814"/>
<area shape="poly" title=" " alt="" coords="1064,809,1088,801,1110,790,1125,776,1134,761,1142,745,1158,730,1222,697,1290,675,1358,660,1419,651,1420,656,1358,665,1291,680,1224,702,1162,734,1146,748,1138,763,1130,779,1114,794,1090,806,1066,814"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a13ca20f7af9aa4aa3057b1114e23e7f1" title=" " alt="" coords="1160,744,1387,778"/>
<area shape="poly" title=" " alt="" coords="1064,804,1177,779,1178,785,1065,809"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#afe30e87975d460220899f69103f90d0d" title=" " alt="" coords="1166,802,1382,835"/>
<area shape="poly" title=" " alt="" coords="1065,817,1150,817,1150,822,1065,822"/>
<area shape="poly" title=" " alt="" coords="1065,830,1174,853,1173,858,1064,836"/>
<area shape="poly" title=" " alt="" coords="1057,693,1111,675,1182,634,1239,590,1242,595,1185,638,1113,680,1059,698"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a14d4e1fa83f245cd59f0c68f48c90d75" title=" " alt="" coords="336,636,529,670"/>
<area shape="poly" title=" " alt="" coords="289,651,321,651,321,656,289,656"/>
<area shape="rect" href="../../d1/dd5/usock_8h.html#a7be021755da2683746e60598709bb718" title=" " alt="" coords="373,751,492,785"/>
<area shape="poly" title=" " alt="" coords="270,719,359,744,357,749,269,724"/>
<area shape="rect" href="../../d2/d90/usock_8c.html#a7794edcc739eb0b2e1440bf2f966647c" title=" " alt="" coords="371,694,495,727"/>
<area shape="poly" title=" " alt="" coords="270,708,355,708,355,713,270,713"/>
</map>
</div>

</div>
</div>
<a id="a267b473df8c4d0aa4be8a445dc0ade60" name="a267b473df8c4d0aa4be8a445dc0ade60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a267b473df8c4d0aa4be8a445dc0ade60">&#9670;&#160;</a></span>server_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void server_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d56/uloop_8h.html#db/d9e/structuloop__fd">uloop_fd</a> *</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>events</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00085">85</a> of file <a class="el" href="../../d6/d5e/ustream-example_8c_source.html">ustream-example.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   86</span>{</div>
<div class="line"><span class="lineno">   87</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d3/db7/structclient">client</a> *cl;</div>
<div class="line"><span class="lineno">   88</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sl = <span class="keyword">sizeof</span>(<span class="keyword">struct </span>sockaddr_in);</div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordtype">int</span> sfd;</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#ac26f9739197d5c329dfa3be4d4177e07">next_client</a>)</div>
<div class="line"><span class="lineno">   92</span>        <a class="code hl_variable" href="#ac26f9739197d5c329dfa3be4d4177e07">next_client</a> = calloc(1, <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="#ac26f9739197d5c329dfa3be4d4177e07">next_client</a>));</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>    cl = <a class="code hl_variable" href="#ac26f9739197d5c329dfa3be4d4177e07">next_client</a>;</div>
<div class="line"><span class="lineno">   95</span>    sfd = accept(<a class="code hl_variable" href="#acb8f1470f1d509b6cf5cf79f4bd80d8b">server</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#ad8badf8512adcf9a8819ed088bde09cc">fd</a>, (<span class="keyword">struct</span> sockaddr *) &amp;cl-&gt;<a class="code hl_variable" href="#a6d1f60dc1df0e257281bf00244cbc165">sin</a>, &amp;sl);</div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">if</span> (sfd &lt; 0) {</div>
<div class="line"><span class="lineno">   97</span>        fprintf(stderr, <span class="stringliteral">&quot;Accept failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">   98</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   99</span>    }</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    cl-&gt;<a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#af9b356adc7c07f2b279a2897ba59592b">string_data</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  102</span>    cl-&gt;<a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4959c83703e0e81996af057432cce63b">notify_read</a> = <a class="code hl_function" href="#a14d20a7b981abfe6caa69d489e26bd14">client_read_cb</a>;</div>
<div class="line"><span class="lineno">  103</span>    cl-&gt;<a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a6070c3efdc219cf92c423b8e775b74cb">notify_state</a> = <a class="code hl_function" href="#ac3cf154cfdf245f675ec8a102e917601">client_notify_state</a>;</div>
<div class="line"><span class="lineno">  104</span>    cl-&gt;<a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0aff7c2094b736f9462d04842f774aca">notify_write</a> = <a class="code hl_function" href="#addf95cde6e81f69db700b66210348e34">client_notify_write</a>;</div>
<div class="line"><span class="lineno">  105</span>    <a class="code hl_function" href="../../db/d70/ustream-fd_8c.html#ab157e7dbc4962e8c574302cac07d2f4a">ustream_fd_init</a>(&amp;cl-&gt;<a class="code hl_variable" href="#acc98117c828d6f93d6a2dc0e070fa520">s</a>, sfd);</div>
<div class="line"><span class="lineno">  106</span>    <a class="code hl_variable" href="#ac26f9739197d5c329dfa3be4d4177e07">next_client</a> = NULL;</div>
<div class="line"><span class="lineno">  107</span>    fprintf(stderr, <span class="stringliteral">&quot;New connection\n&quot;</span>);</div>
<div class="line"><span class="lineno">  108</span>}</div>
<div class="ttc" id="austream-example_8c_html_a14d20a7b981abfe6caa69d489e26bd14"><div class="ttname"><a href="#a14d20a7b981abfe6caa69d489e26bd14">client_read_cb</a></div><div class="ttdeci">static void client_read_cb(struct ustream *s, int bytes)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d5e/ustream-example_8c_source.html#l00025">ustream-example.c:25</a></div></div>
<div class="ttc" id="austream-example_8c_html_a6d1f60dc1df0e257281bf00244cbc165"><div class="ttname"><a href="#a6d1f60dc1df0e257281bf00244cbc165">client::sin</a></div><div class="ttdeci">struct sockaddr_in sin</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d5e/ustream-example_8c_source.html#l00019">ustream-example.c:19</a></div></div>
<div class="ttc" id="austream-example_8c_html_ac26f9739197d5c329dfa3be4d4177e07"><div class="ttname"><a href="#ac26f9739197d5c329dfa3be4d4177e07">next_client</a></div><div class="ttdeci">struct client * next_client</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d5e/ustream-example_8c_source.html#l00016">ustream-example.c:16</a></div></div>
<div class="ttc" id="austream-example_8c_html_ac3cf154cfdf245f675ec8a102e917601"><div class="ttname"><a href="#ac3cf154cfdf245f675ec8a102e917601">client_notify_state</a></div><div class="ttdeci">static void client_notify_state(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d5e/ustream-example_8c_source.html#l00072">ustream-example.c:72</a></div></div>
<div class="ttc" id="austream-example_8c_html_addf95cde6e81f69db700b66210348e34"><div class="ttname"><a href="#addf95cde6e81f69db700b66210348e34">client_notify_write</a></div><div class="ttdeci">static void client_notify_write(struct ustream *s, int bytes)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d5e/ustream-example_8c_source.html#l00062">ustream-example.c:62</a></div></div>
<div class="ttc" id="austream-fd_8c_html_ab157e7dbc4962e8c574302cac07d2f4a"><div class="ttname"><a href="../../db/d70/ustream-fd_8c.html#ab157e7dbc4962e8c574302cac07d2f4a">ustream_fd_init</a></div><div class="ttdeci">void ustream_fd_init(struct ustream_fd *sf, int fd)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d70/ustream-fd_8c_source.html#l00160">ustream-fd.c:160</a></div></div>
<div class="ttc" id="austream_8h_html_a0aff7c2094b736f9462d04842f774aca"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a0aff7c2094b736f9462d04842f774aca">ustream::notify_write</a></div><div class="ttdeci">void(* notify_write)(struct ustream *s, int bytes)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00068">ustream.h:68</a></div></div>
<div class="ttc" id="austream_8h_html_a4959c83703e0e81996af057432cce63b"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a4959c83703e0e81996af057432cce63b">ustream::notify_read</a></div><div class="ttdeci">void(* notify_read)(struct ustream *s, int bytes_new)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00060">ustream.h:60</a></div></div>
<div class="ttc" id="austream_8h_html_a6070c3efdc219cf92c423b8e775b74cb"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a6070c3efdc219cf92c423b8e775b74cb">ustream::notify_state</a></div><div class="ttdeci">void(* notify_state)(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00078">ustream.h:78</a></div></div>
<div class="ttc" id="austream_8h_html_af9b356adc7c07f2b279a2897ba59592b"><div class="ttname"><a href="../../da/d79/ustream_8h.html#af9b356adc7c07f2b279a2897ba59592b">ustream::string_data</a></div><div class="ttdeci">bool string_data</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00115">ustream.h:115</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00072">client_notify_state()</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00062">client_notify_write()</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00025">client_read_cb()</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00065">uloop_fd::fd</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00016">next_client</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00060">ustream::notify_read</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00078">ustream::notify_state</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00068">ustream::notify_write</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00021">client::s</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00014">server</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00019">client::sin</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00115">ustream::string_data</a>, and <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00160">ustream_fd_init()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00110">run_server()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d5e/ustream-example_8c_a267b473df8c4d0aa4be8a445dc0ade60_cgraph.png" border="0" usemap="#ad6/d5e/ustream-example_8c_a267b473df8c4d0aa4be8a445dc0ade60_cgraph" alt=""/></div>
<map name="ad6/d5e/ustream-example_8c_a267b473df8c4d0aa4be8a445dc0ade60_cgraph" id="ad6/d5e/ustream-example_8c_a267b473df8c4d0aa4be8a445dc0ade60_cgraph">
<area shape="rect" title=" " alt="" coords="5,233,117,267"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#ac3cf154cfdf245f675ec8a102e917601" title=" " alt="" coords="165,291,352,324"/>
<area shape="poly" title=" " alt="" coords="118,264,184,283,183,288,116,269"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#addf95cde6e81f69db700b66210348e34" title=" " alt="" coords="165,89,352,123"/>
<area shape="poly" title=" " alt="" coords="80,231,163,161,213,129,215,133,166,166,83,235"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#a14d20a7b981abfe6caa69d489e26bd14" title=" " alt="" coords="182,176,335,210"/>
<area shape="poly" title=" " alt="" coords="116,231,183,212,184,217,118,237"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#ab157e7dbc4962e8c574302cac07d2f4a" title=" " alt="" coords="177,513,340,547"/>
<area shape="poly" title=" " alt="" coords="76,266,239,499,234,502,72,269"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html#aa8f3213bb3fb2aa807cc67b3b8d2e143" title=" " alt="" coords="469,319,596,352"/>
<area shape="poly" title=" " alt="" coords="353,314,453,325,453,330,352,320"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a55eb7ea0d6ed61f253f5689798ccf5c3" title=" " alt="" coords="771,319,914,352"/>
<area shape="poly" title=" " alt="" coords="596,333,756,333,756,338,596,338"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="1022,319,1242,352"/>
<area shape="poly" title=" " alt="" coords="914,333,1006,333,1006,338,914,338"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc" title=" " alt="" coords="1023,376,1241,410"/>
<area shape="poly" title=" " alt="" coords="915,347,1029,370,1028,375,914,352"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#a0b06f5cce1f3d6ebac398da293f42bf0" title=" " alt="" coords="419,89,646,123"/>
<area shape="poly" title=" " alt="" coords="353,103,403,103,403,109,353,109"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#ad9a99d5c375c49ea750fe97d0e93ada1" title=" " alt="" coords="400,32,664,66"/>
<area shape="poly" title=" " alt="" coords="342,86,433,67,434,72,343,91"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f" title=" " alt="" coords="741,123,944,180"/>
<area shape="poly" title=" " alt="" coords="636,64,666,74,690,92,714,109,728,116,726,121,711,114,687,96,663,79,635,69"/>
<area shape="poly" title=" " alt="" coords="295,173,344,152,399,132,423,125,425,130,401,137,346,157,297,178"/>
<area shape="poly" title=" " alt="" coords="292,173,321,155,350,133,364,118,372,103,382,88,398,75,406,70,409,75,402,79,386,92,377,106,368,121,354,137,324,160,295,178"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6e2924135643035597d360c6dcb0a294" title=" " alt="" coords="437,204,627,238"/>
<area shape="poly" title=" " alt="" coords="335,198,422,207,421,212,335,203"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#af8718ea51e10ce9d433e4346110f0653" title=" " alt="" coords="419,261,645,295"/>
<area shape="poly" title=" " alt="" coords="298,208,401,248,425,254,424,260,399,253,296,213"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a5cd5e3fd92cce6077f0ed0fa53c5eb56" title=" " alt="" coords="454,147,611,180"/>
<area shape="poly" title=" " alt="" coords="335,182,438,171,438,176,335,187"/>
<area shape="poly" title=" " alt="" coords="616,201,664,190,725,176,727,181,665,195,617,206"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a63bfcff990b542772fd9fbc5b6e1f870" title=" " alt="" coords="751,204,934,238"/>
<area shape="poly" title=" " alt="" coords="628,218,736,218,736,223,628,223"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a64710c908502c6d43dc365d365e28370" title=" " alt="" coords="1041,261,1223,295"/>
<area shape="poly" title=" " alt="" coords="932,236,1029,255,1028,260,930,241"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a3a72c25243ae144e230cc375fa016aac" title=" " alt="" coords="1044,204,1220,238"/>
<area shape="poly" title=" " alt="" coords="934,218,1028,218,1028,223,934,223"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a61be783dcc8b068e3462484564835363" title=" " alt="" coords="758,65,927,99"/>
<area shape="poly" title=" " alt="" coords="610,148,663,133,687,121,711,109,742,99,744,104,713,114,690,126,665,138,612,153"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0ed3a1f1af94d311249c4b34b9e937d3" title=" " alt="" coords="1578,31,1796,64"/>
<area shape="poly" title=" " alt="" coords="914,62,1020,41,1163,19,1275,6,1387,4,1531,14,1598,24,1597,30,1530,19,1387,9,1275,11,1163,24,1021,46,915,67"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0fd4724c3a2419db5c46a929ca2d7c9c" title=" " alt="" coords="1056,80,1208,114"/>
<area shape="poly" title=" " alt="" coords="927,84,1040,89,1040,95,927,89"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aff14ca1c3b81e376b6033f2cf55bf75b" title=" " alt="" coords="1291,87,1530,120"/>
<area shape="poly" title=" " alt="" coords="925,97,973,109,997,117,1021,123,1083,131,1131,131,1243,123,1281,120,1281,125,1243,129,1132,137,1083,136,1020,129,996,122,972,114,924,102"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a90259dc27343d0ee765236e3e42302da" title=" " alt="" coords="1308,29,1513,63"/>
<area shape="poly" title=" " alt="" coords="927,72,1020,65,1292,49,1292,54,1021,70,927,77"/>
<area shape="poly" title=" " alt="" coords="1209,96,1275,98,1275,103,1209,101"/>
<area shape="poly" title=" " alt="" coords="1208,80,1299,64,1300,69,1209,86"/>
<area shape="poly" title=" " alt="" coords="1497,83,1585,65,1586,71,1498,89"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a49c9339ef140d0df2e16b187760e9ad6" title=" " alt="" coords="1326,457,1496,491"/>
<area shape="poly" title=" " alt="" coords="291,510,341,488,399,470,526,450,655,438,784,433,910,432,1138,443,1311,459,1310,464,1137,448,910,438,784,438,655,444,526,456,401,475,343,493,293,515"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a3f629385f1e131dcb62d6aad6ec03de7" title=" " alt="" coords="449,485,616,519"/>
<area shape="poly" title=" " alt="" coords="340,519,433,510,433,515,341,524"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a16f1933feaa2425d7811875086609290" title=" " alt="" coords="1021,597,1243,631"/>
<area shape="poly" title=" " alt="" coords="293,545,343,568,401,586,480,601,562,612,726,623,878,625,1005,621,1005,626,878,630,725,629,561,617,479,606,399,591,341,573,291,550"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a64ffdd9b78d6b923a98f1f82067fc6ae" title=" " alt="" coords="736,651,949,708"/>
<area shape="poly" title=" " alt="" coords="279,545,331,590,364,612,401,630,482,655,566,670,647,678,721,681,721,686,647,683,565,675,480,660,399,635,362,617,327,594,275,550"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a1a4319f10cc2c3a3f20af3fdc27e2d77" title=" " alt="" coords="752,732,933,766"/>
<area shape="poly" title=" " alt="" coords="272,546,291,577,321,616,358,654,401,685,442,704,485,719,573,739,660,749,737,751,737,757,659,754,572,744,483,724,440,709,399,690,354,658,317,619,287,580,267,549"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a4fd8792e264b0d96920fc7bc741a530d" title=" " alt="" coords="423,376,642,410"/>
<area shape="poly" title=" " alt="" coords="277,511,330,469,363,446,399,426,434,412,436,417,401,431,366,451,333,473,280,515"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a7ce37220303d8df1bf648645a88bd3e9" title=" " alt="" coords="438,543,626,576"/>
<area shape="poly" title=" " alt="" coords="341,536,423,545,422,550,340,542"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="1604,513,1770,547"/>
<area shape="poly" title=" " alt="" coords="1497,489,1589,508,1588,513,1496,494"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#ae98d2f54596aacb1f0f176d0e565e2e2" title=" " alt="" coords="1844,513,2028,547"/>
<area shape="poly" title=" " alt="" coords="1771,527,1828,527,1828,533,1771,533"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#ab4192dcd29172ce7501c6b899bf2f192" title=" " alt="" coords="750,543,935,576"/>
<area shape="poly" title=" " alt="" coords="617,515,735,537,734,542,616,520"/>
<area shape="poly" title=" " alt="" coords="936,574,1024,591,1023,596,935,579"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0" title=" " alt="" coords="1339,569,1483,603"/>
<area shape="poly" title=" " alt="" coords="1243,600,1323,592,1323,598,1244,606"/>
<area shape="poly" title=" " alt="" coords="1483,569,1588,547,1589,553,1484,574"/>
<area shape="poly" title=" " alt="" coords="948,653,1039,632,1040,637,950,658"/>
<area shape="poly" title=" " alt="" coords="932,730,972,717,1040,679,1096,639,1100,643,1043,684,974,722,934,735"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0021585123abbcd1c4a25ba6a7ffb599" title=" " alt="" coords="731,261,954,295"/>
<area shape="poly" title=" " alt="" coords="641,373,663,363,678,349,686,334,695,319,711,304,719,299,721,304,714,308,699,322,691,337,682,352,666,367,643,378"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aae83a7acd40d935b0e000c15f017c2fc" title=" " alt="" coords="712,376,973,410"/>
<area shape="poly" title=" " alt="" coords="642,390,697,390,697,395,642,395"/>
<area shape="poly" title=" " alt="" coords="954,275,1026,275,1026,281,954,281"/>
<area shape="poly" title=" " alt="" coords="930,258,1028,238,1029,244,932,263"/>
<area shape="poly" title=" " alt="" coords="973,390,1007,390,1007,395,973,395"/>
<area shape="poly" title=" " alt="" coords="627,557,734,557,734,562,627,562"/>
</map>
</div>

</div>
</div>
<a id="ae758b32f54677314ee0dda87bccaddce" name="ae758b32f54677314ee0dda87bccaddce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae758b32f54677314ee0dda87bccaddce">&#9670;&#160;</a></span>usage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int usage </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00127">127</a> of file <a class="el" href="../../d6/d5e/ustream-example_8c_source.html">ustream-example.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  128</span>{</div>
<div class="line"><span class="lineno">  129</span>    fprintf(stderr, <span class="stringliteral">&quot;Usage: %s -p &lt;port&gt;\n&quot;</span>, name);</div>
<div class="line"><span class="lineno">  130</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  131</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac26f9739197d5c329dfa3be4d4177e07" name="ac26f9739197d5c329dfa3be4d4177e07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac26f9739197d5c329dfa3be4d4177e07">&#9670;&#160;</a></span>next_client</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="#d3/db7/structclient">client</a>* next_client = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00016">16</a> of file <a class="el" href="../../d6/d5e/ustream-example_8c_source.html">ustream-example.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00085">server_cb()</a>.</p>

</div>
</div>
<a id="ad723da1801ae1586eb330380e2d9a912" name="ad723da1801ae1586eb330380e2d9a912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad723da1801ae1586eb330380e2d9a912">&#9670;&#160;</a></span>port</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* port = &quot;10000&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00015">15</a> of file <a class="el" href="../../d6/d5e/ustream-example_8c_source.html">ustream-example.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l00202">__bridge_set_member_vlan()</a>, <a class="el" href="../../de/d8e/bonding_8c_source.html#l00497">bonding_hotplug_add()</a>, <a class="el" href="../../de/d8e/bonding_8c_source.html#l00510">bonding_hotplug_del()</a>, <a class="el" href="../../d7/d10/bridge__track_8c_source.html#l00645">bridge_create()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01037">bridge_dump_port()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01049">bridge_dump_vlan()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00171">bridge_find_vlan_member_port()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00678">bridge_free_member()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00427">bridge_hotplug_get_vlan_port()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00439">bridge_hotplug_set_member_vlans()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00195">bridge_member_vlan_is_pvid()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00253">bridge_recalc_member_pvid()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00215">bridge_set_member_vlan()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00276">bridge_set_vlan_state()</a>, <a class="el" href="../../d7/d78/system-linux_8c_source.html#l02432">bridge_vlan_check_attr()</a>, <a class="el" href="../../d7/d78/system-linux_8c_source.html#l02411">bridge_vlan_check_port()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01355">bridge_vlan_free()</a>, <a class="el" href="../../d5/d65/netifd_2config_8c_source.html#l00308">config_parse_vlan()</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00133">main()</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00110">run_server()</a>, <a class="el" href="../../da/dde/mstp_8c_source.html#l01629">set_TopologyChange()</a>, <a class="el" href="../../d7/d78/system-linux_8c_source.html#l04216">system_add_vxlan()</a>, <a class="el" href="../../d7/d78/system-linux_8c_source.html#l01123">system_bonding_set_port()</a>, <a class="el" href="../../d7/d78/system-linux_8c_source.html#l02507">system_bridge_vlan_check()</a>, and <a class="el" href="../../d2/d90/usock_8c_source.html#l00240">usock_port()</a>.</p>

</div>
</div>
<a id="acb8f1470f1d509b6cf5cf79f4bd80d8b" name="acb8f1470f1d509b6cf5cf79f4bd80d8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb8f1470f1d509b6cf5cf79f4bd80d8b">&#9670;&#160;</a></span>server</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dc/d56/uloop_8h.html#db/d9e/structuloop__fd">uloop_fd</a> server</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00014">14</a> of file <a class="el" href="../../d6/d5e/ustream-example_8c_source.html">ustream-example.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00110">run_server()</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00085">server_cb()</a>, <a class="el" href="../../d2/d90/usock_8c_source.html#l00045">usock_connect()</a>, <a class="el" href="../../d2/d90/usock_8c_source.html#l00087">usock_inet_notimeout()</a>, <a class="el" href="../../d2/d90/usock_8c_source.html#l00134">usock_inet_timeout()</a>, and <a class="el" href="../../d2/d90/usock_8c_source.html#l00071">usock_unix()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
