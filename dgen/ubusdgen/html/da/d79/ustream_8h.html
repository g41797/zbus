<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>zbus: /home/g41797/CLionProjects/github.com/g41797/zbus/src/libs/libubox/ustream.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">zbus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_87a455bccb09a92130c26a11a880c98a.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_397c898d2cf76178a72912abd1158536.html">libubox</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ustream.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d56/uloop_8h_source.html">uloop.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ustream.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d00/ustream_8h__incl.png" border="0" usemap="#a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2libubox_2ustream_8h" alt=""/></div>
<map name="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2libubox_2ustream_8h" id="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2libubox_2ustream_8h">
<area shape="rect" title=" " alt="" coords="150,5,437,85"/>
<area shape="rect" title=" " alt="" coords="186,133,284,167"/>
<area shape="poly" title=" " alt="" coords="273,87,254,121,249,118,269,84"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html" title=" " alt="" coords="308,133,399,167"/>
<area shape="poly" title=" " alt="" coords="319,84,339,118,334,121,314,87"/>
<area shape="rect" title=" " alt="" coords="5,215,123,248"/>
<area shape="poly" title=" " alt="" coords="309,166,138,213,137,208,307,161"/>
<area shape="rect" title=" " alt="" coords="147,215,274,248"/>
<area shape="poly" title=" " alt="" coords="326,169,254,209,251,205,323,165"/>
<area shape="rect" title=" " alt="" coords="349,296,456,330"/>
<area shape="poly" title=" " alt="" coords="348,168,337,206,335,227,340,247,352,268,369,285,365,289,348,271,335,249,330,227,331,205,343,167"/>
<area shape="rect" title=" " alt="" coords="350,215,442,248"/>
<area shape="poly" title=" " alt="" coords="364,166,382,199,378,202,360,168"/>
<area shape="rect" title=" " alt="" coords="466,215,561,248"/>
<area shape="poly" title=" " alt="" coords="387,165,469,205,466,210,385,170"/>
<area shape="rect" href="../../da/d23/list_8h.html" title=" " alt="" coords="584,215,651,248"/>
<area shape="poly" title=" " alt="" coords="400,161,570,211,568,216,398,166"/>
<area shape="poly" title=" " alt="" coords="585,248,461,293,459,288,583,243"/>
<area shape="rect" title=" " alt="" coords="569,296,666,330"/>
<area shape="poly" title=" " alt="" coords="620,249,620,281,615,281,615,249"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d04/ustream_8h__dep__incl.png" border="0" usemap="#a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2libubox_2ustream_8hdep" alt=""/></div>
<map name="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2libubox_2ustream_8hdep" id="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2libubox_2ustream_8hdep">
<area shape="rect" title=" " alt="" coords="4217,5,4504,85"/>
<area shape="rect" href="../../d6/d5e/ustream-example_8c.html" title=" " alt="" coords="2643,133,2929,236"/>
<area shape="poly" title=" " alt="" coords="4202,54,3904,65,3541,82,3193,105,3050,120,2941,136,2930,138,2929,133,2940,130,3050,114,3193,100,3541,76,3904,59,4202,48"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html" title=" " alt="" coords="2953,145,3243,224"/>
<area shape="poly" title=" " alt="" coords="4202,50,4009,56,3772,70,3513,95,3383,113,3256,136,3211,147,3209,141,3255,130,3382,108,3513,90,3772,65,4009,51,4202,45"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html" title=" " alt="" coords="3267,145,3553,224"/>
<area shape="poly" title=" " alt="" coords="4202,57,4065,67,3905,83,3735,105,3566,136,3524,146,3522,141,3565,130,3734,100,3905,77,4065,62,4202,52"/>
<area shape="rect" href="../../d3/d75/netifd_2netifd_8h.html" title=" " alt="" coords="3577,145,3864,224"/>
<area shape="poly" title=" " alt="" coords="4202,72,4044,99,3877,136,3837,146,3836,141,3876,130,4043,94,4202,67"/>
<area shape="rect" href="../../d1/d5c/rcS_8c.html" title=" " alt="" coords="3888,145,4174,224"/>
<area shape="poly" title=" " alt="" coords="4253,94,4127,146,4125,141,4251,89"/>
<area shape="rect" href="../../d9/dda/instance_8h.html" title=" " alt="" coords="4198,145,4523,224"/>
<area shape="poly" title=" " alt="" coords="4363,101,4363,144,4358,144,4358,101"/>
<area shape="rect" href="../../d0/d70/trigger_8c.html" title=" " alt="" coords="4547,145,4852,224"/>
<area shape="poly" title=" " alt="" coords="4473,89,4603,141,4601,146,4471,94"/>
<area shape="rect" href="../../da/dc0/uxc_8c.html" title=" " alt="" coords="4876,145,5162,224"/>
<area shape="poly" title=" " alt="" coords="4519,65,4687,93,4865,130,4905,141,4904,146,4864,136,4686,98,4519,70"/>
<area shape="rect" href="../../d6/d13/file_8c.html" title=" " alt="" coords="5187,145,5473,224"/>
<area shape="poly" title=" " alt="" coords="4519,51,4660,61,4825,77,5000,99,5174,130,5218,141,5217,147,5173,136,5000,105,4824,82,4659,66,4519,56"/>
<area shape="rect" href="../../df/d37/exec_8h.html" title=" " alt="" coords="5497,145,5824,224"/>
<area shape="poly" title=" " alt="" coords="4519,46,4714,53,4956,67,5221,92,5355,109,5485,130,5535,141,5534,146,5484,136,5354,115,5220,98,4956,73,4714,58,4519,51"/>
<area shape="rect" href="../../dd/d93/client_8c.html" title=" " alt="" coords="5849,145,6160,224"/>
<area shape="poly" title=" " alt="" coords="4519,49,4828,60,5207,77,5572,101,5722,115,5837,130,5886,141,5885,147,5836,136,5721,120,5571,106,5207,82,4828,65,4519,54"/>
<area shape="rect" href="../../d0/d42/alias_8c.html" title=" " alt="" coords="5,295,292,375"/>
<area shape="poly" title=" " alt="" coords="3598,231,3565,238,3418,257,3249,269,3059,276,2854,279,2407,274,1934,262,1462,251,1015,246,810,248,621,255,451,268,305,286,257,297,256,292,304,281,451,262,620,250,810,243,1015,241,1462,245,1935,257,2407,269,2854,273,3059,271,3248,264,3418,252,3564,233,3597,226"/>
<area shape="rect" href="../../de/d8e/bonding_8c.html" title=" " alt="" coords="316,295,602,375"/>
<area shape="poly" title=" " alt="" coords="3598,231,3565,238,3432,255,3279,267,3108,273,2922,276,2518,272,2090,262,1662,252,1258,249,1072,251,901,258,748,269,616,286,568,297,567,292,615,281,748,264,901,253,1072,246,1258,244,1662,247,2090,257,2518,267,2922,270,3108,268,3278,261,3432,250,3564,233,3597,226"/>
<area shape="rect" href="../../d0/d95/bridge_8c.html" title=" " alt="" coords="627,295,913,375"/>
<area shape="poly" title=" " alt="" coords="3598,231,3565,238,3446,254,3309,264,3156,270,2989,273,2628,270,2245,262,1862,254,1501,252,1335,255,1182,261,1045,271,926,286,879,297,877,292,925,281,1044,266,1181,255,1335,249,1501,247,1862,249,2245,257,2628,265,2989,267,3156,265,3309,259,3446,248,3564,233,3597,226"/>
<area shape="rect" href="../../d5/d65/netifd_2config_8c.html" title=" " alt="" coords="937,295,1224,375"/>
<area shape="poly" title=" " alt="" coords="3598,231,3565,238,3460,252,3339,261,3057,270,2738,268,2400,262,2063,256,1744,255,1462,263,1341,273,1237,286,1189,297,1188,292,1236,281,1341,267,1462,258,1744,250,2063,251,2401,257,2738,263,3057,264,3339,256,3460,247,3564,233,3597,226"/>
<area shape="rect" href="../../d5/d96/device_8c.html" title=" " alt="" coords="1248,295,1534,375"/>
<area shape="poly" title=" " alt="" coords="3598,231,3565,238,3474,250,3369,259,3125,267,2848,267,2556,262,2263,258,1987,258,1743,266,1638,274,1548,286,1500,297,1499,292,1547,281,1638,269,1743,261,1987,253,2263,253,2556,257,2848,261,3125,261,3369,253,3474,245,3564,233,3597,226"/>
<area shape="rect" href="../../dd/d1b/extdev_8c.html" title=" " alt="" coords="1559,295,1845,375"/>
<area shape="poly" title=" " alt="" coords="3598,231,3565,238,3431,258,3307,272,3193,279,3087,282,2893,276,2711,262,2529,249,2335,243,2229,245,2115,253,1992,266,1858,286,1811,297,1810,292,1857,281,1992,261,2115,248,2229,240,2335,238,2529,243,2711,257,2893,271,3087,276,3193,274,3307,267,3430,253,3564,233,3597,226"/>
<area shape="rect" href="../../db/dd1/handler_8c.html" title=" " alt="" coords="1869,295,2156,375"/>
<area shape="poly" title=" " alt="" coords="3597,231,3565,238,3455,255,3354,267,3174,276,3015,272,2866,262,2718,252,2559,249,2379,258,2279,269,2169,286,2122,297,2121,292,2168,281,2278,264,2379,253,2559,244,2718,247,2867,257,3015,267,3174,270,3354,261,3454,250,3564,233,3596,226"/>
<area shape="rect" href="../../d2/ddd/interface-event_8c.html" title=" " alt="" coords="2180,284,2466,386"/>
<area shape="poly" title=" " alt="" coords="3597,231,3565,238,3401,261,3261,270,3137,268,3022,262,2906,256,2782,255,2643,263,2480,286,2467,289,2466,283,2479,281,2642,258,2782,250,2906,251,3022,257,3138,263,3261,264,3401,256,3564,233,3596,226"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html" title=" " alt="" coords="2491,295,2777,375"/>
<area shape="poly" title=" " alt="" coords="3596,231,3565,238,3448,256,3348,264,3260,265,3177,262,3095,260,3006,261,2907,269,2790,286,2745,297,2744,292,2789,281,2906,263,3006,256,3095,255,3177,257,3260,259,3348,258,3447,251,3564,233,3595,226"/>
<area shape="rect" href="../../dd/dda/interface_8c.html" title=" " alt="" coords="2801,295,3088,375"/>
<area shape="poly" title=" " alt="" coords="3594,231,3565,238,3495,251,3435,258,3333,262,3230,267,3171,274,3101,286,3058,297,3056,292,3100,281,3170,268,3230,262,3332,257,3435,252,3494,246,3564,233,3593,226"/>
<area shape="rect" href="../../d7/d27/iprule_8c.html" title=" " alt="" coords="3112,295,3398,375"/>
<area shape="poly" title=" " alt="" coords="3585,232,3565,238,3412,286,3378,297,3376,292,3410,281,3564,233,3583,227"/>
<area shape="rect" href="../../d5/d3b/macvlan_8c.html" title=" " alt="" coords="3423,295,3709,375"/>
<area shape="poly" title=" " alt="" coords="3671,237,3609,296,3605,293,3667,233"/>
<area shape="rect" href="../../d1/dd7/netifd_2main_8c.html" title=" " alt="" coords="3733,295,4020,375"/>
<area shape="poly" title=" " alt="" coords="3774,233,3837,293,3833,296,3771,237"/>
<area shape="rect" href="../../db/d25/proto-shell_8c.html" title=" " alt="" coords="4044,295,4330,375"/>
<area shape="poly" title=" " alt="" coords="3858,227,3877,233,4032,281,4066,292,4065,297,4030,286,3876,238,3856,232"/>
<area shape="rect" href="../../da/d5a/proto-static_8c.html" title=" " alt="" coords="4355,295,4641,375"/>
<area shape="poly" title=" " alt="" coords="3848,226,3877,233,3947,246,4007,252,4109,257,4212,262,4272,268,4342,281,4386,292,4385,297,4341,286,4271,274,4212,267,4109,262,4006,258,3946,251,3876,238,3847,231"/>
<area shape="rect" href="../../dc/d3d/proto_8c.html" title=" " alt="" coords="4665,295,4952,375"/>
<area shape="poly" title=" " alt="" coords="3846,226,3877,233,3994,251,4093,258,4182,259,4264,257,4347,255,4436,256,4536,263,4653,281,4699,292,4698,297,4652,286,4535,269,4436,261,4347,260,4265,262,4182,265,4093,264,3993,256,3876,238,3845,231"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html" title=" " alt="" coords="4976,295,5292,375"/>
<area shape="poly" title=" " alt="" coords="3845,226,3877,233,4041,256,4180,265,4304,265,4419,259,4535,253,4659,252,4799,260,4964,281,5014,292,5013,297,4963,286,4799,265,4659,257,4535,259,4420,265,4304,270,4180,271,4040,262,3876,238,3844,231"/>
<area shape="rect" href="../../d7/d78/system-linux_8c.html" title=" " alt="" coords="5317,295,5610,375"/>
<area shape="poly" title=" " alt="" coords="3845,226,3877,233,3989,250,4092,262,4276,271,4438,268,4590,258,4742,247,4905,244,5089,253,5193,264,5305,281,5353,292,5352,297,5304,286,5192,269,5089,258,4905,249,4743,253,4591,263,4438,273,4276,277,4092,267,3988,256,3876,238,3844,231"/>
<area shape="rect" href="../../d3/d64/netifd_2system_8c.html" title=" " alt="" coords="5633,295,5920,375"/>
<area shape="poly" title=" " alt="" coords="3844,226,3877,233,4014,254,4140,267,4256,275,4364,277,4563,271,4749,257,4935,242,5134,236,5242,239,5359,247,5485,260,5622,281,5669,292,5668,297,5621,286,5484,266,5358,252,5242,244,5134,242,4935,248,4749,262,4563,276,4364,282,4256,280,4140,272,4013,259,3876,238,3843,231"/>
<area shape="rect" href="../../da/d7d/tunnel_8c.html" title=" " alt="" coords="5944,295,6230,375"/>
<area shape="poly" title=" " alt="" coords="3844,226,3877,233,3969,245,4076,254,4324,262,4606,262,4904,257,5202,252,5483,252,5732,260,5839,269,5932,281,5979,292,5978,297,5931,286,5839,274,5732,266,5483,258,5202,258,4904,262,4606,267,4324,267,4075,259,3969,251,3876,238,3843,231"/>
<area shape="rect" href="../../dc/db1/netifd_2ubus_8c.html" title=" " alt="" coords="6255,295,6541,375"/>
<area shape="poly" title=" " alt="" coords="3844,226,3877,233,3983,247,4106,256,4392,265,4716,263,5059,257,5402,251,5726,249,6013,258,6136,267,6242,281,6290,292,6289,297,6241,286,6135,272,6012,263,5726,255,5402,256,5059,262,4716,269,4392,270,4106,262,3983,252,3876,238,3843,231"/>
<area shape="rect" href="../../d7/d89/veth_8c.html" title=" " alt="" coords="6565,295,6852,375"/>
<area shape="poly" title=" " alt="" coords="3844,226,3877,233,3997,248,4136,259,4291,265,4460,268,4826,265,5214,257,5603,249,5969,246,6138,249,6293,255,6432,266,6553,281,6601,292,6600,297,6552,286,6432,271,6293,260,6138,254,5969,252,5603,254,5215,262,4826,271,4460,273,4291,271,4136,264,3997,254,3876,238,3843,231"/>
<area shape="rect" href="../../d7/dd3/vlan_8c.html" title=" " alt="" coords="6876,295,7162,375"/>
<area shape="poly" title=" " alt="" coords="3844,226,3877,233,4011,250,4166,262,4339,268,4527,271,4937,267,5370,257,5803,247,6212,243,6401,246,6574,252,6729,264,6864,281,6912,292,6910,297,6863,286,6729,269,6573,258,6400,251,6212,249,5803,252,5370,262,4937,272,4527,276,4339,274,4166,267,4011,255,3876,238,3843,231"/>
<area shape="rect" href="../../d0/d04/vlandev_8c.html" title=" " alt="" coords="7187,295,7473,375"/>
<area shape="poly" title=" " alt="" coords="3844,226,3877,233,4025,252,4196,264,4387,271,4595,274,5047,269,5525,257,6003,245,6455,240,6663,243,6854,250,7026,262,7174,281,7222,292,7221,297,7173,286,7025,268,6854,255,6663,248,6455,246,6003,250,5525,262,5047,274,4595,279,4387,277,4196,270,4024,257,3876,238,3843,231"/>
</map>
</div>
</div>
<p><a href="../../da/d79/ustream_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:da/dd1/structustream__buf__list" id="r_da/dd1/structustream__buf__list"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#da/dd1/structustream__buf__list">ustream_buf_list</a></td></tr>
<tr class="separator:da/dd1/structustream__buf__list"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d8/d8e/structustream" id="r_d8/d8e/structustream"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#d8/d8e/structustream">ustream</a></td></tr>
<tr class="separator:d8/d8e/structustream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:dc/dcd/structustream__fd" id="r_dc/dcd/structustream__fd"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#dc/dcd/structustream__fd">ustream_fd</a></td></tr>
<tr class="separator:dc/dcd/structustream__fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d9/dc0/structustream__buf" id="r_d9/dc0/structustream__buf"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#d9/dc0/structustream__buf">ustream_buf</a></td></tr>
<tr class="separator:d9/dc0/structustream__buf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a479afe8b27077dc2b881c848deb1c873" id="r_a479afe8b27077dc2b881c848deb1c873"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a479afe8b27077dc2b881c848deb1c873">read_blocked_reason</a> { <a class="el" href="#a479afe8b27077dc2b881c848deb1c873a9aa15061cf346a26036de7f024b1d726">READ_BLOCKED_USER</a> = (1 &lt;&lt; 0)
, <a class="el" href="#a479afe8b27077dc2b881c848deb1c873a22e5f87455357c21e4922c63c4580f77">READ_BLOCKED_FULL</a> = (1 &lt;&lt; 1)
 }</td></tr>
<tr class="separator:a479afe8b27077dc2b881c848deb1c873"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a189ba25992264db14697536cff558ed8" id="r_a189ba25992264db14697536cff558ed8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a189ba25992264db14697536cff558ed8">ustream_fd_init</a> (struct <a class="el" href="#dc/dcd/structustream__fd">ustream_fd</a> *s, int fd)</td></tr>
<tr class="separator:a189ba25992264db14697536cff558ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55eb7ea0d6ed61f253f5689798ccf5c3" id="r_a55eb7ea0d6ed61f253f5689798ccf5c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55eb7ea0d6ed61f253f5689798ccf5c3">ustream_free</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s)</td></tr>
<tr class="separator:a55eb7ea0d6ed61f253f5689798ccf5c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e2924135643035597d360c6dcb0a294" id="r_a6e2924135643035597d360c6dcb0a294"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e2924135643035597d360c6dcb0a294">ustream_consume</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s, int len)</td></tr>
<tr class="separator:a6e2924135643035597d360c6dcb0a294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa16cab137c211c77310698b210ecdf" id="r_aeaa16cab137c211c77310698b210ecdf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeaa16cab137c211c77310698b210ecdf">ustream_read</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s, char *<a class="el" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, int buflen)</td></tr>
<tr class="separator:aeaa16cab137c211c77310698b210ecdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeefb21c73ae092af30d18b5288cf9918" id="r_aeefb21c73ae092af30d18b5288cf9918"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeefb21c73ae092af30d18b5288cf9918">ustream_write</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s, const char *<a class="el" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, int len, bool more)</td></tr>
<tr class="separator:aeefb21c73ae092af30d18b5288cf9918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eedc9271d236f3f25c877cf9d2bb66e" id="r_a2eedc9271d236f3f25c877cf9d2bb66e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2eedc9271d236f3f25c877cf9d2bb66e">ustream_printf</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s, const char *format,...) <a class="el" href="../../de/d5d/union____attribute____.html">__attribute__</a>((format(printf</td></tr>
<tr class="separator:a2eedc9271d236f3f25c877cf9d2bb66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4a13905fd90fb4fce1c507d4053c38b" id="r_ad4a13905fd90fb4fce1c507d4053c38b"><td class="memItemLeft" align="right" valign="top">int int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4a13905fd90fb4fce1c507d4053c38b">ustream_vprintf</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s, const char *format, va_list arg) <a class="el" href="../../de/d5d/union____attribute____.html">__attribute__</a>((format(printf</td></tr>
<tr class="separator:ad4a13905fd90fb4fce1c507d4053c38b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9d6fd6fda290088a254c02f4554c3f4" id="r_af9d6fd6fda290088a254c02f4554c3f4"><td class="memItemLeft" align="right" valign="top">int int char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9d6fd6fda290088a254c02f4554c3f4">ustream_get_read_buf</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s, int *buflen)</td></tr>
<tr class="separator:af9d6fd6fda290088a254c02f4554c3f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9a99d5c375c49ea750fe97d0e93ada1" id="r_ad9a99d5c375c49ea750fe97d0e93ada1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9a99d5c375c49ea750fe97d0e93ada1">ustream_set_read_blocked</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s, bool set)</td></tr>
<tr class="separator:ad9a99d5c375c49ea750fe97d0e93ada1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b06f5cce1f3d6ebac398da293f42bf0" id="r_a0b06f5cce1f3d6ebac398da293f42bf0"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b06f5cce1f3d6ebac398da293f42bf0">ustream_read_blocked</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s)</td></tr>
<tr class="separator:a0b06f5cce1f3d6ebac398da293f42bf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add51c2b7e0940c808099cd9dfb82f05a" id="r_add51c2b7e0940c808099cd9dfb82f05a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add51c2b7e0940c808099cd9dfb82f05a">ustream_pending_data</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s, bool write)</td></tr>
<tr class="separator:add51c2b7e0940c808099cd9dfb82f05a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cc071b9667a6e5db4781e53501090c8" id="r_a2cc071b9667a6e5db4781e53501090c8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2cc071b9667a6e5db4781e53501090c8">ustream_read_buf_full</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s)</td></tr>
<tr class="separator:a2cc071b9667a6e5db4781e53501090c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fd8792e264b0d96920fc7bc741a530d" id="r_a4fd8792e264b0d96920fc7bc741a530d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4fd8792e264b0d96920fc7bc741a530d">ustream_init_defaults</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s)</td></tr>
<tr class="separator:a4fd8792e264b0d96920fc7bc741a530d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48eb6688bc7551e8fa0f5fe45c3ff767" id="r_a48eb6688bc7551e8fa0f5fe45c3ff767"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48eb6688bc7551e8fa0f5fe45c3ff767">ustream_reserve</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s, int len, int *maxlen)</td></tr>
<tr class="separator:a48eb6688bc7551e8fa0f5fe45c3ff767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7150fd97e4c632a01ba95a19614fcd0" id="r_aa7150fd97e4c632a01ba95a19614fcd0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7150fd97e4c632a01ba95a19614fcd0">ustream_fill_read</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s, int len)</td></tr>
<tr class="separator:aa7150fd97e4c632a01ba95a19614fcd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7460ade35d8721c6dbac14e9cfab4b8c" id="r_a7460ade35d8721c6dbac14e9cfab4b8c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7460ade35d8721c6dbac14e9cfab4b8c">ustream_write_pending</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s)</td></tr>
<tr class="separator:a7460ade35d8721c6dbac14e9cfab4b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add76dce88c832892b8971ab19c766aab" id="r_add76dce88c832892b8971ab19c766aab"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add76dce88c832892b8971ab19c766aab">ustream_state_change</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s)</td></tr>
<tr class="separator:add76dce88c832892b8971ab19c766aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8f30f3e3f083f89504998e9d5747752" id="r_aa8f30f3e3f083f89504998e9d5747752"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8f30f3e3f083f89504998e9d5747752">ustream_poll</a> (struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s)</td></tr>
<tr class="separator:aa8f30f3e3f083f89504998e9d5747752"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="da/dd1/structustream__buf__list" id="da/dd1/structustream__buf__list"></a>
<h2 class="memtitle"><span class="permalink"><a href="#da/dd1/structustream__buf__list">&#9670;&#160;</a></span>ustream_buf_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ustream_buf_list</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../da/d79/ustream_8h_source.html#l00033">33</a> of file <a class="el" href="../../da/d79/ustream_8h_source.html">ustream.h</a>.</p>
</div><div class="dynheader">
Collaboration diagram for ustream_buf_list:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dc5/structustream__buf__list__coll__graph.png" border="0" usemap="#austream__buf__list_coll__map" alt="Collaboration graph"/></div>
<map name="austream__buf__list_coll__map" id="austream__buf__list_coll__map">
<area shape="rect" title=" " alt="" coords="81,399,254,432"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#d9/dc0/structustream__buf" title=" " alt="" coords="5,179,143,213"/>
<area shape="poly" title=" " alt="" coords="88,226,150,374,161,397,156,399,145,376,83,228"/>
<area shape="poly" title=" " alt="" coords="159,182,166,187,169,196,162,208,144,214,142,209,158,204,164,196,162,191,156,186"/>
<area shape="rect" title=" " alt="" coords="43,5,105,39"/>
<area shape="poly" title=" " alt="" coords="77,54,77,179,71,179,71,54"/>
<area shape="rect" title=" " alt="" coords="238,179,283,213"/>
<area shape="poly" title=" " alt="" coords="266,228,265,261,261,299,252,339,234,376,221,390,206,400,203,396,218,386,229,373,247,337,256,298,260,260,260,228"/>
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a01e751d790a82b7a8e2041423665ea66" name="a01e751d790a82b7a8e2041423665ea66"></a>int(*)(struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s, struct <a class="el" href="#da/dd1/structustream__buf__list">ustream_buf_list</a> *l)</td>
<td class="fieldname">
alloc</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aab610501b2503be59efab2421948079c" name="aab610501b2503be59efab2421948079c"></a>int</td>
<td class="fieldname">
buffer_len</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a90ad967ab680e5688e3c8fc636a10adf" name="a90ad967ab680e5688e3c8fc636a10adf"></a>int</td>
<td class="fieldname">
buffers</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a2cb8be7b642a24ce03d0d8910b98500d" name="a2cb8be7b642a24ce03d0d8910b98500d"></a>int</td>
<td class="fieldname">
data_bytes</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ab50800cb2a37029cb21c964b2980d666" name="ab50800cb2a37029cb21c964b2980d666"></a>struct <a class="el" href="#d9/dc0/structustream__buf">ustream_buf</a> *</td>
<td class="fieldname">
data_tail</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aa70350247646ae77f4551d297fb62fef" name="aa70350247646ae77f4551d297fb62fef"></a>struct <a class="el" href="#d9/dc0/structustream__buf">ustream_buf</a> *</td>
<td class="fieldname">
head</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af3b56b7094382314a5721968e453b257" name="af3b56b7094382314a5721968e453b257"></a>int</td>
<td class="fieldname">
max_buffers</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a5b3a2241e0a59463ee3532e4ecff2618" name="a5b3a2241e0a59463ee3532e4ecff2618"></a>int</td>
<td class="fieldname">
min_buffers</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a870d35c982e3e30d2eb7ad18c76ac686" name="a870d35c982e3e30d2eb7ad18c76ac686"></a>struct <a class="el" href="#d9/dc0/structustream__buf">ustream_buf</a> *</td>
<td class="fieldname">
tail</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d8/d8e/structustream" id="d8/d8e/structustream"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d8/d8e/structustream">&#9670;&#160;</a></span>ustream</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ustream</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../da/d79/ustream_8h_source.html#l00049">49</a> of file <a class="el" href="../../da/d79/ustream_8h_source.html">ustream.h</a>.</p>
</div><div class="dynheader">
Collaboration diagram for ustream:</div>
<div class="dyncontent">
<div class="center"><img src="../../d5/d53/structustream__coll__graph.png" border="0" usemap="#austream_coll__map" alt="Collaboration graph"/></div>
<map name="austream_coll__map" id="austream_coll__map">
<area shape="rect" title=" " alt="" coords="953,478,1051,512"/>
<area shape="poly" title=" " alt="" coords="974,461,984,454,1002,452,1018,454,1029,460,1033,469,1030,479,1025,477,1028,469,1025,463,1017,459,1002,457,986,459,977,465"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#da/dd1/structustream__buf__list" title=" " alt="" coords="525,164,698,197"/>
<area shape="poly" title=" " alt="" coords="714,190,769,203,827,224,883,253,931,293,949,315,963,340,984,391,996,440,1002,477,996,478,991,441,979,393,958,342,944,318,927,297,880,258,825,229,768,208,713,195"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#d9/dc0/structustream__buf" title=" " alt="" coords="169,240,306,273"/>
<area shape="poly" title=" " alt="" coords="313,274,347,278,382,278,417,273,449,259,458,250,461,239,464,227,473,214,497,200,523,190,525,195,499,204,477,218,469,229,466,240,463,253,453,264,419,278,383,284,346,284,312,279"/>
<area shape="poly" title=" " alt="" coords="215,222,223,215,237,213,251,215,260,221,263,230,261,240,255,238,258,231,255,224,249,220,237,218,225,220,218,226"/>
<area shape="rect" title=" " alt="" coords="5,240,68,273"/>
<area shape="poly" title=" " alt="" coords="83,254,168,254,168,259,83,259"/>
<area shape="rect" title=" " alt="" coords="215,65,260,99"/>
<area shape="poly" title=" " alt="" coords="271,53,301,35,335,20,367,13,393,12,451,20,529,30,598,37,660,42,717,50,771,65,823,89,876,125,931,179,946,202,959,237,980,323,994,412,1002,477,996,478,989,413,974,324,954,238,941,205,927,182,873,130,821,93,769,70,716,55,659,47,598,42,529,36,451,26,393,17,368,19,337,26,303,39,273,58"/>
<area shape="poly" title=" " alt="" coords="265,108,298,136,337,159,383,173,432,181,524,185,524,190,431,186,382,178,335,163,295,140,262,112"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html#d8/d2b/structuloop__timeout" title=" " alt="" coords="535,409,687,443"/>
<area shape="poly" title=" " alt="" coords="703,429,812,441,930,464,962,475,960,480,929,470,811,447,702,434"/>
<area shape="poly" title=" " alt="" coords="572,391,586,385,611,382,634,384,649,390,655,400,650,410,646,407,649,400,645,394,633,389,611,387,588,390,575,396"/>
<area shape="rect" href="../../da/d23/list_8h.html#d9/d93/structlist__head" title=" " alt="" coords="186,425,289,459"/>
<area shape="poly" title=" " alt="" coords="305,436,534,426,535,432,305,441"/>
<area shape="poly" title=" " alt="" coords="215,407,223,401,237,398,251,400,260,407,263,416,261,425,255,424,258,416,255,410,249,405,237,403,225,406,218,412"/>
<area shape="rect" title=" " alt="" coords="207,297,268,331"/>
<area shape="poly" title=" " alt="" coords="283,310,369,311,485,315,616,327,748,347,844,367,884,382,931,410,967,443,992,476,988,479,963,446,928,414,882,387,842,372,747,352,616,332,485,321,369,316,283,316"/>
<area shape="poly" title=" " alt="" coords="283,328,313,341,337,353,440,385,535,409,534,414,438,391,335,358,311,345,281,333"/>
<area shape="rect" title=" " alt="" coords="163,482,312,516"/>
<area shape="poly" title=" " alt="" coords="327,488,388,478,450,463,474,452,534,436,535,442,476,458,452,469,389,484,328,493"/>
<area shape="rect" title=" " alt="" coords="498,467,724,523"/>
<area shape="poly" title=" " alt="" coords="740,492,953,492,953,498,740,498"/>
<area shape="rect" title=" " alt="" coords="498,548,724,605"/>
<area shape="poly" title=" " alt="" coords="739,559,833,543,929,521,960,510,962,515,930,526,834,548,740,564"/>
<area shape="rect" title=" " alt="" coords="482,630,740,664"/>
<area shape="poly" title=" " alt="" coords="715,664,767,667,823,664,878,652,928,628,955,603,974,571,987,539,995,512,1000,513,992,541,979,574,959,607,931,633,879,657,824,669,767,672,714,669"/>
<area shape="rect" title=" " alt="" coords="569,688,654,721"/>
<area shape="poly" title=" " alt="" coords="669,708,738,713,814,715,883,711,909,705,928,696,948,677,964,655,985,603,995,552,998,512,1003,513,1000,553,990,605,968,657,952,681,931,700,911,710,883,716,814,721,738,719,669,713"/>
<area shape="rect" title=" " alt="" coords="475,745,747,779"/>
<area shape="poly" title=" " alt="" coords="695,779,752,786,813,785,874,773,902,761,928,744,941,728,952,703,973,637,987,566,996,512,1001,513,992,567,978,638,957,705,945,731,931,748,905,765,876,778,814,791,751,791,694,784"/>
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a0a033ab27c8b83cc83765b571e7e3a03" name="a0a033ab27c8b83cc83765b571e7e3a03"></a>bool</td>
<td class="fieldname">
eof</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a52805da29f877d02dcae0c25b83fddce" name="a52805da29f877d02dcae0c25b83fddce"></a>void(*)(struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s)</td>
<td class="fieldname">
free</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a58fbae52ba457629fdf149540f5a0375" name="a58fbae52ba457629fdf149540f5a0375"></a>struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>
<td class="fieldname">
next</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a4959c83703e0e81996af057432cce63b" name="a4959c83703e0e81996af057432cce63b"></a>void(*)(struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s, int bytes_new)</td>
<td class="fieldname">
notify_read</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a6070c3efdc219cf92c423b8e775b74cb" name="a6070c3efdc219cf92c423b8e775b74cb"></a>void(*)(struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s)</td>
<td class="fieldname">
notify_state</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a0aff7c2094b736f9462d04842f774aca" name="a0aff7c2094b736f9462d04842f774aca"></a>void(*)(struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s, int bytes)</td>
<td class="fieldname">
notify_write</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a3c2a65857a0fb4fa086cd7cd4dd40766" name="a3c2a65857a0fb4fa086cd7cd4dd40766"></a>uint8_t</td>
<td class="fieldname">
pending_cb</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a7b9a0a6c1be8bdd56bc91035e2423aa2" name="a7b9a0a6c1be8bdd56bc91035e2423aa2"></a>bool(*)(struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s)</td>
<td class="fieldname">
poll</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ad79ec597a16992c722c5156d182121f0" name="ad79ec597a16992c722c5156d182121f0"></a>enum <a class="el" href="#a479afe8b27077dc2b881c848deb1c873">read_blocked_reason</a></td>
<td class="fieldname">
read_blocked</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a38cb0201012c7bdcb8bd0f25b4d8bcdc" name="a38cb0201012c7bdcb8bd0f25b4d8bcdc"></a>void(*)(struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s)</td>
<td class="fieldname">
set_read_blocked</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a6edf9e3eba069a76347d6d9975cc41c5" name="a6edf9e3eba069a76347d6d9975cc41c5"></a>struct <a class="el" href="../../dc/d56/uloop_8h.html#d8/d2b/structuloop__timeout">uloop_timeout</a></td>
<td class="fieldname">
state_change</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af9b356adc7c07f2b279a2897ba59592b" name="af9b356adc7c07f2b279a2897ba59592b"></a>bool</td>
<td class="fieldname">
string_data</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a03853611acd8f4e90eec49c1e183ee87" name="a03853611acd8f4e90eec49c1e183ee87"></a>struct <a class="el" href="#da/dd1/structustream__buf__list">ustream_buf_list</a> <a class="el" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a></td>
<td class="fieldname">
w</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a36cba8d68c57c1a20ab3c077d21fadb7" name="a36cba8d68c57c1a20ab3c077d21fadb7"></a>int(*)(struct <a class="el" href="#d8/d8e/structustream">ustream</a> *s, const char *<a class="el" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, int len, bool more)</td>
<td class="fieldname">
write</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ab5a83f668de8533f03f594fd4851a8fc" name="ab5a83f668de8533f03f594fd4851a8fc"></a>bool</td>
<td class="fieldname">
write_error</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="dc/dcd/structustream__fd" id="dc/dcd/structustream__fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#dc/dcd/structustream__fd">&#9670;&#160;</a></span>ustream_fd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ustream_fd</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../da/d79/ustream_8h_source.html#l00123">123</a> of file <a class="el" href="../../da/d79/ustream_8h_source.html">ustream.h</a>.</p>
</div><div class="dynheader">
Collaboration diagram for ustream_fd:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d12/structustream__fd__coll__graph.png" border="0" usemap="#austream__fd_coll__map" alt="Collaboration graph"/></div>
<map name="austream__fd_coll__map" id="austream__fd_coll__map">
<area shape="rect" title=" " alt="" coords="1169,368,1294,401"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#d8/d8e/structustream" title=" " alt="" coords="953,584,1051,617"/>
<area shape="poly" title=" " alt="" coords="1031,571,1210,400,1214,404,1034,574"/>
<area shape="poly" title=" " alt="" coords="982,566,989,560,1002,557,1014,559,1022,565,1025,574,1023,584,1018,583,1020,575,1018,568,1012,564,1002,562,991,564,985,570"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#da/dd1/structustream__buf__list" title=" " alt="" coords="525,348,698,381"/>
<area shape="poly" title=" " alt="" coords="714,367,768,376,825,391,881,415,931,448,959,480,979,517,992,553,1000,582,995,584,987,555,974,519,955,483,928,452,878,419,823,397,767,381,713,372"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#d9/dc0/structustream__buf" title=" " alt="" coords="169,353,306,387"/>
<area shape="poly" title=" " alt="" coords="322,366,524,363,524,368,322,371"/>
<area shape="poly" title=" " alt="" coords="215,335,223,329,237,326,251,328,260,335,263,344,261,353,255,352,258,344,255,338,249,333,237,331,225,334,218,340"/>
<area shape="rect" title=" " alt="" coords="5,353,68,387"/>
<area shape="poly" title=" " alt="" coords="83,367,168,367,168,372,83,372"/>
<area shape="rect" title=" " alt="" coords="215,25,260,59"/>
<area shape="poly" title=" " alt="" coords="274,27,311,18,356,11,404,10,452,18,538,44,611,70,675,99,731,131,782,171,831,219,880,279,932,352,964,414,984,480,996,540,1002,583,997,584,991,541,979,482,959,416,927,355,875,282,827,223,778,175,728,136,672,103,609,75,536,49,450,23,404,15,357,17,312,23,275,33"/>
<area shape="poly" title=" " alt="" coords="250,73,263,106,282,144,306,181,338,212,352,221,367,225,395,225,423,225,438,230,453,241,464,260,466,278,467,296,477,313,500,331,527,344,525,349,497,336,473,317,462,298,461,279,459,261,449,245,435,235,422,231,395,230,366,230,350,226,334,216,302,184,277,146,258,108,245,74"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html#db/d9e/structuloop__fd" title=" " alt="" coords="561,269,661,303"/>
<area shape="poly" title=" " alt="" coords="276,41,373,49,420,57,452,69,482,90,508,115,553,171,585,226,605,268,600,270,581,228,549,174,505,118,478,94,450,73,418,62,372,55,275,46"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html#d8/d2b/structuloop__timeout" title=" " alt="" coords="535,982,687,1016"/>
<area shape="poly" title=" " alt="" coords="703,1004,760,1002,820,993,878,972,904,957,927,938,943,914,957,878,978,784,991,687,997,617,1002,618,996,688,983,785,962,879,948,916,931,941,907,961,880,977,821,998,760,1008,703,1010"/>
<area shape="poly" title=" " alt="" coords="572,964,586,958,611,956,634,958,649,963,655,973,650,983,646,981,649,973,645,968,633,963,611,961,588,963,575,969"/>
<area shape="rect" href="../../da/d23/list_8h.html#d9/d93/structlist__head" title=" " alt="" coords="186,953,289,987"/>
<area shape="poly" title=" " alt="" coords="305,972,535,990,534,996,305,978"/>
<area shape="poly" title=" " alt="" coords="215,935,223,929,237,926,251,928,260,935,263,944,261,953,255,952,258,944,255,938,249,933,237,931,225,934,218,940"/>
<area shape="rect" title=" " alt="" coords="207,650,268,684"/>
<area shape="poly" title=" " alt="" coords="283,666,485,668,615,663,747,652,858,633,952,611,954,616,859,639,748,658,616,669,485,673,283,671"/>
<area shape="poly" title=" " alt="" coords="262,694,351,800,411,863,477,921,526,954,573,979,571,984,523,958,473,925,407,867,347,804,258,698"/>
<area shape="poly" title=" " alt="" coords="272,638,314,603,362,557,409,502,449,442,457,412,457,386,458,361,463,347,473,333,492,316,514,304,560,289,562,294,516,309,495,321,477,337,468,350,463,362,462,386,463,413,453,444,413,505,366,560,317,607,276,642"/>
<area shape="rect" title=" " alt="" coords="163,1010,312,1044"/>
<area shape="poly" title=" " alt="" coords="328,1025,451,1021,534,1010,535,1015,451,1026,328,1031"/>
<area shape="rect" title=" " alt="" coords="498,715,724,771"/>
<area shape="poly" title=" " alt="" coords="740,751,787,748,836,741,884,727,928,706,951,687,969,663,992,617,997,619,974,666,955,691,931,711,886,732,837,746,788,754,740,756"/>
<area shape="rect" title=" " alt="" coords="498,796,724,853"/>
<area shape="poly" title=" " alt="" coords="740,817,851,804,897,793,928,778,945,762,960,742,980,697,992,652,997,617,1002,618,997,653,985,698,964,744,949,765,931,783,899,798,852,809,741,822"/>
<area shape="rect" title=" " alt="" coords="482,877,740,911"/>
<area shape="poly" title=" " alt="" coords="756,907,859,908,900,902,928,890,942,871,956,842,976,763,990,680,996,617,1002,618,995,680,981,764,961,843,947,874,931,894,902,907,859,913,756,912"/>
<area shape="rect" title=" " alt="" coords="195,248,280,281"/>
<area shape="poly" title=" " alt="" coords="296,277,314,292,328,319,332,345,329,371,322,396,317,420,315,444,321,466,337,487,358,492,404,496,540,499,747,502,842,506,882,512,931,531,964,555,989,581,985,585,961,559,928,536,881,518,841,511,747,507,539,505,404,501,357,497,335,492,316,468,310,444,311,420,317,395,323,370,327,345,323,320,310,295,292,281"/>
<area shape="poly" title=" " alt="" coords="296,265,561,280,560,285,295,270"/>
<area shape="rect" title=" " alt="" coords="475,517,747,551"/>
<area shape="poly" title=" " alt="" coords="729,551,953,589,952,595,728,556"/>
<area shape="poly" title=" " alt="" coords="677,293,1169,372,1168,377,676,299"/>
<area shape="poly" title=" " alt="" coords="572,251,586,245,611,242,634,244,649,250,655,260,650,270,646,267,649,260,645,254,633,249,611,247,588,250,575,256"/>
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a0bca51b2e8287eeab242d9aaf262afb4" name="a0bca51b2e8287eeab242d9aaf262afb4"></a>struct <a class="el" href="../../dc/d56/uloop_8h.html#db/d9e/structuloop__fd">uloop_fd</a></td>
<td class="fieldname">
fd</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a4243590de8945ac3666b7b8947c55b0f" name="a4243590de8945ac3666b7b8947c55b0f"></a>struct <a class="el" href="#d8/d8e/structustream">ustream</a></td>
<td class="fieldname">
stream</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d9/dc0/structustream__buf" id="d9/dc0/structustream__buf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d9/dc0/structustream__buf">&#9670;&#160;</a></span>ustream_buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ustream_buf</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../da/d79/ustream_8h_source.html#l00128">128</a> of file <a class="el" href="../../da/d79/ustream_8h_source.html">ustream.h</a>.</p>
</div><div class="dynheader">
Collaboration diagram for ustream_buf:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d62/structustream__buf__coll__graph.png" border="0" usemap="#austream__buf_coll__map" alt="Collaboration graph"/></div>
<map name="austream__buf_coll__map" id="austream__buf_coll__map">
<area shape="rect" title=" " alt="" coords="5,179,143,213"/>
<area shape="poly" title=" " alt="" coords="159,182,166,187,169,196,162,208,144,214,142,209,158,204,164,196,162,191,156,186"/>
<area shape="rect" title=" " alt="" coords="43,5,105,39"/>
<area shape="poly" title=" " alt="" coords="77,54,77,179,71,179,71,54"/>
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="abdb0a0d252a71d877f92bb4159f027a7" name="abdb0a0d252a71d877f92bb4159f027a7"></a>char *</td>
<td class="fieldname">
data</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac837d6addf424ba56de98baec5e6235d" name="ac837d6addf424ba56de98baec5e6235d"></a>char *</td>
<td class="fieldname">
end</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac7755d01206334afd5b0977f1d813973" name="ac7755d01206334afd5b0977f1d813973"></a>char</td>
<td class="fieldname">
head[]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ab664a1d47378eec9f4feee70e9fdec4f" name="ab664a1d47378eec9f4feee70e9fdec4f"></a>struct <a class="el" href="#d9/dc0/structustream__buf">ustream_buf</a> *</td>
<td class="fieldname">
next</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac485edc30dbc1daa9bdc1cca27ed7995" name="ac485edc30dbc1daa9bdc1cca27ed7995"></a>char *</td>
<td class="fieldname">
tail</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a479afe8b27077dc2b881c848deb1c873" name="a479afe8b27077dc2b881c848deb1c873"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a479afe8b27077dc2b881c848deb1c873">&#9670;&#160;</a></span>read_blocked_reason</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a479afe8b27077dc2b881c848deb1c873">read_blocked_reason</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="3">Enumerator</th></tr><tr><td class="fieldname"><a id="a479afe8b27077dc2b881c848deb1c873a9aa15061cf346a26036de7f024b1d726" name="a479afe8b27077dc2b881c848deb1c873a9aa15061cf346a26036de7f024b1d726"></a>READ_BLOCKED_USER&#160;</td><td class="fieldinit">(1 &lt;&lt; 0)&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a479afe8b27077dc2b881c848deb1c873a22e5f87455357c21e4922c63c4580f77" name="a479afe8b27077dc2b881c848deb1c873a22e5f87455357c21e4922c63c4580f77"></a>READ_BLOCKED_FULL&#160;</td><td class="fieldinit">(1 &lt;&lt; 1)&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../da/d79/ustream_8h_source.html#l00028">28</a> of file <a class="el" href="../../da/d79/ustream_8h_source.html">ustream.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   28</span>                         {</div>
<div class="line"><span class="lineno">   29</span>    <a class="code hl_enumvalue" href="#a479afe8b27077dc2b881c848deb1c873a9aa15061cf346a26036de7f024b1d726">READ_BLOCKED_USER</a> = (1 &lt;&lt; 0),</div>
<div class="line"><span class="lineno">   30</span>    <a class="code hl_enumvalue" href="#a479afe8b27077dc2b881c848deb1c873a22e5f87455357c21e4922c63c4580f77">READ_BLOCKED_FULL</a> = (1 &lt;&lt; 1),</div>
<div class="line"><span class="lineno">   31</span>};</div>
<div class="ttc" id="austream_8h_html_a479afe8b27077dc2b881c848deb1c873a22e5f87455357c21e4922c63c4580f77"><div class="ttname"><a href="#a479afe8b27077dc2b881c848deb1c873a22e5f87455357c21e4922c63c4580f77">READ_BLOCKED_FULL</a></div><div class="ttdeci">@ READ_BLOCKED_FULL</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00030">ustream.h:30</a></div></div>
<div class="ttc" id="austream_8h_html_a479afe8b27077dc2b881c848deb1c873a9aa15061cf346a26036de7f024b1d726"><div class="ttname"><a href="#a479afe8b27077dc2b881c848deb1c873a9aa15061cf346a26036de7f024b1d726">READ_BLOCKED_USER</a></div><div class="ttdeci">@ READ_BLOCKED_USER</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00029">ustream.h:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6e2924135643035597d360c6dcb0a294" name="a6e2924135643035597d360c6dcb0a294"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e2924135643035597d360c6dcb0a294">&#9670;&#160;</a></span>ustream_consume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ustream_consume </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d26/ustream_8c_source.html#l00215">215</a> of file <a class="el" href="../../d6/d26/ustream_8c_source.html">ustream.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  216</span>{</div>
<div class="line"><span class="lineno">  217</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d9/dc0/structustream__buf">ustream_buf</a> *<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> = s-&gt;r.head;</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">if</span> (!len)</div>
<div class="line"><span class="lineno">  220</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>    s-&gt;r.data_bytes -= len;</div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">if</span> (s-&gt;r.data_bytes &lt; 0)</div>
<div class="line"><span class="lineno">  224</span>        abort();</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  227</span>        <span class="keyword">struct </span><a class="code hl_struct" href="#d9/dc0/structustream__buf">ustream_buf</a> *<a class="code hl_variable" href="#ab664a1d47378eec9f4feee70e9fdec4f">next</a> = <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;next;</div>
<div class="line"><span class="lineno">  228</span>        <span class="keywordtype">int</span> buf_len = <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;tail - <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;data;</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>        <span class="keywordflow">if</span> (len &lt; buf_len) {</div>
<div class="line"><span class="lineno">  231</span>            <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;data += len;</div>
<div class="line"><span class="lineno">  232</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  233</span>        }</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>        len -= buf_len;</div>
<div class="line"><span class="lineno">  236</span>        <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a63bfcff990b542772fd9fbc5b6e1f870">ustream_free_buf</a>(&amp;s-&gt;r, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>);</div>
<div class="line"><span class="lineno">  237</span>        <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> = <a class="code hl_variable" href="#ab664a1d47378eec9f4feee70e9fdec4f">next</a>;</div>
<div class="line"><span class="lineno">  238</span>    } <span class="keywordflow">while</span>(len);</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>    <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f">__ustream_set_read_blocked</a>(s, s-&gt;<a class="code hl_variable" href="#ad79ec597a16992c722c5156d182121f0">read_blocked</a> &amp; ~<a class="code hl_enumvalue" href="#a479afe8b27077dc2b881c848deb1c873a22e5f87455357c21e4922c63c4580f77">READ_BLOCKED_FULL</a>);</div>
<div class="line"><span class="lineno">  241</span>}</div>
<div class="ttc" id="amkdev_8c_html_a024e65f7d9664cdc767f51c283fd8353"><div class="ttname"><a href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a></div><div class="ttdeci">static char buf[PATH_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d9a/mkdev_8c_source.html#l00034">mkdev.c:34</a></div></div>
<div class="ttc" id="austream_8c_html_a63bfcff990b542772fd9fbc5b6e1f870"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a63bfcff990b542772fd9fbc5b6e1f870">ustream_free_buf</a></div><div class="ttdeci">static void ustream_free_buf(struct ustream_buf_list *l, struct ustream_buf *buf)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00175">ustream.c:175</a></div></div>
<div class="ttc" id="austream_8c_html_a6665fc275e6233416683c9b76908a53f"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f">__ustream_set_read_blocked</a></div><div class="ttdeci">static void __ustream_set_read_blocked(struct ustream *s, unsigned char val)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00196">ustream.c:196</a></div></div>
<div class="ttc" id="austream_8h_html_ab664a1d47378eec9f4feee70e9fdec4f"><div class="ttname"><a href="#ab664a1d47378eec9f4feee70e9fdec4f">ustream_buf::next</a></div><div class="ttdeci">struct ustream_buf * next</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00129">ustream.h:129</a></div></div>
<div class="ttc" id="austream_8h_html_ad79ec597a16992c722c5156d182121f0"><div class="ttname"><a href="#ad79ec597a16992c722c5156d182121f0">ustream::read_blocked</a></div><div class="ttdeci">enum read_blocked_reason read_blocked</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00120">ustream.h:120</a></div></div>
<div class="ttc" id="austream_8h_html_d9/dc0/structustream__buf"><div class="ttname"><a href="#d9/dc0/structustream__buf">ustream_buf</a></div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00128">ustream.h:128</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d26/ustream_8c_source.html#l00196">__ustream_set_read_blocked()</a>, <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00129">ustream_buf::next</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00120">ustream::read_blocked</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00030">READ_BLOCKED_FULL</a>, and <a class="el" href="../../d6/d26/ustream_8c_source.html#l00175">ustream_free_buf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dc0/uxc_8c_source.html#l00485">client_cb()</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00025">client_read_cb()</a>, <a class="el" href="../../d2/d28/instance_8c_source.html#l00732">instance_console()</a>, <a class="el" href="../../d2/d28/instance_8c_source.html#l00754">instance_console_client()</a>, <a class="el" href="../../d2/d28/instance_8c_source.html#l00694">instance_stdio()</a>, <a class="el" href="../../da/dc0/uxc_8c_source.html#l00505">local_cb()</a>, <a class="el" href="../../d1/dd7/netifd_2main_8c_source.html#l00140">netifd_process_log_read_cb()</a>, <a class="el" href="../../d1/d5c/rcS_8c_source.html#l00046">pipe_cb()</a>, <a class="el" href="../../df/dc9/exec_8c_source.html#l00230">rpc_exec_epipe_read_cb()</a>, <a class="el" href="../../df/dc9/exec_8c_source.html#l00200">rpc_exec_opipe_read_cb()</a>, <a class="el" href="../../dd/d93/client_8c_source.html#l00141">test_client_fd_data_cb()</a>, and <a class="el" href="../../d6/d26/ustream_8c_source.html#l00351">ustream_read()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d79/ustream_8h_a6e2924135643035597d360c6dcb0a294_cgraph.png" border="0" usemap="#ada/d79/ustream_8h_a6e2924135643035597d360c6dcb0a294_cgraph" alt=""/></div>
<map name="ada/d79/ustream_8h_a6e2924135643035597d360c6dcb0a294_cgraph" id="ada/d79/ustream_8h_a6e2924135643035597d360c6dcb0a294_cgraph">
<area shape="rect" title=" " alt="" coords="5,52,196,85"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f" title=" " alt="" coords="244,5,446,62"/>
<area shape="poly" title=" " alt="" coords="196,52,228,48,228,53,197,57"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a63bfcff990b542772fd9fbc5b6e1f870" title=" " alt="" coords="254,86,436,120"/>
<area shape="poly" title=" " alt="" coords="197,79,238,85,238,91,196,85"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a64710c908502c6d43dc365d365e28370" title=" " alt="" coords="494,57,675,91"/>
<area shape="poly" title=" " alt="" coords="436,89,478,84,479,89,437,94"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a3a72c25243ae144e230cc375fa016aac" title=" " alt="" coords="497,114,672,148"/>
<area shape="poly" title=" " alt="" coords="437,111,482,116,481,122,436,116"/>
</map>
</div>

</div>
</div>
<a id="a189ba25992264db14697536cff558ed8" name="a189ba25992264db14697536cff558ed8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a189ba25992264db14697536cff558ed8">&#9670;&#160;</a></span>ustream_fd_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ustream_fd_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#dc/dcd/structustream__fd">ustream_fd</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00160">160</a> of file <a class="el" href="../../db/d70/ustream-fd_8c_source.html">ustream-fd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  161</span>{</div>
<div class="line"><span class="lineno">  162</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d8/d8e/structustream">ustream</a> *s = &amp;sf-&gt;<a class="code hl_variable" href="#a4243590de8945ac3666b7b8947c55b0f">stream</a>;</div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a4fd8792e264b0d96920fc7bc741a530d">ustream_init_defaults</a>(s);</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>    sf-&gt;fd.fd = fd;</div>
<div class="line"><span class="lineno">  167</span>    sf-&gt;fd.cb = <a class="code hl_function" href="../../db/d70/ustream-fd_8c.html#a7ce37220303d8df1bf648645a88bd3e9">ustream_uloop_cb</a>;</div>
<div class="line"><span class="lineno">  168</span>    s-&gt;<a class="code hl_variable" href="#a38cb0201012c7bdcb8bd0f25b4d8bcdc">set_read_blocked</a> = <a class="code hl_function" href="../../db/d70/ustream-fd_8c.html#a64ffdd9b78d6b923a98f1f82067fc6ae">ustream_fd_set_read_blocked</a>;</div>
<div class="line"><span class="lineno">  169</span>    s-&gt;<a class="code hl_variable" href="#a36cba8d68c57c1a20ab3c077d21fadb7">write</a> = <a class="code hl_function" href="../../db/d70/ustream-fd_8c.html#a1a4319f10cc2c3a3f20af3fdc27e2d77">ustream_fd_write</a>;</div>
<div class="line"><span class="lineno">  170</span>    s-&gt;<a class="code hl_variable" href="#a52805da29f877d02dcae0c25b83fddce">free</a> = <a class="code hl_function" href="../../db/d70/ustream-fd_8c.html#a49c9339ef140d0df2e16b187760e9ad6">ustream_fd_free</a>;</div>
<div class="line"><span class="lineno">  171</span>    s-&gt;<a class="code hl_variable" href="#a7b9a0a6c1be8bdd56bc91035e2423aa2">poll</a> = <a class="code hl_function" href="../../db/d70/ustream-fd_8c.html#a3f629385f1e131dcb62d6aad6ec03de7">ustream_fd_poll</a>;</div>
<div class="line"><span class="lineno">  172</span>    <a class="code hl_function" href="../../db/d70/ustream-fd_8c.html#a16f1933feaa2425d7811875086609290">ustream_fd_set_uloop</a>(s, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  173</span>}</div>
<div class="ttc" id="austream-fd_8c_html_a16f1933feaa2425d7811875086609290"><div class="ttname"><a href="../../db/d70/ustream-fd_8c.html#a16f1933feaa2425d7811875086609290">ustream_fd_set_uloop</a></div><div class="ttdeci">static void ustream_fd_set_uloop(struct ustream *s, bool write)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d70/ustream-fd_8c_source.html#l00024">ustream-fd.c:24</a></div></div>
<div class="ttc" id="austream-fd_8c_html_a1a4319f10cc2c3a3f20af3fdc27e2d77"><div class="ttname"><a href="../../db/d70/ustream-fd_8c.html#a1a4319f10cc2c3a3f20af3fdc27e2d77">ustream_fd_write</a></div><div class="ttdeci">static int ustream_fd_write(struct ustream *s, const char *buf, int buflen, bool more)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d70/ustream-fd_8c_source.html#l00084">ustream-fd.c:84</a></div></div>
<div class="ttc" id="austream-fd_8c_html_a3f629385f1e131dcb62d6aad6ec03de7"><div class="ttname"><a href="../../db/d70/ustream-fd_8c.html#a3f629385f1e131dcb62d6aad6ec03de7">ustream_fd_poll</a></div><div class="ttdeci">static bool ustream_fd_poll(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d70/ustream-fd_8c_source.html#l00139">ustream-fd.c:139</a></div></div>
<div class="ttc" id="austream-fd_8c_html_a49c9339ef140d0df2e16b187760e9ad6"><div class="ttname"><a href="../../db/d70/ustream-fd_8c.html#a49c9339ef140d0df2e16b187760e9ad6">ustream_fd_free</a></div><div class="ttdeci">static void ustream_fd_free(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d70/ustream-fd_8c_source.html#l00153">ustream-fd.c:153</a></div></div>
<div class="ttc" id="austream-fd_8c_html_a64ffdd9b78d6b923a98f1f82067fc6ae"><div class="ttname"><a href="../../db/d70/ustream-fd_8c.html#a64ffdd9b78d6b923a98f1f82067fc6ae">ustream_fd_set_read_blocked</a></div><div class="ttdeci">static void ustream_fd_set_read_blocked(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d70/ustream-fd_8c_source.html#l00040">ustream-fd.c:40</a></div></div>
<div class="ttc" id="austream-fd_8c_html_a7ce37220303d8df1bf648645a88bd3e9"><div class="ttname"><a href="../../db/d70/ustream-fd_8c.html#a7ce37220303d8df1bf648645a88bd3e9">ustream_uloop_cb</a></div><div class="ttdeci">static void ustream_uloop_cb(struct uloop_fd *fd, unsigned int events)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d70/ustream-fd_8c_source.html#l00146">ustream-fd.c:146</a></div></div>
<div class="ttc" id="austream_8c_html_a4fd8792e264b0d96920fc7bc741a530d"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a4fd8792e264b0d96920fc7bc741a530d">ustream_init_defaults</a></div><div class="ttdeci">void ustream_init_defaults(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00114">ustream.c:114</a></div></div>
<div class="ttc" id="austream_8h_html_a36cba8d68c57c1a20ab3c077d21fadb7"><div class="ttname"><a href="#a36cba8d68c57c1a20ab3c077d21fadb7">ustream::write</a></div><div class="ttdeci">int(* write)(struct ustream *s, const char *buf, int len, bool more)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00088">ustream.h:88</a></div></div>
<div class="ttc" id="austream_8h_html_a38cb0201012c7bdcb8bd0f25b4d8bcdc"><div class="ttname"><a href="#a38cb0201012c7bdcb8bd0f25b4d8bcdc">ustream::set_read_blocked</a></div><div class="ttdeci">void(* set_read_blocked)(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00101">ustream.h:101</a></div></div>
<div class="ttc" id="austream_8h_html_a4243590de8945ac3666b7b8947c55b0f"><div class="ttname"><a href="#a4243590de8945ac3666b7b8947c55b0f">ustream_fd::stream</a></div><div class="ttdeci">struct ustream stream</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00124">ustream.h:124</a></div></div>
<div class="ttc" id="austream_8h_html_a52805da29f877d02dcae0c25b83fddce"><div class="ttname"><a href="#a52805da29f877d02dcae0c25b83fddce">ustream::free</a></div><div class="ttdeci">void(* free)(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00094">ustream.h:94</a></div></div>
<div class="ttc" id="austream_8h_html_a7b9a0a6c1be8bdd56bc91035e2423aa2"><div class="ttname"><a href="#a7b9a0a6c1be8bdd56bc91035e2423aa2">ustream::poll</a></div><div class="ttdeci">bool(* poll)(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00109">ustream.h:109</a></div></div>
<div class="ttc" id="austream_8h_html_d8/d8e/structustream"><div class="ttname"><a href="#d8/d8e/structustream">ustream</a></div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00049">ustream.h:49</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d56/uloop_8h_source.html#l00064">uloop_fd::cb</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00065">uloop_fd::fd</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00125">ustream_fd::fd</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00094">ustream::free</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00109">ustream::poll</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00101">ustream::set_read_blocked</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00153">ustream_fd_free()</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00139">ustream_fd_poll()</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00040">ustream_fd_set_read_blocked()</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00024">ustream_fd_set_uloop()</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00084">ustream_fd_write()</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00114">ustream_init_defaults()</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00146">ustream_uloop_cb()</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00088">ustream::write</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d1d/service_8c_source.html#l00858">container_handle_console()</a>, <a class="el" href="../../d2/d28/instance_8c_source.html#l00611">instance_start()</a>, <a class="el" href="../../d1/dd7/netifd_2main_8c_source.html#l00194">netifd_start_process()</a>, <a class="el" href="../../d1/d5c/rcS_8c_source.html#l00069">q_initd_run()</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00085">server_cb()</a>, <a class="el" href="../../dd/d93/client_8c_source.html#l00159">test_client_fd_cb()</a>, and <a class="el" href="../../da/dc0/uxc_8c_source.html#l00528">uxc_attach()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d79/ustream_8h_a189ba25992264db14697536cff558ed8_cgraph.png" border="0" usemap="#ada/d79/ustream_8h_a189ba25992264db14697536cff558ed8_cgraph" alt=""/></div>
<map name="ada/d79/ustream_8h_a189ba25992264db14697536cff558ed8_cgraph" id="ada/d79/ustream_8h_a189ba25992264db14697536cff558ed8_cgraph">
<area shape="rect" title=" " alt="" coords="5,179,169,212"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a49c9339ef140d0df2e16b187760e9ad6" title=" " alt="" coords="474,20,644,54"/>
<area shape="poly" title=" " alt="" coords="96,177,115,150,142,116,176,84,215,58,276,37,339,26,401,22,459,23,458,28,402,27,340,31,277,42,218,63,179,88,146,120,119,153,101,180"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a3f629385f1e131dcb62d6aad6ec03de7" title=" " alt="" coords="227,233,395,267"/>
<area shape="poly" title=" " alt="" coords="160,210,225,226,224,232,158,216"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a16f1933feaa2425d7811875086609290" title=" " alt="" coords="1041,123,1263,156"/>
<area shape="poly" title=" " alt="" coords="169,185,216,181,662,155,1025,141,1025,146,662,160,217,186,169,190"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a64ffdd9b78d6b923a98f1f82067fc6ae" title=" " alt="" coords="453,182,665,239"/>
<area shape="poly" title=" " alt="" coords="169,195,438,204,438,209,169,201"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a1a4319f10cc2c3a3f20af3fdc27e2d77" title=" " alt="" coords="221,73,401,107"/>
<area shape="poly" title=" " alt="" coords="117,176,216,124,246,111,248,116,218,129,119,181"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a4fd8792e264b0d96920fc7bc741a530d" title=" " alt="" coords="734,563,953,596"/>
<area shape="poly" title=" " alt="" coords="102,211,149,271,181,305,218,335,285,376,355,414,428,447,501,477,638,524,752,556,750,561,637,529,499,482,426,452,353,419,282,381,215,339,178,309,145,274,98,214"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a7ce37220303d8df1bf648645a88bd3e9" title=" " alt="" coords="217,291,405,324"/>
<area shape="poly" title=" " alt="" coords="112,211,159,244,218,277,230,282,228,287,215,282,156,248,109,215"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="1638,33,1805,67"/>
<area shape="poly" title=" " alt="" coords="645,35,1623,46,1622,52,645,40"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#ae98d2f54596aacb1f0f176d0e565e2e2" title=" " alt="" coords="1902,5,2086,39"/>
<area shape="poly" title=" " alt="" coords="1805,39,1886,31,1886,36,1805,44"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#abe443fe3f794c14f0aaa0c5f18a27ddd" title=" " alt="" coords="1884,63,2104,96"/>
<area shape="poly" title=" " alt="" coords="1805,56,1869,63,1869,69,1805,62"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#ab4192dcd29172ce7501c6b899bf2f192" title=" " alt="" coords="467,287,652,320"/>
<area shape="poly" title=" " alt="" coords="393,265,463,280,462,285,392,270"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a6d481a5ffd124ec038012fde40d4d67c" title=" " alt="" coords="713,284,974,318"/>
<area shape="poly" title=" " alt="" coords="652,300,698,300,698,305,652,305"/>
<area shape="poly" title=" " alt="" coords="641,283,823,241,910,217,973,196,996,180,1020,165,1037,159,1039,164,1023,170,999,185,975,201,912,222,824,246,642,289"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add76dce88c832892b8971ab19c766aab" title=" " alt="" coords="1330,393,1559,427"/>
<area shape="poly" title=" " alt="" coords="653,318,714,328,1038,368,1315,396,1314,401,1038,373,713,333,652,323"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a7460ade35d8721c6dbac14e9cfab4b8c" title=" " alt="" coords="725,423,962,456"/>
<area shape="poly" title=" " alt="" coords="597,318,714,376,793,413,791,418,712,381,594,323"/>
<area shape="poly" title=" " alt="" coords="941,281,972,263,983,251,989,240,995,215,1001,190,1008,177,1020,165,1026,161,1029,166,1023,170,1012,181,1006,192,1000,216,994,242,987,255,975,267,944,286"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa7150fd97e4c632a01ba95a19614fcd0" title=" " alt="" coords="1063,237,1241,271"/>
<area shape="poly" title=" " alt="" coords="959,281,1047,267,1048,273,959,286"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a48eb6688bc7551e8fa0f5fe45c3ff767" title=" " alt="" coords="1064,180,1240,214"/>
<area shape="poly" title=" " alt="" coords="926,281,972,262,986,253,996,243,1005,232,1020,222,1048,211,1050,216,1023,227,1009,236,999,246,990,257,975,267,928,286"/>
<area shape="poly" title=" " alt="" coords="975,299,1123,310,1204,322,1283,338,1344,359,1399,383,1396,388,1342,364,1281,343,1203,327,1123,316,974,305"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0" title=" " alt="" coords="1373,95,1517,128"/>
<area shape="poly" title=" " alt="" coords="1263,126,1357,117,1357,122,1264,132"/>
<area shape="poly" title=" " alt="" coords="1517,93,1627,68,1628,74,1518,98"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#a1b6212744c4241320adc3a2170525f20" title=" " alt="" coords="1654,95,1789,128"/>
<area shape="poly" title=" " alt="" coords="1517,109,1639,109,1639,114,1517,114"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a4f850d5efa8e096ca116a2b98a68bd16" title=" " alt="" coords="1613,299,1830,332"/>
<area shape="poly" title=" " alt="" coords="1228,269,1330,288,1469,302,1598,309,1598,314,1468,307,1330,293,1227,274"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f" title=" " alt="" coords="1344,163,1546,220"/>
<area shape="poly" title=" " alt="" coords="1240,193,1328,191,1328,196,1240,198"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0ed3a1f1af94d311249c4b34b9e937d3" title=" " alt="" coords="1336,244,1553,278"/>
<area shape="poly" title=" " alt="" coords="1235,212,1283,222,1351,238,1350,243,1281,227,1233,217"/>
<area shape="poly" title=" " alt="" coords="1534,276,1618,292,1617,298,1533,281"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa67ddac4c773e0d21f6626bf2371f8d2" title=" " alt="" coords="1899,244,2089,278"/>
<area shape="poly" title=" " alt="" coords="1554,258,1883,258,1883,264,1554,264"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a09dacab33f0a207388ab373c77fd45b3" title=" " alt="" coords="1607,189,1836,223"/>
<area shape="poly" title=" " alt="" coords="1533,241,1617,224,1618,229,1534,246"/>
<area shape="poly" title=" " alt="" coords="1809,221,1892,238,1891,243,1808,226"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="1627,617,1816,651"/>
<area shape="poly" title=" " alt="" coords="1540,425,1561,436,1608,474,1649,519,1682,564,1706,602,1701,605,1678,567,1645,522,1605,478,1558,440,1537,430"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1918,675,2070,708"/>
<area shape="poly" title=" " alt="" coords="1805,649,1903,670,1902,675,1804,654"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="1896,560,2092,594"/>
<area shape="poly" title=" " alt="" coords="1804,614,1895,595,1896,600,1805,619"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="1884,617,2104,651"/>
<area shape="poly" title=" " alt="" coords="1817,632,1868,632,1868,637,1817,637"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="2152,560,2281,594"/>
<area shape="poly" title=" " alt="" coords="2092,574,2136,574,2136,580,2092,580"/>
<area shape="poly" title=" " alt="" coords="963,431,1315,414,1315,419,963,436"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a63bfcff990b542772fd9fbc5b6e1f870" title=" " alt="" coords="1061,505,1243,539"/>
<area shape="poly" title=" " alt="" coords="898,454,1022,492,1051,499,1050,504,1021,497,896,460"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a90259dc27343d0ee765236e3e42302da" title=" " alt="" coords="1049,448,1255,482"/>
<area shape="poly" title=" " alt="" coords="963,447,1034,452,1033,458,962,452"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a64710c908502c6d43dc365d365e28370" title=" " alt="" coords="1354,451,1535,484"/>
<area shape="poly" title=" " alt="" coords="1243,503,1338,485,1339,490,1244,508"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a3a72c25243ae144e230cc375fa016aac" title=" " alt="" coords="1357,508,1532,542"/>
<area shape="poly" title=" " alt="" coords="1243,520,1342,521,1342,527,1243,526"/>
<area shape="poly" title=" " alt="" coords="1245,445,1335,428,1336,433,1246,450"/>
<area shape="poly" title=" " alt="" coords="666,196,973,161,1025,154,1025,160,974,166,666,202"/>
<area shape="poly" title=" " alt="" coords="402,92,974,124,1025,127,1025,132,974,129,401,97"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0021585123abbcd1c4a25ba6a7ffb599" title=" " alt="" coords="1041,563,1263,596"/>
<area shape="poly" title=" " alt="" coords="953,577,1025,577,1025,582,953,582"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aae83a7acd40d935b0e000c15f017c2fc" title=" " alt="" coords="1022,620,1282,654"/>
<area shape="poly" title=" " alt="" coords="938,594,1043,614,1042,619,937,600"/>
<area shape="poly" title=" " alt="" coords="1264,585,1331,586,1406,582,1484,571,1558,552,1622,526,1685,494,1744,458,1800,420,1896,345,1962,286,1966,290,1899,349,1803,424,1747,463,1687,499,1625,531,1560,557,1485,576,1407,587,1331,591,1263,591"/>
<area shape="poly" title=" " alt="" coords="1259,560,1281,549,1295,536,1304,522,1313,507,1328,493,1338,488,1341,493,1332,498,1317,511,1308,525,1299,540,1283,554,1261,565"/>
<area shape="poly" title=" " alt="" coords="1245,559,1341,541,1342,547,1246,565"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc" title=" " alt="" coords="1336,620,1553,654"/>
<area shape="poly" title=" " alt="" coords="1283,634,1320,634,1320,640,1283,640"/>
<area shape="poly" title=" " alt="" coords="405,303,451,303,451,308,405,309"/>
</map>
</div>

</div>
</div>
<a id="aa7150fd97e4c632a01ba95a19614fcd0" name="aa7150fd97e4c632a01ba95a19614fcd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7150fd97e4c632a01ba95a19614fcd0">&#9670;&#160;</a></span>ustream_fill_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ustream_fill_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d26/ustream_8c_source.html#l00302">302</a> of file <a class="el" href="../../d6/d26/ustream_8c_source.html">ustream.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  303</span>{</div>
<div class="line"><span class="lineno">  304</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d9/dc0/structustream__buf">ustream_buf</a> *<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> = s-&gt;r.data_tail;</div>
<div class="line"><span class="lineno">  305</span>    <span class="keywordtype">int</span> maxlen;</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>    s-&gt;r.data_bytes += len;</div>
<div class="line"><span class="lineno">  308</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  309</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>)</div>
<div class="line"><span class="lineno">  310</span>            abort();</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>        maxlen = <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;end - <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;tail;</div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordflow">if</span> (len &lt; maxlen)</div>
<div class="line"><span class="lineno">  314</span>            maxlen = len;</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>        len -= maxlen;</div>
<div class="line"><span class="lineno">  317</span>        <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;tail += maxlen;</div>
<div class="line"><span class="lineno">  318</span>        <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a4f850d5efa8e096ca116a2b98a68bd16">ustream_fixup_string</a>(s, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>);</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>        s-&gt;r.data_tail = <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>;</div>
<div class="line"><span class="lineno">  321</span>        <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> = <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;next;</div>
<div class="line"><span class="lineno">  322</span>    } <span class="keywordflow">while</span> (len);</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">if</span> (s-&gt;<a class="code hl_variable" href="#a4959c83703e0e81996af057432cce63b">notify_read</a>) {</div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordflow">if</span> (s-&gt;<a class="code hl_variable" href="#a3c2a65857a0fb4fa086cd7cd4dd40766">pending_cb</a> &amp; <a class="code hl_define" href="../../d6/d26/ustream_8c.html#ac8d0e3751152862a29010d8c8eba87b2">CB_PENDING_READ</a>)</div>
<div class="line"><span class="lineno">  326</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>        s-&gt;<a class="code hl_variable" href="#a3c2a65857a0fb4fa086cd7cd4dd40766">pending_cb</a> |= <a class="code hl_define" href="../../d6/d26/ustream_8c.html#ac8d0e3751152862a29010d8c8eba87b2">CB_PENDING_READ</a>;</div>
<div class="line"><span class="lineno">  329</span>        s-&gt;<a class="code hl_variable" href="#a4959c83703e0e81996af057432cce63b">notify_read</a>(s, s-&gt;r.data_bytes);</div>
<div class="line"><span class="lineno">  330</span>        s-&gt;<a class="code hl_variable" href="#a3c2a65857a0fb4fa086cd7cd4dd40766">pending_cb</a> &amp;= ~CB_PENDING_READ;</div>
<div class="line"><span class="lineno">  331</span>    }</div>
<div class="line"><span class="lineno">  332</span>}</div>
<div class="ttc" id="austream_8c_html_a4f850d5efa8e096ca116a2b98a68bd16"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a4f850d5efa8e096ca116a2b98a68bd16">ustream_fixup_string</a></div><div class="ttdeci">static void ustream_fixup_string(struct ustream *s, struct ustream_buf *buf)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00243">ustream.c:243</a></div></div>
<div class="ttc" id="austream_8c_html_ac8d0e3751152862a29010d8c8eba87b2"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#ac8d0e3751152862a29010d8c8eba87b2">CB_PENDING_READ</a></div><div class="ttdeci">#define CB_PENDING_READ</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00027">ustream.c:27</a></div></div>
<div class="ttc" id="austream_8h_html_a3c2a65857a0fb4fa086cd7cd4dd40766"><div class="ttname"><a href="#a3c2a65857a0fb4fa086cd7cd4dd40766">ustream::pending_cb</a></div><div class="ttdeci">uint8_t pending_cb</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00118">ustream.h:118</a></div></div>
<div class="ttc" id="austream_8h_html_a4959c83703e0e81996af057432cce63b"><div class="ttname"><a href="#a4959c83703e0e81996af057432cce63b">ustream::notify_read</a></div><div class="ttdeci">void(* notify_read)(struct ustream *s, int bytes_new)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00060">ustream.h:60</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00027">CB_PENDING_READ</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00060">ustream::notify_read</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00118">ustream::pending_cb</a>, and <a class="el" href="../../d6/d26/ustream_8c_source.html#l00243">ustream_fixup_string()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00045">ustream_fd_read_pending()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d79/ustream_8h_aa7150fd97e4c632a01ba95a19614fcd0_cgraph.png" border="0" usemap="#ada/d79/ustream_8h_aa7150fd97e4c632a01ba95a19614fcd0_cgraph" alt=""/></div>
<map name="ada/d79/ustream_8h_aa7150fd97e4c632a01ba95a19614fcd0_cgraph" id="ada/d79/ustream_8h_aa7150fd97e4c632a01ba95a19614fcd0_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,184,39"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a4f850d5efa8e096ca116a2b98a68bd16" title=" " alt="" coords="232,5,448,39"/>
<area shape="poly" title=" " alt="" coords="184,20,216,20,216,25,184,25"/>
</map>
</div>

</div>
</div>
<a id="a55eb7ea0d6ed61f253f5689798ccf5c3" name="a55eb7ea0d6ed61f253f5689798ccf5c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55eb7ea0d6ed61f253f5689798ccf5c3">&#9670;&#160;</a></span>ustream_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ustream_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d26/ustream_8c_source.html#l00094">94</a> of file <a class="el" href="../../d6/d26/ustream_8c_source.html">ustream.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   95</span>{</div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">if</span> (s-&gt;<a class="code hl_variable" href="#a52805da29f877d02dcae0c25b83fddce">free</a>)</div>
<div class="line"><span class="lineno">   97</span>        s-&gt;<a class="code hl_variable" href="#a52805da29f877d02dcae0c25b83fddce">free</a>(s);</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91">uloop_timeout_cancel</a>(&amp;s-&gt;<a class="code hl_variable" href="#a6edf9e3eba069a76347d6d9975cc41c5">state_change</a>);</div>
<div class="line"><span class="lineno">  100</span>    <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc">ustream_free_buffers</a>(&amp;s-&gt;r);</div>
<div class="line"><span class="lineno">  101</span>    <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc">ustream_free_buffers</a>(&amp;s-&gt;<a class="code hl_variable" href="#a03853611acd8f4e90eec49c1e183ee87">w</a>);</div>
<div class="line"><span class="lineno">  102</span>}</div>
<div class="ttc" id="auloop_8c_html_a6231184d2f54ac1bc945ecb73c517d91"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91">uloop_timeout_cancel</a></div><div class="ttdeci">int uloop_timeout_cancel(struct uloop_timeout *timeout)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00348">uloop.c:348</a></div></div>
<div class="ttc" id="austream_8c_html_a133847346c9a2d708d19c8a056f728bc"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc">ustream_free_buffers</a></div><div class="ttdeci">static void ustream_free_buffers(struct ustream_buf_list *l)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00079">ustream.c:79</a></div></div>
<div class="ttc" id="austream_8h_html_a03853611acd8f4e90eec49c1e183ee87"><div class="ttname"><a href="#a03853611acd8f4e90eec49c1e183ee87">ustream::w</a></div><div class="ttdeci">struct ustream_buf_list r w</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00050">ustream.h:50</a></div></div>
<div class="ttc" id="austream_8h_html_a6edf9e3eba069a76347d6d9975cc41c5"><div class="ttname"><a href="#a6edf9e3eba069a76347d6d9975cc41c5">ustream::state_change</a></div><div class="ttdeci">struct uloop_timeout state_change</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00051">ustream.h:51</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d79/ustream_8h_source.html#l00094">ustream::free</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00051">ustream::state_change</a>, <a class="el" href="../../d1/d08/uloop_8c_source.html#l00348">uloop_timeout_cancel()</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00079">ustream_free_buffers()</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00050">ustream::w</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00052">client_close()</a>, <a class="el" href="../../d2/d28/instance_8c_source.html#l00583">instance_free_stdio()</a>, <a class="el" href="../../d1/dd7/netifd_2main_8c_source.html#l00084">netifd_delete_process()</a>, <a class="el" href="../../d1/d5c/rcS_8c_source.html#l00109">q_initd_complete()</a>, <a class="el" href="../../df/dc9/exec_8c_source.html#l00187">rpc_exec_ipipe_write_cb()</a>, <a class="el" href="../../df/dc9/exec_8c_source.html#l00121">rpc_exec_reply()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00695">rpc_file_exec_reply()</a>, and <a class="el" href="../../da/dc0/uxc_8c_source.html#l00528">uxc_attach()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d79/ustream_8h_a55eb7ea0d6ed61f253f5689798ccf5c3_cgraph.png" border="0" usemap="#ada/d79/ustream_8h_a55eb7ea0d6ed61f253f5689798ccf5c3_cgraph" alt=""/></div>
<map name="ada/d79/ustream_8h_a55eb7ea0d6ed61f253f5689798ccf5c3_cgraph" id="ada/d79/ustream_8h_a55eb7ea0d6ed61f253f5689798ccf5c3_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,148,68"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="196,5,416,39"/>
<area shape="poly" title=" " alt="" coords="148,40,180,36,181,41,149,45"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc" title=" " alt="" coords="197,63,415,96"/>
<area shape="poly" title=" " alt="" coords="149,58,182,62,181,67,148,63"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="464,5,549,39"/>
<area shape="poly" title=" " alt="" coords="416,20,448,20,448,25,416,25"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="597,5,692,39"/>
<area shape="poly" title=" " alt="" coords="550,20,582,20,582,25,550,25"/>
</map>
</div>

</div>
</div>
<a id="af9d6fd6fda290088a254c02f4554c3f4" name="af9d6fd6fda290088a254c02f4554c3f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9d6fd6fda290088a254c02f4554c3f4">&#9670;&#160;</a></span>ustream_get_read_buf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int int char * ustream_get_read_buf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>buflen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d26/ustream_8c_source.html#l00334">334</a> of file <a class="el" href="../../d6/d26/ustream_8c_source.html">ustream.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  335</span>{</div>
<div class="line"><span class="lineno">  336</span>    <span class="keywordtype">char</span> *data = NULL;</div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordtype">int</span> len = 0;</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>    <span class="keywordflow">if</span> (s-&gt;r.head) {</div>
<div class="line"><span class="lineno">  340</span>        len = s-&gt;r.head-&gt;tail - s-&gt;r.head-&gt;data;</div>
<div class="line"><span class="lineno">  341</span>        <span class="keywordflow">if</span> (len &gt; 0)</div>
<div class="line"><span class="lineno">  342</span>            data = s-&gt;r.head-&gt;data;</div>
<div class="line"><span class="lineno">  343</span>    }</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>    <span class="keywordflow">if</span> (buflen)</div>
<div class="line"><span class="lineno">  346</span>        *buflen = len;</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>    <span class="keywordflow">return</span> data;</div>
<div class="line"><span class="lineno">  349</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d79/ustream_8h_source.html#l00131">ustream_buf::data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dc0/uxc_8c_source.html#l00485">client_cb()</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00025">client_read_cb()</a>, <a class="el" href="../../d2/d28/instance_8c_source.html#l00732">instance_console()</a>, <a class="el" href="../../d2/d28/instance_8c_source.html#l00754">instance_console_client()</a>, <a class="el" href="../../d2/d28/instance_8c_source.html#l00694">instance_stdio()</a>, <a class="el" href="../../da/dc0/uxc_8c_source.html#l00505">local_cb()</a>, <a class="el" href="../../d1/dd7/netifd_2main_8c_source.html#l00140">netifd_process_log_read_cb()</a>, <a class="el" href="../../d1/d5c/rcS_8c_source.html#l00046">pipe_cb()</a>, <a class="el" href="../../df/dc9/exec_8c_source.html#l00230">rpc_exec_epipe_read_cb()</a>, <a class="el" href="../../df/dc9/exec_8c_source.html#l00200">rpc_exec_opipe_read_cb()</a>, <a class="el" href="../../dd/d93/client_8c_source.html#l00141">test_client_fd_data_cb()</a>, and <a class="el" href="../../d6/d26/ustream_8c_source.html#l00351">ustream_read()</a>.</p>

</div>
</div>
<a id="a4fd8792e264b0d96920fc7bc741a530d" name="a4fd8792e264b0d96920fc7bc741a530d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fd8792e264b0d96920fc7bc741a530d">&#9670;&#160;</a></span>ustream_init_defaults()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ustream_init_defaults </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d26/ustream_8c_source.html#l00114">114</a> of file <a class="el" href="../../d6/d26/ustream_8c_source.html">ustream.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  115</span>{</div>
<div class="line"><span class="lineno">  116</span><span class="preprocessor">#define DEFAULT_SET(_f, _default)   \</span></div>
<div class="line"><span class="lineno">  117</span><span class="preprocessor">    do {                \</span></div>
<div class="line"><span class="lineno">  118</span><span class="preprocessor">        if (!_f)        \</span></div>
<div class="line"><span class="lineno">  119</span><span class="preprocessor">            _f = _default;  \</span></div>
<div class="line"><span class="lineno">  120</span><span class="preprocessor">    } while(0)</span></div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>    <a class="code hl_define" href="../../d6/d26/ustream_8c.html#a849640e76b7105d671036ef1ce1bcda0">DEFAULT_SET</a>(s-&gt;r.alloc, <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a0021585123abbcd1c4a25ba6a7ffb599">ustream_alloc_default</a>);</div>
<div class="line"><span class="lineno">  123</span>    <a class="code hl_define" href="../../d6/d26/ustream_8c.html#a849640e76b7105d671036ef1ce1bcda0">DEFAULT_SET</a>(s-&gt;<a class="code hl_variable" href="#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="#a01e751d790a82b7a8e2041423665ea66">alloc</a>, <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a0021585123abbcd1c4a25ba6a7ffb599">ustream_alloc_default</a>);</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>    <a class="code hl_define" href="../../d6/d26/ustream_8c.html#a849640e76b7105d671036ef1ce1bcda0">DEFAULT_SET</a>(s-&gt;r.min_buffers, 1);</div>
<div class="line"><span class="lineno">  126</span>    <a class="code hl_define" href="../../d6/d26/ustream_8c.html#a849640e76b7105d671036ef1ce1bcda0">DEFAULT_SET</a>(s-&gt;r.max_buffers, 1);</div>
<div class="line"><span class="lineno">  127</span>    <a class="code hl_define" href="../../d6/d26/ustream_8c.html#a849640e76b7105d671036ef1ce1bcda0">DEFAULT_SET</a>(s-&gt;r.buffer_len, 4096);</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>    <a class="code hl_define" href="../../d6/d26/ustream_8c.html#a849640e76b7105d671036ef1ce1bcda0">DEFAULT_SET</a>(s-&gt;<a class="code hl_variable" href="#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="#a5b3a2241e0a59463ee3532e4ecff2618">min_buffers</a>, 2);</div>
<div class="line"><span class="lineno">  130</span>    <a class="code hl_define" href="../../d6/d26/ustream_8c.html#a849640e76b7105d671036ef1ce1bcda0">DEFAULT_SET</a>(s-&gt;<a class="code hl_variable" href="#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="#af3b56b7094382314a5721968e453b257">max_buffers</a>, -1);</div>
<div class="line"><span class="lineno">  131</span>    <a class="code hl_define" href="../../d6/d26/ustream_8c.html#a849640e76b7105d671036ef1ce1bcda0">DEFAULT_SET</a>(s-&gt;<a class="code hl_variable" href="#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="#aab610501b2503be59efab2421948079c">buffer_len</a>, 256);</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span><span class="preprocessor">#undef DEFAULT_SET</span></div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>    s-&gt;<a class="code hl_variable" href="#a6edf9e3eba069a76347d6d9975cc41c5">state_change</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a7b331d0a02bb53b37ae38716956c97bd">cb</a> = <a class="code hl_function" href="../../d6/d26/ustream_8c.html#aae83a7acd40d935b0e000c15f017c2fc">ustream_state_change_cb</a>;</div>
<div class="line"><span class="lineno">  136</span>    s-&gt;<a class="code hl_variable" href="#ab5a83f668de8533f03f594fd4851a8fc">write_error</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  137</span>    s-&gt;<a class="code hl_variable" href="#a0a033ab27c8b83cc83765b571e7e3a03">eof</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  138</span>    s-&gt;<a class="code hl_variable" href="#ad79ec597a16992c722c5156d182121f0">read_blocked</a> = 0;</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>    s-&gt;r.buffers = 0;</div>
<div class="line"><span class="lineno">  141</span>    s-&gt;r.data_bytes = 0;</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>    s-&gt;<a class="code hl_variable" href="#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="#a90ad967ab680e5688e3c8fc636a10adf">buffers</a> = 0;</div>
<div class="line"><span class="lineno">  144</span>    s-&gt;<a class="code hl_variable" href="#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="#a2cb8be7b642a24ce03d0d8910b98500d">data_bytes</a> = 0;</div>
<div class="line"><span class="lineno">  145</span>}</div>
<div class="ttc" id="auloop_8h_html_a7b331d0a02bb53b37ae38716956c97bd"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#a7b331d0a02bb53b37ae38716956c97bd">uloop_timeout::cb</a></div><div class="ttdeci">uloop_timeout_handler cb</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00077">uloop.h:77</a></div></div>
<div class="ttc" id="austream_8c_html_a0021585123abbcd1c4a25ba6a7ffb599"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a0021585123abbcd1c4a25ba6a7ffb599">ustream_alloc_default</a></div><div class="ttdeci">static int ustream_alloc_default(struct ustream *s, struct ustream_buf_list *l)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00062">ustream.c:62</a></div></div>
<div class="ttc" id="austream_8c_html_a849640e76b7105d671036ef1ce1bcda0"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a849640e76b7105d671036ef1ce1bcda0">DEFAULT_SET</a></div><div class="ttdeci">#define DEFAULT_SET(_f, _default)</div></div>
<div class="ttc" id="austream_8c_html_aae83a7acd40d935b0e000c15f017c2fc"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#aae83a7acd40d935b0e000c15f017c2fc">ustream_state_change_cb</a></div><div class="ttdeci">static void ustream_state_change_cb(struct uloop_timeout *t)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00104">ustream.c:104</a></div></div>
<div class="ttc" id="austream_8h_html_a01e751d790a82b7a8e2041423665ea66"><div class="ttname"><a href="#a01e751d790a82b7a8e2041423665ea66">ustream_buf_list::alloc</a></div><div class="ttdeci">int(* alloc)(struct ustream *s, struct ustream_buf_list *l)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00038">ustream.h:38</a></div></div>
<div class="ttc" id="austream_8h_html_a0a033ab27c8b83cc83765b571e7e3a03"><div class="ttname"><a href="#a0a033ab27c8b83cc83765b571e7e3a03">ustream::eof</a></div><div class="ttdeci">bool eof</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00117">ustream.h:117</a></div></div>
<div class="ttc" id="austream_8h_html_a2cb8be7b642a24ce03d0d8910b98500d"><div class="ttname"><a href="#a2cb8be7b642a24ce03d0d8910b98500d">ustream_buf_list::data_bytes</a></div><div class="ttdeci">int data_bytes</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00040">ustream.h:40</a></div></div>
<div class="ttc" id="austream_8h_html_a5b3a2241e0a59463ee3532e4ecff2618"><div class="ttname"><a href="#a5b3a2241e0a59463ee3532e4ecff2618">ustream_buf_list::min_buffers</a></div><div class="ttdeci">int min_buffers</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00042">ustream.h:42</a></div></div>
<div class="ttc" id="austream_8h_html_a90ad967ab680e5688e3c8fc636a10adf"><div class="ttname"><a href="#a90ad967ab680e5688e3c8fc636a10adf">ustream_buf_list::buffers</a></div><div class="ttdeci">int buffers</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00046">ustream.h:46</a></div></div>
<div class="ttc" id="austream_8h_html_aab610501b2503be59efab2421948079c"><div class="ttname"><a href="#aab610501b2503be59efab2421948079c">ustream_buf_list::buffer_len</a></div><div class="ttdeci">int buffer_len</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00044">ustream.h:44</a></div></div>
<div class="ttc" id="austream_8h_html_ab5a83f668de8533f03f594fd4851a8fc"><div class="ttname"><a href="#ab5a83f668de8533f03f594fd4851a8fc">ustream::write_error</a></div><div class="ttdeci">bool write_error</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00116">ustream.h:116</a></div></div>
<div class="ttc" id="austream_8h_html_af3b56b7094382314a5721968e453b257"><div class="ttname"><a href="#af3b56b7094382314a5721968e453b257">ustream_buf_list::max_buffers</a></div><div class="ttdeci">int max_buffers</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00043">ustream.h:43</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d79/ustream_8h_source.html#l00038">ustream_buf_list::alloc</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00044">ustream_buf_list::buffer_len</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00046">ustream_buf_list::buffers</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00077">uloop_timeout::cb</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00040">ustream_buf_list::data_bytes</a>, <a class="el" href="../../d6/d26/ustream_8c.html#a849640e76b7105d671036ef1ce1bcda0">DEFAULT_SET</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00117">ustream::eof</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00043">ustream_buf_list::max_buffers</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00042">ustream_buf_list::min_buffers</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00120">ustream::read_blocked</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00051">ustream::state_change</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00062">ustream_alloc_default()</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00104">ustream_state_change_cb()</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00050">ustream::w</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00116">ustream::write_error</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00160">ustream_fd_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d79/ustream_8h_a4fd8792e264b0d96920fc7bc741a530d_cgraph.png" border="0" usemap="#ada/d79/ustream_8h_a4fd8792e264b0d96920fc7bc741a530d_cgraph" alt=""/></div>
<map name="ada/d79/ustream_8h_a4fd8792e264b0d96920fc7bc741a530d_cgraph" id="ada/d79/ustream_8h_a4fd8792e264b0d96920fc7bc741a530d_cgraph">
<area shape="rect" title=" " alt="" coords="5,121,225,155"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0021585123abbcd1c4a25ba6a7ffb599" title=" " alt="" coords="292,77,514,111"/>
<area shape="poly" title=" " alt="" coords="225,119,276,111,277,116,225,124"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aae83a7acd40d935b0e000c15f017c2fc" title=" " alt="" coords="273,149,533,183"/>
<area shape="poly" title=" " alt="" coords="225,146,257,149,257,155,225,151"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a64710c908502c6d43dc365d365e28370" title=" " alt="" coords="599,5,780,39"/>
<area shape="poly" title=" " alt="" coords="472,74,605,41,606,46,474,79"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa67ddac4c773e0d21f6626bf2371f8d2" title=" " alt="" coords="595,63,785,96"/>
<area shape="poly" title=" " alt="" coords="514,86,579,82,579,88,515,91"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a3a72c25243ae144e230cc375fa016aac" title=" " alt="" coords="602,120,777,154"/>
<area shape="poly" title=" " alt="" coords="515,108,587,119,586,124,514,113"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc" title=" " alt="" coords="581,177,798,211"/>
<area shape="poly" title=" " alt="" coords="534,176,566,179,565,185,533,182"/>
</map>
</div>

</div>
</div>
<a id="add51c2b7e0940c808099cd9dfb82f05a" name="add51c2b7e0940c808099cd9dfb82f05a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add51c2b7e0940c808099cd9dfb82f05a">&#9670;&#160;</a></span>ustream_pending_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ustream_pending_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>write</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d79/ustream_8h_source.html#l00174">174</a> of file <a class="el" href="../../da/d79/ustream_8h_source.html">ustream.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  175</span>{</div>
<div class="line"><span class="lineno">  176</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#da/dd1/structustream__buf__list">ustream_buf_list</a> *<a class="code hl_variable" href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a> = write ? &amp;s-&gt;<a class="code hl_variable" href="#a03853611acd8f4e90eec49c1e183ee87">w</a> : &amp;s-&gt;r;</div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a>-&gt;data_bytes;</div>
<div class="line"><span class="lineno">  178</span>}</div>
<div class="ttc" id="ajshn_8c_html_a8f565d46decc2d5d8ac81923ceec43fd"><div class="ttname"><a href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a></div><div class="ttdeci">static struct blob_buf b</div><div class="ttdef"><b>Definition</b> <a href="../../d1/ddb/jshn_8c_source.html#l00040">jshn.c:40</a></div></div>
<div class="ttc" id="austream_8h_html_da/dd1/structustream__buf__list"><div class="ttname"><a href="#da/dd1/structustream__buf__list">ustream_buf_list</a></div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00033">ustream.h:33</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/ddb/jshn_8c_source.html#l00040">b</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00050">ustream::w</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dc9/exec_8c_source.html#l00096">rpc_ustream_to_blobmsg()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00671">rpc_ustream_to_blobmsg()</a>.</p>

</div>
</div>
<a id="aa8f30f3e3f083f89504998e9d5747752" name="aa8f30f3e3f083f89504998e9d5747752"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8f30f3e3f083f89504998e9d5747752">&#9670;&#160;</a></span>ustream_poll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ustream_poll </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d79/ustream_8h_source.html#l00214">214</a> of file <a class="el" href="../../da/d79/ustream_8h_source.html">ustream.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  215</span>{</div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">if</span> (!s-&gt;<a class="code hl_variable" href="#a7b9a0a6c1be8bdd56bc91035e2423aa2">poll</a>)</div>
<div class="line"><span class="lineno">  217</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">return</span> s-&gt;<a class="code hl_variable" href="#a7b9a0a6c1be8bdd56bc91035e2423aa2">poll</a>(s);</div>
<div class="line"><span class="lineno">  220</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d79/ustream_8h_source.html#l00109">ustream::poll</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/dd7/netifd_2main_8c_source.html#l00084">netifd_delete_process()</a>, <a class="el" href="../../df/dc9/exec_8c_source.html#l00169">rpc_exec_process_cb()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00735">rpc_file_exec_process_cb()</a>.</p>

</div>
</div>
<a id="a2eedc9271d236f3f25c877cf9d2bb66e" name="a2eedc9271d236f3f25c877cf9d2bb66e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eedc9271d236f3f25c877cf9d2bb66e">&#9670;&#160;</a></span>ustream_printf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ustream_printf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aeaa16cab137c211c77310698b210ecdf" name="aeaa16cab137c211c77310698b210ecdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaa16cab137c211c77310698b210ecdf">&#9670;&#160;</a></span>ustream_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ustream_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>buflen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d26/ustream_8c_source.html#l00351">351</a> of file <a class="el" href="../../d6/d26/ustream_8c_source.html">ustream.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  352</span>{</div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordtype">char</span> *chunk;</div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordtype">int</span> chunk_len;</div>
<div class="line"><span class="lineno">  355</span>    <span class="keywordtype">int</span> len = 0;</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  358</span>        chunk = <a class="code hl_function" href="../../d6/d26/ustream_8c.html#af8718ea51e10ce9d433e4346110f0653">ustream_get_read_buf</a>(s, &amp;chunk_len);</div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">if</span> (!chunk)</div>
<div class="line"><span class="lineno">  360</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordflow">if</span> (chunk_len &gt; buflen - len)</div>
<div class="line"><span class="lineno">  362</span>            chunk_len = buflen - len;</div>
<div class="line"><span class="lineno">  363</span>        memcpy(<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> + len, chunk, chunk_len);</div>
<div class="line"><span class="lineno">  364</span>        <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a6e2924135643035597d360c6dcb0a294">ustream_consume</a>(s, chunk_len);</div>
<div class="line"><span class="lineno">  365</span>        len += chunk_len;</div>
<div class="line"><span class="lineno">  366</span>    } <span class="keywordflow">while</span> (len &lt; buflen);</div>
<div class="line"><span class="lineno">  367</span> </div>
<div class="line"><span class="lineno">  368</span>    <span class="keywordflow">return</span> len;</div>
<div class="line"><span class="lineno">  369</span>}</div>
<div class="ttc" id="austream_8c_html_a6e2924135643035597d360c6dcb0a294"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a6e2924135643035597d360c6dcb0a294">ustream_consume</a></div><div class="ttdeci">void ustream_consume(struct ustream *s, int len)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00215">ustream.c:215</a></div></div>
<div class="ttc" id="austream_8c_html_af8718ea51e10ce9d433e4346110f0653"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#af8718ea51e10ce9d433e4346110f0653">ustream_get_read_buf</a></div><div class="ttdeci">char * ustream_get_read_buf(struct ustream *s, int *buflen)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00334">ustream.c:334</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00215">ustream_consume()</a>, and <a class="el" href="../../d6/d26/ustream_8c_source.html#l00334">ustream_get_read_buf()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d79/ustream_8h_aeaa16cab137c211c77310698b210ecdf_cgraph.png" border="0" usemap="#ada/d79/ustream_8h_aeaa16cab137c211c77310698b210ecdf_cgraph" alt=""/></div>
<map name="ada/d79/ustream_8h_aeaa16cab137c211c77310698b210ecdf_cgraph" id="ada/d79/ustream_8h_aeaa16cab137c211c77310698b210ecdf_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,153,115"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6e2924135643035597d360c6dcb0a294" title=" " alt="" coords="219,52,409,85"/>
<area shape="poly" title=" " alt="" coords="153,86,203,79,204,85,153,91"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#af8718ea51e10ce9d433e4346110f0653" title=" " alt="" coords="201,109,427,143"/>
<area shape="poly" title=" " alt="" coords="153,104,186,108,185,113,153,109"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f" title=" " alt="" coords="475,5,677,62"/>
<area shape="poly" title=" " alt="" coords="409,53,459,46,460,52,410,58"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a63bfcff990b542772fd9fbc5b6e1f870" title=" " alt="" coords="485,86,667,120"/>
<area shape="poly" title=" " alt="" coords="410,78,470,86,469,92,409,84"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a64710c908502c6d43dc365d365e28370" title=" " alt="" coords="725,57,907,91"/>
<area shape="poly" title=" " alt="" coords="668,89,710,84,710,89,668,94"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a3a72c25243ae144e230cc375fa016aac" title=" " alt="" coords="728,114,904,148"/>
<area shape="poly" title=" " alt="" coords="668,111,713,116,713,122,668,116"/>
</map>
</div>

</div>
</div>
<a id="a0b06f5cce1f3d6ebac398da293f42bf0" name="a0b06f5cce1f3d6ebac398da293f42bf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b06f5cce1f3d6ebac398da293f42bf0">&#9670;&#160;</a></span>ustream_read_blocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ustream_read_blocked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d79/ustream_8h_source.html#l00169">169</a> of file <a class="el" href="../../da/d79/ustream_8h_source.html">ustream.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  170</span>{</div>
<div class="line"><span class="lineno">  171</span>    <span class="keywordflow">return</span> !!(s-&gt;<a class="code hl_variable" href="#ad79ec597a16992c722c5156d182121f0">read_blocked</a> &amp; <a class="code hl_enumvalue" href="#a479afe8b27077dc2b881c848deb1c873a9aa15061cf346a26036de7f024b1d726">READ_BLOCKED_USER</a>);</div>
<div class="line"><span class="lineno">  172</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d79/ustream_8h_source.html#l00120">ustream::read_blocked</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00029">READ_BLOCKED_USER</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00062">client_notify_write()</a>, and <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00025">client_read_cb()</a>.</p>

</div>
</div>
<a id="a2cc071b9667a6e5db4781e53501090c8" name="a2cc071b9667a6e5db4781e53501090c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cc071b9667a6e5db4781e53501090c8">&#9670;&#160;</a></span>ustream_read_buf_full()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ustream_read_buf_full </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d79/ustream_8h_source.html#l00180">180</a> of file <a class="el" href="../../da/d79/ustream_8h_source.html">ustream.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  181</span>{</div>
<div class="line"><span class="lineno">  182</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d9/dc0/structustream__buf">ustream_buf</a> *<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> = s-&gt;r.data_tail;</div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> &amp;&amp; <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;data == <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;head &amp;&amp; <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;tail == <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;end &amp;&amp;</div>
<div class="line"><span class="lineno">  184</span>           s-&gt;r.buffers == s-&gt;r.max_buffers;</div>
<div class="line"><span class="lineno">  185</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dc9/exec_8c_source.html#l00230">rpc_exec_epipe_read_cb()</a>, <a class="el" href="../../df/dc9/exec_8c_source.html#l00200">rpc_exec_opipe_read_cb()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00757">rpc_file_exec_epipe_read_cb()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00747">rpc_file_exec_opipe_read_cb()</a>.</p>

</div>
</div>
<a id="a48eb6688bc7551e8fa0f5fe45c3ff767" name="a48eb6688bc7551e8fa0f5fe45c3ff767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48eb6688bc7551e8fa0f5fe45c3ff767">&#9670;&#160;</a></span>ustream_reserve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * ustream_reserve </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>maxlen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d26/ustream_8c_source.html#l00287">287</a> of file <a class="el" href="../../d6/d26/ustream_8c_source.html">ustream.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  288</span>{</div>
<div class="line"><span class="lineno">  289</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d9/dc0/structustream__buf">ustream_buf</a> *<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>;</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d6/d26/ustream_8c.html#a0ed3a1f1af94d311249c4b34b9e937d3">ustream_prepare_buf</a>(s, &amp;s-&gt;r, len)) {</div>
<div class="line"><span class="lineno">  292</span>        <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f">__ustream_set_read_blocked</a>(s, s-&gt;<a class="code hl_variable" href="#ad79ec597a16992c722c5156d182121f0">read_blocked</a> | <a class="code hl_enumvalue" href="#a479afe8b27077dc2b881c848deb1c873a22e5f87455357c21e4922c63c4580f77">READ_BLOCKED_FULL</a>);</div>
<div class="line"><span class="lineno">  293</span>        *maxlen = 0;</div>
<div class="line"><span class="lineno">  294</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  295</span>    }</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>    <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> = s-&gt;r.data_tail;</div>
<div class="line"><span class="lineno">  298</span>    *maxlen = <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;end - <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;tail;</div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;tail;</div>
<div class="line"><span class="lineno">  300</span>}</div>
<div class="ttc" id="austream_8c_html_a0ed3a1f1af94d311249c4b34b9e937d3"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a0ed3a1f1af94d311249c4b34b9e937d3">ustream_prepare_buf</a></div><div class="ttdeci">static bool ustream_prepare_buf(struct ustream *s, struct ustream_buf_list *l, int len)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00251">ustream.c:251</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d26/ustream_8c_source.html#l00196">__ustream_set_read_blocked()</a>, <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00120">ustream::read_blocked</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00030">READ_BLOCKED_FULL</a>, and <a class="el" href="../../d6/d26/ustream_8c_source.html#l00251">ustream_prepare_buf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00045">ustream_fd_read_pending()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d79/ustream_8h_a48eb6688bc7551e8fa0f5fe45c3ff767_cgraph.png" border="0" usemap="#ada/d79/ustream_8h_a48eb6688bc7551e8fa0f5fe45c3ff767_cgraph" alt=""/></div>
<map name="ada/d79/ustream_8h_a48eb6688bc7551e8fa0f5fe45c3ff767_cgraph" id="ada/d79/ustream_8h_a48eb6688bc7551e8fa0f5fe45c3ff767_cgraph">
<area shape="rect" title=" " alt="" coords="5,52,181,85"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f" title=" " alt="" coords="236,5,439,62"/>
<area shape="poly" title=" " alt="" coords="181,53,221,48,221,53,182,59"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0ed3a1f1af94d311249c4b34b9e937d3" title=" " alt="" coords="229,86,446,120"/>
<area shape="poly" title=" " alt="" coords="182,78,214,83,213,88,181,83"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa67ddac4c773e0d21f6626bf2371f8d2" title=" " alt="" coords="770,88,961,121"/>
<area shape="poly" title=" " alt="" coords="415,83,494,71,608,63,723,71,783,81,782,86,722,76,608,69,494,76,416,88"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a4f850d5efa8e096ca116a2b98a68bd16" title=" " alt="" coords="500,86,716,120"/>
<area shape="poly" title=" " alt="" coords="447,100,484,100,484,106,447,106"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a09dacab33f0a207388ab373c77fd45b3" title=" " alt="" coords="494,144,722,177"/>
<area shape="poly" title=" " alt="" coords="421,118,511,137,510,142,420,123"/>
<area shape="poly" title=" " alt="" coords="688,140,769,122,770,128,690,145"/>
</map>
</div>

</div>
</div>
<a id="ad9a99d5c375c49ea750fe97d0e93ada1" name="ad9a99d5c375c49ea750fe97d0e93ada1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9a99d5c375c49ea750fe97d0e93ada1">&#9670;&#160;</a></span>ustream_set_read_blocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ustream_set_read_blocked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>set</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d26/ustream_8c_source.html#l00205">205</a> of file <a class="el" href="../../d6/d26/ustream_8c_source.html">ustream.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  206</span>{</div>
<div class="line"><span class="lineno">  207</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> val = s-&gt;<a class="code hl_variable" href="#ad79ec597a16992c722c5156d182121f0">read_blocked</a> &amp; ~READ_BLOCKED_USER;</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">if</span> (set)</div>
<div class="line"><span class="lineno">  210</span>        val |= <a class="code hl_enumvalue" href="#a479afe8b27077dc2b881c848deb1c873a9aa15061cf346a26036de7f024b1d726">READ_BLOCKED_USER</a>;</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>    <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f">__ustream_set_read_blocked</a>(s, val);</div>
<div class="line"><span class="lineno">  213</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d26/ustream_8c_source.html#l00196">__ustream_set_read_blocked()</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00120">ustream::read_blocked</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00029">READ_BLOCKED_USER</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00062">client_notify_write()</a>, and <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00025">client_read_cb()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d79/ustream_8h_ad9a99d5c375c49ea750fe97d0e93ada1_cgraph.png" border="0" usemap="#ada/d79/ustream_8h_ad9a99d5c375c49ea750fe97d0e93ada1_cgraph" alt=""/></div>
<map name="ada/d79/ustream_8h_ad9a99d5c375c49ea750fe97d0e93ada1_cgraph" id="ada/d79/ustream_8h_ad9a99d5c375c49ea750fe97d0e93ada1_cgraph">
<area shape="rect" title=" " alt="" coords="5,17,270,51"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f" title=" " alt="" coords="318,5,520,62"/>
<area shape="poly" title=" " alt="" coords="270,31,302,31,302,36,270,36"/>
</map>
</div>

</div>
</div>
<a id="add76dce88c832892b8971ab19c766aab" name="add76dce88c832892b8971ab19c766aab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add76dce88c832892b8971ab19c766aab">&#9670;&#160;</a></span>ustream_state_change()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ustream_state_change </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d79/ustream_8h_source.html#l00209">209</a> of file <a class="el" href="../../da/d79/ustream_8h_source.html">ustream.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  210</span>{</div>
<div class="line"><span class="lineno">  211</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346">uloop_timeout_set</a>(&amp;s-&gt;<a class="code hl_variable" href="#a6edf9e3eba069a76347d6d9975cc41c5">state_change</a>, 0);</div>
<div class="line"><span class="lineno">  212</span>}</div>
<div class="ttc" id="auloop_8c_html_aeae1856255dccd537fd19cdda1cba346"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346">uloop_timeout_set</a></div><div class="ttdeci">int uloop_timeout_set(struct uloop_timeout *timeout, int msecs)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00328">uloop.c:328</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d79/ustream_8h_source.html#l00051">ustream::state_change</a>, and <a class="el" href="../../d1/d08/uloop_8c_source.html#l00328">uloop_timeout_set()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00116">__ustream_fd_poll()</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00045">ustream_fd_read_pending()</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00371">ustream_write_error()</a>, and <a class="el" href="../../d6/d26/ustream_8c_source.html#l00378">ustream_write_pending()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d79/ustream_8h_add76dce88c832892b8971ab19c766aab_cgraph.png" border="0" usemap="#ada/d79/ustream_8h_add76dce88c832892b8971ab19c766aab_cgraph" alt=""/></div>
<map name="ada/d79/ustream_8h_add76dce88c832892b8971ab19c766aab_cgraph" id="ada/d79/ustream_8h_add76dce88c832892b8971ab19c766aab_cgraph">
<area shape="rect" title=" " alt="" coords="5,63,235,96"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="283,63,472,96"/>
<area shape="poly" title=" " alt="" coords="235,77,267,77,267,82,235,82"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="554,5,706,39"/>
<area shape="poly" title=" " alt="" coords="454,59,538,40,540,45,455,65"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="532,63,728,96"/>
<area shape="poly" title=" " alt="" coords="473,77,516,77,516,82,473,82"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="520,120,740,154"/>
<area shape="poly" title=" " alt="" coords="455,94,538,113,537,119,454,100"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="788,5,918,39"/>
<area shape="poly" title=" " alt="" coords="699,60,740,49,773,40,774,45,741,54,700,65"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="814,63,892,96"/>
<area shape="poly" title=" " alt="" coords="729,77,798,77,798,82,729,82"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="966,5,1067,39"/>
<area shape="poly" title=" " alt="" coords="918,20,950,20,950,25,918,25"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="810,120,896,154"/>
<area shape="poly" title=" " alt="" coords="741,134,795,134,795,140,741,140"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="969,120,1064,154"/>
<area shape="poly" title=" " alt="" coords="896,134,954,134,954,140,896,140"/>
</map>
</div>

</div>
</div>
<a id="ad4a13905fd90fb4fce1c507d4053c38b" name="ad4a13905fd90fb4fce1c507d4053c38b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4a13905fd90fb4fce1c507d4053c38b">&#9670;&#160;</a></span>ustream_vprintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int int ustream_vprintf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list</td>          <td class="paramname"><span class="paramname"><em>arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aeefb21c73ae092af30d18b5288cf9918" name="aeefb21c73ae092af30d18b5288cf9918"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeefb21c73ae092af30d18b5288cf9918">&#9670;&#160;</a></span>ustream_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ustream_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>more</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d26/ustream_8c_source.html#l00446">446</a> of file <a class="el" href="../../d6/d26/ustream_8c_source.html">ustream.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  447</span>{</div>
<div class="line"><span class="lineno">  448</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#da/dd1/structustream__buf__list">ustream_buf_list</a> *l = &amp;s-&gt;<a class="code hl_variable" href="#a03853611acd8f4e90eec49c1e183ee87">w</a>;</div>
<div class="line"><span class="lineno">  449</span>    <span class="keywordtype">int</span> wr = 0;</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>    <span class="keywordflow">if</span> (s-&gt;<a class="code hl_variable" href="#ab5a83f668de8533f03f594fd4851a8fc">write_error</a>)</div>
<div class="line"><span class="lineno">  452</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordflow">if</span> (!l-&gt;<a class="code hl_variable" href="#a2cb8be7b642a24ce03d0d8910b98500d">data_bytes</a>) {</div>
<div class="line"><span class="lineno">  455</span>        wr = s-&gt;<a class="code hl_variable" href="#a36cba8d68c57c1a20ab3c077d21fadb7">write</a>(s, data, len, more);</div>
<div class="line"><span class="lineno">  456</span>        <span class="keywordflow">if</span> (wr == len)</div>
<div class="line"><span class="lineno">  457</span>            <span class="keywordflow">return</span> wr;</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>        <span class="keywordflow">if</span> (wr &lt; 0) {</div>
<div class="line"><span class="lineno">  460</span>            <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a90259dc27343d0ee765236e3e42302da">ustream_write_error</a>(s);</div>
<div class="line"><span class="lineno">  461</span>            <span class="keywordflow">return</span> wr;</div>
<div class="line"><span class="lineno">  462</span>        }</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>        data += wr;</div>
<div class="line"><span class="lineno">  465</span>        len -= wr;</div>
<div class="line"><span class="lineno">  466</span>    }</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d6/d26/ustream_8c.html#aff14ca1c3b81e376b6033f2cf55bf75b">ustream_write_buffered</a>(s, data, len, wr);</div>
<div class="line"><span class="lineno">  469</span>}</div>
<div class="ttc" id="austream_8c_html_a90259dc27343d0ee765236e3e42302da"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a90259dc27343d0ee765236e3e42302da">ustream_write_error</a></div><div class="ttdeci">static void ustream_write_error(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00371">ustream.c:371</a></div></div>
<div class="ttc" id="austream_8c_html_aff14ca1c3b81e376b6033f2cf55bf75b"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#aff14ca1c3b81e376b6033f2cf55bf75b">ustream_write_buffered</a></div><div class="ttdeci">static int ustream_write_buffered(struct ustream *s, const char *data, int len, int wr)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00419">ustream.c:419</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d79/ustream_8h_source.html#l00040">ustream_buf_list::data_bytes</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00419">ustream_write_buffered()</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00371">ustream_write_error()</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00050">ustream::w</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00088">ustream::write</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00116">ustream::write_error</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dc0/uxc_8c_source.html#l00485">client_cb()</a>, <a class="el" href="../../d2/d28/instance_8c_source.html#l00732">instance_console()</a>, <a class="el" href="../../d2/d28/instance_8c_source.html#l00754">instance_console_client()</a>, <a class="el" href="../../da/dc0/uxc_8c_source.html#l00505">local_cb()</a>, <a class="el" href="../../d4/daa/plugin_8c_source.html#l00134">rpc_plugin_call_stdin_cb()</a>, and <a class="el" href="../../d6/d26/ustream_8c_source.html#l00473">ustream_vprintf()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d79/ustream_8h_aeefb21c73ae092af30d18b5288cf9918_cgraph.png" border="0" usemap="#ada/d79/ustream_8h_aeefb21c73ae092af30d18b5288cf9918_cgraph" alt=""/></div>
<map name="ada/d79/ustream_8h_aeefb21c73ae092af30d18b5288cf9918_cgraph" id="ada/d79/ustream_8h_aeefb21c73ae092af30d18b5288cf9918_cgraph">
<area shape="rect" title=" " alt="" coords="5,92,158,126"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aff14ca1c3b81e376b6033f2cf55bf75b" title=" " alt="" coords="206,63,445,96"/>
<area shape="poly" title=" " alt="" coords="157,97,190,93,190,98,158,102"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a90259dc27343d0ee765236e3e42302da" title=" " alt="" coords="223,120,428,154"/>
<area shape="poly" title=" " alt="" coords="158,115,207,121,206,126,158,120"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0ed3a1f1af94d311249c4b34b9e937d3" title=" " alt="" coords="499,63,716,96"/>
<area shape="poly" title=" " alt="" coords="445,77,483,77,483,82,445,82"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa67ddac4c773e0d21f6626bf2371f8d2" title=" " alt="" coords="1062,5,1252,39"/>
<area shape="poly" title=" " alt="" coords="644,60,702,37,770,18,841,9,914,6,1046,9,1046,14,914,11,842,14,771,23,704,42,646,65"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a4f850d5efa8e096ca116a2b98a68bd16" title=" " alt="" coords="776,33,993,67"/>
<area shape="poly" title=" " alt="" coords="717,65,760,61,761,66,717,71"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a09dacab33f0a207388ab373c77fd45b3" title=" " alt="" coords="770,91,999,124"/>
<area shape="poly" title=" " alt="" coords="717,88,755,92,755,97,717,93"/>
<area shape="poly" title=" " alt="" coords="960,88,998,77,1097,43,1098,48,999,82,962,93"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add76dce88c832892b8971ab19c766aab" title=" " alt="" coords="493,120,722,154"/>
<area shape="poly" title=" " alt="" coords="428,134,477,134,477,140,428,140"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="790,148,979,182"/>
<area shape="poly" title=" " alt="" coords="723,146,774,151,774,156,723,151"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1081,91,1233,124"/>
<area shape="poly" title=" " alt="" coords="967,145,1065,124,1066,129,968,150"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="1059,148,1255,182"/>
<area shape="poly" title=" " alt="" coords="980,162,1043,162,1043,168,980,168"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="1047,205,1267,239"/>
<area shape="poly" title=" " alt="" coords="968,180,1059,199,1058,204,967,185"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1315,91,1444,124"/>
<area shape="poly" title=" " alt="" coords="1225,145,1266,134,1300,126,1301,131,1268,139,1227,150"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="1341,148,1419,182"/>
<area shape="poly" title=" " alt="" coords="1255,162,1325,162,1325,168,1255,168"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1492,91,1594,124"/>
<area shape="poly" title=" " alt="" coords="1445,105,1477,105,1477,110,1445,110"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1337,205,1422,239"/>
<area shape="poly" title=" " alt="" coords="1268,220,1321,220,1321,225,1268,225"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1496,205,1590,239"/>
<area shape="poly" title=" " alt="" coords="1423,220,1481,220,1481,225,1423,225"/>
</map>
</div>

</div>
</div>
<a id="a7460ade35d8721c6dbac14e9cfab4b8c" name="a7460ade35d8721c6dbac14e9cfab4b8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7460ade35d8721c6dbac14e9cfab4b8c">&#9670;&#160;</a></span>ustream_write_pending()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ustream_write_pending </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d26/ustream_8c_source.html#l00378">378</a> of file <a class="el" href="../../d6/d26/ustream_8c_source.html">ustream.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  379</span>{</div>
<div class="line"><span class="lineno">  380</span>    <span class="keyword">struct </span><a class="code hl_struct" href="#d9/dc0/structustream__buf">ustream_buf</a> *<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> = s-&gt;<a class="code hl_variable" href="#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="#aa70350247646ae77f4551d297fb62fef">head</a>;</div>
<div class="line"><span class="lineno">  381</span>    <span class="keywordtype">int</span> wr = 0, len;</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>    <span class="keywordflow">if</span> (s-&gt;<a class="code hl_variable" href="#ab5a83f668de8533f03f594fd4851a8fc">write_error</a>)</div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> &amp;&amp; s-&gt;<a class="code hl_variable" href="#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="#a2cb8be7b642a24ce03d0d8910b98500d">data_bytes</a>) {</div>
<div class="line"><span class="lineno">  387</span>        <span class="keyword">struct </span><a class="code hl_struct" href="#d9/dc0/structustream__buf">ustream_buf</a> *<a class="code hl_variable" href="#ab664a1d47378eec9f4feee70e9fdec4f">next</a> = <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;next;</div>
<div class="line"><span class="lineno">  388</span>        <span class="keywordtype">int</span> maxlen = <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;tail - <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;data;</div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>        len = s-&gt;<a class="code hl_variable" href="#a36cba8d68c57c1a20ab3c077d21fadb7">write</a>(s, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;data, maxlen, !!<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;next);</div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordflow">if</span> (len &lt; 0) {</div>
<div class="line"><span class="lineno">  392</span>            <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a90259dc27343d0ee765236e3e42302da">ustream_write_error</a>(s);</div>
<div class="line"><span class="lineno">  393</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  394</span>        }</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>        <span class="keywordflow">if</span> (len == 0)</div>
<div class="line"><span class="lineno">  397</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>        wr += len;</div>
<div class="line"><span class="lineno">  400</span>        s-&gt;<a class="code hl_variable" href="#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="#a2cb8be7b642a24ce03d0d8910b98500d">data_bytes</a> -= len;</div>
<div class="line"><span class="lineno">  401</span>        <span class="keywordflow">if</span> (len &lt; maxlen) {</div>
<div class="line"><span class="lineno">  402</span>            <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;data += len;</div>
<div class="line"><span class="lineno">  403</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  404</span>        }</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>        <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a63bfcff990b542772fd9fbc5b6e1f870">ustream_free_buf</a>(&amp;s-&gt;<a class="code hl_variable" href="#a03853611acd8f4e90eec49c1e183ee87">w</a>, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>);</div>
<div class="line"><span class="lineno">  407</span>        <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> = <a class="code hl_variable" href="#ab664a1d47378eec9f4feee70e9fdec4f">next</a>;</div>
<div class="line"><span class="lineno">  408</span>    }</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>    <span class="keywordflow">if</span> (s-&gt;<a class="code hl_variable" href="#a0aff7c2094b736f9462d04842f774aca">notify_write</a>)</div>
<div class="line"><span class="lineno">  411</span>        s-&gt;<a class="code hl_variable" href="#a0aff7c2094b736f9462d04842f774aca">notify_write</a>(s, wr);</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>    <span class="keywordflow">if</span> (s-&gt;<a class="code hl_variable" href="#a0a033ab27c8b83cc83765b571e7e3a03">eof</a> &amp;&amp; wr &amp;&amp; !s-&gt;<a class="code hl_variable" href="#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="#a2cb8be7b642a24ce03d0d8910b98500d">data_bytes</a>)</div>
<div class="line"><span class="lineno">  414</span>        <a class="code hl_function" href="#add76dce88c832892b8971ab19c766aab">ustream_state_change</a>(s);</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>    <span class="keywordflow">return</span> !s-&gt;<a class="code hl_variable" href="#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="#a2cb8be7b642a24ce03d0d8910b98500d">data_bytes</a>;</div>
<div class="line"><span class="lineno">  417</span>}</div>
<div class="ttc" id="austream_8h_html_a0aff7c2094b736f9462d04842f774aca"><div class="ttname"><a href="#a0aff7c2094b736f9462d04842f774aca">ustream::notify_write</a></div><div class="ttdeci">void(* notify_write)(struct ustream *s, int bytes)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00068">ustream.h:68</a></div></div>
<div class="ttc" id="austream_8h_html_aa70350247646ae77f4551d297fb62fef"><div class="ttname"><a href="#aa70350247646ae77f4551d297fb62fef">ustream_buf_list::head</a></div><div class="ttdeci">struct ustream_buf * head</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00034">ustream.h:34</a></div></div>
<div class="ttc" id="austream_8h_html_add76dce88c832892b8971ab19c766aab"><div class="ttname"><a href="#add76dce88c832892b8971ab19c766aab">ustream_state_change</a></div><div class="ttdeci">static void ustream_state_change(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00209">ustream.h:209</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00040">ustream_buf_list::data_bytes</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00117">ustream::eof</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00034">ustream_buf_list::head</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00129">ustream_buf::next</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00068">ustream::notify_write</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00175">ustream_free_buf()</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00209">ustream_state_change()</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00371">ustream_write_error()</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00050">ustream::w</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00088">ustream::write</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00116">ustream::write_error</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00116">__ustream_fd_poll()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d79/ustream_8h_a7460ade35d8721c6dbac14e9cfab4b8c_cgraph.png" border="0" usemap="#ada/d79/ustream_8h_a7460ade35d8721c6dbac14e9cfab4b8c_cgraph" alt=""/></div>
<map name="ada/d79/ustream_8h_a7460ade35d8721c6dbac14e9cfab4b8c_cgraph" id="ada/d79/ustream_8h_a7460ade35d8721c6dbac14e9cfab4b8c_cgraph">
<area shape="rect" title=" " alt="" coords="5,104,243,138"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a63bfcff990b542772fd9fbc5b6e1f870" title=" " alt="" coords="302,49,485,83"/>
<area shape="poly" title=" " alt="" coords="210,101,292,84,293,89,211,106"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add76dce88c832892b8971ab19c766aab" title=" " alt="" coords="544,133,773,167"/>
<area shape="poly" title=" " alt="" coords="243,125,529,140,528,146,243,130"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a90259dc27343d0ee765236e3e42302da" title=" " alt="" coords="291,159,496,192"/>
<area shape="poly" title=" " alt="" coords="211,136,293,152,292,158,210,141"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a64710c908502c6d43dc365d365e28370" title=" " alt="" coords="568,5,749,39"/>
<area shape="poly" title=" " alt="" coords="485,48,553,37,554,42,486,54"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a3a72c25243ae144e230cc375fa016aac" title=" " alt="" coords="571,63,746,96"/>
<area shape="poly" title=" " alt="" coords="485,68,556,72,556,77,485,73"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="821,133,1011,167"/>
<area shape="poly" title=" " alt="" coords="774,148,806,148,806,153,774,153"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1093,76,1245,110"/>
<area shape="poly" title=" " alt="" coords="993,130,1077,111,1078,116,994,135"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="1071,133,1267,167"/>
<area shape="poly" title=" " alt="" coords="1011,148,1055,148,1055,153,1011,153"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="1059,191,1279,224"/>
<area shape="poly" title=" " alt="" coords="994,165,1077,184,1076,189,993,170"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1327,76,1456,110"/>
<area shape="poly" title=" " alt="" coords="1237,130,1278,120,1312,111,1313,116,1280,125,1239,135"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="1353,133,1431,167"/>
<area shape="poly" title=" " alt="" coords="1267,148,1337,148,1337,153,1267,153"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1504,76,1606,110"/>
<area shape="poly" title=" " alt="" coords="1457,90,1489,90,1489,96,1457,96"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1349,191,1434,224"/>
<area shape="poly" title=" " alt="" coords="1280,205,1333,205,1333,210,1280,210"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1508,191,1602,224"/>
<area shape="poly" title=" " alt="" coords="1435,205,1493,205,1493,210,1435,210"/>
<area shape="poly" title=" " alt="" coords="496,163,528,160,529,165,497,168"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
