<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>zbus: /home/g41797/CLionProjects/github.com/g41797/zbus/src/libs/ustp/main.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">zbus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_87a455bccb09a92130c26a11a880c98a.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_dce3ccdac7694adc3671ba6ea4820239.html">ustp</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="../../dd/daa/ustp_2config_8h_source.html">config.h</a>&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;syslog.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../dc/d56/uloop_8h_source.html">libubox/uloop.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d0/dcc/bridge__ctl_8h_source.html">bridge_ctl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d23/netif__utils_8h_source.html">netif_utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d76/packet_8h_source.html">packet.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/df2/ustp_2log_8h_source.html">log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d5f/mstp_8h_source.html">mstp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de4/driver_8h_source.html">driver.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d9e/bridge__track_8h_source.html">bridge_track.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/df8/ustp_2ubus_8h_source.html">ubus.h</a>&quot;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/dcd/ustp_2main_8c__incl.png" border="0" usemap="#a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2ustp_2main_8c" alt=""/></div>
<map name="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2ustp_2main_8c" id="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2ustp_2main_8c">
<area shape="rect" title=" " alt="" coords="805,5,1091,85"/>
<area shape="rect" href="../../dd/daa/ustp_2config_8h.html" title=" " alt="" coords="524,133,620,167"/>
<area shape="poly" title=" " alt="" coords="805,88,636,134,634,129,804,83"/>
<area shape="rect" title=" " alt="" coords="484,378,591,412"/>
<area shape="poly" title=" " alt="" coords="950,85,956,126,964,147,975,165,989,177,1003,183,1035,187,1066,191,1081,199,1094,213,1101,232,1094,250,1061,278,1011,302,949,324,878,342,731,371,607,388,606,383,730,366,877,337,947,319,1009,297,1058,273,1090,247,1096,232,1090,216,1078,203,1064,196,1034,192,1002,189,986,182,971,168,959,149,951,128,945,86"/>
<area shape="rect" href="../../d0/d5f/mstp_8h.html" title=" " alt="" coords="252,215,338,248"/>
<area shape="poly" title=" " alt="" coords="805,63,661,89,586,110,513,135,488,151,463,169,407,194,354,214,352,209,405,189,460,164,485,147,511,131,584,105,660,84,804,58"/>
<area shape="rect" title=" " alt="" coords="592,296,720,330"/>
<area shape="poly" title=" " alt="" coords="805,66,771,77,739,92,710,111,685,135,665,169,655,208,653,247,654,281,649,281,647,247,650,207,660,167,681,131,707,107,737,87,770,72,803,61"/>
<area shape="rect" href="../../d0/dcc/bridge__ctl_8h.html" title=" " alt="" coords="104,296,235,330"/>
<area shape="poly" title=" " alt="" coords="804,52,590,61,350,76,240,87,147,100,78,116,55,125,42,135,31,154,30,173,36,194,50,214,89,254,131,285,128,290,85,258,45,218,32,196,24,174,26,152,38,131,53,121,77,111,146,95,240,82,350,71,589,55,804,47"/>
<area shape="rect" title=" " alt="" coords="986,133,1083,167"/>
<area shape="poly" title=" " alt="" coords="983,84,1014,120,1010,123,979,87"/>
<area shape="rect" title=" " alt="" coords="1107,133,1205,167"/>
<area shape="poly" title=" " alt="" coords="1029,83,1111,123,1108,128,1027,88"/>
<area shape="rect" title=" " alt="" coords="986,215,1081,248"/>
<area shape="poly" title=" " alt="" coords="932,86,924,126,925,147,932,165,950,188,975,205,972,210,947,192,927,168,920,148,919,126,927,85"/>
<area shape="rect" title=" " alt="" coords="1229,133,1323,167"/>
<area shape="poly" title=" " alt="" coords="1075,83,1215,127,1214,132,1073,88"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html" title=" " alt="" coords="695,133,860,167"/>
<area shape="poly" title=" " alt="" coords="884,88,818,127,815,123,881,83"/>
<area shape="rect" href="../../dd/d23/netif__utils_8h.html" title=" " alt="" coords="1347,133,1477,167"/>
<area shape="poly" title=" " alt="" coords="1092,75,1333,128,1332,134,1091,81"/>
<area shape="rect" href="../../d3/d76/packet_8h.html" title=" " alt="" coords="1501,133,1601,167"/>
<area shape="poly" title=" " alt="" coords="1092,63,1275,92,1486,130,1485,135,1274,97,1091,69"/>
<area shape="rect" href="../../dc/df2/ustp_2log_8h.html" title=" " alt="" coords="1625,133,1692,167"/>
<area shape="poly" title=" " alt="" coords="1092,54,1332,81,1470,102,1611,130,1610,135,1469,107,1331,86,1091,59"/>
<area shape="rect" title=" " alt="" coords="1703,215,1801,248"/>
<area shape="poly" title=" " alt="" coords="1092,44,1255,50,1434,63,1519,74,1596,89,1659,108,1706,131,1721,145,1733,163,1748,199,1743,201,1728,165,1717,149,1702,135,1657,113,1594,94,1518,80,1433,69,1255,55,1092,50"/>
<area shape="rect" href="../../db/de4/driver_8h.html" title=" " alt="" coords="53,133,145,167"/>
<area shape="poly" title=" " alt="" coords="804,58,511,85,337,107,161,135,160,130,336,102,511,80,804,53"/>
<area shape="rect" href="../../d9/d9e/bridge__track_8h.html" title=" " alt="" coords="169,133,324,167"/>
<area shape="poly" title=" " alt="" coords="805,68,340,135,339,130,804,63"/>
<area shape="rect" href="../../da/da5/worker_8h.html" title=" " alt="" coords="349,133,449,167"/>
<area shape="poly" title=" " alt="" coords="805,73,469,136,465,136,463,131,467,130,804,68"/>
<area shape="rect" href="../../d3/df8/ustp_2ubus_8h.html" title=" " alt="" coords="1767,133,1852,167"/>
<area shape="poly" title=" " alt="" coords="1092,53,1395,81,1572,103,1748,130,1752,131,1751,136,1748,136,1572,108,1394,86,1091,59"/>
<area shape="rect" title=" " alt="" coords="1876,133,1956,167"/>
<area shape="poly" title=" " alt="" coords="1092,49,1248,57,1439,73,1649,96,1861,130,1860,135,1648,101,1439,78,1248,63,1091,54"/>
<area shape="rect" href="../../d3/d51/avl_8h.html" title=" " alt="" coords="362,215,502,248"/>
<area shape="poly" title=" " alt="" coords="545,169,475,209,472,204,542,165"/>
<area shape="rect" title=" " alt="" coords="526,215,618,248"/>
<area shape="poly" title=" " alt="" coords="575,167,575,199,569,199,569,167"/>
<area shape="poly" title=" " alt="" coords="524,167,353,216,352,211,523,162"/>
<area shape="rect" title=" " alt="" coords="356,378,452,412"/>
<area shape="poly" title=" " alt="" coords="432,249,412,363,407,362,427,248"/>
<area shape="poly" title=" " alt="" coords="462,247,490,267,514,295,529,329,537,362,532,363,524,330,510,298,486,271,459,251"/>
<area shape="rect" href="../../da/d23/list_8h.html" title=" " alt="" coords="434,296,500,330"/>
<area shape="poly" title=" " alt="" coords="441,248,456,281,451,283,437,250"/>
<area shape="poly" title=" " alt="" coords="456,332,428,367,424,364,452,329"/>
<area shape="poly" title=" " alt="" coords="483,329,515,365,511,368,479,332"/>
<area shape="poly" title=" " alt="" coords="331,246,420,288,418,293,328,251"/>
<area shape="poly" title=" " alt="" coords="339,243,350,246,577,294,576,300,349,251,337,248"/>
<area shape="rect" title=" " alt="" coords="259,296,349,330"/>
<area shape="poly" title=" " alt="" coords="299,249,303,281,298,281,294,249"/>
<area shape="poly" title=" " alt="" coords="271,251,209,290,206,286,268,247"/>
<area shape="poly" title=" " alt="" coords="236,326,469,376,468,381,235,331"/>
<area shape="rect" title=" " alt="" coords="5,378,91,412"/>
<area shape="poly" title=" " alt="" coords="146,333,87,372,84,367,143,328"/>
<area shape="rect" title=" " alt="" coords="114,378,273,412"/>
<area shape="poly" title=" " alt="" coords="177,330,187,362,181,364,172,331"/>
<area shape="poly" title=" " alt="" coords="781,167,780,201,775,245,761,291,749,313,734,332,706,354,674,371,640,382,607,390,606,384,638,377,671,366,703,350,730,328,745,310,756,289,770,244,775,200,776,167"/>
<area shape="poly" title=" " alt="" coords="758,169,702,209,632,251,572,278,516,299,514,294,570,273,629,246,699,204,755,165"/>
<area shape="poly" title=" " alt="" coords="737,170,629,211,627,206,735,165"/>
<area shape="poly" title=" " alt="" coords="773,168,755,207,727,250,690,288,686,285,723,247,750,204,768,166"/>
<area shape="poly" title=" " alt="" coords="830,165,973,209,971,214,828,170"/>
<area shape="rect" title=" " alt="" coords="845,215,963,248"/>
<area shape="poly" title=" " alt="" coords="804,165,867,204,864,209,802,169"/>
<area shape="rect" title=" " alt="" coords="1465,215,1570,248"/>
<area shape="poly" title=" " alt="" coords="1546,168,1532,201,1527,199,1541,166"/>
<area shape="rect" title=" " alt="" coords="1594,215,1678,248"/>
<area shape="poly" title=" " alt="" coords="1657,168,1647,200,1642,199,1652,166"/>
<area shape="poly" title=" " alt="" coords="1679,165,1723,202,1720,207,1676,169"/>
<area shape="poly" title=" " alt="" coords="139,165,241,206,239,211,137,170"/>
<area shape="poly" title=" " alt="" coords="259,166,279,200,275,203,254,169"/>
<area shape="poly" title=" " alt="" coords="379,169,329,207,326,203,376,165"/>
</map>
</div>
</div>
<p><a href="../../dc/d10/ustp_2main_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af0b5cfa4242ae7f98ba80fd23ef8afa9" id="r_af0b5cfa4242ae7f98ba80fd23ef8afa9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af0b5cfa4242ae7f98ba80fd23ef8afa9">APP_NAME</a>&#160;&#160;&#160;&quot;ustpd&quot;</td></tr>
<tr class="separator:af0b5cfa4242ae7f98ba80fd23ef8afa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97" id="r_a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace23de6645e4e59831f95e3cd323df9a" id="r_ace23de6645e4e59831f95e3cd323df9a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace23de6645e4e59831f95e3cd323df9a">vDprintf</a> (int level, const char *fmt, va_list ap)</td></tr>
<tr class="separator:ace23de6645e4e59831f95e3cd323df9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8337d7344f177268ffd45c1e73c8888" id="r_ae8337d7344f177268ffd45c1e73c8888"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8337d7344f177268ffd45c1e73c8888">Dprintf</a> (int level, const char *fmt,...)</td></tr>
<tr class="separator:ae8337d7344f177268ffd45c1e73c8888"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a018b53bc0eccf7589b63270325b3dff2" id="r_a018b53bc0eccf7589b63270325b3dff2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a018b53bc0eccf7589b63270325b3dff2">print_to_syslog</a> = 1</td></tr>
<tr class="separator:a018b53bc0eccf7589b63270325b3dff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5a71c2541c377b3d5b34fdb35964c2e" id="r_ab5a71c2541c377b3d5b34fdb35964c2e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab5a71c2541c377b3d5b34fdb35964c2e">log_level</a> = <a class="el" href="../../dc/df2/ustp_2log_8h.html#a3dd6a15b299adea45be4c279bf15bc30">LOG_LEVEL_DEFAULT</a></td></tr>
<tr class="separator:ab5a71c2541c377b3d5b34fdb35964c2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af0b5cfa4242ae7f98ba80fd23ef8afa9" name="af0b5cfa4242ae7f98ba80fd23ef8afa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0b5cfa4242ae7f98ba80fd23ef8afa9">&#9670;&#160;</a></span>APP_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APP_NAME&#160;&#160;&#160;&quot;ustpd&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d10/ustp_2main_8c_source.html#l00049">49</a> of file <a class="el" href="../../dc/d10/ustp_2main_8c_source.html">main.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d10/ustp_2main_8c_source.html#l00055">main()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae8337d7344f177268ffd45c1e73c8888" name="ae8337d7344f177268ffd45c1e73c8888"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8337d7344f177268ffd45c1e73c8888">&#9670;&#160;</a></span>Dprintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dprintf </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d10/ustp_2main_8c_source.html#l00129">129</a> of file <a class="el" href="../../dc/d10/ustp_2main_8c_source.html">main.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  130</span>{</div>
<div class="line"><span class="lineno">  131</span>    va_list ap;</div>
<div class="line"><span class="lineno">  132</span>    va_start(ap, fmt);</div>
<div class="line"><span class="lineno">  133</span>    <a class="code hl_function" href="#ace23de6645e4e59831f95e3cd323df9a">vDprintf</a>(level, fmt, ap);</div>
<div class="line"><span class="lineno">  134</span>    va_end(ap);</div>
<div class="line"><span class="lineno">  135</span>}</div>
<div class="ttc" id="austp_2main_8c_html_ace23de6645e4e59831f95e3cd323df9a"><div class="ttname"><a href="#ace23de6645e4e59831f95e3cd323df9a">vDprintf</a></div><div class="ttdeci">static void vDprintf(int level, const char *fmt, va_list ap)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d10/ustp_2main_8c_source.html#l00105">main.c:105</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d10/ustp_2main_8c_source.html#l00105">vDprintf()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d10/ustp_2main_8c_ae8337d7344f177268ffd45c1e73c8888_cgraph.png" border="0" usemap="#adc/d10/ustp_2main_8c_ae8337d7344f177268ffd45c1e73c8888_cgraph" alt=""/></div>
<map name="adc/d10/ustp_2main_8c_ae8337d7344f177268ffd45c1e73c8888_cgraph" id="adc/d10/ustp_2main_8c_ae8337d7344f177268ffd45c1e73c8888_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,92,39"/>
<area shape="rect" href="../../dc/d10/ustp_2main_8c.html#ace23de6645e4e59831f95e3cd323df9a" title=" " alt="" coords="140,5,237,39"/>
<area shape="poly" title=" " alt="" coords="92,20,124,20,124,25,92,25"/>
</map>
</div>

</div>
</div>
<a id="a0ddf1224851353fc92bfbff6f499fa97" name="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>argc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>argv</em></span>[]&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d10/ustp_2main_8c_source.html#l00055">55</a> of file <a class="el" href="../../dc/d10/ustp_2main_8c_source.html">main.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   56</span>{</div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordtype">int</span> c;</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">while</span>((c = getopt(argc, argv, <span class="stringliteral">&quot;sv:&quot;</span>)) != -1) {</div>
<div class="line"><span class="lineno">   60</span>        <span class="keywordflow">switch</span> (c) {</div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line"><span class="lineno">   62</span>            <a class="code hl_variable" href="#a018b53bc0eccf7589b63270325b3dff2">print_to_syslog</a> = 0;</div>
<div class="line"><span class="lineno">   63</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   64</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>: {</div>
<div class="line"><span class="lineno">   65</span>            <span class="keywordtype">char</span> *end;</div>
<div class="line"><span class="lineno">   66</span>            <span class="keywordtype">long</span> l;</div>
<div class="line"><span class="lineno">   67</span>            l = strtoul(optarg, &amp;end, 0);</div>
<div class="line"><span class="lineno">   68</span>            <span class="keywordflow">if</span>(*optarg == 0 || *end != 0 || l &gt; <a class="code hl_define" href="../../dc/df2/ustp_2log_8h.html#ab182a20ea4584e81f84c4a04467e4cfa">LOG_LEVEL_MAX</a>) {</div>
<div class="line"><span class="lineno">   69</span>                <a class="code hl_define" href="../../d8/d30/procd_2jail_2log_8h.html#a15378cd15bafb3a79061424b452497aa">ERROR</a>(<span class="stringliteral">&quot;Invalid loglevel %s&quot;</span>, optarg);</div>
<div class="line"><span class="lineno">   70</span>                exit(1);</div>
<div class="line"><span class="lineno">   71</span>            }</div>
<div class="line"><span class="lineno">   72</span>            <a class="code hl_variable" href="../../d1/dd7/netifd_2main_8c.html#ab5a71c2541c377b3d5b34fdb35964c2e">log_level</a> = l;</div>
<div class="line"><span class="lineno">   73</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   74</span>        }</div>
<div class="line"><span class="lineno">   75</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">   76</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   77</span>        }</div>
<div class="line"><span class="lineno">   78</span>    }</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a018b53bc0eccf7589b63270325b3dff2">print_to_syslog</a>)</div>
<div class="line"><span class="lineno">   81</span>        openlog(<a class="code hl_define" href="#af0b5cfa4242ae7f98ba80fd23ef8afa9">APP_NAME</a>, LOG_PID, LOG_DAEMON);</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#ae960d01033fb72572bc1aa539a501fe7">uloop_init</a>();</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>    <a class="code hl_define" href="../../dc/df2/ustp_2log_8h.html#ae7f2b12c131ad735aee0bbbd0ccb3925">TST</a>(<a class="code hl_function" href="../../dc/d8e/worker_8c.html#a90b3c8d4e3ab84008f354f9904ad87b1">worker_init</a>() == 0, -1);</div>
<div class="line"><span class="lineno">   86</span>    <a class="code hl_define" href="../../dc/df2/ustp_2log_8h.html#ae7f2b12c131ad735aee0bbbd0ccb3925">TST</a>(<a class="code hl_function" href="../../de/df3/packet_8c.html#a052382e82f9b4656bbacf64ae5426996">packet_sock_init</a>() == 0, -1);</div>
<div class="line"><span class="lineno">   87</span>    <a class="code hl_define" href="../../dc/df2/ustp_2log_8h.html#ae7f2b12c131ad735aee0bbbd0ccb3925">TST</a>(<a class="code hl_function" href="../../da/dbf/netif__utils_8c.html#a75fc7e42d329d595ac03a2203b833f82">netsock_init</a>() == 0, -1);</div>
<div class="line"><span class="lineno">   88</span>    <a class="code hl_define" href="../../dc/df2/ustp_2log_8h.html#ae7f2b12c131ad735aee0bbbd0ccb3925">TST</a>(<a class="code hl_function" href="../../d0/dcc/bridge__ctl_8h.html#a0cb1f9cfe718d5010b8d72ee3ae2b734">init_bridge_ops</a>() == 0, -1);</div>
<div class="line"><span class="lineno">   89</span>    <a class="code hl_function" href="../../d5/dea/ustp_2ubus_8c.html#a5d43c5447763a0e82a991e990018b20d">ustp_ubus_init</a>();</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>    <a class="code hl_function" href="../../dc/d56/uloop_8h.html#aba97081464ac3304fef640bcfc7d3077">uloop_run</a>();</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_function" href="../../d7/d10/bridge__track_8c.html#ad7d90d292d82e57292c5b51b6fe8c01e">bridge_track_fini</a>();</div>
<div class="line"><span class="lineno">   93</span>    <a class="code hl_function" href="../../dc/d8e/worker_8c.html#a8a4dd083325ab18529ed0582ba496de2">worker_cleanup</a>();</div>
<div class="line"><span class="lineno">   94</span>    <a class="code hl_function" href="../../d5/dea/ustp_2ubus_8c.html#afaec3dbe77bfe881dc043878b23900ca">ustp_ubus_exit</a>();</div>
<div class="line"><span class="lineno">   95</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#ac0bcdd57d004a600844745bd38e83a2d">uloop_done</a>();</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   98</span>}</div>
<div class="ttc" id="abridge__ctl_8h_html_a0cb1f9cfe718d5010b8d72ee3ae2b734"><div class="ttname"><a href="../../d0/dcc/bridge__ctl_8h.html#a0cb1f9cfe718d5010b8d72ee3ae2b734">init_bridge_ops</a></div><div class="ttdeci">int init_bridge_ops(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/db2/brmon_8c_source.html#l00187">brmon.c:187</a></div></div>
<div class="ttc" id="abridge__track_8c_html_ad7d90d292d82e57292c5b51b6fe8c01e"><div class="ttname"><a href="../../d7/d10/bridge__track_8c.html#ad7d90d292d82e57292c5b51b6fe8c01e">bridge_track_fini</a></div><div class="ttdeci">int bridge_track_fini(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d10/bridge__track_8c_source.html#l00724">bridge_track.c:724</a></div></div>
<div class="ttc" id="anetif__utils_8c_html_a75fc7e42d329d595ac03a2203b833f82"><div class="ttname"><a href="../../da/dbf/netif__utils_8c.html#a75fc7e42d329d595ac03a2203b833f82">netsock_init</a></div><div class="ttdeci">int netsock_init(void)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbf/netif__utils_8c_source.html#l00049">netif_utils.c:49</a></div></div>
<div class="ttc" id="anetifd_2main_8c_html_ab5a71c2541c377b3d5b34fdb35964c2e"><div class="ttname"><a href="../../d1/dd7/netifd_2main_8c.html#ab5a71c2541c377b3d5b34fdb35964c2e">log_level</a></div><div class="ttdeci">static int log_level</div><div class="ttdef"><b>Definition</b> <a href="../../d1/dd7/netifd_2main_8c_source.html#l00067">main.c:67</a></div></div>
<div class="ttc" id="apacket_8c_html_a052382e82f9b4656bbacf64ae5426996"><div class="ttname"><a href="../../de/df3/packet_8c.html#a052382e82f9b4656bbacf64ae5426996">packet_sock_init</a></div><div class="ttdeci">int packet_sock_init(void)</div><div class="ttdef"><b>Definition</b> <a href="../../de/df3/packet_8c_source.html#l00182">packet.c:182</a></div></div>
<div class="ttc" id="aprocd_2jail_2log_8h_html_a15378cd15bafb3a79061424b452497aa"><div class="ttname"><a href="../../d8/d30/procd_2jail_2log_8h.html#a15378cd15bafb3a79061424b452497aa">ERROR</a></div><div class="ttdeci">#define ERROR(fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d30/procd_2jail_2log_8h_source.html#l00027">log.h:27</a></div></div>
<div class="ttc" id="auloop_8c_html_ac0bcdd57d004a600844745bd38e83a2d"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#ac0bcdd57d004a600844745bd38e83a2d">uloop_done</a></div><div class="ttdeci">void uloop_done(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00686">uloop.c:686</a></div></div>
<div class="ttc" id="auloop_8c_html_ae960d01033fb72572bc1aa539a501fe7"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#ae960d01033fb72572bc1aa539a501fe7">uloop_init</a></div><div class="ttdeci">int uloop_init(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00150">uloop.c:150</a></div></div>
<div class="ttc" id="auloop_8h_html_aba97081464ac3304fef640bcfc7d3077"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#aba97081464ac3304fef640bcfc7d3077">uloop_run</a></div><div class="ttdeci">static int uloop_run(void)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00147">uloop.h:147</a></div></div>
<div class="ttc" id="austp_2log_8h_html_ab182a20ea4584e81f84c4a04467e4cfa"><div class="ttname"><a href="../../dc/df2/ustp_2log_8h.html#ab182a20ea4584e81f84c4a04467e4cfa">LOG_LEVEL_MAX</a></div><div class="ttdeci">#define LOG_LEVEL_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df2/ustp_2log_8h_source.html#l00042">log.h:42</a></div></div>
<div class="ttc" id="austp_2log_8h_html_ae7f2b12c131ad735aee0bbbd0ccb3925"><div class="ttname"><a href="../../dc/df2/ustp_2log_8h.html#ae7f2b12c131ad735aee0bbbd0ccb3925">TST</a></div><div class="ttdeci">#define TST(x, y)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df2/ustp_2log_8h_source.html#l00064">log.h:64</a></div></div>
<div class="ttc" id="austp_2main_8c_html_a018b53bc0eccf7589b63270325b3dff2"><div class="ttname"><a href="#a018b53bc0eccf7589b63270325b3dff2">print_to_syslog</a></div><div class="ttdeci">static int print_to_syslog</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d10/ustp_2main_8c_source.html#l00051">main.c:51</a></div></div>
<div class="ttc" id="austp_2main_8c_html_af0b5cfa4242ae7f98ba80fd23ef8afa9"><div class="ttname"><a href="#af0b5cfa4242ae7f98ba80fd23ef8afa9">APP_NAME</a></div><div class="ttdeci">#define APP_NAME</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d10/ustp_2main_8c_source.html#l00049">main.c:49</a></div></div>
<div class="ttc" id="austp_2ubus_8c_html_a5d43c5447763a0e82a991e990018b20d"><div class="ttname"><a href="../../d5/dea/ustp_2ubus_8c.html#a5d43c5447763a0e82a991e990018b20d">ustp_ubus_init</a></div><div class="ttdeci">void ustp_ubus_init(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dea/ustp_2ubus_8c_source.html#l00222">ubus.c:222</a></div></div>
<div class="ttc" id="austp_2ubus_8c_html_afaec3dbe77bfe881dc043878b23900ca"><div class="ttname"><a href="../../d5/dea/ustp_2ubus_8c.html#afaec3dbe77bfe881dc043878b23900ca">ustp_ubus_exit</a></div><div class="ttdeci">void ustp_ubus_exit(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dea/ustp_2ubus_8c_source.html#l00228">ubus.c:228</a></div></div>
<div class="ttc" id="aworker_8c_html_a8a4dd083325ab18529ed0582ba496de2"><div class="ttname"><a href="../../dc/d8e/worker_8c.html#a8a4dd083325ab18529ed0582ba496de2">worker_cleanup</a></div><div class="ttdeci">void worker_cleanup(void)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d8e/worker_8c_source.html#l00113">worker.c:113</a></div></div>
<div class="ttc" id="aworker_8c_html_a90b3c8d4e3ab84008f354f9904ad87b1"><div class="ttname"><a href="../../dc/d8e/worker_8c.html#a90b3c8d4e3ab84008f354f9904ad87b1">worker_init</a></div><div class="ttdeci">int worker_init(void)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d8e/worker_8c_source.html#l00105">worker.c:105</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d10/ustp_2main_8c_source.html#l00049">APP_NAME</a>, <a class="el" href="../../d7/d10/bridge__track_8c_source.html#l00724">bridge_track_fini()</a>, <a class="el" href="../../d8/d30/procd_2jail_2log_8h_source.html#l00027">ERROR</a>, <a class="el" href="../../d1/db2/brmon_8c_source.html#l00187">init_bridge_ops()</a>, <a class="el" href="../../d1/dd7/netifd_2main_8c_source.html#l00067">log_level</a>, <a class="el" href="../../dc/df2/ustp_2log_8h_source.html#l00042">LOG_LEVEL_MAX</a>, <a class="el" href="../../da/dbf/netif__utils_8c_source.html#l00049">netsock_init()</a>, <a class="el" href="../../de/df3/packet_8c_source.html#l00182">packet_sock_init()</a>, <a class="el" href="../../dc/d10/ustp_2main_8c_source.html#l00051">print_to_syslog</a>, <a class="el" href="../../dc/df2/ustp_2log_8h_source.html#l00064">TST</a>, <a class="el" href="../../d1/d08/uloop_8c_source.html#l00686">uloop_done()</a>, <a class="el" href="../../d1/d08/uloop_8c_source.html#l00150">uloop_init()</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00147">uloop_run()</a>, <a class="el" href="../../d5/dea/ustp_2ubus_8c_source.html#l00228">ustp_ubus_exit()</a>, <a class="el" href="../../d5/dea/ustp_2ubus_8c_source.html#l00222">ustp_ubus_init()</a>, <a class="el" href="../../dc/d8e/worker_8c_source.html#l00113">worker_cleanup()</a>, and <a class="el" href="../../dc/d8e/worker_8c_source.html#l00105">worker_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d10/ustp_2main_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph.png" border="0" usemap="#adc/d10/ustp_2main_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph" alt=""/></div>
<map name="adc/d10/ustp_2main_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph" id="adc/d10/ustp_2main_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph">
<area shape="rect" title=" " alt="" coords="5,672,73,706"/>
<area shape="rect" href="../../d7/d10/bridge__track_8c.html#ad7d90d292d82e57292c5b51b6fe8c01e" title=" " alt="" coords="121,19,296,52"/>
<area shape="poly" title=" " alt="" coords="38,671,40,554,51,377,61,283,75,197,94,125,105,96,119,74,133,59,137,63,123,77,110,99,99,127,80,198,66,284,56,377,46,554,43,671"/>
<area shape="rect" href="../../d1/db2/brmon_8c.html#a0cb1f9cfe718d5010b8d72ee3ae2b734" title=" " alt="" coords="128,396,289,430"/>
<area shape="poly" title=" " alt="" coords="48,670,187,442,191,444,53,673"/>
<area shape="rect" href="../../da/dbf/netif__utils_8c.html#a75fc7e42d329d595ac03a2203b833f82" title=" " alt="" coords="143,729,274,763"/>
<area shape="poly" title=" " alt="" coords="74,699,122,716,139,721,137,726,120,721,72,704"/>
<area shape="rect" href="../../de/df3/packet_8c.html#a052382e82f9b4656bbacf64ae5426996" title=" " alt="" coords="123,169,294,203"/>
<area shape="poly" title=" " alt="" coords="41,671,69,549,92,466,118,383,155,291,189,216,194,218,160,293,123,384,97,468,75,551,47,672"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ac0bcdd57d004a600844745bd38e83a2d" title=" " alt="" coords="420,620,547,654"/>
<area shape="poly" title=" " alt="" coords="73,672,120,657,195,645,271,637,404,633,404,638,271,643,195,650,121,662,74,677"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae960d01033fb72572bc1aa539a501fe7" title=" " alt="" coords="153,672,264,706"/>
<area shape="poly" title=" " alt="" coords="73,686,138,686,138,692,73,692"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html#aba97081464ac3304fef640bcfc7d3077" title=" " alt="" coords="152,787,265,820"/>
<area shape="poly" title=" " alt="" coords="54,705,83,739,122,773,139,782,136,787,119,778,79,743,50,708"/>
<area shape="rect" href="../../d5/dea/ustp_2ubus_8c.html#afaec3dbe77bfe881dc043878b23900ca" title=" " alt="" coords="128,953,289,987"/>
<area shape="poly" title=" " alt="" coords="52,705,123,831,190,939,185,942,118,834,47,708"/>
<area shape="rect" href="../../d5/dea/ustp_2ubus_8c.html#a5d43c5447763a0e82a991e990018b20d" title=" " alt="" coords="131,1091,286,1124"/>
<area shape="poly" title=" " alt="" coords="45,706,52,758,67,832,90,916,123,998,150,1041,181,1077,177,1081,146,1044,118,1001,85,918,62,833,47,758,40,707"/>
<area shape="rect" href="../../dc/d8e/worker_8c.html#a8a4dd083325ab18529ed0582ba496de2" title=" " alt="" coords="125,88,292,122"/>
<area shape="poly" title=" " alt="" coords="38,672,44,569,58,416,68,336,81,262,98,200,118,155,132,140,147,128,151,132,135,144,123,158,103,202,87,263,73,337,63,417,49,569,44,672"/>
<area shape="rect" href="../../dc/d8e/worker_8c.html#a90b3c8d4e3ab84008f354f9904ad87b1" title=" " alt="" coords="147,1148,270,1182"/>
<area shape="poly" title=" " alt="" coords="44,706,50,795,63,924,74,990,87,1051,103,1101,123,1135,135,1146,132,1150,119,1139,98,1103,82,1053,68,991,58,925,44,795,38,706"/>
<area shape="rect" href="../../d7/d10/bridge__track_8c.html#a57544d893b851459014b6373a20fdf67" title=" " alt="" coords="428,5,539,39"/>
<area shape="poly" title=" " alt="" coords="296,29,412,23,412,28,297,34"/>
<area shape="rect" href="../../d1/db2/brmon_8c.html#ac9a6b4d196a1b5592bba5833f61ac930" title=" " alt="" coords="397,224,570,258"/>
<area shape="poly" title=" " alt="" coords="218,394,267,331,302,296,343,266,380,251,382,256,345,271,305,300,271,334,223,397"/>
<area shape="rect" href="../../d1/db2/brmon_8c.html#a0db6d708a3545bc41ee2412fc0f38310" title=" " alt="" coords="421,281,545,315"/>
<area shape="poly" title=" " alt="" coords="230,393,279,358,343,324,405,306,406,311,345,329,282,362,233,398"/>
<area shape="rect" href="../../d4/dab/libnetlink_8c.html#a0c981a8de14fd51a25027ef407e799ca" title=" " alt="" coords="399,339,567,372"/>
<area shape="poly" title=" " alt="" coords="288,393,343,381,383,373,384,378,345,386,289,398"/>
<area shape="rect" href="../../d4/dab/libnetlink_8c.html#af6a834b458ad515cfe591cd720b5a3fd" title=" " alt="" coords="429,396,537,430"/>
<area shape="poly" title=" " alt="" coords="289,410,414,410,414,416,289,416"/>
<area shape="rect" href="../../d4/dab/libnetlink_8c.html#ae723f19314cbb031a26abaee33928b84" title=" " alt="" coords="367,453,599,487"/>
<area shape="poly" title=" " alt="" coords="289,428,345,440,381,447,380,452,343,445,288,433"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0" title=" " alt="" coords="712,481,856,515"/>
<area shape="poly" title=" " alt="" coords="230,428,280,465,311,483,345,497,390,508,437,515,531,521,620,518,696,510,697,515,620,523,531,526,436,521,389,513,343,502,309,488,277,470,227,432"/>
<area shape="rect" href="../../dc/d8e/worker_8c.html#ab15dfc282bf3fe773ef4eb0fb90adbe8" title=" " alt="" coords="678,115,890,148"/>
<area shape="poly" title=" " alt="" coords="531,221,720,152,722,157,533,226"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="946,509,1112,543"/>
<area shape="poly" title=" " alt="" coords="857,504,930,512,930,518,856,509"/>
<area shape="poly" title=" " alt="" coords="295,179,383,178,478,180,564,190,598,198,624,209,657,235,686,266,710,300,731,337,761,408,778,466,773,467,756,410,726,339,706,303,682,269,653,239,621,214,597,203,563,195,478,186,383,183,295,185"/>
<area shape="rect" href="../../de/df3/packet_8c.html#a2c6329684a08625f1cbc2ad2ca5dd877" title=" " alt="" coords="412,115,555,148"/>
<area shape="poly" title=" " alt="" coords="294,166,396,146,397,151,295,172"/>
<area shape="poly" title=" " alt="" coords="555,129,663,129,663,134,555,134"/>
<area shape="poly" title=" " alt="" coords="547,626,584,618,621,606,645,591,669,576,735,555,804,541,930,527,930,532,805,546,737,561,671,581,648,596,623,611,586,624,548,632"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a13ca20f7af9aa4aa3057b1114e23e7f1" title=" " alt="" coords="670,591,898,624"/>
<area shape="poly" title=" " alt="" coords="547,628,654,617,655,623,548,633"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#afe30e87975d460220899f69103f90d0d" title=" " alt="" coords="676,648,892,682"/>
<area shape="poly" title=" " alt="" coords="548,640,660,651,660,656,547,645"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a28e87c6264a681dc2a422d32794416c5" title=" " alt="" coords="680,705,888,739"/>
<area shape="poly" title=" " alt="" coords="548,648,623,670,671,692,692,698,690,703,669,697,621,675,546,653"/>
<area shape="poly" title=" " alt="" coords="264,676,404,649,405,654,265,681"/>
<area shape="poly" title=" " alt="" coords="264,689,665,713,665,718,264,695"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#a5b8f7c4e758eaf7384d7dafa9cd59502" title=" " alt="" coords="398,729,569,763"/>
<area shape="poly" title=" " alt="" coords="265,698,385,723,384,728,264,703"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae9d27835a99bfac45ed3f07a26287d7a" title=" " alt="" coords="426,563,540,596"/>
<area shape="poly" title=" " alt="" coords="231,669,281,636,343,605,410,587,412,592,345,610,284,641,234,674"/>
<area shape="poly" title=" " alt="" coords="540,562,622,541,707,517,708,522,623,546,542,568"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a14d4e1fa83f245cd59f0c68f48c90d75" title=" " alt="" coords="387,787,580,820"/>
<area shape="poly" title=" " alt="" coords="265,801,371,801,371,806,265,806"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="959,1065,1099,1099"/>
<area shape="poly" title=" " alt="" coords="230,985,280,1022,311,1040,345,1054,425,1075,507,1089,590,1098,672,1102,824,1100,943,1090,944,1096,824,1105,672,1107,590,1103,506,1095,423,1080,343,1059,309,1045,277,1027,227,990"/>
<area shape="rect" href="../../db/d55/libubus_8h.html#a4fe745601199f9804cc6e79e141c89c3" title=" " alt="" coords="375,896,592,930"/>
<area shape="poly" title=" " alt="" coords="288,950,343,938,380,931,381,936,345,943,289,955"/>
<area shape="rect" href="../../db/d55/libubus_8h.html#ad79f9793c3835ea8691fe377025c7de7" title=" " alt="" coords="415,953,551,987"/>
<area shape="poly" title=" " alt="" coords="289,968,400,968,400,973,289,973"/>
<area shape="rect" href="../../d4/db9/libubus_8c.html#a8567c5497fc066b17da409d9b0512c54" title=" " alt="" coords="702,1120,866,1154"/>
<area shape="poly" title=" " alt="" coords="223,986,271,1044,306,1074,345,1098,387,1115,431,1127,522,1142,610,1147,687,1144,687,1150,610,1152,522,1147,430,1133,386,1120,343,1103,303,1079,268,1048,219,989"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#a86337f3349502b31f9fde55b816dc5a0" title=" " alt="" coords="679,1011,889,1044"/>
<area shape="poly" title=" " alt="" coords="227,951,277,913,309,895,343,881,421,860,484,851,547,857,623,881,667,904,706,935,739,967,764,997,760,1000,735,971,702,939,664,908,621,886,546,863,484,856,422,865,345,886,311,900,280,918,230,955"/>
<area shape="rect" href="../../db/d55/libubus_8h.html#aa2a337416d027dfcc927d8abf6d5a11e" title=" " alt="" coords="344,1011,622,1044"/>
<area shape="poly" title=" " alt="" coords="289,985,345,997,381,1004,380,1010,343,1002,288,990"/>
<area shape="poly" title=" " alt="" coords="862,1117,943,1098,945,1104,863,1122"/>
<area shape="poly" title=" " alt="" coords="863,1042,945,1061,943,1066,862,1048"/>
<area shape="poly" title=" " alt="" coords="623,1025,663,1025,663,1030,623,1030"/>
<area shape="rect" href="../../d4/db9/libubus_8c.html#a0b5eab09739dd321adab02739accc0ad" title=" " alt="" coords="384,1228,583,1262"/>
<area shape="poly" title=" " alt="" coords="280,1123,298,1134,315,1155,322,1176,329,1196,346,1215,370,1228,368,1233,342,1219,324,1199,317,1178,310,1157,294,1137,278,1127"/>
<area shape="rect" href="../../d5/dea/ustp_2ubus_8c.html#a5d6b5855b3e87b2fb69e6049d03c0be1" title=" " alt="" coords="369,1171,598,1204"/>
<area shape="poly" title=" " alt="" coords="264,1122,297,1133,345,1149,398,1164,396,1169,343,1154,295,1138,263,1127"/>
<area shape="poly" title=" " alt="" coords="292,100,344,100,483,95,544,95,623,100,689,109,688,114,622,105,544,100,483,100,344,105,292,106"/>
</map>
</div>

</div>
</div>
<a id="ace23de6645e4e59831f95e3cd323df9a" name="ace23de6645e4e59831f95e3cd323df9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace23de6645e4e59831f95e3cd323df9a">&#9670;&#160;</a></span>vDprintf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void vDprintf </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list</td>          <td class="paramname"><span class="paramname"><em>ap</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d10/ustp_2main_8c_source.html#l00105">105</a> of file <a class="el" href="../../dc/d10/ustp_2main_8c_source.html">main.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  106</span>{</div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">if</span>(level &gt; <a class="code hl_variable" href="../../d1/dd7/netifd_2main_8c.html#ab5a71c2541c377b3d5b34fdb35964c2e">log_level</a>)</div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="#a018b53bc0eccf7589b63270325b3dff2">print_to_syslog</a>)</div>
<div class="line"><span class="lineno">  111</span>    {</div>
<div class="line"><span class="lineno">  112</span>        <span class="keywordtype">char</span> logbuf[256];</div>
<div class="line"><span class="lineno">  113</span>        logbuf[255] = 0;</div>
<div class="line"><span class="lineno">  114</span>        time_t clock;</div>
<div class="line"><span class="lineno">  115</span>        <span class="keyword">struct </span>tm *local_tm;</div>
<div class="line"><span class="lineno">  116</span>        time(&amp;clock);</div>
<div class="line"><span class="lineno">  117</span>        local_tm = localtime(&amp;clock);</div>
<div class="line"><span class="lineno">  118</span>        <span class="keywordtype">int</span> l = strftime(logbuf, <span class="keyword">sizeof</span>(logbuf) - 1, <span class="stringliteral">&quot;%F %T &quot;</span>, local_tm);</div>
<div class="line"><span class="lineno">  119</span>        vsnprintf(logbuf + l, <span class="keyword">sizeof</span>(logbuf) - l - 1, fmt, ap);</div>
<div class="line"><span class="lineno">  120</span>        printf(<span class="stringliteral">&quot;%s\n&quot;</span>, logbuf);</div>
<div class="line"><span class="lineno">  121</span>        fflush(stdout);</div>
<div class="line"><span class="lineno">  122</span>    }</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  124</span>    {</div>
<div class="line"><span class="lineno">  125</span>        vsyslog((level &lt;= <a class="code hl_define" href="../../dc/df2/ustp_2log_8h.html#a2e25fe130cf710da4ad800747fdd51f3">LOG_LEVEL_INFO</a>) ? LOG_INFO : LOG_DEBUG, fmt, ap);</div>
<div class="line"><span class="lineno">  126</span>    }</div>
<div class="line"><span class="lineno">  127</span>}</div>
<div class="ttc" id="austp_2log_8h_html_a2e25fe130cf710da4ad800747fdd51f3"><div class="ttname"><a href="../../dc/df2/ustp_2log_8h.html#a2e25fe130cf710da4ad800747fdd51f3">LOG_LEVEL_INFO</a></div><div class="ttdeci">#define LOG_LEVEL_INFO</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df2/ustp_2log_8h_source.html#l00035">log.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/dd7/netifd_2main_8c_source.html#l00067">log_level</a>, <a class="el" href="../../dc/df2/ustp_2log_8h_source.html#l00035">LOG_LEVEL_INFO</a>, and <a class="el" href="../../dc/d10/ustp_2main_8c_source.html#l00051">print_to_syslog</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d10/ustp_2main_8c_source.html#l00129">Dprintf()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab5a71c2541c377b3d5b34fdb35964c2e" name="ab5a71c2541c377b3d5b34fdb35964c2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5a71c2541c377b3d5b34fdb35964c2e">&#9670;&#160;</a></span>log_level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_level = <a class="el" href="../../dc/df2/ustp_2log_8h.html#a3dd6a15b299adea45be4c279bf15bc30">LOG_LEVEL_DEFAULT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d10/ustp_2main_8c_source.html#l00052">52</a> of file <a class="el" href="../../dc/d10/ustp_2main_8c_source.html">main.c</a>.</p>

</div>
</div>
<a id="a018b53bc0eccf7589b63270325b3dff2" name="a018b53bc0eccf7589b63270325b3dff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a018b53bc0eccf7589b63270325b3dff2">&#9670;&#160;</a></span>print_to_syslog</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int print_to_syslog = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d10/ustp_2main_8c_source.html#l00051">51</a> of file <a class="el" href="../../dc/d10/ustp_2main_8c_source.html">main.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d10/ustp_2main_8c_source.html#l00055">main()</a>, and <a class="el" href="../../dc/d10/ustp_2main_8c_source.html#l00105">vDprintf()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
