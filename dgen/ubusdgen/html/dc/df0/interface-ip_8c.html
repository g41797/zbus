<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>zbus: /home/g41797/CLionProjects/github.com/g41797/zbus/src/libs/netifd/interface-ip.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">zbus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_87a455bccb09a92130c26a11a880c98a.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_985d5b6ca8a26cb2c33ab3bbdd47195e.html">netifd</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">interface-ip.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;libgen.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d75/netifd_2netifd_8h_source.html">netifd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de9/device_8h_source.html">device.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/da9/interface_8h_source.html">interface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d62/interface-ip_8h_source.html">interface-ip.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/dd2/proto_8h_source.html">proto.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d9d/netifd_2ubus_8h_source.html">ubus.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db2/system_8h_source.html">system.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for interface-ip.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/dc3/interface-ip_8c__incl.png" border="0" usemap="#a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2netifd_2interface-ip_8c" alt=""/></div>
<map name="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2netifd_2interface-ip_8c" id="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2netifd_2interface-ip_8c">
<area shape="rect" title=" " alt="" coords="1542,5,1829,85"/>
<area shape="rect" title=" " alt="" coords="287,133,380,167"/>
<area shape="poly" title=" " alt="" coords="1542,50,1322,55,1038,68,720,94,557,112,396,135,395,130,556,107,719,88,1038,63,1322,50,1542,44"/>
<area shape="rect" title=" " alt="" coords="404,133,495,167"/>
<area shape="poly" title=" " alt="" coords="1542,52,1340,60,1083,75,799,99,514,136,511,136,510,131,513,130,798,94,1083,69,1340,54,1542,47"/>
<area shape="rect" title=" " alt="" coords="594,623,678,657"/>
<area shape="poly" title=" " alt="" coords="1542,57,1254,79,1087,95,922,114,771,138,647,165,600,181,564,197,542,213,535,231,535,478,542,517,560,553,583,585,608,610,604,614,579,588,555,556,537,519,530,478,530,230,538,210,562,192,598,176,646,160,770,133,921,109,1086,89,1254,73,1542,52"/>
<area shape="rect" title=" " alt="" coords="1875,133,1971,167"/>
<area shape="poly" title=" " alt="" coords="1778,83,1873,124,1871,129,1776,88"/>
<area shape="rect" title=" " alt="" coords="1426,705,1537,738"/>
<area shape="poly" title=" " alt="" coords="1742,83,1765,106,1785,131,1857,249,1885,303,1906,355,1916,408,1913,461,1896,517,1863,577,1833,611,1797,640,1757,664,1715,682,1629,707,1553,719,1552,713,1628,702,1713,677,1755,659,1794,636,1829,608,1858,573,1891,515,1908,460,1910,408,1901,357,1881,305,1853,252,1781,135,1761,109,1739,87"/>
<area shape="rect" title=" " alt="" coords="1996,133,2085,167"/>
<area shape="poly" title=" " alt="" coords="1822,83,1981,129,1980,134,1821,88"/>
<area shape="rect" title=" " alt="" coords="1054,215,1176,248"/>
<area shape="poly" title=" " alt="" coords="1543,72,1424,98,1301,135,1222,171,1155,209,1152,204,1219,166,1299,131,1422,93,1542,67"/>
<area shape="rect" title=" " alt="" coords="1721,541,1848,575"/>
<area shape="poly" title=" " alt="" coords="1724,84,1747,114,1768,149,1784,188,1790,230,1790,396,1788,526,1782,526,1784,396,1784,230,1778,190,1763,151,1742,117,1720,87"/>
<area shape="rect" href="../../d3/d75/netifd_2netifd_8h.html" title=" " alt="" coords="610,460,703,493"/>
<area shape="poly" title=" " alt="" coords="1542,52,1334,64,1220,76,1110,93,1010,116,930,147,900,165,877,185,863,206,858,230,858,315,854,341,844,365,829,386,810,405,765,436,719,457,716,453,762,431,806,401,825,383,839,362,849,339,852,314,852,230,858,204,873,181,896,160,928,142,1009,111,1109,88,1220,71,1334,59,1542,46"/>
<area shape="rect" href="../../db/de9/device_8h.html" title=" " alt="" coords="1548,460,1647,493"/>
<area shape="poly" title=" " alt="" coords="1705,85,1728,152,1736,191,1739,230,1739,315,1736,337,1729,358,1705,397,1673,428,1641,453,1637,449,1670,424,1701,393,1724,356,1731,336,1734,314,1734,230,1731,191,1723,153,1700,86"/>
<area shape="rect" href="../../d4/da9/interface_8h.html" title=" " alt="" coords="1529,378,1650,412"/>
<area shape="poly" title=" " alt="" coords="1693,85,1697,137,1695,200,1685,267,1676,300,1663,331,1648,353,1629,370,1626,366,1644,349,1658,329,1671,298,1680,266,1690,199,1691,137,1688,86"/>
<area shape="rect" href="../../d9/d62/interface-ip_8h.html" title=" " alt="" coords="1502,296,1648,330"/>
<area shape="poly" title=" " alt="" coords="1672,87,1590,283,1585,281,1667,85"/>
<area shape="rect" href="../../de/dd2/proto_8h.html" title=" " alt="" coords="2109,133,2196,167"/>
<area shape="poly" title=" " alt="" coords="1830,71,2094,130,2093,135,1829,77"/>
<area shape="rect" href="../../d5/d9d/netifd_2ubus_8h.html" title=" " alt="" coords="2220,133,2306,167"/>
<area shape="poly" title=" " alt="" coords="1829,63,2005,91,2206,130,2205,135,2004,96,1829,68"/>
<area shape="rect" href="../../dc/db2/system_8h.html" title=" " alt="" coords="1312,133,1419,167"/>
<area shape="poly" title=" " alt="" coords="1564,88,1432,130,1430,125,1562,83"/>
<area shape="poly" title=" " alt="" coords="642,496,624,517,611,542,608,559,610,576,621,608,616,610,604,577,603,559,606,540,620,514,637,492"/>
<area shape="rect" title=" " alt="" coords="951,541,1087,575"/>
<area shape="poly" title=" " alt="" coords="704,485,937,536,936,541,703,491"/>
<area shape="rect" title=" " alt="" coords="1111,541,1196,575"/>
<area shape="poly" title=" " alt="" coords="704,480,873,500,982,517,1096,538,1095,544,982,522,872,506,703,485"/>
<area shape="rect" title=" " alt="" coords="716,786,823,820"/>
<area shape="poly" title=" " alt="" coords="609,482,462,487,272,498,102,516,43,529,24,536,13,543,9,550,8,557,14,574,28,628,44,669,69,703,111,736,158,756,222,772,300,783,386,791,559,799,700,800,700,806,559,804,385,797,300,788,221,777,156,761,108,741,65,707,40,672,23,629,8,576,3,557,4,548,9,539,22,531,42,524,101,511,272,492,461,481,609,476"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html" title=" " alt="" coords="202,623,366,657"/>
<area shape="poly" title=" " alt="" coords="609,482,465,487,281,498,116,517,59,529,41,536,30,543,19,562,21,577,33,591,54,602,116,619,187,629,186,635,115,624,52,607,30,595,16,579,14,561,26,540,38,531,58,524,115,511,281,493,465,482,609,476"/>
<area shape="rect" href="../../da/d79/ustream_8h.html" title=" " alt="" coords="40,541,230,575"/>
<area shape="poly" title=" " alt="" coords="610,488,246,543,245,537,609,482"/>
<area shape="rect" href="../../d5/d1d/libubox_2utils_8h.html" title=" " alt="" coords="919,623,1071,657"/>
<area shape="poly" title=" " alt="" coords="704,481,792,501,842,517,890,539,937,573,974,609,970,613,933,577,887,544,840,522,791,506,703,487"/>
<area shape="rect" href="../../db/d55/libubus_8h.html" title=" " alt="" coords="388,541,495,575"/>
<area shape="poly" title=" " alt="" coords="614,496,500,538,499,533,612,491"/>
<area shape="rect" href="../../de/dd2/udebug_8h.html" title=" " alt="" coords="253,541,363,575"/>
<area shape="poly" title=" " alt="" coords="610,491,379,543,378,538,609,486"/>
<area shape="rect" title=" " alt="" coords="621,541,774,575"/>
<area shape="poly" title=" " alt="" coords="667,493,685,526,680,529,662,495"/>
<area shape="rect" href="../../d9/dd0/netifd_2utils_8h.html" title=" " alt="" coords="798,541,877,575"/>
<area shape="poly" title=" " alt="" coords="694,491,788,532,786,537,692,496"/>
<area shape="poly" title=" " alt="" coords="280,658,269,698,271,719,280,736,299,747,338,757,451,774,584,787,701,795,701,801,584,792,451,779,337,762,297,752,276,740,265,720,264,697,274,656"/>
<area shape="rect" title=" " alt="" coords="936,705,1054,738"/>
<area shape="poly" title=" " alt="" coords="367,648,921,709,920,715,367,653"/>
<area shape="rect" title=" " alt="" coords="290,705,417,738"/>
<area shape="poly" title=" " alt="" coords="300,655,332,691,328,695,296,659"/>
<area shape="rect" title=" " alt="" coords="441,705,533,738"/>
<area shape="poly" title=" " alt="" coords="326,655,432,696,430,701,324,660"/>
<area shape="rect" title=" " alt="" coords="121,705,215,738"/>
<area shape="poly" title=" " alt="" coords="262,659,206,698,203,693,259,655"/>
<area shape="rect" href="../../da/d23/list_8h.html" title=" " alt="" coords="683,705,749,738"/>
<area shape="poly" title=" " alt="" coords="368,654,668,709,667,714,367,659"/>
<area shape="poly" title=" " alt="" coords="729,737,753,772,748,775,725,740"/>
<area shape="poly" title=" " alt="" coords="166,573,242,613,239,618,164,578"/>
<area shape="poly" title=" " alt="" coords="1072,651,1411,706,1410,711,1071,656"/>
<area shape="poly" title=" " alt="" coords="974,659,806,779,803,775,971,655"/>
<area shape="poly" title=" " alt="" coords="998,657,998,689,992,689,992,657"/>
<area shape="poly" title=" " alt="" coords="919,658,907,659,775,674,671,682,566,690,433,707,432,702,566,685,671,677,775,669,907,654,918,652"/>
<area shape="poly" title=" " alt="" coords="919,657,907,659,549,714,548,709,907,654,918,652"/>
<area shape="poly" title=" " alt="" coords="411,578,331,618,328,613,409,573"/>
<area shape="poly" title=" " alt="" coords="449,575,481,689,476,690,444,576"/>
<area shape="poly" title=" " alt="" coords="464,573,517,612,583,654,670,698,668,703,580,659,514,616,461,578"/>
<area shape="rect" href="../../d3/d51/avl_8h.html" title=" " alt="" coords="754,623,894,657"/>
<area shape="poly" title=" " alt="" coords="496,568,739,618,738,623,495,573"/>
<area shape="poly" title=" " alt="" coords="821,658,783,772,777,771,816,656"/>
<area shape="poly" title=" " alt="" coords="804,659,752,697,749,693,801,655"/>
<area shape="poly" title=" " alt="" coords="306,576,296,609,291,607,301,575"/>
<area shape="poly" title=" " alt="" coords="261,578,229,593,202,611,192,622,187,632,187,643,192,655,208,674,229,688,276,707,274,712,226,693,205,678,187,658,181,644,182,631,188,619,198,607,227,588,259,573"/>
<area shape="poly" title=" " alt="" coords="328,573,381,621,460,692,456,696,377,625,324,577"/>
<area shape="poly" title=" " alt="" coords="343,573,426,612,527,654,669,703,667,708,525,659,423,616,340,578"/>
<area shape="poly" title=" " alt="" coords="364,570,377,572,571,604,739,626,738,631,570,609,376,578,363,575"/>
<area shape="poly" title=" " alt="" coords="799,578,692,619,690,614,797,573"/>
<area shape="poly" title=" " alt="" coords="802,578,771,598,744,625,729,657,721,690,716,689,723,655,739,621,768,593,799,573"/>
<area shape="poly" title=" " alt="" coords="871,573,951,613,948,618,868,578"/>
<area shape="poly" title=" " alt="" coords="838,576,832,608,827,607,832,575"/>
<area shape="poly" title=" " alt="" coords="1636,491,1734,532,1732,537,1634,496"/>
<area shape="poly" title=" " alt="" coords="1548,493,1537,496,1458,508,1396,512,1335,521,1260,544,1246,552,1235,560,1225,569,1209,577,1130,602,1064,611,996,616,910,625,910,620,996,610,1063,606,1128,597,1207,573,1222,565,1232,556,1243,547,1258,539,1334,515,1395,507,1457,503,1536,491,1547,488"/>
<area shape="rect" href="../../d0/d51/safe__list_8h.html" title=" " alt="" coords="1509,541,1697,575"/>
<area shape="poly" title=" " alt="" coords="1601,494,1604,526,1598,526,1596,494"/>
<area shape="rect" href="../../db/d29/kvlist_8h.html" title=" " alt="" coords="1271,541,1433,575"/>
<area shape="poly" title=" " alt="" coords="1549,496,1418,539,1416,534,1547,491"/>
<area shape="poly" title=" " alt="" coords="1606,576,1605,611,1598,656,1582,702,1569,723,1551,741,1512,756,1441,769,1241,787,1018,798,839,803,838,798,1018,793,1241,782,1441,764,1510,751,1548,736,1564,719,1577,700,1593,654,1600,610,1601,575"/>
<area shape="poly" title=" " alt="" coords="1519,578,1083,659,765,715,764,709,1083,654,1518,573"/>
<area shape="poly" title=" " alt="" coords="1509,574,1087,629,1087,624,1508,569"/>
<area shape="poly" title=" " alt="" coords="1271,575,1253,578,1083,600,911,625,910,620,1082,595,1252,572,1271,570"/>
<area shape="poly" title=" " alt="" coords="1594,412,1597,444,1592,444,1589,412"/>
<area shape="rect" href="../../d8/d8a/netifd_2config_8h.html" title=" " alt="" coords="1428,460,1524,493"/>
<area shape="poly" title=" " alt="" coords="1568,414,1513,453,1510,448,1565,410"/>
<area shape="poly" title=" " alt="" coords="1581,330,1587,362,1581,363,1575,331"/>
<area shape="poly" title=" " alt="" coords="1316,170,1181,212,1180,207,1314,165"/>
<area shape="poly" title=" " alt="" coords="1348,169,1323,194,1297,228,1276,268,1269,290,1267,312,1267,396,1267,426,1263,451,1253,473,1234,495,1212,509,1180,522,1103,543,1101,538,1179,517,1210,504,1231,491,1249,470,1258,449,1261,426,1262,396,1262,312,1264,289,1271,266,1292,225,1319,191,1345,165"/>
<area shape="poly" title=" " alt="" coords="1360,168,1333,230,1322,270,1318,312,1318,396,1317,426,1313,450,1303,471,1285,495,1255,516,1210,537,1208,532,1252,512,1281,491,1298,469,1308,448,1312,425,1312,396,1312,312,1317,269,1328,228,1355,166"/>
<area shape="poly" title=" " alt="" coords="1368,167,1371,222,1378,304,1393,398,1419,492,1432,516,1447,535,1455,554,1454,565,1448,577,1411,617,1366,650,1317,675,1265,694,1211,707,1160,716,1069,724,1069,718,1159,711,1210,702,1263,689,1315,670,1363,645,1407,613,1443,573,1449,563,1450,555,1442,537,1427,518,1414,494,1388,399,1372,304,1365,222,1363,167"/>
<area shape="poly" title=" " alt="" coords="1334,169,1297,193,1258,225,1242,244,1228,265,1220,287,1216,312,1216,396,1214,410,1206,423,1180,448,1140,470,1093,491,987,525,892,548,891,543,985,520,1091,486,1138,465,1176,443,1202,420,1209,408,1211,396,1211,312,1214,286,1224,262,1238,241,1255,221,1294,188,1332,165"/>
<area shape="poly" title=" " alt="" coords="1375,166,1428,273,1470,343,1520,410,1563,448,1559,452,1516,413,1465,346,1423,276,1370,168"/>
<area shape="poly" title=" " alt="" coords="1420,151,1456,158,1494,169,1530,187,1561,213,1571,229,1577,246,1580,280,1575,281,1572,247,1566,231,1557,216,1527,191,1492,174,1454,163,1419,157"/>
<area shape="rect" href="../../de/d40/iprule_8h.html" title=" " alt="" coords="1454,215,1546,248"/>
<area shape="poly" title=" " alt="" coords="1394,165,1462,204,1459,209,1392,169"/>
<area shape="poly" title=" " alt="" coords="1517,247,1552,283,1548,287,1513,251"/>
</map>
</div>
</div>
<p><a href="../../dc/df0/interface-ip_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aaf8fd5f0e57d456151c951e0f3715fc4" id="r_aaf8fd5f0e57d456151c951e0f3715fc4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4aaa881a9aa3726144403293084fe204a3">ROUTE_INTERFACE</a>
, <a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4a22d472fa5fb22f76041b1026096bb62d">ROUTE_TARGET</a>
, <a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4a221422be76be7babeefb8fde05f6ea22">ROUTE_MASK</a>
, <a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4ac1c8f5bf6c8de4e1d95d774bb995e2ac">ROUTE_GATEWAY</a>
, <br />
&#160;&#160;<a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4a762692bfebe614ed3698a24632c8ff72">ROUTE_METRIC</a>
, <a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4a1aa07e760e2d11fdff3bb701dc53241b">ROUTE_MTU</a>
, <a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4ac115915919678cffc32c74e43ad9ba6d">ROUTE_VALID</a>
, <a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4ad1cf1ff306bceafd1054a4220230b65f">ROUTE_TABLE</a>
, <br />
&#160;&#160;<a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4a24310d2cc7a12c94cbc27a68e6acf36d">ROUTE_SOURCE</a>
, <a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4a4c9332236eab1857b847afa4925a2165">ROUTE_ONLINK</a>
, <a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4a12c7fec5677635815e22dc50280e7c27">ROUTE_TYPE</a>
, <a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4aa81f81dc5c8282e57ac93e8be74323ab">ROUTE_PROTO</a>
, <br />
&#160;&#160;<a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4a3a4fb4c22974d0b4b3a90fdc97b4c052">ROUTE_DISABLED</a>
, <a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4a8dcd1d54248e94bb2e9c32b18df3a3cd">__ROUTE_MAX</a>
<br />
 }</td></tr>
<tr class="separator:aaf8fd5f0e57d456151c951e0f3715fc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94798fdadfbf49a7c658ace669a1d310" id="r_a94798fdadfbf49a7c658ace669a1d310"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="#a94798fdadfbf49a7c658ace669a1d310af21a134ff9c1343d9f5e7cc44c8b242f">NEIGHBOR_INTERFACE</a>
, <a class="el" href="#a94798fdadfbf49a7c658ace669a1d310a89fa3b3e28ef5b35a675f68ff466d931">NEIGHBOR_ADDRESS</a>
, <a class="el" href="#a94798fdadfbf49a7c658ace669a1d310add454e8a77ad2511f370537aa7b4b206">NEIGHBOR_MAC</a>
, <a class="el" href="#a94798fdadfbf49a7c658ace669a1d310a6bfbaafd7ee4fe6e57d89cdad4982caa">NEIGHBOR_PROXY</a>
, <br />
&#160;&#160;<a class="el" href="#a94798fdadfbf49a7c658ace669a1d310a816b066d133bb595f5cb5ca527ec83e0">NEIGHBOR_ROUTER</a>
, <a class="el" href="#a94798fdadfbf49a7c658ace669a1d310ab2376137778ada92138e3162d1e5b06a">__NEIGHBOR_MAX</a>
<br />
 }</td></tr>
<tr class="separator:a94798fdadfbf49a7c658ace669a1d310"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7785e8dd3f95af28a1d05a57b6d91226" id="r_a7785e8dd3f95af28a1d05a57b6d91226"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7785e8dd3f95af28a1d05a57b6d91226">clear_if_addr</a> (union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *a, int mask)</td></tr>
<tr class="separator:a7785e8dd3f95af28a1d05a57b6d91226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b1063b11f2c34ebf7c5d023e30b31c" id="r_ad6b1063b11f2c34ebf7c5d023e30b31c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6b1063b11f2c34ebf7c5d023e30b31c">match_if_addr</a> (union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *a1, union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *a2, int mask)</td></tr>
<tr class="separator:ad6b1063b11f2c34ebf7c5d023e30b31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e6968392107ab1704c592a2270ee2f" id="r_ac1e6968392107ab1704c592a2270ee2f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1e6968392107ab1704c592a2270ee2f">set_ip_source_policy</a> (bool add, bool v6, unsigned int <a class="el" href="../../d0/d5f/mstp_8h.html#a94e25615c4cac1591c65de0b75710e0e">priority</a>, const union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *addr, uint8_t mask, unsigned int table, struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *in_iface, const char *action, bool src)</td></tr>
<tr class="separator:ac1e6968392107ab1704c592a2270ee2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8e74e9212744cd02592ae785cbd0ffc" id="r_af8e74e9212744cd02592ae785cbd0ffc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af8e74e9212744cd02592ae785cbd0ffc">set_ip_lo_policy</a> (bool add, bool v6, struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface)</td></tr>
<tr class="separator:af8e74e9212744cd02592ae785cbd0ffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1007690842a6580d3b184dd8d6c104aa" id="r_a1007690842a6580d3b184dd8d6c104aa"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1007690842a6580d3b184dd8d6c104aa">__find_ip_addr_target</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip, union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *a, bool v6)</td></tr>
<tr class="separator:a1007690842a6580d3b184dd8d6c104aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87d523dd0fb4bbe26aecce15eb00cd1d" id="r_a87d523dd0fb4bbe26aecce15eb00cd1d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87d523dd0fb4bbe26aecce15eb00cd1d">__find_ip_route_target</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip, union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *a, bool v6, struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> **res)</td></tr>
<tr class="separator:a87d523dd0fb4bbe26aecce15eb00cd1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a034742daada0a615cf0469dde20d0961" id="r_a034742daada0a615cf0469dde20d0961"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a034742daada0a615cf0469dde20d0961">interface_ip_find_addr_target</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface, union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *a, bool v6)</td></tr>
<tr class="separator:a034742daada0a615cf0469dde20d0961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa238be32b0e78351187c0e8af17c3d6a" id="r_aa238be32b0e78351187c0e8af17c3d6a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa238be32b0e78351187c0e8af17c3d6a">interface_ip_find_route_target</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface, union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *a, bool v6, struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> **route)</td></tr>
<tr class="separator:aa238be32b0e78351187c0e8af17c3d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbb0ebff9ef0239159d7c8a079fc1e76" id="r_acbb0ebff9ef0239159d7c8a079fc1e76"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acbb0ebff9ef0239159d7c8a079fc1e76">interface_ip_add_target_route</a> (union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *addr, bool v6, struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface, bool exclude)</td></tr>
<tr class="separator:acbb0ebff9ef0239159d7c8a079fc1e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8642e113840ee637f7d57e5efb5f02fe" id="r_a8642e113840ee637f7d57e5efb5f02fe"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8642e113840ee637f7d57e5efb5f02fe">interface_set_route_info</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface, struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> *route)</td></tr>
<tr class="separator:a8642e113840ee637f7d57e5efb5f02fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2881ef59479f4c14915689be62f0f129" id="r_a2881ef59479f4c14915689be62f0f129"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2881ef59479f4c14915689be62f0f129">interface_ip_add_neighbor</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *attr, bool v6)</td></tr>
<tr class="separator:a2881ef59479f4c14915689be62f0f129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d7b44eab2927c809828881315cf16d" id="r_a05d7b44eab2927c809828881315cf16d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a05d7b44eab2927c809828881315cf16d">interface_ip_add_route</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *attr, bool v6)</td></tr>
<tr class="separator:a05d7b44eab2927c809828881315cf16d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a247f5acb467b98b039aa12f190ec8bb5" id="r_a247f5acb467b98b039aa12f190ec8bb5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a247f5acb467b98b039aa12f190ec8bb5">addr_cmp</a> (const void *k1, const void *k2, void *ptr)</td></tr>
<tr class="separator:a247f5acb467b98b039aa12f190ec8bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9fc147a80c4a3b13684931f3d12145e" id="r_ab9fc147a80c4a3b13684931f3d12145e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9fc147a80c4a3b13684931f3d12145e">neighbor_cmp</a> (const void *k1, const void *k2, void *ptr)</td></tr>
<tr class="separator:ab9fc147a80c4a3b13684931f3d12145e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad57cd3b1ffe38facbf01051cb75a6291" id="r_ad57cd3b1ffe38facbf01051cb75a6291"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad57cd3b1ffe38facbf01051cb75a6291">route_cmp</a> (const void *k1, const void *k2, void *ptr)</td></tr>
<tr class="separator:ad57cd3b1ffe38facbf01051cb75a6291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bbc540d3d551947ef7eb6644c951fc0" id="r_a5bbc540d3d551947ef7eb6644c951fc0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5bbc540d3d551947ef7eb6644c951fc0">prefix_cmp</a> (const void *k1, const void *k2, void *ptr)</td></tr>
<tr class="separator:a5bbc540d3d551947ef7eb6644c951fc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ef3157ec2d3ecb1b0e109409296157" id="r_ac7ef3157ec2d3ecb1b0e109409296157"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7ef3157ec2d3ecb1b0e109409296157">interface_handle_subnet_route</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface, struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a> *addr, bool add)</td></tr>
<tr class="separator:ac7ef3157ec2d3ecb1b0e109409296157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0d8dcb590782e1c562717fe62976acd" id="r_af0d8dcb590782e1c562717fe62976acd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af0d8dcb590782e1c562717fe62976acd">interface_add_addr_rules</a> (struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a> *addr, bool enabled)</td></tr>
<tr class="separator:af0d8dcb590782e1c562717fe62976acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd78479a01b9f96c7ad966ca334802c7" id="r_abd78479a01b9f96c7ad966ca334802c7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd78479a01b9f96c7ad966ca334802c7">interface_update_proto_addr</a> (struct <a class="el" href="../../dd/d1d/vlist_8h.html#d0/ddc/structvlist__tree">vlist_tree</a> *tree, struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *node_new, struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *node_old)</td></tr>
<tr class="separator:abd78479a01b9f96c7ad966ca334802c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad74f4a302c6f3336368d4129b31547ba" id="r_ad74f4a302c6f3336368d4129b31547ba"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad74f4a302c6f3336368d4129b31547ba">enable_route</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip, struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> *route)</td></tr>
<tr class="separator:ad74f4a302c6f3336368d4129b31547ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ba449ccc984ff201c40a6ac96460438" id="r_a6ba449ccc984ff201c40a6ac96460438"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6ba449ccc984ff201c40a6ac96460438">interface_update_proto_neighbor</a> (struct <a class="el" href="../../dd/d1d/vlist_8h.html#d0/ddc/structvlist__tree">vlist_tree</a> *tree, struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *node_new, struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *node_old)</td></tr>
<tr class="separator:a6ba449ccc984ff201c40a6ac96460438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b1977f692eb2cca5a33580db8fa9cea" id="r_a0b1977f692eb2cca5a33580db8fa9cea"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b1977f692eb2cca5a33580db8fa9cea">__interface_update_route</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip, struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *node_new, struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *node_old)</td></tr>
<tr class="separator:a0b1977f692eb2cca5a33580db8fa9cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7545e1d6969574c2d78054d63ff6f303" id="r_a7545e1d6969574c2d78054d63ff6f303"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7545e1d6969574c2d78054d63ff6f303">interface_update_proto_route</a> (struct <a class="el" href="../../dd/d1d/vlist_8h.html#d0/ddc/structvlist__tree">vlist_tree</a> *tree, struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *node_new, struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *node_old)</td></tr>
<tr class="separator:a7545e1d6969574c2d78054d63ff6f303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a010f97e268812eceb52a258e7cb213f5" id="r_a010f97e268812eceb52a258e7cb213f5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a010f97e268812eceb52a258e7cb213f5">interface_update_host_route</a> (struct <a class="el" href="../../dd/d1d/vlist_8h.html#d0/ddc/structvlist__tree">vlist_tree</a> *tree, struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *node_new, struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *node_old)</td></tr>
<tr class="separator:a010f97e268812eceb52a258e7cb213f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31c0179736e6e3c8082c62eeae49d6a5" id="r_a31c0179736e6e3c8082c62eeae49d6a5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a31c0179736e6e3c8082c62eeae49d6a5">random_ifaceid</a> (struct in6_addr *addr)</td></tr>
<tr class="separator:a31c0179736e6e3c8082c62eeae49d6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a8ce678ad772000eb73db0e34b94d47" id="r_a0a8ce678ad772000eb73db0e34b94d47"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a8ce678ad772000eb73db0e34b94d47">eui64_ifaceid</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface, struct in6_addr *addr)</td></tr>
<tr class="separator:a0a8ce678ad772000eb73db0e34b94d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e8a1089df00d795d915595e2e7eaa96" id="r_a7e8a1089df00d795d915595e2e7eaa96"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e8a1089df00d795d915595e2e7eaa96">generate_ifaceid</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface, struct in6_addr *addr)</td></tr>
<tr class="separator:a7e8a1089df00d795d915595e2e7eaa96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaaced56b3a208f7cc76ce6723abce07" id="r_abaaced56b3a208f7cc76ce6723abce07"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abaaced56b3a208f7cc76ce6723abce07">interface_set_prefix_address</a> (struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d6/d38/structdevice__prefix__assignment">device_prefix_assignment</a> *assignment, const struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a> *prefix, struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface, bool add)</td></tr>
<tr class="separator:abaaced56b3a208f7cc76ce6723abce07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2fa2d0aea44b9538daad403462e71e5" id="r_ad2fa2d0aea44b9538daad403462e71e5"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2fa2d0aea44b9538daad403462e71e5">interface_prefix_assign</a> (struct <a class="el" href="../../da/d23/list_8h.html#d9/d93/structlist__head">list_head</a> *list, struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d6/d38/structdevice__prefix__assignment">device_prefix_assignment</a> *<a class="el" href="../../d0/d5f/mstp_8h.html#a4a0bdba8e340fd54347bb8dfef68765f">assign</a>)</td></tr>
<tr class="separator:ad2fa2d0aea44b9538daad403462e71e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a183ee1b93d937be80c81ac51c8411049" id="r_a183ee1b93d937be80c81ac51c8411049"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a183ee1b93d937be80c81ac51c8411049">prefix_assignment_cmp</a> (const void *k1, const void *k2, void *ptr)</td></tr>
<tr class="separator:a183ee1b93d937be80c81ac51c8411049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa4013a5a375dedce7a1d26deaf9addf" id="r_afa4013a5a375dedce7a1d26deaf9addf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa4013a5a375dedce7a1d26deaf9addf">interface_update_prefix_assignments</a> (struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a> *prefix, bool setup)</td></tr>
<tr class="separator:afa4013a5a375dedce7a1d26deaf9addf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ec233883b0c5916c7ea200074f9b406" id="r_a1ec233883b0c5916c7ea200074f9b406"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ec233883b0c5916c7ea200074f9b406">interface_refresh_assignments</a> (bool hint)</td></tr>
<tr class="separator:a1ec233883b0c5916c7ea200074f9b406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a109bdf78a75572b0639ab2f1139a6515" id="r_a109bdf78a75572b0639ab2f1139a6515"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a109bdf78a75572b0639ab2f1139a6515">interface_update_prefix_delegation</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip)</td></tr>
<tr class="separator:a109bdf78a75572b0639ab2f1139a6515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeaba893a4a1c7ca713a948b4d1972d6" id="r_adeaba893a4a1c7ca713a948b4d1972d6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adeaba893a4a1c7ca713a948b4d1972d6">interface_update_prefix</a> (struct <a class="el" href="../../dd/d1d/vlist_8h.html#d0/ddc/structvlist__tree">vlist_tree</a> *tree, struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *node_new, struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *node_old)</td></tr>
<tr class="separator:adeaba893a4a1c7ca713a948b4d1972d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af97962d0250298cbaade835196bdaf13" id="r_af97962d0250298cbaade835196bdaf13"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af97962d0250298cbaade835196bdaf13">interface_ip_add_device_prefix</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface, struct in6_addr *addr, uint8_t length, time_t valid_until, time_t preferred_until, struct in6_addr *excl_addr, uint8_t excl_length, const char *pclass)</td></tr>
<tr class="separator:af97962d0250298cbaade835196bdaf13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55ccc38ca261daffbd0158a12777c703" id="r_a55ccc38ca261daffbd0158a12777c703"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55ccc38ca261daffbd0158a12777c703">interface_ip_set_ula_prefix</a> (const char *prefix)</td></tr>
<tr class="separator:a55ccc38ca261daffbd0158a12777c703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfd55f0fc86a14fe7807c5788b46eb72" id="r_abfd55f0fc86a14fe7807c5788b46eb72"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abfd55f0fc86a14fe7807c5788b46eb72">interface_add_dns_server</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip, const char *str)</td></tr>
<tr class="separator:abfd55f0fc86a14fe7807c5788b46eb72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedec346c4d9f4e852c992e7dc5c4ae29" id="r_aedec346c4d9f4e852c992e7dc5c4ae29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aedec346c4d9f4e852c992e7dc5c4ae29">interface_add_dns_server_list</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *list)</td></tr>
<tr class="separator:aedec346c4d9f4e852c992e7dc5c4ae29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf9ba52dbd226e20e6e7fa1637017f31" id="r_abf9ba52dbd226e20e6e7fa1637017f31"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf9ba52dbd226e20e6e7fa1637017f31">interface_add_dns_search_domain</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip, const char *str)</td></tr>
<tr class="separator:abf9ba52dbd226e20e6e7fa1637017f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4278a12a9776e1876a3a36e98937e0db" id="r_a4278a12a9776e1876a3a36e98937e0db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4278a12a9776e1876a3a36e98937e0db">interface_add_dns_search_list</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *list)</td></tr>
<tr class="separator:a4278a12a9776e1876a3a36e98937e0db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c86f96ae0805157dbf688873ec1e935" id="r_a5c86f96ae0805157dbf688873ec1e935"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c86f96ae0805157dbf688873ec1e935">write_resolv_conf_entries</a> (FILE *f, struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip, const char *dev)</td></tr>
<tr class="separator:a5c86f96ae0805157dbf688873ec1e935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da67a3fa851ed997efc3da70d565e5e" id="r_a3da67a3fa851ed997efc3da70d565e5e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3da67a3fa851ed997efc3da70d565e5e">resolv_conf_iface_cmp</a> (const void *k1, const void *k2, void *ptr)</td></tr>
<tr class="separator:a3da67a3fa851ed997efc3da70d565e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ed8956e1e64f07ee877053185923d35" id="r_a7ed8956e1e64f07ee877053185923d35"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ed8956e1e64f07ee877053185923d35">__interface_write_dns_entries</a> (FILE *f, const char *<a class="el" href="../../d9/dda/instance_8h.html#d6/d57/structjail">jail</a>)</td></tr>
<tr class="separator:a7ed8956e1e64f07ee877053185923d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3db870442998ad2a60cbc2a0b30470a3" id="r_a3db870442998ad2a60cbc2a0b30470a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3db870442998ad2a60cbc2a0b30470a3">interface_write_resolv_conf</a> (const char *<a class="el" href="../../d9/dda/instance_8h.html#d6/d57/structjail">jail</a>)</td></tr>
<tr class="separator:a3db870442998ad2a60cbc2a0b30470a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaac4f2415ee53e62d026bcc39b99bf4" id="r_aeaac4f2415ee53e62d026bcc39b99bf4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeaac4f2415ee53e62d026bcc39b99bf4">interface_ip_set_route_enabled</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip, struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> *route, bool enabled)</td></tr>
<tr class="separator:aeaac4f2415ee53e62d026bcc39b99bf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3aa23eb062cefe798daa9be8fe8151b" id="r_af3aa23eb062cefe798daa9be8fe8151b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3aa23eb062cefe798daa9be8fe8151b">interface_ip_set_enabled</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip, bool enabled)</td></tr>
<tr class="separator:af3aa23eb062cefe798daa9be8fe8151b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a504616f6a4a00fba4818e42c0b672df5" id="r_a504616f6a4a00fba4818e42c0b672df5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a504616f6a4a00fba4818e42c0b672df5">interface_ip_update_start</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip)</td></tr>
<tr class="separator:a504616f6a4a00fba4818e42c0b672df5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a811f6c0cc5583b59b19034dd4eb5365c" id="r_a811f6c0cc5583b59b19034dd4eb5365c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a811f6c0cc5583b59b19034dd4eb5365c">interface_ip_update_complete</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip)</td></tr>
<tr class="separator:a811f6c0cc5583b59b19034dd4eb5365c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72260106df1daaec0966a91524c6e7b0" id="r_a72260106df1daaec0966a91524c6e7b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72260106df1daaec0966a91524c6e7b0">interface_ip_flush</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip)</td></tr>
<tr class="separator:a72260106df1daaec0966a91524c6e7b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accba810c66981a5f3fc9a27e3aba373a" id="r_accba810c66981a5f3fc9a27e3aba373a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#accba810c66981a5f3fc9a27e3aba373a">__interface_ip_init</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip, struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface)</td></tr>
<tr class="separator:accba810c66981a5f3fc9a27e3aba373a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a495aa9adc0d717dcb93a92dca14858b6" id="r_a495aa9adc0d717dcb93a92dca14858b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a495aa9adc0d717dcb93a92dca14858b6">interface_ip_init</a> (struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface)</td></tr>
<tr class="separator:a495aa9adc0d717dcb93a92dca14858b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae56839c12390b266bcb02d88283e1a5e" id="r_ae56839c12390b266bcb02d88283e1a5e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae56839c12390b266bcb02d88283e1a5e">interface_ip_valid_until_handler</a> (struct <a class="el" href="../../dc/d56/uloop_8h.html#d8/d2b/structuloop__timeout">uloop_timeout</a> *t)</td></tr>
<tr class="separator:ae56839c12390b266bcb02d88283e1a5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae921ad44cd03eff5b5bb0a7d18d53615" id="r_ae921ad44cd03eff5b5bb0a7d18d53615"><td class="memItemLeft" align="right" valign="top">static void <a class="el" href="../../d9/dd0/netifd_2utils_8h.html#aca8f1e05ca62886e6d99e8dc006e5500">__init</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae921ad44cd03eff5b5bb0a7d18d53615">interface_ip_init_worker</a> (void)</td></tr>
<tr class="separator:ae921ad44cd03eff5b5bb0a7d18d53615"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af3a087f00893426bf2b0db806cde50b2" id="r_af3a087f00893426bf2b0db806cde50b2"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3a087f00893426bf2b0db806cde50b2">route_attr</a> [<a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4a8dcd1d54248e94bb2e9c32b18df3a3cd">__ROUTE_MAX</a>]</td></tr>
<tr class="separator:af3a087f00893426bf2b0db806cde50b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c77084c872c46bc8f0e97aba768949" id="r_a63c77084c872c46bc8f0e97aba768949"><td class="memItemLeft" align="right" valign="top">const struct uci_blob_param_list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63c77084c872c46bc8f0e97aba768949">route_attr_list</a></td></tr>
<tr class="separator:a63c77084c872c46bc8f0e97aba768949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80bb08c4e126afd03f54a7b0ec7034be" id="r_a80bb08c4e126afd03f54a7b0ec7034be"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80bb08c4e126afd03f54a7b0ec7034be">neighbor_attr</a> [<a class="el" href="#a94798fdadfbf49a7c658ace669a1d310ab2376137778ada92138e3162d1e5b06a">__NEIGHBOR_MAX</a>]</td></tr>
<tr class="separator:a80bb08c4e126afd03f54a7b0ec7034be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac13869d1cbcb10ea8e7f352c80c1e342" id="r_ac13869d1cbcb10ea8e7f352c80c1e342"><td class="memItemLeft" align="right" valign="top">const struct uci_blob_param_list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac13869d1cbcb10ea8e7f352c80c1e342">neighbor_attr_list</a></td></tr>
<tr class="separator:ac13869d1cbcb10ea8e7f352c80c1e342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a2b88a3a6afbd3fd0acd37507e4d5d6" id="r_a1a2b88a3a6afbd3fd0acd37507e4d5d6"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../da/d23/list_8h.html#d9/d93/structlist__head">list_head</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a2b88a3a6afbd3fd0acd37507e4d5d6">prefixes</a> = <a class="el" href="../../da/d23/list_8h.html#a4642d4b7df28478bb762fe43c85b5c63">LIST_HEAD_INIT</a>(prefixes)</td></tr>
<tr class="separator:a1a2b88a3a6afbd3fd0acd37507e4d5d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae959340152a25637dbe576bb22df62d9" id="r_ae959340152a25637dbe576bb22df62d9"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae959340152a25637dbe576bb22df62d9">ula_prefix</a> = NULL</td></tr>
<tr class="separator:ae959340152a25637dbe576bb22df62d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9483ad15bf6568de612f45fff0b1d98" id="r_af9483ad15bf6568de612f45fff0b1d98"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dc/d56/uloop_8h.html#d8/d2b/structuloop__timeout">uloop_timeout</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9483ad15bf6568de612f45fff0b1d98">valid_until_timeout</a></td></tr>
<tr class="separator:af9483ad15bf6568de612f45fff0b1d98"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aaf8fd5f0e57d456151c951e0f3715fc4" name="aaf8fd5f0e57d456151c951e0f3715fc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf8fd5f0e57d456151c951e0f3715fc4">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aaf8fd5f0e57d456151c951e0f3715fc4aaa881a9aa3726144403293084fe204a3" name="aaf8fd5f0e57d456151c951e0f3715fc4aaa881a9aa3726144403293084fe204a3"></a>ROUTE_INTERFACE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaf8fd5f0e57d456151c951e0f3715fc4a22d472fa5fb22f76041b1026096bb62d" name="aaf8fd5f0e57d456151c951e0f3715fc4a22d472fa5fb22f76041b1026096bb62d"></a>ROUTE_TARGET&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaf8fd5f0e57d456151c951e0f3715fc4a221422be76be7babeefb8fde05f6ea22" name="aaf8fd5f0e57d456151c951e0f3715fc4a221422be76be7babeefb8fde05f6ea22"></a>ROUTE_MASK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaf8fd5f0e57d456151c951e0f3715fc4ac1c8f5bf6c8de4e1d95d774bb995e2ac" name="aaf8fd5f0e57d456151c951e0f3715fc4ac1c8f5bf6c8de4e1d95d774bb995e2ac"></a>ROUTE_GATEWAY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaf8fd5f0e57d456151c951e0f3715fc4a762692bfebe614ed3698a24632c8ff72" name="aaf8fd5f0e57d456151c951e0f3715fc4a762692bfebe614ed3698a24632c8ff72"></a>ROUTE_METRIC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaf8fd5f0e57d456151c951e0f3715fc4a1aa07e760e2d11fdff3bb701dc53241b" name="aaf8fd5f0e57d456151c951e0f3715fc4a1aa07e760e2d11fdff3bb701dc53241b"></a>ROUTE_MTU&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaf8fd5f0e57d456151c951e0f3715fc4ac115915919678cffc32c74e43ad9ba6d" name="aaf8fd5f0e57d456151c951e0f3715fc4ac115915919678cffc32c74e43ad9ba6d"></a>ROUTE_VALID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaf8fd5f0e57d456151c951e0f3715fc4ad1cf1ff306bceafd1054a4220230b65f" name="aaf8fd5f0e57d456151c951e0f3715fc4ad1cf1ff306bceafd1054a4220230b65f"></a>ROUTE_TABLE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaf8fd5f0e57d456151c951e0f3715fc4a24310d2cc7a12c94cbc27a68e6acf36d" name="aaf8fd5f0e57d456151c951e0f3715fc4a24310d2cc7a12c94cbc27a68e6acf36d"></a>ROUTE_SOURCE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaf8fd5f0e57d456151c951e0f3715fc4a4c9332236eab1857b847afa4925a2165" name="aaf8fd5f0e57d456151c951e0f3715fc4a4c9332236eab1857b847afa4925a2165"></a>ROUTE_ONLINK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaf8fd5f0e57d456151c951e0f3715fc4a12c7fec5677635815e22dc50280e7c27" name="aaf8fd5f0e57d456151c951e0f3715fc4a12c7fec5677635815e22dc50280e7c27"></a>ROUTE_TYPE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaf8fd5f0e57d456151c951e0f3715fc4aa81f81dc5c8282e57ac93e8be74323ab" name="aaf8fd5f0e57d456151c951e0f3715fc4aa81f81dc5c8282e57ac93e8be74323ab"></a>ROUTE_PROTO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaf8fd5f0e57d456151c951e0f3715fc4a3a4fb4c22974d0b4b3a90fdc97b4c052" name="aaf8fd5f0e57d456151c951e0f3715fc4a3a4fb4c22974d0b4b3a90fdc97b4c052"></a>ROUTE_DISABLED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaf8fd5f0e57d456151c951e0f3715fc4a8dcd1d54248e94bb2e9c32b18df3a3cd" name="aaf8fd5f0e57d456151c951e0f3715fc4a8dcd1d54248e94bb2e9c32b18df3a3cd"></a>__ROUTE_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00033">33</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   33</span>     {</div>
<div class="line"><span class="lineno">   34</span>    <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4aaa881a9aa3726144403293084fe204a3">ROUTE_INTERFACE</a>,</div>
<div class="line"><span class="lineno">   35</span>    <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a22d472fa5fb22f76041b1026096bb62d">ROUTE_TARGET</a>,</div>
<div class="line"><span class="lineno">   36</span>    <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a221422be76be7babeefb8fde05f6ea22">ROUTE_MASK</a>,</div>
<div class="line"><span class="lineno">   37</span>    <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4ac1c8f5bf6c8de4e1d95d774bb995e2ac">ROUTE_GATEWAY</a>,</div>
<div class="line"><span class="lineno">   38</span>    <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a762692bfebe614ed3698a24632c8ff72">ROUTE_METRIC</a>,</div>
<div class="line"><span class="lineno">   39</span>    <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a1aa07e760e2d11fdff3bb701dc53241b">ROUTE_MTU</a>,</div>
<div class="line"><span class="lineno">   40</span>    <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4ac115915919678cffc32c74e43ad9ba6d">ROUTE_VALID</a>,</div>
<div class="line"><span class="lineno">   41</span>    <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4ad1cf1ff306bceafd1054a4220230b65f">ROUTE_TABLE</a>,</div>
<div class="line"><span class="lineno">   42</span>    <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a24310d2cc7a12c94cbc27a68e6acf36d">ROUTE_SOURCE</a>,</div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a4c9332236eab1857b847afa4925a2165">ROUTE_ONLINK</a>,</div>
<div class="line"><span class="lineno">   44</span>    <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a12c7fec5677635815e22dc50280e7c27">ROUTE_TYPE</a>,</div>
<div class="line"><span class="lineno">   45</span>    <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4aa81f81dc5c8282e57ac93e8be74323ab">ROUTE_PROTO</a>,</div>
<div class="line"><span class="lineno">   46</span>    <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a3a4fb4c22974d0b4b3a90fdc97b4c052">ROUTE_DISABLED</a>,</div>
<div class="line"><span class="lineno">   47</span>    <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a8dcd1d54248e94bb2e9c32b18df3a3cd">__ROUTE_MAX</a></div>
<div class="line"><span class="lineno">   48</span>};</div>
<div class="ttc" id="ainterface-ip_8c_html_aaf8fd5f0e57d456151c951e0f3715fc4a12c7fec5677635815e22dc50280e7c27"><div class="ttname"><a href="#aaf8fd5f0e57d456151c951e0f3715fc4a12c7fec5677635815e22dc50280e7c27">ROUTE_TYPE</a></div><div class="ttdeci">@ ROUTE_TYPE</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00044">interface-ip.c:44</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_aaf8fd5f0e57d456151c951e0f3715fc4a1aa07e760e2d11fdff3bb701dc53241b"><div class="ttname"><a href="#aaf8fd5f0e57d456151c951e0f3715fc4a1aa07e760e2d11fdff3bb701dc53241b">ROUTE_MTU</a></div><div class="ttdeci">@ ROUTE_MTU</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00039">interface-ip.c:39</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_aaf8fd5f0e57d456151c951e0f3715fc4a221422be76be7babeefb8fde05f6ea22"><div class="ttname"><a href="#aaf8fd5f0e57d456151c951e0f3715fc4a221422be76be7babeefb8fde05f6ea22">ROUTE_MASK</a></div><div class="ttdeci">@ ROUTE_MASK</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00036">interface-ip.c:36</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_aaf8fd5f0e57d456151c951e0f3715fc4a22d472fa5fb22f76041b1026096bb62d"><div class="ttname"><a href="#aaf8fd5f0e57d456151c951e0f3715fc4a22d472fa5fb22f76041b1026096bb62d">ROUTE_TARGET</a></div><div class="ttdeci">@ ROUTE_TARGET</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00035">interface-ip.c:35</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_aaf8fd5f0e57d456151c951e0f3715fc4a24310d2cc7a12c94cbc27a68e6acf36d"><div class="ttname"><a href="#aaf8fd5f0e57d456151c951e0f3715fc4a24310d2cc7a12c94cbc27a68e6acf36d">ROUTE_SOURCE</a></div><div class="ttdeci">@ ROUTE_SOURCE</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00042">interface-ip.c:42</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_aaf8fd5f0e57d456151c951e0f3715fc4a3a4fb4c22974d0b4b3a90fdc97b4c052"><div class="ttname"><a href="#aaf8fd5f0e57d456151c951e0f3715fc4a3a4fb4c22974d0b4b3a90fdc97b4c052">ROUTE_DISABLED</a></div><div class="ttdeci">@ ROUTE_DISABLED</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00046">interface-ip.c:46</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_aaf8fd5f0e57d456151c951e0f3715fc4a4c9332236eab1857b847afa4925a2165"><div class="ttname"><a href="#aaf8fd5f0e57d456151c951e0f3715fc4a4c9332236eab1857b847afa4925a2165">ROUTE_ONLINK</a></div><div class="ttdeci">@ ROUTE_ONLINK</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00043">interface-ip.c:43</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_aaf8fd5f0e57d456151c951e0f3715fc4a762692bfebe614ed3698a24632c8ff72"><div class="ttname"><a href="#aaf8fd5f0e57d456151c951e0f3715fc4a762692bfebe614ed3698a24632c8ff72">ROUTE_METRIC</a></div><div class="ttdeci">@ ROUTE_METRIC</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00038">interface-ip.c:38</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_aaf8fd5f0e57d456151c951e0f3715fc4a8dcd1d54248e94bb2e9c32b18df3a3cd"><div class="ttname"><a href="#aaf8fd5f0e57d456151c951e0f3715fc4a8dcd1d54248e94bb2e9c32b18df3a3cd">__ROUTE_MAX</a></div><div class="ttdeci">@ __ROUTE_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00048">interface-ip.c:47</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_aaf8fd5f0e57d456151c951e0f3715fc4aa81f81dc5c8282e57ac93e8be74323ab"><div class="ttname"><a href="#aaf8fd5f0e57d456151c951e0f3715fc4aa81f81dc5c8282e57ac93e8be74323ab">ROUTE_PROTO</a></div><div class="ttdeci">@ ROUTE_PROTO</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00045">interface-ip.c:45</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_aaf8fd5f0e57d456151c951e0f3715fc4aaa881a9aa3726144403293084fe204a3"><div class="ttname"><a href="#aaf8fd5f0e57d456151c951e0f3715fc4aaa881a9aa3726144403293084fe204a3">ROUTE_INTERFACE</a></div><div class="ttdeci">@ ROUTE_INTERFACE</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00034">interface-ip.c:34</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_aaf8fd5f0e57d456151c951e0f3715fc4ac115915919678cffc32c74e43ad9ba6d"><div class="ttname"><a href="#aaf8fd5f0e57d456151c951e0f3715fc4ac115915919678cffc32c74e43ad9ba6d">ROUTE_VALID</a></div><div class="ttdeci">@ ROUTE_VALID</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00040">interface-ip.c:40</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_aaf8fd5f0e57d456151c951e0f3715fc4ac1c8f5bf6c8de4e1d95d774bb995e2ac"><div class="ttname"><a href="#aaf8fd5f0e57d456151c951e0f3715fc4ac1c8f5bf6c8de4e1d95d774bb995e2ac">ROUTE_GATEWAY</a></div><div class="ttdeci">@ ROUTE_GATEWAY</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00037">interface-ip.c:37</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_aaf8fd5f0e57d456151c951e0f3715fc4ad1cf1ff306bceafd1054a4220230b65f"><div class="ttname"><a href="#aaf8fd5f0e57d456151c951e0f3715fc4ad1cf1ff306bceafd1054a4220230b65f">ROUTE_TABLE</a></div><div class="ttdeci">@ ROUTE_TABLE</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00041">interface-ip.c:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a94798fdadfbf49a7c658ace669a1d310" name="a94798fdadfbf49a7c658ace669a1d310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94798fdadfbf49a7c658ace669a1d310">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a94798fdadfbf49a7c658ace669a1d310af21a134ff9c1343d9f5e7cc44c8b242f" name="a94798fdadfbf49a7c658ace669a1d310af21a134ff9c1343d9f5e7cc44c8b242f"></a>NEIGHBOR_INTERFACE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a94798fdadfbf49a7c658ace669a1d310a89fa3b3e28ef5b35a675f68ff466d931" name="a94798fdadfbf49a7c658ace669a1d310a89fa3b3e28ef5b35a675f68ff466d931"></a>NEIGHBOR_ADDRESS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a94798fdadfbf49a7c658ace669a1d310add454e8a77ad2511f370537aa7b4b206" name="a94798fdadfbf49a7c658ace669a1d310add454e8a77ad2511f370537aa7b4b206"></a>NEIGHBOR_MAC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a94798fdadfbf49a7c658ace669a1d310a6bfbaafd7ee4fe6e57d89cdad4982caa" name="a94798fdadfbf49a7c658ace669a1d310a6bfbaafd7ee4fe6e57d89cdad4982caa"></a>NEIGHBOR_PROXY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a94798fdadfbf49a7c658ace669a1d310a816b066d133bb595f5cb5ca527ec83e0" name="a94798fdadfbf49a7c658ace669a1d310a816b066d133bb595f5cb5ca527ec83e0"></a>NEIGHBOR_ROUTER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a94798fdadfbf49a7c658ace669a1d310ab2376137778ada92138e3162d1e5b06a" name="a94798fdadfbf49a7c658ace669a1d310ab2376137778ada92138e3162d1e5b06a"></a>__NEIGHBOR_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00071">71</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   71</span>     {</div>
<div class="line"><span class="lineno">   72</span>    <a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310af21a134ff9c1343d9f5e7cc44c8b242f">NEIGHBOR_INTERFACE</a>,</div>
<div class="line"><span class="lineno">   73</span>    <a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310a89fa3b3e28ef5b35a675f68ff466d931">NEIGHBOR_ADDRESS</a>,</div>
<div class="line"><span class="lineno">   74</span>    <a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310add454e8a77ad2511f370537aa7b4b206">NEIGHBOR_MAC</a>,</div>
<div class="line"><span class="lineno">   75</span>    <a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310a6bfbaafd7ee4fe6e57d89cdad4982caa">NEIGHBOR_PROXY</a>,</div>
<div class="line"><span class="lineno">   76</span>    <a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310a816b066d133bb595f5cb5ca527ec83e0">NEIGHBOR_ROUTER</a>,</div>
<div class="line"><span class="lineno">   77</span>    <a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310ab2376137778ada92138e3162d1e5b06a">__NEIGHBOR_MAX</a></div>
<div class="line"><span class="lineno">   78</span>};</div>
<div class="ttc" id="ainterface-ip_8c_html_a94798fdadfbf49a7c658ace669a1d310a6bfbaafd7ee4fe6e57d89cdad4982caa"><div class="ttname"><a href="#a94798fdadfbf49a7c658ace669a1d310a6bfbaafd7ee4fe6e57d89cdad4982caa">NEIGHBOR_PROXY</a></div><div class="ttdeci">@ NEIGHBOR_PROXY</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00075">interface-ip.c:75</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a94798fdadfbf49a7c658ace669a1d310a816b066d133bb595f5cb5ca527ec83e0"><div class="ttname"><a href="#a94798fdadfbf49a7c658ace669a1d310a816b066d133bb595f5cb5ca527ec83e0">NEIGHBOR_ROUTER</a></div><div class="ttdeci">@ NEIGHBOR_ROUTER</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00076">interface-ip.c:76</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a94798fdadfbf49a7c658ace669a1d310a89fa3b3e28ef5b35a675f68ff466d931"><div class="ttname"><a href="#a94798fdadfbf49a7c658ace669a1d310a89fa3b3e28ef5b35a675f68ff466d931">NEIGHBOR_ADDRESS</a></div><div class="ttdeci">@ NEIGHBOR_ADDRESS</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00073">interface-ip.c:73</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a94798fdadfbf49a7c658ace669a1d310ab2376137778ada92138e3162d1e5b06a"><div class="ttname"><a href="#a94798fdadfbf49a7c658ace669a1d310ab2376137778ada92138e3162d1e5b06a">__NEIGHBOR_MAX</a></div><div class="ttdeci">@ __NEIGHBOR_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00078">interface-ip.c:77</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a94798fdadfbf49a7c658ace669a1d310add454e8a77ad2511f370537aa7b4b206"><div class="ttname"><a href="#a94798fdadfbf49a7c658ace669a1d310add454e8a77ad2511f370537aa7b4b206">NEIGHBOR_MAC</a></div><div class="ttdeci">@ NEIGHBOR_MAC</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00074">interface-ip.c:74</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a94798fdadfbf49a7c658ace669a1d310af21a134ff9c1343d9f5e7cc44c8b242f"><div class="ttname"><a href="#a94798fdadfbf49a7c658ace669a1d310af21a134ff9c1343d9f5e7cc44c8b242f">NEIGHBOR_INTERFACE</a></div><div class="ttdeci">@ NEIGHBOR_INTERFACE</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00072">interface-ip.c:72</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1007690842a6580d3b184dd8d6c104aa" name="a1007690842a6580d3b184dd8d6c104aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1007690842a6580d3b184dd8d6c104aa">&#9670;&#160;</a></span>__find_ip_addr_target()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool __find_ip_addr_target </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>v6</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00188">188</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  189</span>{</div>
<div class="line"><span class="lineno">  190</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a> *<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>;</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>    <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#add31e1f4b4f9662f592e61501aaca312">vlist_for_each_element</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ab3234a7d043c711b115520fdde5dc6a1">addr</a>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>) {</div>
<div class="line"><span class="lineno">  193</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>-&gt;enabled)</div>
<div class="line"><span class="lineno">  194</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">if</span> (v6 != ((<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>-&gt;flags &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa40334f02660abdfc5b74e399dacdbfe8">DEVADDR_FAMILY</a>) == <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a>))</div>
<div class="line"><span class="lineno">  197</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">if</span> (((<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>-&gt;flags &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa40334f02660abdfc5b74e399dacdbfe8">DEVADDR_FAMILY</a>) == <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9facc21aeffe47d1209c184f23131cd23b2">DEVADDR_INET4</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  200</span>                <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>-&gt;point_to_point &amp;&amp; a-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a96be1455d3994624065442370cb4b260">in</a>.s_addr == <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>-&gt;point_to_point)</div>
<div class="line"><span class="lineno">  201</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>        <span class="comment">/* Handle offlink addresses correctly */</span></div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a0d9a011d2ecda428dcdd98f410fc5dc8">mask</a> = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>-&gt;mask;</div>
<div class="line"><span class="lineno">  205</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>-&gt;flags &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa40334f02660abdfc5b74e399dacdbfe8">DEVADDR_FAMILY</a>) == <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  206</span>                (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>-&gt;flags &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa02b351530caa741be98d22a4fa977ab5">DEVADDR_OFFLINK</a>))</div>
<div class="line"><span class="lineno">  207</span>            <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a0d9a011d2ecda428dcdd98f410fc5dc8">mask</a> = 128;</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#ad6b1063b11f2c34ebf7c5d023e30b31c">match_if_addr</a>(&amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>-&gt;addr, a, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a0d9a011d2ecda428dcdd98f410fc5dc8">mask</a>))</div>
<div class="line"><span class="lineno">  210</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  213</span>    }</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  216</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_ad6b1063b11f2c34ebf7c5d023e30b31c"><div class="ttname"><a href="#ad6b1063b11f2c34ebf7c5d023e30b31c">match_if_addr</a></div><div class="ttdeci">static bool match_if_addr(union if_addr *a1, union if_addr *a2, int mask)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00113">interface-ip.c:113</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a0d9a011d2ecda428dcdd98f410fc5dc8"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a0d9a011d2ecda428dcdd98f410fc5dc8">device_addr::mask</a></div><div class="ttdeci">unsigned int mask</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00149">interface-ip.h:149</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a763e2f65a14ee3bb6301b151f6b17fe9"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">device_addr::addr</a></div><div class="ttdeci">union if_addr addr</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00150">interface-ip.h:150</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a96be1455d3994624065442370cb4b260"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a96be1455d3994624065442370cb4b260">if_addr::in</a></div><div class="ttdeci">struct in_addr in</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00060">interface-ip.h:60</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_adabef17e89cfe4c34933e5f4a7e0ea9fa02b351530caa741be98d22a4fa977ab5"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa02b351530caa741be98d22a4fa977ab5">DEVADDR_OFFLINK</a></div><div class="ttdeci">@ DEVADDR_OFFLINK</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00038">interface-ip.h:38</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_adabef17e89cfe4c34933e5f4a7e0ea9fa40334f02660abdfc5b74e399dacdbfe8"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa40334f02660abdfc5b74e399dacdbfe8">DEVADDR_FAMILY</a></div><div class="ttdeci">@ DEVADDR_FAMILY</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00023">interface-ip.h:23</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a></div><div class="ttdeci">@ DEVADDR_INET6</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00022">interface-ip.h:22</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_adabef17e89cfe4c34933e5f4a7e0ea9facc21aeffe47d1209c184f23131cd23b2"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9facc21aeffe47d1209c184f23131cd23b2">DEVADDR_INET4</a></div><div class="ttdeci">@ DEVADDR_INET4</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00021">interface-ip.h:21</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_d5/ddd/structdevice__addr"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00129">interface-ip.h:129</a></div></div>
<div class="ttc" id="ainterface_8h_html_ab3234a7d043c711b115520fdde5dc6a1"><div class="ttname"><a href="../../d4/da9/interface_8h.html#ab3234a7d043c711b115520fdde5dc6a1">interface_ip_settings::addr</a></div><div class="ttdeci">struct vlist_tree addr</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00082">interface.h:82</a></div></div>
<div class="ttc" id="atest-avl_8c_html_d5/da1/structnode"><div class="ttname"><a href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a></div><div class="ttdef"><b>Definition</b> <a href="../../d2/d72/test-avl_8c_source.html#l00013">test-avl.c:13</a></div></div>
<div class="ttc" id="avlist_8h_html_add31e1f4b4f9662f592e61501aaca312"><div class="ttname"><a href="../../dd/d1d/vlist_8h.html#add31e1f4b4f9662f592e61501aaca312">vlist_for_each_element</a></div><div class="ttdeci">#define vlist_for_each_element(tree, element, node_member)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d1d/vlist_8h_source.html#l00072">vlist.h:72</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00150">device_addr::addr</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00082">interface_ip_settings::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00023">DEVADDR_FAMILY</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00021">DEVADDR_INET4</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00022">DEVADDR_INET6</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00038">DEVADDR_OFFLINK</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00060">if_addr::in</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00149">device_addr::mask</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00113">match_if_addr()</a>, and <a class="el" href="../../dd/d1d/vlist_8h_source.html#l00072">vlist_for_each_element</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00245">interface_ip_find_addr_target()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a1007690842a6580d3b184dd8d6c104aa_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a1007690842a6580d3b184dd8d6c104aa_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a1007690842a6580d3b184dd8d6c104aa_cgraph" id="adc/df0/interface-ip_8c_a1007690842a6580d3b184dd8d6c104aa_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,223,39"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad6b1063b11f2c34ebf7c5d023e30b31c" title=" " alt="" coords="271,5,423,39"/>
<area shape="poly" title=" " alt="" coords="223,20,255,20,255,25,223,25"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="471,5,610,39"/>
<area shape="poly" title=" " alt="" coords="423,20,456,20,456,25,423,25"/>
</map>
</div>

</div>
</div>
<a id="a87d523dd0fb4bbe26aecce15eb00cd1d" name="a87d523dd0fb4bbe26aecce15eb00cd1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87d523dd0fb4bbe26aecce15eb00cd1d">&#9670;&#160;</a></span>__find_ip_route_target()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __find_ip_route_target </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>v6</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> **</td>          <td class="paramname"><span class="paramname"><em>res</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00219">219</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  221</span>{</div>
<div class="line"><span class="lineno">  222</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> *route;</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>    <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#add31e1f4b4f9662f592e61501aaca312">vlist_for_each_element</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a907be96d59886a7b970685768ba18db3">route</a>, route, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>) {</div>
<div class="line"><span class="lineno">  225</span>        <span class="keywordflow">if</span> (!route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a96a4baf9529747c1edc7d81674b3fc7b">enabled</a>)</div>
<div class="line"><span class="lineno">  226</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>        <span class="keywordflow">if</span> (v6 != ((route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa40334f02660abdfc5b74e399dacdbfe8">DEVADDR_FAMILY</a>) == <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a>))</div>
<div class="line"><span class="lineno">  229</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#ad6b1063b11f2c34ebf7c5d023e30b31c">match_if_addr</a>(&amp;route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>, a, route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a>))</div>
<div class="line"><span class="lineno">  232</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>        <span class="keywordflow">if</span> (route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa0600b776c643bf2efb3120aded7833be">DEVROUTE_TABLE</a>)</div>
<div class="line"><span class="lineno">  235</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordflow">if</span> (!*res || route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a> &gt; (*res)-&gt;mask ||</div>
<div class="line"><span class="lineno">  238</span>                ((route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a> == (*res)-&gt;mask) &amp;&amp; (route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fadbb1af87e6a358d82767b6efda802122">DEVROUTE_METRIC</a>)</div>
<div class="line"><span class="lineno">  239</span>             &amp;&amp; (route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#addc133ffe0c2217b51c5bed6dbe1369c">metric</a> &lt; (*res)-&gt;metric)))</div>
<div class="line"><span class="lineno">  240</span>            *res = route;</div>
<div class="line"><span class="lineno">  241</span>    }</div>
<div class="line"><span class="lineno">  242</span>}</div>
<div class="ttc" id="ainterface-ip_8h_html_a26653715ae7333e64d0db417edff4e89"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">device_route::addr</a></div><div class="ttdeci">union if_addr addr</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00111">interface-ip.h:111</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a60baf6667dc5c3499a0dd3fca76d5149"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">device_route::flags</a></div><div class="ttdeci">enum device_addr_flags flags</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00106">interface-ip.h:106</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a96a4baf9529747c1edc7d81674b3fc7b"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a96a4baf9529747c1edc7d81674b3fc7b">device_route::enabled</a></div><div class="ttdeci">bool enabled</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00095">interface-ip.h:95</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_abb51b39cae1061f5c43bb95e7b89f25e"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">device_route::mask</a></div><div class="ttdeci">unsigned int mask</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00109">interface-ip.h:109</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_adabef17e89cfe4c34933e5f4a7e0ea9fa0600b776c643bf2efb3120aded7833be"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa0600b776c643bf2efb3120aded7833be">DEVROUTE_TABLE</a></div><div class="ttdeci">@ DEVROUTE_TABLE</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00041">interface-ip.h:41</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_adabef17e89cfe4c34933e5f4a7e0ea9fadbb1af87e6a358d82767b6efda802122"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fadbb1af87e6a358d82767b6efda802122">DEVROUTE_METRIC</a></div><div class="ttdeci">@ DEVROUTE_METRIC</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00029">interface-ip.h:29</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_addc133ffe0c2217b51c5bed6dbe1369c"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#addc133ffe0c2217b51c5bed6dbe1369c">device_route::metric</a></div><div class="ttdeci">int metric</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00107">interface-ip.h:107</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_d5/d4e/structdevice__route"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00091">interface-ip.h:91</a></div></div>
<div class="ttc" id="ainterface_8h_html_a907be96d59886a7b970685768ba18db3"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a907be96d59886a7b970685768ba18db3">interface_ip_settings::route</a></div><div class="ttdeci">struct vlist_tree route</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00083">interface.h:83</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00111">device_route::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00023">DEVADDR_FAMILY</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00022">DEVADDR_INET6</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00029">DEVROUTE_METRIC</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00041">DEVROUTE_TABLE</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00095">device_route::enabled</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00106">device_route::flags</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00109">device_route::mask</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00113">match_if_addr()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00107">device_route::metric</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00083">interface_ip_settings::route</a>, and <a class="el" href="../../dd/d1d/vlist_8h_source.html#l00072">vlist_for_each_element</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00252">interface_ip_find_route_target()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a87d523dd0fb4bbe26aecce15eb00cd1d_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a87d523dd0fb4bbe26aecce15eb00cd1d_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a87d523dd0fb4bbe26aecce15eb00cd1d_cgraph" id="adc/df0/interface-ip_8c_a87d523dd0fb4bbe26aecce15eb00cd1d_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,228,39"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad6b1063b11f2c34ebf7c5d023e30b31c" title=" " alt="" coords="276,5,428,39"/>
<area shape="poly" title=" " alt="" coords="228,20,260,20,260,25,228,25"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="476,5,615,39"/>
<area shape="poly" title=" " alt="" coords="428,20,461,20,461,25,428,25"/>
</map>
</div>

</div>
</div>
<a id="accba810c66981a5f3fc9a27e3aba373a" name="accba810c66981a5f3fc9a27e3aba373a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accba810c66981a5f3fc9a27e3aba373a">&#9670;&#160;</a></span>__interface_ip_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __interface_ip_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *</td>          <td class="paramname"><span class="paramname"><em>iface</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01808">1808</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1809</span>{</div>
<div class="line"><span class="lineno"> 1810</span>    ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a> = iface;</div>
<div class="line"><span class="lineno"> 1811</span>    ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a652c417338519beaff9970407f295a90">enabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1812</span>    <a class="code hl_define" href="../../d9/dd0/netifd_2utils_8h.html#abc18667d1c78f080e91225fe951e0d72">vlist_simple_init</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#adb66860a788e26352191973708b498b5">dns_search</a>, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#db/ddf/structdns__search__domain">dns_search_domain</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>);</div>
<div class="line"><span class="lineno"> 1813</span>    <a class="code hl_define" href="../../d9/dd0/netifd_2utils_8h.html#abc18667d1c78f080e91225fe951e0d72">vlist_simple_init</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3363410aef3be499106d9fbf8dba3f0a">dns_servers</a>, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d0/dc0/structdns__server">dns_server</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>);</div>
<div class="line"><span class="lineno"> 1814</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#ac79110e0303dfd3332b3648a921fd004">vlist_init</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a907be96d59886a7b970685768ba18db3">route</a>, <a class="code hl_function" href="#ad57cd3b1ffe38facbf01051cb75a6291">route_cmp</a>, <a class="code hl_function" href="#a7545e1d6969574c2d78054d63ff6f303">interface_update_proto_route</a>);</div>
<div class="line"><span class="lineno"> 1815</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#ac79110e0303dfd3332b3648a921fd004">vlist_init</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9f446a45104d408f08157e99d5bc296f">neighbor</a>, <a class="code hl_function" href="#ab9fc147a80c4a3b13684931f3d12145e">neighbor_cmp</a>, <a class="code hl_function" href="#a6ba449ccc984ff201c40a6ac96460438">interface_update_proto_neighbor</a>);</div>
<div class="line"><span class="lineno"> 1816</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#ac79110e0303dfd3332b3648a921fd004">vlist_init</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ab3234a7d043c711b115520fdde5dc6a1">addr</a>, <a class="code hl_function" href="#a247f5acb467b98b039aa12f190ec8bb5">addr_cmp</a>, <a class="code hl_function" href="#abd78479a01b9f96c7ad966ca334802c7">interface_update_proto_addr</a>);</div>
<div class="line"><span class="lineno"> 1817</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#ac79110e0303dfd3332b3648a921fd004">vlist_init</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac8c1ba6c32f0b815a0da4d8612d5adce">prefix</a>, <a class="code hl_function" href="#a5bbc540d3d551947ef7eb6644c951fc0">prefix_cmp</a>, <a class="code hl_function" href="#adeaba893a4a1c7ca713a948b4d1972d6">interface_update_prefix</a>);</div>
<div class="line"><span class="lineno"> 1818</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_a247f5acb467b98b039aa12f190ec8bb5"><div class="ttname"><a href="#a247f5acb467b98b039aa12f190ec8bb5">addr_cmp</a></div><div class="ttdeci">static int addr_cmp(const void *k1, const void *k2, void *ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00540">interface-ip.c:540</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a5bbc540d3d551947ef7eb6644c951fc0"><div class="ttname"><a href="#a5bbc540d3d551947ef7eb6644c951fc0">prefix_cmp</a></div><div class="ttdeci">static int prefix_cmp(const void *k1, const void *k2, void *ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00588">interface-ip.c:588</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a6ba449ccc984ff201c40a6ac96460438"><div class="ttname"><a href="#a6ba449ccc984ff201c40a6ac96460438">interface_update_proto_neighbor</a></div><div class="ttdeci">static void interface_update_proto_neighbor(struct vlist_tree *tree, struct vlist_node *node_new, struct vlist_node *node_old)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00793">interface-ip.c:793</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a7545e1d6969574c2d78054d63ff6f303"><div class="ttname"><a href="#a7545e1d6969574c2d78054d63ff6f303">interface_update_proto_route</a></div><div class="ttdeci">static void interface_update_proto_route(struct vlist_tree *tree, struct vlist_node *node_new, struct vlist_node *node_old)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00873">interface-ip.c:873</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_ab9fc147a80c4a3b13684931f3d12145e"><div class="ttname"><a href="#ab9fc147a80c4a3b13684931f3d12145e">neighbor_cmp</a></div><div class="ttdeci">static int neighbor_cmp(const void *k1, const void *k2, void *ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00553">interface-ip.c:553</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_abd78479a01b9f96c7ad966ca334802c7"><div class="ttname"><a href="#abd78479a01b9f96c7ad966ca334802c7">interface_update_proto_addr</a></div><div class="ttdeci">static void interface_update_proto_addr(struct vlist_tree *tree, struct vlist_node *node_new, struct vlist_node *node_old)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00644">interface-ip.c:644</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_ad57cd3b1ffe38facbf01051cb75a6291"><div class="ttname"><a href="#ad57cd3b1ffe38facbf01051cb75a6291">route_cmp</a></div><div class="ttdeci">static int route_cmp(const void *k1, const void *k2, void *ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00561">interface-ip.c:561</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_adeaba893a4a1c7ca713a948b4d1972d6"><div class="ttname"><a href="#adeaba893a4a1c7ca713a948b4d1972d6">interface_update_prefix</a></div><div class="ttdeci">static void interface_update_prefix(struct vlist_tree *tree, struct vlist_node *node_new, struct vlist_node *node_old)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l01287">interface-ip.c:1287</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_d0/dc0/structdns__server"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#d0/dc0/structdns__server">dns_server</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00162">interface-ip.h:162</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_db/ddf/structdns__search__domain"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#db/ddf/structdns__search__domain">dns_search_domain</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00168">interface-ip.h:168</a></div></div>
<div class="ttc" id="ainterface_8h_html_a0366c6e716f66acef3dfa13b996afa9b"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">interface_ip_settings::iface</a></div><div class="ttdeci">struct interface * iface</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00076">interface.h:76</a></div></div>
<div class="ttc" id="ainterface_8h_html_a3363410aef3be499106d9fbf8dba3f0a"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a3363410aef3be499106d9fbf8dba3f0a">interface_ip_settings::dns_servers</a></div><div class="ttdeci">struct vlist_simple_tree dns_servers</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00087">interface.h:87</a></div></div>
<div class="ttc" id="ainterface_8h_html_a652c417338519beaff9970407f295a90"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a652c417338519beaff9970407f295a90">interface_ip_settings::enabled</a></div><div class="ttdeci">bool enabled</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00077">interface.h:77</a></div></div>
<div class="ttc" id="ainterface_8h_html_a9f446a45104d408f08157e99d5bc296f"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a9f446a45104d408f08157e99d5bc296f">interface_ip_settings::neighbor</a></div><div class="ttdeci">struct vlist_tree neighbor</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00085">interface.h:85</a></div></div>
<div class="ttc" id="ainterface_8h_html_ac8c1ba6c32f0b815a0da4d8612d5adce"><div class="ttname"><a href="../../d4/da9/interface_8h.html#ac8c1ba6c32f0b815a0da4d8612d5adce">interface_ip_settings::prefix</a></div><div class="ttdeci">struct vlist_tree prefix</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00084">interface.h:84</a></div></div>
<div class="ttc" id="ainterface_8h_html_adb66860a788e26352191973708b498b5"><div class="ttname"><a href="../../d4/da9/interface_8h.html#adb66860a788e26352191973708b498b5">interface_ip_settings::dns_search</a></div><div class="ttdeci">struct vlist_simple_tree dns_search</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00088">interface.h:88</a></div></div>
<div class="ttc" id="anetifd_2utils_8h_html_abc18667d1c78f080e91225fe951e0d72"><div class="ttname"><a href="../../d9/dd0/netifd_2utils_8h.html#abc18667d1c78f080e91225fe951e0d72">vlist_simple_init</a></div><div class="ttdeci">#define vlist_simple_init(tree, node, member)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dd0/netifd_2utils_8h_source.html#l00051">utils.h:51</a></div></div>
<div class="ttc" id="avlist_8c_html_ac79110e0303dfd3332b3648a921fd004"><div class="ttname"><a href="../../d5/d9a/vlist_8c.html#ac79110e0303dfd3332b3648a921fd004">vlist_init</a></div><div class="ttdeci">void vlist_init(struct vlist_tree *tree, avl_tree_comp cmp, vlist_update_cb update)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d9a/vlist_8c_source.html#l00019">vlist.c:19</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/da9/interface_8h_source.html#l00082">interface_ip_settings::addr</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00540">addr_cmp()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00088">interface_ip_settings::dns_search</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00087">interface_ip_settings::dns_servers</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00077">interface_ip_settings::enabled</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00076">interface_ip_settings::iface</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01287">interface_update_prefix()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00644">interface_update_proto_addr()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00793">interface_update_proto_neighbor()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00873">interface_update_proto_route()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00085">interface_ip_settings::neighbor</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00553">neighbor_cmp()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00084">interface_ip_settings::prefix</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00588">prefix_cmp()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00083">interface_ip_settings::route</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00561">route_cmp()</a>, <a class="el" href="../../d5/d9a/vlist_8c_source.html#l00019">vlist_init()</a>, and <a class="el" href="../../d9/dd0/netifd_2utils_8h_source.html#l00051">vlist_simple_init</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01821">interface_ip_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_accba810c66981a5f3fc9a27e3aba373a_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_accba810c66981a5f3fc9a27e3aba373a_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_accba810c66981a5f3fc9a27e3aba373a_cgraph" id="adc/df0/interface-ip_8c_accba810c66981a5f3fc9a27e3aba373a_cgraph">
<area shape="rect" title=" " alt="" coords="5,802,191,836"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a247f5acb467b98b039aa12f190ec8bb5" title=" " alt="" coords="302,448,415,481"/>
<area shape="poly" title=" " alt="" coords="99,801,111,744,135,662,153,618,176,575,204,534,237,499,260,483,286,473,288,478,263,488,240,503,208,537,180,577,158,620,140,664,116,745,104,802"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#adeaba893a4a1c7ca713a948b4d1972d6" title=" " alt="" coords="239,557,478,591"/>
<area shape="poly" title=" " alt="" coords="116,800,326,600,330,604,119,804"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#abd78479a01b9f96c7ad966ca334802c7" title=" " alt="" coords="526,808,812,841"/>
<area shape="poly" title=" " alt="" coords="147,799,191,786,238,777,305,769,358,766,478,777,539,787,596,801,595,806,538,792,478,782,358,772,306,774,239,782,192,791,148,804"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a6ba449ccc984ff201c40a6ac96460438" title=" " alt="" coords="241,1246,476,1302"/>
<area shape="poly" title=" " alt="" coords="111,835,336,1231,331,1233,107,838"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7545e1d6969574c2d78054d63ff6f303" title=" " alt="" coords="241,791,476,848"/>
<area shape="poly" title=" " alt="" coords="191,817,226,817,226,822,191,822"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ab9fc147a80c4a3b13684931f3d12145e" title=" " alt="" coords="282,872,435,905"/>
<area shape="poly" title=" " alt="" coords="159,834,239,857,271,865,269,870,238,862,157,839"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a5bbc540d3d551947ef7eb6644c951fc0" title=" " alt="" coords="297,929,420,963"/>
<area shape="poly" title=" " alt="" coords="120,835,172,875,205,897,240,915,283,930,281,935,238,920,202,902,169,880,117,839"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad57cd3b1ffe38facbf01051cb75a6291" title=" " alt="" coords="299,986,418,1020"/>
<area shape="poly" title=" " alt="" coords="112,835,161,903,198,941,240,973,285,991,283,996,237,978,194,945,157,906,107,838"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#ac79110e0303dfd3332b3648a921fd004" title=" " alt="" coords="621,170,718,204"/>
<area shape="poly" title=" " alt="" coords="100,801,113,750,139,679,157,642,179,605,206,571,237,542,270,524,301,517,332,517,362,520,391,523,419,522,448,513,476,492,494,470,503,449,506,427,505,405,505,357,511,332,524,305,545,276,571,250,623,210,627,215,575,254,549,279,528,307,516,333,511,358,511,405,511,428,508,450,498,473,480,496,450,517,420,527,390,528,361,525,331,522,302,522,271,529,240,547,210,575,184,608,162,644,144,681,118,751,105,802"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#abaaced56b3a208f7cc76ce6723abce07" title=" " alt="" coords="883,632,1086,689"/>
<area shape="poly" title=" " alt="" coords="479,588,868,642,868,647,478,593"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="1191,970,1380,1004"/>
<area shape="poly" title=" " alt="" coords="372,590,459,740,528,852,599,910,665,952,729,980,793,997,860,1006,933,1007,1109,1001,1175,996,1175,1001,1109,1006,933,1013,859,1011,792,1002,727,985,662,956,596,914,524,856,454,742,367,592"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="1194,1086,1377,1120"/>
<area shape="poly" title=" " alt="" coords="374,590,426,669,455,722,481,778,491,813,495,844,495,899,496,924,500,950,510,977,528,1006,589,1077,650,1131,714,1169,780,1193,851,1204,929,1205,1014,1195,1108,1178,1179,1155,1240,1126,1243,1130,1181,1160,1109,1183,1015,1201,929,1210,851,1210,779,1198,711,1174,647,1135,585,1081,524,1009,505,979,495,951,490,925,490,899,490,844,486,814,475,780,450,724,421,671,370,593"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3" title=" " alt="" coords="1193,492,1378,525"/>
<area shape="poly" title=" " alt="" coords="478,563,1177,513,1178,519,479,568"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#afa4013a5a375dedce7a1d26deaf9addf" title=" " alt="" coords="550,318,789,374"/>
<area shape="poly" title=" " alt="" coords="448,554,476,536,489,521,496,506,500,475,505,442,512,425,524,408,560,380,564,384,528,412,516,428,510,443,506,475,501,507,493,524,480,540,451,559"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1239,197,1332,231"/>
<area shape="poly" title=" " alt="" coords="400,554,441,529,460,512,476,493,496,447,502,403,499,361,492,321,485,280,485,240,496,198,524,156,589,92,655,47,721,18,790,5,862,5,939,16,1021,38,1110,67,1157,90,1199,121,1235,154,1263,184,1259,187,1231,158,1196,125,1154,95,1108,72,1019,43,938,22,862,10,790,10,723,23,657,52,593,96,528,160,501,201,490,240,490,280,497,320,505,361,508,403,501,448,480,495,464,516,445,533,403,559"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="942,473,1027,507"/>
<area shape="poly" title=" " alt="" coords="415,554,525,523,636,507,747,497,926,488,926,493,747,502,637,512,527,529,416,559"/>
<area shape="rect" href="../../da/d23/list_8h.html#a0abd4b86ca9f97272fd1fc0e48d99c38" title=" " alt="" coords="614,422,724,456"/>
<area shape="poly" title=" " alt="" coords="440,554,476,536,491,521,499,505,508,489,524,473,560,455,598,445,599,450,562,460,528,477,512,492,504,508,496,524,480,540,442,559"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="1216,840,1355,873"/>
<area shape="poly" title=" " alt="" coords="1034,687,1073,715,1111,749,1125,770,1133,789,1142,806,1158,822,1179,834,1201,843,1199,848,1176,839,1155,827,1137,809,1128,791,1121,773,1107,753,1070,720,1031,692"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7e8a1089df00d795d915595e2e7eaa96" title=" " alt="" coords="1198,606,1373,640"/>
<area shape="poly" title=" " alt="" coords="1086,645,1182,633,1183,639,1086,651"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a8642e113840ee637f7d57e5efb5f02fe" title=" " alt="" coords="1165,901,1406,935"/>
<area shape="poly" title=" " alt="" coords="1040,687,1077,715,1111,750,1122,769,1128,787,1132,821,1137,853,1145,868,1159,884,1167,891,1164,895,1155,888,1140,871,1132,855,1127,822,1123,788,1117,771,1107,753,1074,719,1037,691"/>
<area shape="rect" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad" title=" " alt="" coords="1183,426,1388,460"/>
<area shape="poly" title=" " alt="" coords="1008,630,1083,544,1123,503,1155,477,1183,463,1185,468,1158,481,1126,507,1087,548,1012,633"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac1e6968392107ab1704c592a2270ee2f" title=" " alt="" coords="1181,778,1390,812"/>
<area shape="poly" title=" " alt="" coords="1025,687,1085,727,1158,765,1174,771,1172,776,1156,770,1083,732,1022,691"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf" title=" " alt="" coords="1178,549,1393,583"/>
<area shape="poly" title=" " alt="" coords="1062,629,1108,611,1156,591,1180,585,1181,590,1158,596,1110,616,1064,634"/>
<area shape="poly" title=" " alt="" coords="1042,687,1079,714,1111,750,1125,778,1131,804,1131,853,1130,876,1133,899,1141,922,1159,945,1179,961,1176,966,1155,949,1137,924,1128,900,1125,876,1126,853,1126,804,1120,779,1106,753,1076,718,1039,691"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a753fba8c387cd70d67f154f1d26c3946" title=" " alt="" coords="1182,721,1389,755"/>
<area shape="poly" title=" " alt="" coords="1082,687,1157,707,1187,715,1186,720,1156,713,1081,692"/>
<area shape="poly" title=" " alt="" coords="1043,687,1080,714,1111,750,1129,787,1136,821,1137,853,1135,885,1132,915,1133,947,1141,980,1159,1015,1174,1034,1192,1050,1231,1077,1228,1081,1188,1055,1170,1038,1154,1018,1136,981,1128,947,1127,915,1129,884,1132,853,1131,822,1124,789,1106,753,1077,718,1040,691"/>
<area shape="poly" title=" " alt="" coords="1020,630,1093,575,1155,534,1177,526,1179,531,1158,539,1096,579,1023,634"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a6624a98fc17593f67a43a6fbb15d4c49" title=" " alt="" coords="1157,664,1414,697"/>
<area shape="poly" title=" " alt="" coords="1086,665,1141,668,1141,674,1086,670"/>
<area shape="poly" title=" " alt="" coords="763,373,790,388,814,408,834,435,842,461,849,488,863,518,903,572,945,619,941,623,899,576,858,521,844,489,837,463,829,438,810,412,787,393,760,377"/>
<area shape="poly" title=" " alt="" coords="743,372,800,392,861,407,940,421,1021,430,1168,439,1168,444,1020,435,939,426,860,413,799,397,742,377"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="927,364,1042,397"/>
<area shape="poly" title=" " alt="" coords="789,356,912,370,912,375,789,362"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="941,82,1028,116"/>
<area shape="poly" title=" " alt="" coords="707,315,759,270,810,215,824,190,831,168,839,146,859,125,891,108,925,100,926,105,893,113,862,129,844,149,836,170,829,193,814,218,762,274,710,319"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="929,197,1040,231"/>
<area shape="poly" title=" " alt="" coords="720,315,786,281,859,247,914,229,915,234,861,252,788,285,723,319"/>
<area shape="poly" title=" " alt="" coords="769,314,860,291,1059,250,1223,221,1224,226,1060,255,861,297,771,320"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad2fa2d0aea44b9538daad403462e71e5" title=" " alt="" coords="867,140,1102,173"/>
<area shape="poly" title=" " alt="" coords="699,315,782,240,825,205,859,182,871,177,873,182,862,187,828,209,786,244,703,319"/>
<area shape="poly" title=" " alt="" coords="748,373,814,408,838,431,847,441,862,452,894,466,928,477,926,482,892,471,859,456,844,445,834,434,811,412,745,377"/>
<area shape="rect" href="../../da/d23/list_8h.html#a6ff0e5eee443d7b27def83827340634d" title=" " alt="" coords="926,306,1043,340"/>
<area shape="poly" title=" " alt="" coords="789,335,911,326,911,331,789,340"/>
<area shape="poly" title=" " alt="" coords="1040,211,1224,211,1224,217,1040,217"/>
<area shape="poly" title=" " alt="" coords="813,829,1201,850,1200,855,813,835"/>
<area shape="poly" title=" " alt="" coords="678,806,705,766,745,714,797,661,827,638,859,618,914,600,991,587,1163,570,1163,575,991,592,915,606,861,623,830,642,801,665,749,717,709,769,683,809"/>
<area shape="poly" title=" " alt="" coords="689,840,719,868,760,902,808,934,861,959,941,981,1024,992,1104,996,1175,994,1175,1000,1103,1001,1023,997,940,986,859,964,806,939,757,906,715,872,686,844"/>
<area shape="poly" title=" " alt="" coords="704,805,775,774,860,749,939,736,1019,730,1166,728,1166,734,1019,735,939,742,861,754,776,779,706,810"/>
<area shape="poly" title=" " alt="" coords="677,841,695,902,730,987,755,1031,785,1074,820,1111,862,1141,908,1161,957,1171,1008,1174,1059,1170,1108,1162,1155,1150,1231,1124,1233,1129,1156,1155,1109,1167,1060,1175,1008,1179,956,1176,906,1166,859,1146,817,1115,781,1077,750,1034,725,989,690,904,672,843"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#af0d8dcb590782e1c562717fe62976acd" title=" " alt="" coords="885,763,1084,820"/>
<area shape="poly" title=" " alt="" coords="812,807,869,801,869,806,813,812"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac7ef3157ec2d3ecb1b0e109409296157" title=" " alt="" coords="860,894,1109,950"/>
<area shape="poly" title=" " alt="" coords="727,839,877,886,875,891,726,845"/>
<area shape="poly" title=" " alt="" coords="1085,790,1166,791,1166,796,1085,795"/>
<area shape="poly" title=" " alt="" coords="1109,892,1200,872,1201,878,1110,897"/>
<area shape="poly" title=" " alt="" coords="1109,918,1149,917,1149,922,1109,923"/>
<area shape="poly" title=" " alt="" coords="1110,946,1190,964,1189,969,1109,952"/>
<area shape="poly" title=" " alt="" coords="1034,948,1244,1076,1241,1080,1032,953"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a49dab130004c4304ca124ab88c1e696a" title=" " alt="" coords="557,1257,781,1291"/>
<area shape="poly" title=" " alt="" coords="476,1271,542,1271,542,1277,476,1277"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72a45a7669e7e3b0d4be0b0882632d03" title=" " alt="" coords="561,1314,778,1348"/>
<area shape="poly" title=" " alt="" coords="476,1293,560,1308,559,1314,475,1298"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a0b1977f692eb2cca5a33580db8fa9cea" title=" " alt="" coords="887,1075,1082,1132"/>
<area shape="poly" title=" " alt="" coords="467,846,480,858,497,883,504,909,505,935,502,961,500,986,501,1010,509,1032,528,1055,565,1081,606,1101,650,1115,696,1124,788,1129,871,1122,872,1128,788,1134,695,1129,649,1120,604,1106,562,1086,524,1059,505,1035,496,1011,494,986,497,960,499,935,499,910,492,886,476,861,464,850"/>
<area shape="poly" title=" " alt="" coords="1062,1072,1108,1054,1226,1008,1227,1013,1110,1059,1064,1077"/>
<area shape="poly" title=" " alt="" coords="1083,1101,1179,1101,1179,1106,1083,1106"/>
<area shape="poly" title=" " alt="" coords="717,168,860,125,926,109,927,114,861,130,719,174"/>
</map>
</div>

</div>
</div>
<a id="a0b1977f692eb2cca5a33580db8fa9cea" name="a0b1977f692eb2cca5a33580db8fa9cea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b1977f692eb2cca5a33580db8fa9cea">&#9670;&#160;</a></span>__interface_update_route()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __interface_update_route </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *</td>          <td class="paramname"><span class="paramname"><em>node_new</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *</td>          <td class="paramname"><span class="paramname"><em>node_old</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00831">831</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  834</span>{</div>
<div class="line"><span class="lineno">  835</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface = ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>;</div>
<div class="line"><span class="lineno">  836</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a> *dev;</div>
<div class="line"><span class="lineno">  837</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> *route_old, *route_new;</div>
<div class="line"><span class="lineno">  838</span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ae41d478fddbe4dde14368595553d4b46">keep</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  839</span> </div>
<div class="line"><span class="lineno">  840</span>    dev = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a>;</div>
<div class="line"><span class="lineno">  841</span> </div>
<div class="line"><span class="lineno">  842</span>    <span class="keywordflow">if</span> (!node_new || !node_old)</div>
<div class="line"><span class="lineno">  843</span>        <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#acf5a4a6d7b3c0312a60f705db327709b">updated</a> |= <a class="code hl_enumvalue" href="../../d4/da9/interface_8h.html#a072be7fe7b2d0e8d0ec60b07fe48b1f4ae788f43b410d0c1d122633bf1ed69621">IUF_ROUTE</a>;</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>    route_old = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(node_old, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>);</div>
<div class="line"><span class="lineno">  846</span>    route_new = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(node_new, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>);</div>
<div class="line"><span class="lineno">  847</span> </div>
<div class="line"><span class="lineno">  848</span>    <span class="keywordflow">if</span> (node_old &amp;&amp; node_new)</div>
<div class="line"><span class="lineno">  849</span>        <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ae41d478fddbe4dde14368595553d4b46">keep</a> = !memcmp(&amp;route_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a3239ad2937ff4c7b36488398f31cea44">nexthop</a>, &amp;route_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a3239ad2937ff4c7b36488398f31cea44">nexthop</a>, <span class="keyword">sizeof</span>(route_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a3239ad2937ff4c7b36488398f31cea44">nexthop</a>)) &amp;&amp;</div>
<div class="line"><span class="lineno">  850</span>            (route_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aea6471aa4613b3e7e9cb8bc029c1c5c2">mtu</a> == route_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aea6471aa4613b3e7e9cb8bc029c1c5c2">mtu</a>) &amp;&amp; (route_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa2984c43269a2c4f038c52bad80f6865">type</a> == route_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa2984c43269a2c4f038c52bad80f6865">type</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  851</span>            (route_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ae721fb4068b9a11bb055998d65f93e61">proto</a> == route_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ae721fb4068b9a11bb055998d65f93e61">proto</a>) &amp;&amp; !route_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a7e80aaaa76110debf7642e75a20b2998">failed</a>;</div>
<div class="line"><span class="lineno">  852</span> </div>
<div class="line"><span class="lineno">  853</span>    <span class="keywordflow">if</span> (node_old) {</div>
<div class="line"><span class="lineno">  854</span>        <span class="keywordflow">if</span> (!(route_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa17c50e410c0807a582360d9d74d95f57">DEVADDR_EXTERNAL</a>) &amp;&amp; route_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a96a4baf9529747c1edc7d81674b3fc7b">enabled</a> &amp;&amp; !<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ae41d478fddbe4dde14368595553d4b46">keep</a>)</div>
<div class="line"><span class="lineno">  855</span>            <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c">system_del_route</a>(dev, route_old);</div>
<div class="line"><span class="lineno">  856</span> </div>
<div class="line"><span class="lineno">  857</span>        free(route_old);</div>
<div class="line"><span class="lineno">  858</span>    }</div>
<div class="line"><span class="lineno">  859</span> </div>
<div class="line"><span class="lineno">  860</span>    <span class="keywordflow">if</span> (node_new) {</div>
<div class="line"><span class="lineno">  861</span>        <span class="keywordtype">bool</span> _enabled = <a class="code hl_function" href="#ad74f4a302c6f3336368d4129b31547ba">enable_route</a>(ip, route_new);</div>
<div class="line"><span class="lineno">  862</span> </div>
<div class="line"><span class="lineno">  863</span>        <span class="keywordflow">if</span> (!(route_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa17c50e410c0807a582360d9d74d95f57">DEVADDR_EXTERNAL</a>) &amp;&amp; !<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ae41d478fddbe4dde14368595553d4b46">keep</a> &amp;&amp; _enabled)</div>
<div class="line"><span class="lineno">  864</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f">system_add_route</a>(dev, route_new))</div>
<div class="line"><span class="lineno">  865</span>                route_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a7e80aaaa76110debf7642e75a20b2998">failed</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  866</span> </div>
<div class="line"><span class="lineno">  867</span>        route_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a> = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>;</div>
<div class="line"><span class="lineno">  868</span>        route_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a96a4baf9529747c1edc7d81674b3fc7b">enabled</a> = _enabled;</div>
<div class="line"><span class="lineno">  869</span>    }</div>
<div class="line"><span class="lineno">  870</span>}</div>
<div class="ttc" id="adevice_8h_html_a57556a6e1911613138f56f50aad072e1"><div class="ttname"><a href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">device_user::dev</a></div><div class="ttdeci">struct device * dev</div><div class="ttdef"><b>Definition</b> <a href="../../db/de9/device_8h_source.html#l00184">device.h:184</a></div></div>
<div class="ttc" id="adevice_8h_html_da/d54/structdevice"><div class="ttname"><a href="../../db/de9/device_8h.html#da/d54/structdevice">device</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/de9/device_8h_source.html#l00242">device.h:242</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_ad74f4a302c6f3336368d4129b31547ba"><div class="ttname"><a href="#ad74f4a302c6f3336368d4129b31547ba">enable_route</a></div><div class="ttdeci">static bool enable_route(struct interface_ip_settings *ip, struct device_route *route)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00784">interface-ip.c:784</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a3239ad2937ff4c7b36488398f31cea44"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a3239ad2937ff4c7b36488398f31cea44">device_route::nexthop</a></div><div class="ttdeci">union if_addr nexthop</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00099">interface-ip.h:99</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a32c77efb0acc228302530ef37bc035b1"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">device_route::iface</a></div><div class="ttdeci">struct interface * iface</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00093">interface-ip.h:93</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a7e80aaaa76110debf7642e75a20b2998"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a7e80aaaa76110debf7642e75a20b2998">device_route::failed</a></div><div class="ttdeci">bool failed</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00097">interface-ip.h:97</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_aa2984c43269a2c4f038c52bad80f6865"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#aa2984c43269a2c4f038c52bad80f6865">device_route::type</a></div><div class="ttdeci">unsigned int type</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00101">interface-ip.h:101</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_adabef17e89cfe4c34933e5f4a7e0ea9fa17c50e410c0807a582360d9d74d95f57"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa17c50e410c0807a582360d9d74d95f57">DEVADDR_EXTERNAL</a></div><div class="ttdeci">@ DEVADDR_EXTERNAL</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00026">interface-ip.h:26</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_ae41d478fddbe4dde14368595553d4b46"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#ae41d478fddbe4dde14368595553d4b46">device_route::keep</a></div><div class="ttdeci">bool keep</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00096">interface-ip.h:96</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_ae721fb4068b9a11bb055998d65f93e61"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#ae721fb4068b9a11bb055998d65f93e61">device_route::proto</a></div><div class="ttdeci">unsigned int proto</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00102">interface-ip.h:102</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_aea6471aa4613b3e7e9cb8bc029c1c5c2"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#aea6471aa4613b3e7e9cb8bc029c1c5c2">device_route::mtu</a></div><div class="ttdeci">int mtu</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00100">interface-ip.h:100</a></div></div>
<div class="ttc" id="ainterface_8h_html_a072be7fe7b2d0e8d0ec60b07fe48b1f4ae788f43b410d0c1d122633bf1ed69621"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a072be7fe7b2d0e8d0ec60b07fe48b1f4ae788f43b410d0c1d122633bf1ed69621">IUF_ROUTE</a></div><div class="ttdeci">@ IUF_ROUTE</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00056">interface.h:56</a></div></div>
<div class="ttc" id="ainterface_8h_html_a3b038a7f07556d316ad753778e74620b"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">interface::l3_dev</a></div><div class="ttdeci">struct device_user l3_dev</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00145">interface.h:145</a></div></div>
<div class="ttc" id="ainterface_8h_html_acf5a4a6d7b3c0312a60f705db327709b"><div class="ttname"><a href="../../d4/da9/interface_8h.html#acf5a4a6d7b3c0312a60f705db327709b">interface::updated</a></div><div class="ttdeci">enum interface_update_flags updated</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00132">interface.h:132</a></div></div>
<div class="ttc" id="ainterface_8h_html_d9/dbe/structinterface"><div class="ttname"><a href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a></div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00104">interface.h:104</a></div></div>
<div class="ttc" id="alist_8h_html_af8c317a42292b61c93aae91e59118a46"><div class="ttname"><a href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a></div><div class="ttdeci">#define container_of(ptr, type, member)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00038">list.h:38</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_a3c493797f177336e962f4e33ae86b68c"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c">system_del_route</a></div><div class="ttdeci">int system_del_route(struct device *dev, struct device_route *route)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00268">system-dummy.c:268</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_af2e53724ebfc199196c813bf8369179f"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f">system_add_route</a></div><div class="ttdeci">int system_add_route(struct device *dev, struct device_route *route)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00263">system-dummy.c:263</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00184">device_user::dev</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00026">DEVADDR_EXTERNAL</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00784">enable_route()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00095">device_route::enabled</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00097">device_route::failed</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00106">device_route::flags</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00093">device_route::iface</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00076">interface_ip_settings::iface</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00056">IUF_ROUTE</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00096">device_route::keep</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00145">interface::l3_dev</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00100">device_route::mtu</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00099">device_route::nexthop</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00102">device_route::proto</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00263">system_add_route()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00268">system_del_route()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00101">device_route::type</a>, and <a class="el" href="../../d4/da9/interface_8h_source.html#l00132">interface::updated</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00884">interface_update_host_route()</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00873">interface_update_proto_route()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a0b1977f692eb2cca5a33580db8fa9cea_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a0b1977f692eb2cca5a33580db8fa9cea_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a0b1977f692eb2cca5a33580db8fa9cea_cgraph" id="adc/df0/interface-ip_8c_a0b1977f692eb2cca5a33580db8fa9cea_cgraph">
<area shape="rect" title=" " alt="" coords="5,51,201,108"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad74f4a302c6f3336368d4129b31547ba" title=" " alt="" coords="273,5,414,39"/>
<area shape="poly" title=" " alt="" coords="200,54,258,40,259,45,202,59"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="249,63,438,96"/>
<area shape="poly" title=" " alt="" coords="201,77,233,77,233,82,201,82"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="252,120,435,154"/>
<area shape="poly" title=" " alt="" coords="202,100,256,113,254,118,200,105"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af02c6a85ad946c9d5b7d06007d6768b0" title=" " alt="" coords="486,92,680,126"/>
<area shape="poly" title=" " alt="" coords="439,88,471,92,470,98,438,94"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a7b2b1c8437df1396d066c3d37650f748" title=" " alt="" coords="728,63,974,96"/>
<area shape="poly" title=" " alt="" coords="681,96,712,92,713,97,681,101"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a12404d32d3958a043ee78eece1e5045d" title=" " alt="" coords="743,120,959,154"/>
<area shape="poly" title=" " alt="" coords="681,116,728,121,727,127,681,122"/>
<area shape="poly" title=" " alt="" coords="435,124,470,119,471,125,435,129"/>
</map>
</div>

</div>
</div>
<a id="a7ed8956e1e64f07ee877053185923d35" name="a7ed8956e1e64f07ee877053185923d35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ed8956e1e64f07ee877053185923d35">&#9670;&#160;</a></span>__interface_write_dns_entries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __interface_write_dns_entries </td>
          <td>(</td>
          <td class="paramtype">FILE *</td>          <td class="paramname"><span class="paramname"><em>f</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>jail</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01531">1531</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1532</span>{</div>
<div class="line"><span class="lineno"> 1533</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface;</div>
<div class="line"><span class="lineno"> 1534</span>    <span class="keyword">struct </span>{</div>
<div class="line"><span class="lineno"> 1535</span>        <span class="keyword">struct </span><a class="code hl_struct" href="../../d3/d51/avl_8h.html#d6/d44/structavl__node">avl_node</a> <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>;</div>
<div class="line"><span class="lineno"> 1536</span>    } *entry, *n_entry;</div>
<div class="line"><span class="lineno"> 1537</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d3/d51/avl_8h.html#dd/d4a/structavl__tree">avl_tree</a> resolv_conf_iface_entries;</div>
<div class="line"><span class="lineno"> 1538</span> </div>
<div class="line"><span class="lineno"> 1539</span>    <a class="code hl_function" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d">avl_init</a>(&amp;resolv_conf_iface_entries, <a class="code hl_function" href="#a3da67a3fa851ed997efc3da70d565e5e">resolv_conf_iface_cmp</a>, <span class="keyword">false</span>, NULL);</div>
<div class="line"><span class="lineno"> 1540</span> </div>
<div class="line"><span class="lineno"> 1541</span>    <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#add31e1f4b4f9662f592e61501aaca312">vlist_for_each_element</a>(&amp;<a class="code hl_variable" href="../../dd/dda/interface_8c.html#aa5c5af6c1895c4bf768815c8c5715bf2">interfaces</a>, iface, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>) {</div>
<div class="line"><span class="lineno"> 1542</span>        <span class="keywordflow">if</span> (iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#afadba4d9a3cb8e6e3138d97ff273b1b1">state</a> != <a class="code hl_enumvalue" href="../../d4/da9/interface_8h.html#a674a1a15cc57d4afc3a1a17514257a68aace55f381cc3303217492d5c10548a7a">IFS_UP</a>)</div>
<div class="line"><span class="lineno"> 1543</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1544</span> </div>
<div class="line"><span class="lineno"> 1545</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d9/dda/instance_8h.html#d6/d57/structjail">jail</a> &amp;&amp; (!iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a774a0fb73e91a605b453f090924cd159">jail</a> || strcmp(<a class="code hl_struct" href="../../d9/dda/instance_8h.html#d6/d57/structjail">jail</a>, iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a774a0fb73e91a605b453f090924cd159">jail</a>)))</div>
<div class="line"><span class="lineno"> 1546</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1547</span> </div>
<div class="line"><span class="lineno"> 1548</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/dd0/netifd_2utils_8h.html#ae37acf00dc5210d8567e2fb1f4112de7">vlist_simple_empty</a>(&amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>.<a class="code hl_variable" href="../../d4/da9/interface_8h.html#adb66860a788e26352191973708b498b5">dns_search</a>) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1549</span>            <a class="code hl_define" href="../../d9/dd0/netifd_2utils_8h.html#ae37acf00dc5210d8567e2fb1f4112de7">vlist_simple_empty</a>(&amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>.<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3363410aef3be499106d9fbf8dba3f0a">dns_servers</a>) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1550</span>            <a class="code hl_define" href="../../d9/dd0/netifd_2utils_8h.html#ae37acf00dc5210d8567e2fb1f4112de7">vlist_simple_empty</a>(&amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a4d137d95554e8f9954fa10f8d2ed253b">config_ip</a>.<a class="code hl_variable" href="../../d4/da9/interface_8h.html#adb66860a788e26352191973708b498b5">dns_search</a>) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1551</span>            <a class="code hl_define" href="../../d9/dd0/netifd_2utils_8h.html#ae37acf00dc5210d8567e2fb1f4112de7">vlist_simple_empty</a>(&amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a4d137d95554e8f9954fa10f8d2ed253b">config_ip</a>.<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3363410aef3be499106d9fbf8dba3f0a">dns_servers</a>))</div>
<div class="line"><span class="lineno"> 1552</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1553</span> </div>
<div class="line"><span class="lineno"> 1554</span>        entry = calloc(1, <span class="keyword">sizeof</span>(*entry));</div>
<div class="line"><span class="lineno"> 1555</span>        <span class="keywordflow">if</span> (!entry)</div>
<div class="line"><span class="lineno"> 1556</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1557</span> </div>
<div class="line"><span class="lineno"> 1558</span>        entry-&gt;node.key = iface;</div>
<div class="line"><span class="lineno"> 1559</span>        <a class="code hl_function" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2">avl_insert</a>(&amp;resolv_conf_iface_entries, &amp;entry-&gt;node);</div>
<div class="line"><span class="lineno"> 1560</span>    }</div>
<div class="line"><span class="lineno"> 1561</span> </div>
<div class="line"><span class="lineno"> 1562</span>    <a class="code hl_define" href="../../d3/d51/avl_8h.html#a78fce1e55fe672174caa3053a460ae56">avl_for_each_element</a>(&amp;resolv_conf_iface_entries, entry, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>) {</div>
<div class="line"><span class="lineno"> 1563</span>        iface = (<span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *)entry-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a39f5f0b4fdbdb60701cb9ccc97c370f2">node</a>.key;</div>
<div class="line"><span class="lineno"> 1564</span>        <span class="keyword">struct </span><a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a> *dev = iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a>;</div>
<div class="line"><span class="lineno"> 1565</span> </div>
<div class="line"><span class="lineno"> 1566</span>        fprintf(f, <span class="stringliteral">&quot;# Interface %s\n&quot;</span>, iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#aee0f8e8ed8b404d358a6da91196da0d9">name</a>);</div>
<div class="line"><span class="lineno"> 1567</span> </div>
<div class="line"><span class="lineno"> 1568</span>        <a class="code hl_function" href="#a5c86f96ae0805157dbf688873ec1e935">write_resolv_conf_entries</a>(f, &amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a4d137d95554e8f9954fa10f8d2ed253b">config_ip</a>, dev-&gt;<a class="code hl_variable" href="../../db/de9/device_8h.html#ad329bef51f22d352e19d30c41dc89b25">ifname</a>);</div>
<div class="line"><span class="lineno"> 1569</span> </div>
<div class="line"><span class="lineno"> 1570</span>        <span class="keywordflow">if</span> (!iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>.<a class="code hl_variable" href="../../d4/da9/interface_8h.html#aeb58e55e07a2de73a5e9b383781f993c">no_dns</a>)</div>
<div class="line"><span class="lineno"> 1571</span>            <a class="code hl_function" href="#a5c86f96ae0805157dbf688873ec1e935">write_resolv_conf_entries</a>(f, &amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>, dev-&gt;<a class="code hl_variable" href="../../db/de9/device_8h.html#ad329bef51f22d352e19d30c41dc89b25">ifname</a>);</div>
<div class="line"><span class="lineno"> 1572</span>    }</div>
<div class="line"><span class="lineno"> 1573</span> </div>
<div class="line"><span class="lineno"> 1574</span>    <a class="code hl_define" href="../../d3/d51/avl_8h.html#af8b3ca3843e7a4bb3bc80858f53c2ad5">avl_remove_all_elements</a>(&amp;resolv_conf_iface_entries, entry, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>, n_entry)</div>
<div class="line"><span class="lineno"> 1575</span>        free(entry);</div>
<div class="line"><span class="lineno"> 1576</span>}</div>
<div class="ttc" id="aavl_8c_html_ab9041e08938920d5ae722e2d57dc20e2"><div class="ttname"><a href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2">avl_insert</a></div><div class="ttdeci">int avl_insert(struct avl_tree *tree, struct avl_node *new)</div><div class="ttdef"><b>Definition</b> <a href="../../df/dc2/avl_8c_source.html#l00220">avl.c:220</a></div></div>
<div class="ttc" id="aavl_8c_html_af44d4960ede7f23f071bf00e360bc23d"><div class="ttname"><a href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d">avl_init</a></div><div class="ttdeci">void avl_init(struct avl_tree *tree, avl_tree_comp comp, bool allow_dups, void *ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../df/dc2/avl_8c_source.html#l00092">avl.c:92</a></div></div>
<div class="ttc" id="aavl_8h_html_a78fce1e55fe672174caa3053a460ae56"><div class="ttname"><a href="../../d3/d51/avl_8h.html#a78fce1e55fe672174caa3053a460ae56">avl_for_each_element</a></div><div class="ttdeci">#define avl_for_each_element(tree, element, node_member)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00366">avl.h:366</a></div></div>
<div class="ttc" id="aavl_8h_html_af8b3ca3843e7a4bb3bc80858f53c2ad5"><div class="ttname"><a href="../../d3/d51/avl_8h.html#af8b3ca3843e7a4bb3bc80858f53c2ad5">avl_remove_all_elements</a></div><div class="ttdeci">#define avl_remove_all_elements(tree, element, node_member, ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00545">avl.h:545</a></div></div>
<div class="ttc" id="aavl_8h_html_d6/d44/structavl__node"><div class="ttname"><a href="../../d3/d51/avl_8h.html#d6/d44/structavl__node">avl_node</a></div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00056">avl.h:56</a></div></div>
<div class="ttc" id="aavl_8h_html_dd/d4a/structavl__tree"><div class="ttname"><a href="../../d3/d51/avl_8h.html#dd/d4a/structavl__tree">avl_tree</a></div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00110">avl.h:110</a></div></div>
<div class="ttc" id="adevice_8h_html_ad329bef51f22d352e19d30c41dc89b25"><div class="ttname"><a href="../../db/de9/device_8h.html#ad329bef51f22d352e19d30c41dc89b25">device::ifname</a></div><div class="ttdeci">char ifname[IFNAMSIZ]</div><div class="ttdef"><b>Definition</b> <a href="../../db/de9/device_8h_source.html#l00254">device.h:254</a></div></div>
<div class="ttc" id="ainstance_8h_html_d6/d57/structjail"><div class="ttname"><a href="../../d9/dda/instance_8h.html#d6/d57/structjail">jail</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/dda/instance_8h_source.html#l00026">instance.h:26</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a3da67a3fa851ed997efc3da70d565e5e"><div class="ttname"><a href="#a3da67a3fa851ed997efc3da70d565e5e">resolv_conf_iface_cmp</a></div><div class="ttdeci">static int resolv_conf_iface_cmp(const void *k1, const void *k2, void *ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l01517">interface-ip.c:1517</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a5c86f96ae0805157dbf688873ec1e935"><div class="ttname"><a href="#a5c86f96ae0805157dbf688873ec1e935">write_resolv_conf_entries</a></div><div class="ttdeci">static void write_resolv_conf_entries(FILE *f, struct interface_ip_settings *ip, const char *dev)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l01490">interface-ip.c:1490</a></div></div>
<div class="ttc" id="ainterface_8c_html_aa5c5af6c1895c4bf768815c8c5715bf2"><div class="ttname"><a href="../../dd/dda/interface_8c.html#aa5c5af6c1895c4bf768815c8c5715bf2">interfaces</a></div><div class="ttdeci">struct vlist_tree interfaces</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dda/interface_8c_source.html#l00030">interface.c:30</a></div></div>
<div class="ttc" id="ainterface_8h_html_a39f5f0b4fdbdb60701cb9ccc97c370f2"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a39f5f0b4fdbdb60701cb9ccc97c370f2">interface::node</a></div><div class="ttdeci">struct vlist_node node</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00105">interface.h:105</a></div></div>
<div class="ttc" id="ainterface_8h_html_a4d137d95554e8f9954fa10f8d2ed253b"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a4d137d95554e8f9954fa10f8d2ed253b">interface::config_ip</a></div><div class="ttdeci">struct interface_ip_settings config_ip</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00154">interface.h:154</a></div></div>
<div class="ttc" id="ainterface_8h_html_a674a1a15cc57d4afc3a1a17514257a68aace55f381cc3303217492d5c10548a7a"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a674a1a15cc57d4afc3a1a17514257a68aace55f381cc3303217492d5c10548a7a">IFS_UP</a></div><div class="ttdeci">@ IFS_UP</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00037">interface.h:37</a></div></div>
<div class="ttc" id="ainterface_8h_html_a774a0fb73e91a605b453f090924cd159"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a774a0fb73e91a605b453f090924cd159">interface::jail</a></div><div class="ttdeci">char * jail</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00112">interface.h:112</a></div></div>
<div class="ttc" id="ainterface_8h_html_a9bee13145e6a18ae256beb3069a8cc2d"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">interface::proto_ip</a></div><div class="ttdeci">struct interface_ip_settings proto_ip</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00153">interface.h:153</a></div></div>
<div class="ttc" id="ainterface_8h_html_aeb58e55e07a2de73a5e9b383781f993c"><div class="ttname"><a href="../../d4/da9/interface_8h.html#aeb58e55e07a2de73a5e9b383781f993c">interface_ip_settings::no_dns</a></div><div class="ttdeci">bool no_dns</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00079">interface.h:79</a></div></div>
<div class="ttc" id="ainterface_8h_html_aee0f8e8ed8b404d358a6da91196da0d9"><div class="ttname"><a href="../../d4/da9/interface_8h.html#aee0f8e8ed8b404d358a6da91196da0d9">interface::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00109">interface.h:109</a></div></div>
<div class="ttc" id="ainterface_8h_html_afadba4d9a3cb8e6e3138d97ff273b1b1"><div class="ttname"><a href="../../d4/da9/interface_8h.html#afadba4d9a3cb8e6e3138d97ff273b1b1">interface::state</a></div><div class="ttdeci">enum interface_state state</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00130">interface.h:130</a></div></div>
<div class="ttc" id="anetifd_2utils_8h_html_ae37acf00dc5210d8567e2fb1f4112de7"><div class="ttname"><a href="../../d9/dd0/netifd_2utils_8h.html#ae37acf00dc5210d8567e2fb1f4112de7">vlist_simple_empty</a></div><div class="ttdeci">#define vlist_simple_empty(tree)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dd0/netifd_2utils_8h_source.html#l00074">utils.h:74</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d51/avl_8h_source.html#l00366">avl_for_each_element</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00092">avl_init()</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00220">avl_insert()</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00545">avl_remove_all_elements</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00154">interface::config_ip</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00184">device_user::dev</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00088">interface_ip_settings::dns_search</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00087">interface_ip_settings::dns_servers</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00254">device::ifname</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00037">IFS_UP</a>, <a class="el" href="../../dd/dda/interface_8c_source.html#l00030">interfaces</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00112">interface::jail</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00145">interface::l3_dev</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00109">interface::name</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00079">interface_ip_settings::no_dns</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00105">interface::node</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00153">interface::proto_ip</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01517">resolv_conf_iface_cmp()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00130">interface::state</a>, <a class="el" href="../../dd/d1d/vlist_8h_source.html#l00072">vlist_for_each_element</a>, <a class="el" href="../../d9/dd0/netifd_2utils_8h_source.html#l00074">vlist_simple_empty</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01490">write_resolv_conf_entries()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01579">interface_write_resolv_conf()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a7ed8956e1e64f07ee877053185923d35_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a7ed8956e1e64f07ee877053185923d35_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a7ed8956e1e64f07ee877053185923d35_cgraph" id="adc/df0/interface-ip_8c_a7ed8956e1e64f07ee877053185923d35_cgraph">
<area shape="rect" title=" " alt="" coords="5,261,225,317"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="356,76,443,110"/>
<area shape="poly" title=" " alt="" coords="156,258,359,117,362,121,159,262"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="344,243,455,276"/>
<area shape="poly" title=" " alt="" coords="225,275,328,264,329,269,226,280"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a3da67a3fa851ed997efc3da70d565e5e" title=" " alt="" coords="286,300,513,334"/>
<area shape="poly" title=" " alt="" coords="225,297,271,301,270,307,225,302"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a5c86f96ae0805157dbf688873ec1e935" title=" " alt="" coords="273,357,526,391"/>
<area shape="poly" title=" " alt="" coords="190,315,273,344,299,351,297,356,272,349,188,320"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="579,5,747,39"/>
<area shape="poly" title=" " alt="" coords="442,79,582,41,584,46,443,84"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="598,283,728,316"/>
<area shape="poly" title=" " alt="" coords="455,265,583,285,582,290,454,270"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="582,392,744,426"/>
<area shape="poly" title=" " alt="" coords="455,259,493,268,528,285,546,306,553,328,560,350,576,371,592,382,589,387,572,375,555,352,548,330,541,309,524,290,491,273,454,264"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="836,392,929,426"/>
<area shape="poly" title=" " alt="" coords="456,263,492,271,527,285,542,295,552,306,561,317,575,326,675,356,822,392,820,397,674,361,573,331,558,321,548,310,539,299,525,290,490,277,454,268"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="574,449,752,483"/>
<area shape="poly" title=" " alt="" coords="456,257,493,266,512,274,528,286,543,304,551,323,553,362,555,400,562,418,576,436,577,438,574,442,572,440,557,421,550,401,548,362,546,325,539,307,524,289,509,279,492,271,454,262"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="614,63,712,96"/>
<area shape="poly" title=" " alt="" coords="414,240,479,175,524,138,573,105,598,94,600,98,575,110,527,142,482,179,418,244"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="606,120,720,154"/>
<area shape="poly" title=" " alt="" coords="427,240,493,202,573,162,590,156,592,161,575,167,495,207,430,244"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="602,201,725,235"/>
<area shape="poly" title=" " alt="" coords="454,248,586,228,586,233,455,254"/>
<area shape="poly" title=" " alt="" coords="624,283,619,273,625,264,640,258,663,256,688,258,702,265,700,270,687,264,663,261,641,263,629,268,625,274,628,281"/>
<area shape="poly" title=" " alt="" coords="745,406,821,406,821,412,745,412"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1013,420,1114,454"/>
<area shape="poly" title=" " alt="" coords="930,413,998,424,997,429,929,419"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="818,449,947,483"/>
<area shape="poly" title=" " alt="" coords="753,464,803,464,803,469,753,469"/>
<area shape="poly" title=" " alt="" coords="947,453,997,445,997,450,948,458"/>
<area shape="poly" title=" " alt="" coords="624,202,619,192,625,183,640,177,663,175,688,177,702,184,700,188,687,182,663,180,641,182,629,187,625,192,628,200"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="808,173,957,207"/>
<area shape="poly" title=" " alt="" coords="725,208,792,199,793,204,726,213"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="800,231,965,264"/>
<area shape="poly" title=" " alt="" coords="726,224,785,232,784,237,725,229"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1015,231,1112,264"/>
<area shape="poly" title=" " alt="" coords="939,205,1001,225,999,230,937,210"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1017,173,1110,207"/>
<area shape="poly" title=" " alt="" coords="957,188,1002,188,1002,193,957,193"/>
<area shape="poly" title=" " alt="" coords="965,245,999,245,999,250,965,250"/>
<area shape="poly" title=" " alt="" coords="937,228,1002,207,1003,212,939,233"/>
</map>
</div>

</div>
</div>
<a id="a247f5acb467b98b039aa12f190ec8bb5" name="a247f5acb467b98b039aa12f190ec8bb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a247f5acb467b98b039aa12f190ec8bb5">&#9670;&#160;</a></span>addr_cmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int addr_cmp </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>k1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>k2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00540">540</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  541</span>{</div>
<div class="line"><span class="lineno">  542</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a> *a1 = k1;</div>
<div class="line"><span class="lineno">  543</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a> *a2 = k2;</div>
<div class="line"><span class="lineno">  544</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> cmp_offset = offsetof(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a6001613ebb60add0e1a3fbbe745b9382">flags</a>);</div>
<div class="line"><span class="lineno">  545</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> cmp_size = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a>) - cmp_offset;</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>    <span class="keywordflow">if</span> (a1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a4ac27401abae81cc3921bef947e74ff9">index</a> != a2-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a4ac27401abae81cc3921bef947e74ff9">index</a>)</div>
<div class="line"><span class="lineno">  548</span>        <span class="keywordflow">return</span> a1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a4ac27401abae81cc3921bef947e74ff9">index</a> - a2-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a4ac27401abae81cc3921bef947e74ff9">index</a>;</div>
<div class="line"><span class="lineno">  549</span>    <span class="keywordflow">return</span> memcmp(k1+cmp_offset, k2+cmp_offset, cmp_size);</div>
<div class="line"><span class="lineno">  550</span>}</div>
<div class="ttc" id="ainterface-ip_8h_html_a4ac27401abae81cc3921bef947e74ff9"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a4ac27401abae81cc3921bef947e74ff9">device_addr::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00133">interface-ip.h:133</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a6001613ebb60add0e1a3fbbe745b9382"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a6001613ebb60add0e1a3fbbe745b9382">device_addr::flags</a></div><div class="ttdeci">enum device_addr_flags flags</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00148">interface-ip.h:148</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00148">device_addr::flags</a>, and <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00133">device_addr::index</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01808">__interface_ip_init()</a>.</p>

</div>
</div>
<a id="a7785e8dd3f95af28a1d05a57b6d91226" name="a7785e8dd3f95af28a1d05a57b6d91226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7785e8dd3f95af28a1d05a57b6d91226">&#9670;&#160;</a></span>clear_if_addr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void clear_if_addr </td>
          <td>(</td>
          <td class="paramtype">union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>mask</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00100">100</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  101</span>{</div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordtype">size_t</span> m_bytes = (mask + 7) / 8;</div>
<div class="line"><span class="lineno">  103</span>    uint8_t m_clear = (1 &lt;&lt; (m_bytes * 8 - mask)) - 1;</div>
<div class="line"><span class="lineno">  104</span>    uint8_t *p = (uint8_t *) a;</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">if</span> (m_bytes &lt; <span class="keyword">sizeof</span>(*a))</div>
<div class="line"><span class="lineno">  107</span>        memset(p + m_bytes, 0, <span class="keyword">sizeof</span>(*a) - m_bytes);</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>    p[m_bytes - 1] &amp;= ~m_clear;</div>
<div class="line"><span class="lineno">  110</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00595">interface_handle_subnet_route()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01345">interface_ip_add_device_prefix()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00402">interface_ip_add_route()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01655">interface_ip_set_enabled()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00960">interface_set_prefix_address()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00644">interface_update_proto_addr()</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00113">match_if_addr()</a>.</p>

</div>
</div>
<a id="ad74f4a302c6f3336368d4129b31547ba" name="ad74f4a302c6f3336368d4129b31547ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad74f4a302c6f3336368d4129b31547ba">&#9670;&#160;</a></span>enable_route()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool enable_route </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> *</td>          <td class="paramname"><span class="paramname"><em>route</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00784">784</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  785</span>{</div>
<div class="line"><span class="lineno">  786</span>    <span class="keywordflow">if</span> (ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a430acb1e5c5fc910996e7ef405ca0e96">no_defaultroute</a> &amp;&amp; !route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a>)</div>
<div class="line"><span class="lineno">  787</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  788</span> </div>
<div class="line"><span class="lineno">  789</span>    <span class="keywordflow">return</span> ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a652c417338519beaff9970407f295a90">enabled</a>;</div>
<div class="line"><span class="lineno">  790</span>}</div>
<div class="ttc" id="ainterface_8h_html_a430acb1e5c5fc910996e7ef405ca0e96"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a430acb1e5c5fc910996e7ef405ca0e96">interface_ip_settings::no_defaultroute</a></div><div class="ttdeci">bool no_defaultroute</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00078">interface.h:78</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/da9/interface_8h_source.html#l00077">interface_ip_settings::enabled</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00109">device_route::mask</a>, and <a class="el" href="../../d4/da9/interface_8h_source.html#l00078">interface_ip_settings::no_defaultroute</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00831">__interface_update_route()</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01630">interface_ip_set_route_enabled()</a>.</p>

</div>
</div>
<a id="a0a8ce678ad772000eb73db0e34b94d47" name="a0a8ce678ad772000eb73db0e34b94d47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a8ce678ad772000eb73db0e34b94d47">&#9670;&#160;</a></span>eui64_ifaceid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool eui64_ifaceid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *</td>          <td class="paramname"><span class="paramname"><em>iface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct in6_addr *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00912">912</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  913</span>{</div>
<div class="line"><span class="lineno">  914</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../db/de9/device_8h.html#d4/dda/structdevice__settings">device_settings</a> st;</div>
<div class="line"><span class="lineno">  915</span> </div>
<div class="line"><span class="lineno">  916</span>    <a class="code hl_function" href="../../d5/d96/device_8c.html#ae3d0a25145a8e464a0b07931ddd0ac76">device_merge_settings</a>(iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a>, &amp;st);</div>
<div class="line"><span class="lineno">  917</span> </div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordflow">if</span> (!(st.flags &amp; <a class="code hl_enumvalue" href="../../db/de9/device_8h.html#a6b7b47dd702d9e331586d485013fd1eaab29875f958b35721216828357d8b7d7c">DEV_OPT_MACADDR</a>))</div>
<div class="line"><span class="lineno">  919</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  920</span> </div>
<div class="line"><span class="lineno">  921</span>    <span class="comment">/* get mac address */</span></div>
<div class="line"><span class="lineno">  922</span>    uint8_t *ifaceid = addr-&gt;s6_addr + 8;</div>
<div class="line"><span class="lineno">  923</span>    memcpy(ifaceid, st.macaddr, 3);</div>
<div class="line"><span class="lineno">  924</span>    memcpy(ifaceid + 5, st.macaddr + 3, 3);</div>
<div class="line"><span class="lineno">  925</span>    ifaceid[3] = 0xff;</div>
<div class="line"><span class="lineno">  926</span>    ifaceid[4] = 0xfe;</div>
<div class="line"><span class="lineno">  927</span>    ifaceid[0] ^= 0x02;</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  930</span>}</div>
<div class="ttc" id="adevice_8c_html_ae3d0a25145a8e464a0b07931ddd0ac76"><div class="ttname"><a href="../../d5/d96/device_8c.html#ae3d0a25145a8e464a0b07931ddd0ac76">device_merge_settings</a></div><div class="ttdeci">void device_merge_settings(struct device *dev, struct device_settings *n)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d96/device_8c_source.html#l00250">device.c:250</a></div></div>
<div class="ttc" id="adevice_8h_html_a6b7b47dd702d9e331586d485013fd1eaab29875f958b35721216828357d8b7d7c"><div class="ttname"><a href="../../db/de9/device_8h.html#a6b7b47dd702d9e331586d485013fd1eaab29875f958b35721216828357d8b7d7c">DEV_OPT_MACADDR</a></div><div class="ttdeci">@ DEV_OPT_MACADDR</div><div class="ttdef"><b>Definition</b> <a href="../../db/de9/device_8h_source.html#l00108">device.h:108</a></div></div>
<div class="ttc" id="adevice_8h_html_d4/dda/structdevice__settings"><div class="ttname"><a href="../../db/de9/device_8h.html#d4/dda/structdevice__settings">device_settings</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/de9/device_8h_source.html#l00188">device.h:188</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/de9/device_8h_source.html#l00184">device_user::dev</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00108">DEV_OPT_MACADDR</a>, <a class="el" href="../../d5/d96/device_8c_source.html#l00250">device_merge_settings()</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00189">device_settings::flags</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00145">interface::l3_dev</a>, and <a class="el" href="../../db/de9/device_8h_source.html#l00194">device_settings::macaddr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00933">generate_ifaceid()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a0a8ce678ad772000eb73db0e34b94d47_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a0a8ce678ad772000eb73db0e34b94d47_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a0a8ce678ad772000eb73db0e34b94d47_cgraph" id="adc/df0/interface-ip_8c_a0a8ce678ad772000eb73db0e34b94d47_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,149,39"/>
<area shape="rect" href="../../d5/d96/device_8c.html#ae3d0a25145a8e464a0b07931ddd0ac76" title=" " alt="" coords="197,5,429,39"/>
<area shape="poly" title=" " alt="" coords="149,20,181,20,181,25,149,25"/>
</map>
</div>

</div>
</div>
<a id="a7e8a1089df00d795d915595e2e7eaa96" name="a7e8a1089df00d795d915595e2e7eaa96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e8a1089df00d795d915595e2e7eaa96">&#9670;&#160;</a></span>generate_ifaceid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool generate_ifaceid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *</td>          <td class="paramname"><span class="paramname"><em>iface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct in6_addr *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00933">933</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  934</span>{</div>
<div class="line"><span class="lineno">  935</span>    <span class="keywordtype">bool</span> ret = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  936</span> </div>
<div class="line"><span class="lineno">  937</span>    <span class="comment">/* generate new iface id */</span></div>
<div class="line"><span class="lineno">  938</span>    <span class="keywordflow">switch</span> (iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a6fa56bb424c35d529d42d2ed6faa4544">assignment_iface_id_selection</a>) {</div>
<div class="line"><span class="lineno">  939</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/da9/interface_8h.html#a66882048989a3c2641deb054bdb5f881aa0f65d970301857c61e780045d5da510">IFID_FIXED</a>:</div>
<div class="line"><span class="lineno">  940</span>        <span class="comment">/* fixed */</span></div>
<div class="line"><span class="lineno">  941</span>        <span class="comment">/* copy host part from assignment_fixed_iface_id */</span></div>
<div class="line"><span class="lineno">  942</span>        memcpy(addr-&gt;s6_addr + 8, iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a8c3958c8f27d29d1fa519cfc28a3f680">assignment_fixed_iface_id</a>.s6_addr + 8, 8);</div>
<div class="line"><span class="lineno">  943</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  944</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/da9/interface_8h.html#a66882048989a3c2641deb054bdb5f881a50f534b9aa2bd70536feff6a117b92bb">IFID_RANDOM</a>:</div>
<div class="line"><span class="lineno">  945</span>        <span class="comment">/* randomize last 64 bits */</span></div>
<div class="line"><span class="lineno">  946</span>        <a class="code hl_function" href="#a31c0179736e6e3c8082c62eeae49d6a5">random_ifaceid</a>(addr);</div>
<div class="line"><span class="lineno">  947</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  948</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/da9/interface_8h.html#a66882048989a3c2641deb054bdb5f881a1faf0b60aa67507fb8063c2a5527d6a7">IFID_EUI64</a>:</div>
<div class="line"><span class="lineno">  949</span>        <span class="comment">/* eui64 */</span></div>
<div class="line"><span class="lineno">  950</span>        ret = <a class="code hl_function" href="#a0a8ce678ad772000eb73db0e34b94d47">eui64_ifaceid</a>(iface, addr);</div>
<div class="line"><span class="lineno">  951</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  952</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  953</span>        ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  954</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  955</span>    }</div>
<div class="line"><span class="lineno">  956</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  957</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_a0a8ce678ad772000eb73db0e34b94d47"><div class="ttname"><a href="#a0a8ce678ad772000eb73db0e34b94d47">eui64_ifaceid</a></div><div class="ttdeci">static bool eui64_ifaceid(struct interface *iface, struct in6_addr *addr)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00912">interface-ip.c:912</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a31c0179736e6e3c8082c62eeae49d6a5"><div class="ttname"><a href="#a31c0179736e6e3c8082c62eeae49d6a5">random_ifaceid</a></div><div class="ttdeci">static void random_ifaceid(struct in6_addr *addr)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00895">interface-ip.c:895</a></div></div>
<div class="ttc" id="ainterface_8h_html_a66882048989a3c2641deb054bdb5f881a1faf0b60aa67507fb8063c2a5527d6a7"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a66882048989a3c2641deb054bdb5f881a1faf0b60aa67507fb8063c2a5527d6a7">IFID_EUI64</a></div><div class="ttdeci">@ IFID_EUI64</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00052">interface.h:51</a></div></div>
<div class="ttc" id="ainterface_8h_html_a66882048989a3c2641deb054bdb5f881a50f534b9aa2bd70536feff6a117b92bb"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a66882048989a3c2641deb054bdb5f881a50f534b9aa2bd70536feff6a117b92bb">IFID_RANDOM</a></div><div class="ttdeci">@ IFID_RANDOM</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00050">interface.h:50</a></div></div>
<div class="ttc" id="ainterface_8h_html_a66882048989a3c2641deb054bdb5f881aa0f65d970301857c61e780045d5da510"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a66882048989a3c2641deb054bdb5f881aa0f65d970301857c61e780045d5da510">IFID_FIXED</a></div><div class="ttdeci">@ IFID_FIXED</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00049">interface.h:49</a></div></div>
<div class="ttc" id="ainterface_8h_html_a6fa56bb424c35d529d42d2ed6faa4544"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a6fa56bb424c35d529d42d2ed6faa4544">interface::assignment_iface_id_selection</a></div><div class="ttdeci">enum interface_id_selection_type assignment_iface_id_selection</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00164">interface.h:164</a></div></div>
<div class="ttc" id="ainterface_8h_html_a8c3958c8f27d29d1fa519cfc28a3f680"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a8c3958c8f27d29d1fa519cfc28a3f680">interface::assignment_fixed_iface_id</a></div><div class="ttdeci">struct in6_addr assignment_fixed_iface_id</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00165">interface.h:165</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/da9/interface_8h_source.html#l00165">interface::assignment_fixed_iface_id</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00164">interface::assignment_iface_id_selection</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00912">eui64_ifaceid()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00051">IFID_EUI64</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00049">IFID_FIXED</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00050">IFID_RANDOM</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00895">random_ifaceid()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00960">interface_set_prefix_address()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a7e8a1089df00d795d915595e2e7eaa96_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a7e8a1089df00d795d915595e2e7eaa96_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a7e8a1089df00d795d915595e2e7eaa96_cgraph" id="adc/df0/interface-ip_8c_a7e8a1089df00d795d915595e2e7eaa96_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,180,68"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a0a8ce678ad772000eb73db0e34b94d47" title=" " alt="" coords="238,5,381,39"/>
<area shape="poly" title=" " alt="" coords="180,37,222,31,223,37,181,42"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a31c0179736e6e3c8082c62eeae49d6a5" title=" " alt="" coords="228,63,391,96"/>
<area shape="poly" title=" " alt="" coords="181,60,213,64,212,70,180,65"/>
<area shape="rect" href="../../d5/d96/device_8c.html#ae3d0a25145a8e464a0b07931ddd0ac76" title=" " alt="" coords="439,5,671,39"/>
<area shape="poly" title=" " alt="" coords="382,20,423,20,423,25,382,25"/>
</map>
</div>

</div>
</div>
<a id="af0d8dcb590782e1c562717fe62976acd" name="af0d8dcb590782e1c562717fe62976acd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0d8dcb590782e1c562717fe62976acd">&#9670;&#160;</a></span>interface_add_addr_rules()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interface_add_addr_rules </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a> *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00631">631</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  632</span>{</div>
<div class="line"><span class="lineno">  633</span>    <span class="keywordtype">bool</span> v6 = (addr-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a6001613ebb60add0e1a3fbbe745b9382">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa40334f02660abdfc5b74e399dacdbfe8">DEVADDR_FAMILY</a>) == <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a>;</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>    <a class="code hl_function" href="#ac1e6968392107ab1704c592a2270ee2f">set_ip_source_policy</a>(enabled, v6, <a class="code hl_define" href="../../de/d40/iprule_8h.html#a02a8003cd33a537a12a7081ea53d3d84">IPRULE_PRIORITY_ADDR</a>, &amp;addr-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>,</div>
<div class="line"><span class="lineno">  636</span>                 (v6) ? 128 : 32, addr-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a401647711263a27345a28f9728dc0f60">policy_table</a>, NULL, NULL,</div>
<div class="line"><span class="lineno">  637</span>                 <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  638</span>    <a class="code hl_function" href="#ac1e6968392107ab1704c592a2270ee2f">set_ip_source_policy</a>(enabled, v6, <a class="code hl_define" href="../../de/d40/iprule_8h.html#ad542abdb199bc23524ed13d560f06ca8">IPRULE_PRIORITY_ADDR_MASK</a>,</div>
<div class="line"><span class="lineno">  639</span>                 &amp;addr-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>, addr-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a0d9a011d2ecda428dcdd98f410fc5dc8">mask</a>, addr-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a401647711263a27345a28f9728dc0f60">policy_table</a>, NULL,</div>
<div class="line"><span class="lineno">  640</span>                 NULL, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  641</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_ac1e6968392107ab1704c592a2270ee2f"><div class="ttname"><a href="#ac1e6968392107ab1704c592a2270ee2f">set_ip_source_policy</a></div><div class="ttdeci">static int set_ip_source_policy(bool add, bool v6, unsigned int priority, const union if_addr *addr, uint8_t mask, unsigned int table, struct interface *in_iface, const char *action, bool src)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00128">interface-ip.c:128</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a401647711263a27345a28f9728dc0f60"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a401647711263a27345a28f9728dc0f60">device_addr::policy_table</a></div><div class="ttdeci">unsigned int policy_table</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00134">interface-ip.h:134</a></div></div>
<div class="ttc" id="aiprule_8h_html_a02a8003cd33a537a12a7081ea53d3d84"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a02a8003cd33a537a12a7081ea53d3d84">IPRULE_PRIORITY_ADDR</a></div><div class="ttdeci">#define IPRULE_PRIORITY_ADDR</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00020">iprule.h:20</a></div></div>
<div class="ttc" id="aiprule_8h_html_ad542abdb199bc23524ed13d560f06ca8"><div class="ttname"><a href="../../de/d40/iprule_8h.html#ad542abdb199bc23524ed13d560f06ca8">IPRULE_PRIORITY_ADDR_MASK</a></div><div class="ttdeci">#define IPRULE_PRIORITY_ADDR_MASK</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00021">iprule.h:21</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00111">device_route::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00023">DEVADDR_FAMILY</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00022">DEVADDR_INET6</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00095">device_route::enabled</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00020">IPRULE_PRIORITY_ADDR</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00021">IPRULE_PRIORITY_ADDR_MASK</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00128">set_ip_source_policy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01655">interface_ip_set_enabled()</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00644">interface_update_proto_addr()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_af0d8dcb590782e1c562717fe62976acd_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_af0d8dcb590782e1c562717fe62976acd_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_af0d8dcb590782e1c562717fe62976acd_cgraph" id="adc/df0/interface-ip_8c_af0d8dcb590782e1c562717fe62976acd_cgraph">
<area shape="rect" title=" " alt="" coords="5,51,205,108"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac1e6968392107ab1704c592a2270ee2f" title=" " alt="" coords="253,63,461,96"/>
<area shape="poly" title=" " alt="" coords="205,77,237,77,237,82,205,82"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#aee9e4cf147264086eb292977c8df60d1" title=" " alt="" coords="525,5,719,39"/>
<area shape="poly" title=" " alt="" coords="437,59,525,40,526,45,438,65"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#abcae62722c192dc27b24ea60cfdb3c77" title=" " alt="" coords="528,63,715,96"/>
<area shape="poly" title=" " alt="" coords="461,77,512,77,512,82,461,82"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a956997d89612ec8774b76854579547bf" title=" " alt="" coords="509,121,734,177"/>
<area shape="poly" title=" " alt="" coords="425,94,497,113,496,119,424,100"/>
</map>
</div>

</div>
</div>
<a id="abf9ba52dbd226e20e6e7fa1637017f31" name="abf9ba52dbd226e20e6e7fa1637017f31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf9ba52dbd226e20e6e7fa1637017f31">&#9670;&#160;</a></span>interface_add_dns_search_domain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interface_add_dns_search_domain </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>str</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01458">1458</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1459</span>{</div>
<div class="line"><span class="lineno"> 1460</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#db/ddf/structdns__search__domain">dns_search_domain</a> *s;</div>
<div class="line"><span class="lineno"> 1461</span>    <span class="keywordtype">int</span> len = strlen(str);</div>
<div class="line"><span class="lineno"> 1462</span> </div>
<div class="line"><span class="lineno"> 1463</span>    s = calloc(1, <span class="keyword">sizeof</span>(*s) + len + 1);</div>
<div class="line"><span class="lineno"> 1464</span>    <span class="keywordflow">if</span> (!s)</div>
<div class="line"><span class="lineno"> 1465</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1466</span> </div>
<div class="line"><span class="lineno"> 1467</span>    <a class="code hl_define" href="../../d3/d75/netifd_2netifd_8h.html#aca4e286dfd9f6ee7adaca201c701e924">D</a>(INTERFACE, <span class="stringliteral">&quot;Add DNS search domain: %s&quot;</span>, str);</div>
<div class="line"><span class="lineno"> 1468</span>    memcpy(s-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#afdb22459e6492a9c0307f9847eb86402">name</a>, str, len);</div>
<div class="line"><span class="lineno"> 1469</span>    <a class="code hl_function" href="../../d9/dd0/netifd_2utils_8h.html#ade8ba5ef19f344907721dd296b2d5d70">vlist_simple_add</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#adb66860a788e26352191973708b498b5">dns_search</a>, &amp;s-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a115ac5b6ca8a39920574374568f29b62">node</a>);</div>
<div class="line"><span class="lineno"> 1470</span>}</div>
<div class="ttc" id="ainterface-ip_8h_html_a115ac5b6ca8a39920574374568f29b62"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a115ac5b6ca8a39920574374568f29b62">dns_search_domain::node</a></div><div class="ttdeci">struct vlist_simple_node node</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00169">interface-ip.h:169</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_afdb22459e6492a9c0307f9847eb86402"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#afdb22459e6492a9c0307f9847eb86402">dns_search_domain::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00170">interface-ip.h:170</a></div></div>
<div class="ttc" id="anetifd_2netifd_8h_html_aca4e286dfd9f6ee7adaca201c701e924"><div class="ttname"><a href="../../d3/d75/netifd_2netifd_8h.html#aca4e286dfd9f6ee7adaca201c701e924">D</a></div><div class="ttdeci">#define D(level, format,...)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d75/netifd_2netifd_8h_source.html#l00083">netifd.h:83</a></div></div>
<div class="ttc" id="anetifd_2utils_8h_html_ade8ba5ef19f344907721dd296b2d5d70"><div class="ttname"><a href="../../d9/dd0/netifd_2utils_8h.html#ade8ba5ef19f344907721dd296b2d5d70">vlist_simple_add</a></div><div class="ttdeci">static void vlist_simple_add(struct vlist_simple_tree *tree, struct vlist_simple_node *node)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dd0/netifd_2utils_8h_source.html#l00065">utils.h:65</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d75/netifd_2netifd_8h_source.html#l00083">D</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00088">interface_ip_settings::dns_search</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00170">dns_search_domain::name</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00169">dns_search_domain::node</a>, and <a class="el" href="../../d9/dd0/netifd_2utils_8h_source.html#l00065">vlist_simple_add()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01473">interface_add_dns_search_list()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_abf9ba52dbd226e20e6e7fa1637017f31_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_abf9ba52dbd226e20e6e7fa1637017f31_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_abf9ba52dbd226e20e6e7fa1637017f31_cgraph" id="adc/df0/interface-ip_8c_abf9ba52dbd226e20e6e7fa1637017f31_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,266,62"/>
<area shape="rect" href="../../d9/dd0/netifd_2utils_8h.html#ade8ba5ef19f344907721dd296b2d5d70" title=" " alt="" coords="314,17,487,51"/>
<area shape="poly" title=" " alt="" coords="266,31,298,31,298,36,266,36"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="535,17,664,51"/>
<area shape="poly" title=" " alt="" coords="487,31,520,31,520,36,487,36"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="712,17,814,51"/>
<area shape="poly" title=" " alt="" coords="665,31,697,31,697,36,665,36"/>
</map>
</div>

</div>
</div>
<a id="a4278a12a9776e1876a3a36e98937e0db" name="a4278a12a9776e1876a3a36e98937e0db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4278a12a9776e1876a3a36e98937e0db">&#9670;&#160;</a></span>interface_add_dns_search_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interface_add_dns_search_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>list</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01473">1473</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1474</span>{</div>
<div class="line"><span class="lineno"> 1475</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *cur;</div>
<div class="line"><span class="lineno"> 1476</span>    <span class="keywordtype">size_t</span> rem;</div>
<div class="line"><span class="lineno"> 1477</span> </div>
<div class="line"><span class="lineno"> 1478</span>    <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(cur, list, rem) {</div>
<div class="line"><span class="lineno"> 1479</span>        <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(cur) != <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>)</div>
<div class="line"><span class="lineno"> 1480</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1481</span> </div>
<div class="line"><span class="lineno"> 1482</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#a9d0083e7e5fe549e37900ac4a80c2f94">blobmsg_check_attr</a>(cur, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 1483</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1484</span> </div>
<div class="line"><span class="lineno"> 1485</span>        <a class="code hl_function" href="#abf9ba52dbd226e20e6e7fa1637017f31">interface_add_dns_search_domain</a>(ip, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur));</div>
<div class="line"><span class="lineno"> 1486</span>    }</div>
<div class="line"><span class="lineno"> 1487</span>}</div>
<div class="ttc" id="ablob_8h_html_dc/dd9/structblob__attr"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a></div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00052">blob.h:52</a></div></div>
<div class="ttc" id="ablobmsg_8c_html_a9d0083e7e5fe549e37900ac4a80c2f94"><div class="ttname"><a href="../../d1/d30/blobmsg_8c.html#a9d0083e7e5fe549e37900ac4a80c2f94">blobmsg_check_attr</a></div><div class="ttdeci">bool blobmsg_check_attr(const struct blob_attr *attr, bool name)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d30/blobmsg_8c_source.html#l00028">blobmsg.c:28</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a69a81065d5c7977bc26fbd093f21a132"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a></div><div class="ttdeci">#define blobmsg_for_each_attr(pos, attr, rem)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00364">blobmsg.h:364</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a></div><div class="ttdeci">blobmsg_type</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00025">blobmsg.h:25</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a></div><div class="ttdeci">@ BLOBMSG_TYPE_STRING</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00029">blobmsg.h:29</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_ab788ffb2ae75d047fa39be6e79571d20"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a></div><div class="ttdeci">static void * blobmsg_data(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg.h:78</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_abf9ba52dbd226e20e6e7fa1637017f31"><div class="ttname"><a href="#abf9ba52dbd226e20e6e7fa1637017f31">interface_add_dns_search_domain</a></div><div class="ttdeci">static void interface_add_dns_search_domain(struct interface_ip_settings *ip, const char *str)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l01458">interface-ip.c:1458</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00028">blobmsg_check_attr()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00364">blobmsg_for_each_attr</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00029">BLOBMSG_TYPE_STRING</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01458">interface_add_dns_search_domain()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dda/interface_8c_source.html#l00818">interface_alloc()</a>, and <a class="el" href="../../db/d25/proto-shell_8c_source.html#l00504">proto_shell_update_link()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a4278a12a9776e1876a3a36e98937e0db_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a4278a12a9776e1876a3a36e98937e0db_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a4278a12a9776e1876a3a36e98937e0db_cgraph" id="adc/df0/interface-ip_8c_a4278a12a9776e1876a3a36e98937e0db_cgraph">
<area shape="rect" title=" " alt="" coords="5,335,302,368"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a9d0083e7e5fe549e37900ac4a80c2f94" title=" " alt="" coords="377,145,583,179"/>
<area shape="poly" title=" " alt="" coords="183,332,435,185,437,189,186,336"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1223,221,1374,255"/>
<area shape="poly" title=" " alt="" coords="302,353,473,353,683,345,911,326,1025,311,1137,292,1192,277,1242,259,1244,264,1193,282,1138,297,1026,316,911,332,683,350,473,358,302,358"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#abf9ba52dbd226e20e6e7fa1637017f31" title=" " alt="" coords="350,389,610,445"/>
<area shape="poly" title=" " alt="" coords="242,366,335,385,334,390,241,372"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="973,5,1114,39"/>
<area shape="poly" title=" " alt="" coords="550,142,957,41,958,46,552,147"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="658,145,901,179"/>
<area shape="poly" title=" " alt="" coords="583,160,642,160,642,165,583,165"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1505,49,1603,83"/>
<area shape="poly" title=" " alt="" coords="1115,26,1490,58,1489,63,1114,31"/>
<area shape="poly" title=" " alt="" coords="801,143,865,96,906,70,948,48,960,42,963,47,950,53,908,75,868,101,804,147"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="956,172,1131,206"/>
<area shape="poly" title=" " alt="" coords="902,172,941,176,941,181,901,177"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="1000,229,1087,263"/>
<area shape="poly" title=" " alt="" coords="833,177,950,216,986,227,984,232,949,221,831,182"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="1186,163,1411,196"/>
<area shape="poly" title=" " alt="" coords="902,154,1016,153,1138,157,1171,159,1170,165,1138,162,1016,158,902,160"/>
<area shape="poly" title=" " alt="" coords="800,177,863,228,905,254,950,273,987,281,1024,286,1100,284,1172,273,1232,257,1234,263,1173,278,1101,289,1024,291,986,287,949,278,902,259,860,233,797,182"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="949,63,1138,96"/>
<area shape="poly" title=" " alt="" coords="835,142,972,99,974,104,837,147"/>
<area shape="poly" title=" " alt="" coords="1326,160,1386,126,1458,92,1489,81,1491,86,1460,97,1388,131,1329,165"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1499,107,1610,140"/>
<area shape="poly" title=" " alt="" coords="1378,159,1483,136,1484,142,1379,165"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1464,279,1645,312"/>
<area shape="poly" title=" " alt="" coords="1389,195,1413,207,1429,221,1437,237,1446,251,1461,265,1467,269,1464,274,1457,270,1442,255,1433,239,1424,225,1409,211,1386,199"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1469,164,1639,198"/>
<area shape="poly" title=" " alt="" coords="1411,177,1453,178,1453,183,1411,183"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1459,221,1649,255"/>
<area shape="poly" title=" " alt="" coords="1376,194,1463,215,1462,220,1374,200"/>
<area shape="poly" title=" " alt="" coords="1373,223,1410,207,1424,193,1433,179,1442,164,1457,149,1482,137,1485,142,1461,154,1446,167,1437,182,1428,197,1412,211,1375,228"/>
<area shape="poly" title=" " alt="" coords="1375,253,1462,272,1461,277,1374,258"/>
<area shape="poly" title=" " alt="" coords="1374,219,1461,199,1462,204,1375,224"/>
<area shape="poly" title=" " alt="" coords="1375,236,1444,236,1444,241,1375,241"/>
<area shape="poly" title=" " alt="" coords="1138,74,1489,65,1489,71,1138,80"/>
<area shape="poly" title=" " alt="" coords="1138,85,1483,115,1483,120,1138,90"/>
<area shape="poly" title=" " alt="" coords="1068,95,1140,158,1162,185,1172,196,1187,207,1209,217,1207,222,1184,211,1168,200,1158,188,1136,161,1064,99"/>
<area shape="rect" href="../../d9/dd0/netifd_2utils_8h.html#ade8ba5ef19f344907721dd296b2d5d70" title=" " alt="" coords="693,400,866,434"/>
<area shape="poly" title=" " alt="" coords="611,414,677,414,677,420,611,420"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="979,400,1108,434"/>
<area shape="poly" title=" " alt="" coords="867,414,963,414,963,420,867,420"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1248,400,1349,434"/>
<area shape="poly" title=" " alt="" coords="1108,414,1232,414,1232,420,1108,420"/>
</map>
</div>

</div>
</div>
<a id="abfd55f0fc86a14fe7807c5788b46eb72" name="abfd55f0fc86a14fe7807c5788b46eb72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfd55f0fc86a14fe7807c5788b46eb72">&#9670;&#160;</a></span>interface_add_dns_server()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interface_add_dns_server </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>str</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01415">1415</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1416</span>{</div>
<div class="line"><span class="lineno"> 1417</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d0/dc0/structdns__server">dns_server</a> *s;</div>
<div class="line"><span class="lineno"> 1418</span> </div>
<div class="line"><span class="lineno"> 1419</span>    s = calloc(1, <span class="keyword">sizeof</span>(*s));</div>
<div class="line"><span class="lineno"> 1420</span>    <span class="keywordflow">if</span> (!s)</div>
<div class="line"><span class="lineno"> 1421</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1422</span> </div>
<div class="line"><span class="lineno"> 1423</span>    s-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1478e2e48dbbc298cfec20ccbe3a7bd7">af</a> = AF_INET;</div>
<div class="line"><span class="lineno"> 1424</span>    <span class="keywordflow">if</span> (inet_pton(s-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1478e2e48dbbc298cfec20ccbe3a7bd7">af</a>, str, &amp;s-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a687fa24d1e4f97c2c89d15aa5f370706">addr</a>.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a96be1455d3994624065442370cb4b260">in</a>))</div>
<div class="line"><span class="lineno"> 1425</span>        <span class="keywordflow">goto</span> add;</div>
<div class="line"><span class="lineno"> 1426</span> </div>
<div class="line"><span class="lineno"> 1427</span>    s-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1478e2e48dbbc298cfec20ccbe3a7bd7">af</a> = AF_INET6;</div>
<div class="line"><span class="lineno"> 1428</span>    <span class="keywordflow">if</span> (inet_pton(s-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1478e2e48dbbc298cfec20ccbe3a7bd7">af</a>, str, &amp;s-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a687fa24d1e4f97c2c89d15aa5f370706">addr</a>.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a96be1455d3994624065442370cb4b260">in</a>))</div>
<div class="line"><span class="lineno"> 1429</span>        <span class="keywordflow">goto</span> add;</div>
<div class="line"><span class="lineno"> 1430</span> </div>
<div class="line"><span class="lineno"> 1431</span>    free(s);</div>
<div class="line"><span class="lineno"> 1432</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1433</span> </div>
<div class="line"><span class="lineno"> 1434</span>add:</div>
<div class="line"><span class="lineno"> 1435</span>    <a class="code hl_define" href="../../d3/d75/netifd_2netifd_8h.html#aca4e286dfd9f6ee7adaca201c701e924">D</a>(INTERFACE, <span class="stringliteral">&quot;Add IPv%c DNS server: %s&quot;</span>,</div>
<div class="line"><span class="lineno"> 1436</span>      s-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1478e2e48dbbc298cfec20ccbe3a7bd7">af</a> == AF_INET6 ? <span class="charliteral">&#39;6&#39;</span> : <span class="charliteral">&#39;4&#39;</span>, str);</div>
<div class="line"><span class="lineno"> 1437</span>    <a class="code hl_function" href="../../d9/dd0/netifd_2utils_8h.html#ade8ba5ef19f344907721dd296b2d5d70">vlist_simple_add</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3363410aef3be499106d9fbf8dba3f0a">dns_servers</a>, &amp;s-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a74073142c674bdf8ba2facc2535966b3">node</a>);</div>
<div class="line"><span class="lineno"> 1438</span>}</div>
<div class="ttc" id="ainterface-ip_8h_html_a1478e2e48dbbc298cfec20ccbe3a7bd7"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a1478e2e48dbbc298cfec20ccbe3a7bd7">dns_server::af</a></div><div class="ttdeci">int af</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00164">interface-ip.h:164</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a687fa24d1e4f97c2c89d15aa5f370706"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a687fa24d1e4f97c2c89d15aa5f370706">dns_server::addr</a></div><div class="ttdeci">union if_addr addr</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00165">interface-ip.h:165</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a74073142c674bdf8ba2facc2535966b3"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a74073142c674bdf8ba2facc2535966b3">dns_server::node</a></div><div class="ttdeci">struct vlist_simple_node node</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00163">interface-ip.h:163</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00165">dns_server::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00164">dns_server::af</a>, <a class="el" href="../../d3/d75/netifd_2netifd_8h_source.html#l00083">D</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00087">interface_ip_settings::dns_servers</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00060">if_addr::in</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00163">dns_server::node</a>, and <a class="el" href="../../d9/dd0/netifd_2utils_8h_source.html#l00065">vlist_simple_add()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01441">interface_add_dns_server_list()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_abfd55f0fc86a14fe7807c5788b46eb72_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_abfd55f0fc86a14fe7807c5788b46eb72_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_abfd55f0fc86a14fe7807c5788b46eb72_cgraph" id="adc/df0/interface-ip_8c_abfd55f0fc86a14fe7807c5788b46eb72_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,264,39"/>
<area shape="rect" href="../../d9/dd0/netifd_2utils_8h.html#ade8ba5ef19f344907721dd296b2d5d70" title=" " alt="" coords="312,5,485,39"/>
<area shape="poly" title=" " alt="" coords="264,20,296,20,296,25,264,25"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="533,5,662,39"/>
<area shape="poly" title=" " alt="" coords="485,20,518,20,518,25,485,25"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="710,5,812,39"/>
<area shape="poly" title=" " alt="" coords="663,20,695,20,695,25,663,25"/>
</map>
</div>

</div>
</div>
<a id="aedec346c4d9f4e852c992e7dc5c4ae29" name="aedec346c4d9f4e852c992e7dc5c4ae29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedec346c4d9f4e852c992e7dc5c4ae29">&#9670;&#160;</a></span>interface_add_dns_server_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interface_add_dns_server_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>list</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01441">1441</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1442</span>{</div>
<div class="line"><span class="lineno"> 1443</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *cur;</div>
<div class="line"><span class="lineno"> 1444</span>    <span class="keywordtype">size_t</span> rem;</div>
<div class="line"><span class="lineno"> 1445</span> </div>
<div class="line"><span class="lineno"> 1446</span>    <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(cur, list, rem) {</div>
<div class="line"><span class="lineno"> 1447</span>        <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(cur) != <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>)</div>
<div class="line"><span class="lineno"> 1448</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1449</span> </div>
<div class="line"><span class="lineno"> 1450</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#a9d0083e7e5fe549e37900ac4a80c2f94">blobmsg_check_attr</a>(cur, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 1451</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1452</span> </div>
<div class="line"><span class="lineno"> 1453</span>        <a class="code hl_function" href="#abfd55f0fc86a14fe7807c5788b46eb72">interface_add_dns_server</a>(ip, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur));</div>
<div class="line"><span class="lineno"> 1454</span>    }</div>
<div class="line"><span class="lineno"> 1455</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_abfd55f0fc86a14fe7807c5788b46eb72"><div class="ttname"><a href="#abfd55f0fc86a14fe7807c5788b46eb72">interface_add_dns_server</a></div><div class="ttdeci">static void interface_add_dns_server(struct interface_ip_settings *ip, const char *str)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l01415">interface-ip.c:1415</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00028">blobmsg_check_attr()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00364">blobmsg_for_each_attr</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00029">BLOBMSG_TYPE_STRING</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01415">interface_add_dns_server()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dda/interface_8c_source.html#l00818">interface_alloc()</a>, and <a class="el" href="../../db/d25/proto-shell_8c_source.html#l00504">proto_shell_update_link()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_aedec346c4d9f4e852c992e7dc5c4ae29_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_aedec346c4d9f4e852c992e7dc5c4ae29_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_aedec346c4d9f4e852c992e7dc5c4ae29_cgraph" id="adc/df0/interface-ip_8c_aedec346c4d9f4e852c992e7dc5c4ae29_cgraph">
<area shape="rect" title=" " alt="" coords="5,335,300,368"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a9d0083e7e5fe549e37900ac4a80c2f94" title=" " alt="" coords="374,145,580,179"/>
<area shape="poly" title=" " alt="" coords="182,332,431,185,434,190,185,336"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1219,221,1370,255"/>
<area shape="poly" title=" " alt="" coords="300,353,471,353,680,345,907,326,1022,311,1133,292,1188,277,1238,259,1240,264,1189,282,1134,297,1023,316,908,331,680,350,471,358,300,358"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#abfd55f0fc86a14fe7807c5788b46eb72" title=" " alt="" coords="348,389,606,423"/>
<area shape="poly" title=" " alt="" coords="257,366,358,384,357,389,256,372"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="969,5,1110,39"/>
<area shape="poly" title=" " alt="" coords="547,142,953,41,954,46,549,147"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="654,145,897,179"/>
<area shape="poly" title=" " alt="" coords="581,160,639,160,639,165,581,165"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1501,49,1599,83"/>
<area shape="poly" title=" " alt="" coords="1111,26,1486,58,1485,63,1110,31"/>
<area shape="poly" title=" " alt="" coords="797,143,861,96,902,70,944,48,956,42,959,47,946,53,904,75,864,101,800,147"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="952,172,1127,206"/>
<area shape="poly" title=" " alt="" coords="898,172,937,176,937,181,897,177"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="996,229,1083,263"/>
<area shape="poly" title=" " alt="" coords="829,177,946,216,982,227,980,232,945,221,827,182"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="1182,163,1407,196"/>
<area shape="poly" title=" " alt="" coords="898,154,1012,153,1134,157,1167,159,1166,165,1134,162,1012,158,898,160"/>
<area shape="poly" title=" " alt="" coords="796,177,859,228,901,254,946,273,983,281,1020,286,1096,284,1168,273,1228,257,1230,263,1169,278,1097,289,1020,291,982,287,945,278,898,259,856,233,793,182"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="945,63,1134,96"/>
<area shape="poly" title=" " alt="" coords="831,142,968,99,970,104,833,147"/>
<area shape="poly" title=" " alt="" coords="1322,160,1382,126,1454,92,1485,81,1487,86,1456,97,1384,131,1325,165"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1495,107,1606,140"/>
<area shape="poly" title=" " alt="" coords="1374,159,1479,136,1480,142,1375,165"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1460,279,1641,312"/>
<area shape="poly" title=" " alt="" coords="1385,195,1409,207,1425,221,1433,237,1442,251,1457,265,1463,269,1460,274,1453,270,1438,255,1429,239,1420,225,1405,211,1382,199"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1465,164,1635,198"/>
<area shape="poly" title=" " alt="" coords="1407,177,1449,178,1449,183,1407,183"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1455,221,1645,255"/>
<area shape="poly" title=" " alt="" coords="1372,194,1459,215,1458,220,1370,200"/>
<area shape="poly" title=" " alt="" coords="1369,223,1406,207,1420,193,1429,179,1438,164,1453,149,1478,137,1481,142,1457,154,1442,167,1433,182,1424,197,1408,211,1371,228"/>
<area shape="poly" title=" " alt="" coords="1371,253,1458,272,1457,277,1370,258"/>
<area shape="poly" title=" " alt="" coords="1370,219,1457,199,1458,204,1371,224"/>
<area shape="poly" title=" " alt="" coords="1371,236,1440,236,1440,241,1371,241"/>
<area shape="poly" title=" " alt="" coords="1134,74,1485,65,1485,71,1134,80"/>
<area shape="poly" title=" " alt="" coords="1134,85,1479,115,1479,120,1134,90"/>
<area shape="poly" title=" " alt="" coords="1064,95,1136,158,1158,185,1168,196,1183,207,1205,217,1203,222,1180,211,1164,200,1154,188,1132,161,1060,99"/>
<area shape="rect" href="../../d9/dd0/netifd_2utils_8h.html#ade8ba5ef19f344907721dd296b2d5d70" title=" " alt="" coords="689,389,862,423"/>
<area shape="poly" title=" " alt="" coords="606,404,674,404,674,409,606,409"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="975,389,1104,423"/>
<area shape="poly" title=" " alt="" coords="863,404,959,404,959,409,863,409"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1244,389,1345,423"/>
<area shape="poly" title=" " alt="" coords="1104,404,1228,404,1228,409,1104,409"/>
</map>
</div>

</div>
</div>
<a id="ac7ef3157ec2d3ecb1b0e109409296157" name="ac7ef3157ec2d3ecb1b0e109409296157"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7ef3157ec2d3ecb1b0e109409296157">&#9670;&#160;</a></span>interface_handle_subnet_route()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interface_handle_subnet_route </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *</td>          <td class="paramname"><span class="paramname"><em>iface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a> *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>add</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00595">595</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  596</span>{</div>
<div class="line"><span class="lineno">  597</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a> *dev = iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a>;</div>
<div class="line"><span class="lineno">  598</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> *<a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a> = &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>-&gt;subnet;</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>-&gt;flags &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa02b351530caa741be98d22a4fa977ab5">DEVADDR_OFFLINK</a>)</div>
<div class="line"><span class="lineno">  601</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>    <span class="keywordflow">if</span> (!add) {</div>
<div class="line"><span class="lineno">  604</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>-&gt;subnet.iface)</div>
<div class="line"><span class="lineno">  605</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>        <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c">system_del_route</a>(dev, <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>);</div>
<div class="line"><span class="lineno">  608</span>        memset(<a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>, 0, <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>));</div>
<div class="line"><span class="lineno">  609</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  610</span>    }</div>
<div class="line"><span class="lineno">  611</span> </div>
<div class="line"><span class="lineno">  612</span>    <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>-&gt;iface = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>;</div>
<div class="line"><span class="lineno">  613</span>    <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>-&gt;flags = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>-&gt;flags;</div>
<div class="line"><span class="lineno">  614</span>    <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>-&gt;mask = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>-&gt;mask;</div>
<div class="line"><span class="lineno">  615</span>    memcpy(&amp;<a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>-&gt;addr, &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>-&gt;addr, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>-&gt;addr));</div>
<div class="line"><span class="lineno">  616</span>    <a class="code hl_function" href="#a7785e8dd3f95af28a1d05a57b6d91226">clear_if_addr</a>(&amp;<a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>-&gt;addr, <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>-&gt;mask);</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a5d5d5287d90cf8c910b8565e20770fbd">system_resolve_rt_proto</a>(<span class="stringliteral">&quot;kernel&quot;</span>, &amp;<a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>-&gt;proto))</div>
<div class="line"><span class="lineno">  619</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  620</span> </div>
<div class="line"><span class="lineno">  621</span>    <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>-&gt;flags |= <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b862cafa2f6f18a54f3dd12852c11bc">DEVROUTE_PROTO</a>;</div>
<div class="line"><span class="lineno">  622</span>    <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c">system_del_route</a>(dev, <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>);</div>
<div class="line"><span class="lineno">  623</span> </div>
<div class="line"><span class="lineno">  624</span>    <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>-&gt;flags &amp;= ~DEVROUTE_PROTO;</div>
<div class="line"><span class="lineno">  625</span>    <a class="code hl_function" href="#a8642e113840ee637f7d57e5efb5f02fe">interface_set_route_info</a>(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>, <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>);</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>    <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f">system_add_route</a>(dev, <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>);</div>
<div class="line"><span class="lineno">  628</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_a7785e8dd3f95af28a1d05a57b6d91226"><div class="ttname"><a href="#a7785e8dd3f95af28a1d05a57b6d91226">clear_if_addr</a></div><div class="ttdeci">static void clear_if_addr(union if_addr *a, int mask)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00100">interface-ip.c:100</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a8642e113840ee637f7d57e5efb5f02fe"><div class="ttname"><a href="#a8642e113840ee637f7d57e5efb5f02fe">interface_set_route_info</a></div><div class="ttdeci">static void interface_set_route_info(struct interface *iface, struct device_route *route)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00326">interface-ip.c:326</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_adabef17e89cfe4c34933e5f4a7e0ea9fa8b862cafa2f6f18a54f3dd12852c11bc"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b862cafa2f6f18a54f3dd12852c11bc">DEVROUTE_PROTO</a></div><div class="ttdeci">@ DEVROUTE_PROTO</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00035">interface-ip.h:35</a></div></div>
<div class="ttc" id="arcS_8c_html_abf8f2f9d123823e95527a9d26ff031c8"><div class="ttname"><a href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a></div><div class="ttdeci">static struct runqueue q r</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d5c/rcS_8c_source.html#l00036">rcS.c:36</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_a5d5d5287d90cf8c910b8565e20770fbd"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#a5d5d5287d90cf8c910b8565e20770fbd">system_resolve_rt_proto</a></div><div class="ttdeci">bool system_resolve_rt_proto(const char *type, unsigned int *id)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00284">system-dummy.c:284</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00111">device_route::addr</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00100">clear_if_addr()</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00184">device_user::dev</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00038">DEVADDR_OFFLINK</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00035">DEVROUTE_PROTO</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00093">device_route::iface</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00326">interface_set_route_info()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00145">interface::l3_dev</a>, <a class="el" href="../../d1/d5c/rcS_8c_source.html#l00036">r</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00263">system_add_route()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00268">system_del_route()</a>, and <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00284">system_resolve_rt_proto()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01655">interface_ip_set_enabled()</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00644">interface_update_proto_addr()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_ac7ef3157ec2d3ecb1b0e109409296157_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_ac7ef3157ec2d3ecb1b0e109409296157_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_ac7ef3157ec2d3ecb1b0e109409296157_cgraph" id="adc/df0/interface-ip_8c_ac7ef3157ec2d3ecb1b0e109409296157_cgraph">
<area shape="rect" title=" " alt="" coords="5,109,254,165"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="354,5,494,39"/>
<area shape="poly" title=" " alt="" coords="179,106,236,75,301,48,338,36,340,41,303,53,238,80,181,110"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a8642e113840ee637f7d57e5efb5f02fe" title=" " alt="" coords="303,63,545,96"/>
<area shape="poly" title=" " alt="" coords="254,110,318,97,319,103,255,115"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="329,120,519,154"/>
<area shape="poly" title=" " alt="" coords="254,134,314,134,314,140,254,140"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="333,177,515,211"/>
<area shape="poly" title=" " alt="" coords="255,158,319,171,318,176,254,164"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a5d5d5287d90cf8c910b8565e20770fbd" title=" " alt="" coords="302,235,546,268"/>
<area shape="poly" title=" " alt="" coords="181,163,238,193,303,221,322,227,320,232,301,226,236,198,179,168"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af02c6a85ad946c9d5b7d06007d6768b0" title=" " alt="" coords="594,149,788,183"/>
<area shape="poly" title=" " alt="" coords="519,145,579,151,578,156,519,150"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a7b2b1c8437df1396d066c3d37650f748" title=" " alt="" coords="836,120,1082,154"/>
<area shape="poly" title=" " alt="" coords="789,153,820,149,821,155,789,158"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a12404d32d3958a043ee78eece1e5045d" title=" " alt="" coords="851,177,1067,211"/>
<area shape="poly" title=" " alt="" coords="789,174,836,179,835,184,789,179"/>
<area shape="poly" title=" " alt="" coords="515,182,578,175,579,181,516,187"/>
</map>
</div>

</div>
</div>
<a id="af97962d0250298cbaade835196bdaf13" name="af97962d0250298cbaade835196bdaf13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af97962d0250298cbaade835196bdaf13">&#9670;&#160;</a></span>interface_ip_add_device_prefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a> * interface_ip_add_device_prefix </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *</td>          <td class="paramname"><span class="paramname"><em>iface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct in6_addr *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t</td>          <td class="paramname"><span class="paramname"><em>valid_until</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t</td>          <td class="paramname"><span class="paramname"><em>preferred_until</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct in6_addr *</td>          <td class="paramname"><span class="paramname"><em>excl_addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>excl_length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>pclass</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01345">1345</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1348</span>{</div>
<div class="line"><span class="lineno"> 1349</span>    <span class="keyword">union </span><a class="code hl_union" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> a = { .in6 = *addr };</div>
<div class="line"><span class="lineno"> 1350</span> </div>
<div class="line"><span class="lineno"> 1351</span>    <span class="keywordflow">if</span> (!pclass)</div>
<div class="line"><span class="lineno"> 1352</span>        pclass = (iface) ? iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#aee0f8e8ed8b404d358a6da91196da0d9">name</a> : <span class="stringliteral">&quot;local&quot;</span>;</div>
<div class="line"><span class="lineno"> 1353</span> </div>
<div class="line"><span class="lineno"> 1354</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a> *prefix = calloc(1, <span class="keyword">sizeof</span>(*prefix) + strlen(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a25c1f732c1d094b4e9ac4ad007234db6">pclass</a>) + 1);</div>
<div class="line"><span class="lineno"> 1355</span>    <span class="keywordflow">if</span> (!prefix)</div>
<div class="line"><span class="lineno"> 1356</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1357</span> </div>
<div class="line"><span class="lineno"> 1358</span>    <a class="code hl_function" href="#a7785e8dd3f95af28a1d05a57b6d91226">clear_if_addr</a>(&amp;a, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a06997e44cf444e928ee955f9c205a993">length</a>);</div>
<div class="line"><span class="lineno"> 1359</span> </div>
<div class="line"><span class="lineno"> 1360</span>    prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a06997e44cf444e928ee955f9c205a993">length</a> = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a06997e44cf444e928ee955f9c205a993">length</a>;</div>
<div class="line"><span class="lineno"> 1361</span>    prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a043e5860a8b73d3c14410de8615afd60">addr</a> = a.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ab1d6caa48549e17147d79c6c8d375eda">in6</a>;</div>
<div class="line"><span class="lineno"> 1362</span>    prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#accfba2fc8830d2702d0b8ec9bfe108d0">preferred_until</a> = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#accfba2fc8830d2702d0b8ec9bfe108d0">preferred_until</a>;</div>
<div class="line"><span class="lineno"> 1363</span>    prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1aeecf819584c23f510369b2edb3160f">valid_until</a> = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1aeecf819584c23f510369b2edb3160f">valid_until</a>;</div>
<div class="line"><span class="lineno"> 1364</span>    prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a> = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>;</div>
<div class="line"><span class="lineno"> 1365</span>    <a class="code hl_function" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4">INIT_LIST_HEAD</a>(&amp;prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a82473bb614beacfa32817d947577eb8d">assignments</a>);</div>
<div class="line"><span class="lineno"> 1366</span> </div>
<div class="line"><span class="lineno"> 1367</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a466fce47226095aae47e2a8e0b24c10a">excl_addr</a>) {</div>
<div class="line"><span class="lineno"> 1368</span>        prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a466fce47226095aae47e2a8e0b24c10a">excl_addr</a> = *<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a466fce47226095aae47e2a8e0b24c10a">excl_addr</a>;</div>
<div class="line"><span class="lineno"> 1369</span>        prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abebf1cdf59fa3c889b716c76aba03f12">excl_length</a> = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abebf1cdf59fa3c889b716c76aba03f12">excl_length</a>;</div>
<div class="line"><span class="lineno"> 1370</span>    }</div>
<div class="line"><span class="lineno"> 1371</span> </div>
<div class="line"><span class="lineno"> 1372</span>    strcpy(prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a25c1f732c1d094b4e9ac4ad007234db6">pclass</a>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a25c1f732c1d094b4e9ac4ad007234db6">pclass</a>);</div>
<div class="line"><span class="lineno"> 1373</span> </div>
<div class="line"><span class="lineno"> 1374</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>)</div>
<div class="line"><span class="lineno"> 1375</span>        <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#ac913b1e12f698be7f0d79ed459a68cd7">vlist_add</a>(&amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>.<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac8c1ba6c32f0b815a0da4d8612d5adce">prefix</a>, &amp;prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a3dff0119c2b395c1a629d9b75a57e24e">node</a>, &amp;prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a043e5860a8b73d3c14410de8615afd60">addr</a>);</div>
<div class="line"><span class="lineno"> 1376</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1377</span>        <a class="code hl_function" href="#adeaba893a4a1c7ca713a948b4d1972d6">interface_update_prefix</a>(NULL, &amp;prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a3dff0119c2b395c1a629d9b75a57e24e">node</a>, NULL);</div>
<div class="line"><span class="lineno"> 1378</span> </div>
<div class="line"><span class="lineno"> 1379</span>    <span class="keywordflow">return</span> prefix;</div>
<div class="line"><span class="lineno"> 1380</span>}</div>
<div class="ttc" id="ainterface-ip_8h_html_a043e5860a8b73d3c14410de8615afd60"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a043e5860a8b73d3c14410de8615afd60">device_prefix::addr</a></div><div class="ttdeci">struct in6_addr addr</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00085">interface-ip.h:85</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a06997e44cf444e928ee955f9c205a993"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a06997e44cf444e928ee955f9c205a993">device_prefix::length</a></div><div class="ttdeci">uint8_t length</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00086">interface-ip.h:86</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a1aeecf819584c23f510369b2edb3160f"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a1aeecf819584c23f510369b2edb3160f">device_prefix::valid_until</a></div><div class="ttdeci">time_t valid_until</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00079">interface-ip.h:79</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a25c1f732c1d094b4e9ac4ad007234db6"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a25c1f732c1d094b4e9ac4ad007234db6">device_prefix::pclass</a></div><div class="ttdeci">char pclass[]</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00088">interface-ip.h:88</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a3dff0119c2b395c1a629d9b75a57e24e"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a3dff0119c2b395c1a629d9b75a57e24e">device_prefix::node</a></div><div class="ttdeci">struct vlist_node node</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00075">interface-ip.h:75</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a43aeea42f327b40bd930aea348f45cd3"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">device_prefix::iface</a></div><div class="ttdeci">struct interface * iface</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00078">interface-ip.h:78</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a466fce47226095aae47e2a8e0b24c10a"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a466fce47226095aae47e2a8e0b24c10a">device_prefix::excl_addr</a></div><div class="ttdeci">struct in6_addr excl_addr</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00082">interface-ip.h:82</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a82473bb614beacfa32817d947577eb8d"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a82473bb614beacfa32817d947577eb8d">device_prefix::assignments</a></div><div class="ttdeci">struct list_head assignments</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00077">interface-ip.h:77</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_ab1d6caa48549e17147d79c6c8d375eda"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#ab1d6caa48549e17147d79c6c8d375eda">if_addr::in6</a></div><div class="ttdeci">struct in6_addr in6</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00061">interface-ip.h:61</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_abebf1cdf59fa3c889b716c76aba03f12"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#abebf1cdf59fa3c889b716c76aba03f12">device_prefix::excl_length</a></div><div class="ttdeci">uint8_t excl_length</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00083">interface-ip.h:83</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_accfba2fc8830d2702d0b8ec9bfe108d0"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#accfba2fc8830d2702d0b8ec9bfe108d0">device_prefix::preferred_until</a></div><div class="ttdeci">time_t preferred_until</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00080">interface-ip.h:80</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_d8/dd6/unionif__addr"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00059">interface-ip.h:59</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_d9/d8c/structdevice__prefix"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00074">interface-ip.h:74</a></div></div>
<div class="ttc" id="alist_8h_html_aea85dd50b9129ddaa3e3c67ed55804e4"><div class="ttname"><a href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4">INIT_LIST_HEAD</a></div><div class="ttdeci">static void INIT_LIST_HEAD(struct list_head *list)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00063">list.h:63</a></div></div>
<div class="ttc" id="avlist_8c_html_ac913b1e12f698be7f0d79ed459a68cd7"><div class="ttname"><a href="../../d5/d9a/vlist_8c.html#ac913b1e12f698be7f0d79ed459a68cd7">vlist_add</a></div><div class="ttdeci">void vlist_add(struct vlist_tree *tree, struct vlist_node *node, const void *key)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d9a/vlist_8c_source.html#l00036">vlist.c:36</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00085">device_prefix::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00077">device_prefix::assignments</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00100">clear_if_addr()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00082">device_prefix::excl_addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00083">device_prefix::excl_length</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00078">device_prefix::iface</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00061">if_addr::in6</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00063">INIT_LIST_HEAD()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01287">interface_update_prefix()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00086">device_prefix::length</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00109">interface::name</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00075">device_prefix::node</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00088">device_prefix::pclass</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00080">device_prefix::preferred_until</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00084">interface_ip_settings::prefix</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00153">interface::proto_ip</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00079">device_prefix::valid_until</a>, and <a class="el" href="../../d5/d9a/vlist_8c_source.html#l00036">vlist_add()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01383">interface_ip_set_ula_prefix()</a>, and <a class="el" href="../../dc/d3d/proto_8c_source.html#l00317">parse_prefix_option()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_af97962d0250298cbaade835196bdaf13_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_af97962d0250298cbaade835196bdaf13_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_af97962d0250298cbaade835196bdaf13_cgraph" id="adc/df0/interface-ip_8c_af97962d0250298cbaade835196bdaf13_cgraph">
<area shape="rect" title=" " alt="" coords="5,223,248,280"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="1218,120,1357,154"/>
<area shape="poly" title=" " alt="" coords="247,220,530,162,700,135,870,114,990,108,1111,114,1202,123,1202,128,1110,119,990,114,871,119,700,140,531,167,248,225"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="1203,5,1372,39"/>
<area shape="poly" title=" " alt="" coords="176,220,232,192,295,166,417,131,542,102,669,78,792,60,1016,35,1188,23,1188,29,1017,40,793,65,669,84,543,107,418,136,297,171,234,196,178,225"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#adeaba893a4a1c7ca713a948b4d1972d6" title=" " alt="" coords="296,393,535,427"/>
<area shape="poly" title=" " alt="" coords="181,278,371,383,368,388,178,283"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#ac913b1e12f698be7f0d79ed459a68cd7" title=" " alt="" coords="651,963,754,996"/>
<area shape="poly" title=" " alt="" coords="153,279,681,949,677,952,149,282"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#abaaced56b3a208f7cc76ce6723abce07" title=" " alt="" coords="889,447,1092,504"/>
<area shape="poly" title=" " alt="" coords="536,421,874,460,874,465,535,426"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="1193,235,1382,268"/>
<area shape="poly" title=" " alt="" coords="512,390,1177,269,1178,274,513,395"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="1196,177,1379,211"/>
<area shape="poly" title=" " alt="" coords="450,390,511,363,582,337,728,297,844,276,961,258,1110,230,1158,220,1191,212,1192,217,1159,225,1111,235,962,263,845,281,730,303,584,342,513,368,453,395"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3" title=" " alt="" coords="1195,292,1380,326"/>
<area shape="poly" title=" " alt="" coords="535,411,683,413,849,410,1002,399,1063,389,1110,376,1124,367,1133,357,1142,345,1157,335,1179,325,1181,330,1160,339,1146,349,1137,360,1127,371,1112,381,1064,394,1002,404,849,415,683,418,535,417"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#afa4013a5a375dedce7a1d26deaf9addf" title=" " alt="" coords="583,733,822,789"/>
<area shape="poly" title=" " alt="" coords="427,426,485,535,531,606,585,672,613,698,643,722,640,726,609,703,581,676,527,609,481,538,422,428"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1519,799,1604,832"/>
<area shape="poly" title=" " alt="" coords="450,425,563,484,735,568,942,658,1051,700,1159,737,1227,754,1320,772,1504,804,1503,809,1319,777,1225,759,1158,742,1049,705,940,663,733,573,561,489,447,430"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1241,1188,1334,1222"/>
<area shape="poly" title=" " alt="" coords="419,427,425,524,433,596,446,676,467,762,496,849,535,932,558,971,585,1007,617,1042,652,1073,691,1099,733,1122,821,1159,913,1183,1004,1198,1089,1206,1226,1206,1226,1212,1089,1211,1003,1203,912,1188,819,1164,730,1127,688,1104,649,1077,613,1046,581,1011,554,974,530,934,491,851,462,763,441,677,427,596,419,525,414,428"/>
<area shape="rect" href="../../da/d23/list_8h.html#a0abd4b86ca9f97272fd1fc0e48d99c38" title=" " alt="" coords="648,187,758,220"/>
<area shape="poly" title=" " alt="" coords="427,391,487,317,532,274,582,237,631,216,634,221,584,242,535,278,491,321,431,395"/>
<area shape="poly" title=" " alt="" coords="1019,445,1065,392,1088,360,1108,326,1118,303,1122,281,1124,240,1130,202,1140,182,1157,163,1178,148,1202,139,1204,144,1180,153,1160,167,1144,185,1135,203,1130,241,1128,281,1123,304,1113,329,1092,363,1069,395,1023,449"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7e8a1089df00d795d915595e2e7eaa96" title=" " alt="" coords="1200,636,1375,670"/>
<area shape="poly" title=" " alt="" coords="1017,502,1078,564,1117,596,1160,622,1186,633,1184,638,1157,627,1114,600,1074,568,1013,506"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a8642e113840ee637f7d57e5efb5f02fe" title=" " alt="" coords="1167,349,1408,383"/>
<area shape="poly" title=" " alt="" coords="1072,444,1109,427,1133,409,1157,392,1172,386,1174,391,1160,397,1136,413,1112,431,1075,449"/>
<area shape="rect" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad" title=" " alt="" coords="1185,693,1390,727"/>
<area shape="poly" title=" " alt="" coords="1014,503,1086,602,1127,650,1160,680,1172,686,1170,691,1157,684,1123,654,1082,605,1009,506"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac1e6968392107ab1704c592a2270ee2f" title=" " alt="" coords="1183,407,1392,440"/>
<area shape="poly" title=" " alt="" coords="1092,455,1172,441,1173,446,1093,460"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf" title=" " alt="" coords="1180,464,1395,498"/>
<area shape="poly" title=" " alt="" coords="1092,475,1164,476,1164,481,1092,480"/>
<area shape="poly" title=" " alt="" coords="1034,444,1073,414,1109,377,1123,350,1129,325,1137,301,1157,277,1177,265,1180,270,1160,282,1142,304,1134,327,1128,352,1113,380,1076,418,1038,449"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a753fba8c387cd70d67f154f1d26c3946" title=" " alt="" coords="1184,521,1391,555"/>
<area shape="poly" title=" " alt="" coords="1093,494,1190,515,1189,520,1092,499"/>
<area shape="poly" title=" " alt="" coords="1017,445,1062,391,1108,326,1121,296,1127,270,1136,245,1157,220,1180,206,1183,211,1160,224,1140,247,1132,271,1126,298,1113,329,1066,395,1021,448"/>
<area shape="poly" title=" " alt="" coords="1084,444,1109,427,1125,404,1131,381,1138,357,1157,335,1179,322,1181,327,1160,339,1143,360,1136,383,1130,407,1113,431,1087,449"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a6624a98fc17593f67a43a6fbb15d4c49" title=" " alt="" coords="1159,579,1416,612"/>
<area shape="poly" title=" " alt="" coords="1037,502,1094,535,1160,565,1178,571,1177,576,1158,570,1092,540,1034,507"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af02c6a85ad946c9d5b7d06007d6768b0" title=" " alt="" coords="1464,207,1658,240"/>
<area shape="poly" title=" " alt="" coords="1382,239,1448,232,1449,238,1383,244"/>
<area shape="poly" title=" " alt="" coords="1379,201,1449,209,1448,214,1379,207"/>
<area shape="poly" title=" " alt="" coords="731,730,948,513,952,517,735,734"/>
<area shape="poly" title=" " alt="" coords="822,735,870,729,1026,716,1170,710,1170,715,1027,721,871,734,823,741"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="933,935,1048,968"/>
<area shape="poly" title=" " alt="" coords="735,788,796,842,872,897,929,926,926,931,869,902,792,846,731,792"/>
<area shape="poly" title=" " alt="" coords="823,781,871,788,1051,802,1230,810,1503,813,1503,819,1230,815,1051,807,870,793,822,786"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="947,129,1034,163"/>
<area shape="poly" title=" " alt="" coords="706,731,726,610,762,442,784,357,810,279,838,215,853,191,869,172,898,154,931,145,933,150,900,159,872,176,857,194,842,218,815,281,789,358,767,444,731,611,711,732"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="935,993,1046,1027"/>
<area shape="poly" title=" " alt="" coords="720,789,743,831,777,883,820,935,872,979,895,991,921,999,919,1004,893,996,869,983,816,939,773,886,739,834,715,791"/>
<area shape="poly" title=" " alt="" coords="725,788,825,949,837,976,844,998,853,1018,872,1037,903,1057,932,1066,961,1070,990,1069,1018,1069,1048,1072,1079,1081,1112,1100,1129,1119,1137,1139,1144,1157,1160,1175,1192,1190,1226,1199,1225,1204,1190,1195,1157,1179,1140,1160,1132,1141,1125,1122,1109,1104,1077,1086,1047,1077,1018,1075,990,1075,961,1075,931,1072,901,1062,869,1042,849,1021,839,1000,832,978,820,951,720,791"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad2fa2d0aea44b9538daad403462e71e5" title=" " alt="" coords="873,853,1108,887"/>
<area shape="poly" title=" " alt="" coords="766,787,871,832,913,846,911,851,869,837,764,792"/>
<area shape="rect" href="../../da/d23/list_8h.html#a6ff0e5eee443d7b27def83827340634d" title=" " alt="" coords="1229,63,1346,96"/>
<area shape="poly" title=" " alt="" coords="712,731,735,673,769,597,814,513,868,434,900,398,932,372,991,334,1050,295,1079,268,1108,231,1118,214,1124,198,1128,166,1134,136,1143,120,1157,105,1183,89,1213,80,1215,85,1186,94,1160,110,1147,124,1139,138,1133,167,1129,199,1123,216,1113,234,1083,272,1053,299,994,338,935,376,904,402,872,437,819,516,774,599,739,675,717,733"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a183ee1b93d937be80c81ac51c8411049" title=" " alt="" coords="870,744,1111,778"/>
<area shape="poly" title=" " alt="" coords="823,758,855,758,855,764,823,764"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="1194,935,1381,968"/>
<area shape="poly" title=" " alt="" coords="1048,949,1179,949,1179,954,1048,954"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="1238,1049,1337,1083"/>
<area shape="poly" title=" " alt="" coords="1049,955,1081,964,1112,979,1128,993,1137,1008,1145,1023,1160,1036,1191,1050,1224,1058,1223,1063,1189,1055,1157,1040,1141,1026,1132,1011,1124,996,1109,983,1079,969,1047,960"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="1224,853,1351,887"/>
<area shape="poly" title=" " alt="" coords="1041,931,1158,896,1208,883,1209,889,1159,901,1043,937"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="1230,992,1345,1026"/>
<area shape="poly" title=" " alt="" coords="1049,960,1216,992,1215,998,1048,965"/>
<area shape="poly" title=" " alt="" coords="1239,936,1233,925,1241,916,1259,910,1287,908,1318,910,1336,917,1334,922,1317,916,1287,913,1260,915,1244,920,1239,926,1243,933"/>
<area shape="poly" title=" " alt="" coords="1350,855,1503,824,1504,830,1351,860"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1706,799,1801,832"/>
<area shape="poly" title=" " alt="" coords="1604,813,1691,813,1691,818,1604,818"/>
<area shape="poly" title=" " alt="" coords="1015,127,1078,87,1158,48,1187,38,1189,43,1160,53,1080,92,1017,131"/>
<area shape="poly" title=" " alt="" coords="1047,1018,1223,1052,1222,1057,1046,1023"/>
<area shape="poly" title=" " alt="" coords="1046,1007,1214,1006,1214,1012,1046,1013"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="1222,1131,1353,1164"/>
<area shape="poly" title=" " alt="" coords="1047,1021,1080,1032,1112,1048,1127,1059,1137,1071,1146,1082,1160,1093,1218,1122,1216,1127,1157,1098,1142,1086,1133,1074,1123,1063,1109,1052,1078,1037,1045,1026"/>
<area shape="poly" title=" " alt="" coords="1047,1015,1082,1028,1112,1048,1126,1065,1133,1081,1136,1114,1141,1146,1148,1160,1160,1175,1191,1192,1226,1201,1225,1206,1189,1197,1157,1179,1143,1163,1135,1147,1131,1115,1127,1083,1121,1067,1109,1052,1079,1032,1045,1021"/>
<area shape="poly" title=" " alt="" coords="1239,1132,1233,1121,1241,1112,1259,1106,1287,1104,1318,1106,1336,1113,1334,1118,1317,1112,1287,1109,1260,1111,1244,1116,1239,1122,1243,1129"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1511,1188,1612,1222"/>
<area shape="poly" title=" " alt="" coords="1334,1202,1495,1202,1495,1208,1334,1208"/>
<area shape="rect" href="../../da/d23/list_8h.html#a1f27c370174f8a62e15d20ed5306fbf3" title=" " alt="" coords="931,187,1050,220"/>
<area shape="poly" title=" " alt="" coords="758,201,916,201,916,206,758,206"/>
<area shape="poly" title=" " alt="" coords="1050,196,1081,187,1109,173,1125,158,1132,140,1140,122,1157,105,1184,92,1213,83,1214,88,1186,97,1160,110,1145,125,1137,143,1129,161,1112,178,1082,192,1051,201"/>
<area shape="poly" title=" " alt="" coords="755,972,917,956,918,961,755,977"/>
<area shape="poly" title=" " alt="" coords="755,982,920,1000,919,1005,755,988"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e08d7ee7d67ff58eeea30dd8a9356d1" title=" " alt="" coords="944,1115,1037,1148"/>
<area shape="poly" title=" " alt="" coords="729,995,792,1038,872,1085,930,1110,928,1115,869,1090,789,1043,726,999"/>
<area shape="poly" title=" " alt="" coords="1038,1131,1207,1141,1207,1146,1038,1137"/>
</map>
</div>

</div>
</div>
<a id="a2881ef59479f4c14915689be62f0f129" name="a2881ef59479f4c14915689be62f0f129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2881ef59479f4c14915689be62f0f129">&#9670;&#160;</a></span>interface_ip_add_neighbor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interface_ip_add_neighbor </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *</td>          <td class="paramname"><span class="paramname"><em>iface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>attr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>v6</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00344">344</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  345</span>{</div>
<div class="line"><span class="lineno">  346</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip;</div>
<div class="line"><span class="lineno">  347</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb[<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310ab2376137778ada92138e3162d1e5b06a">__NEIGHBOR_MAX</a>], *cur;</div>
<div class="line"><span class="lineno">  348</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/df0/structdevice__neighbor">device_neighbor</a> *neighbor;</div>
<div class="line"><span class="lineno">  349</span>    <span class="keywordtype">int</span> af = v6 ? AF_INET6: AF_INET;</div>
<div class="line"><span class="lineno">  350</span>    <span class="keyword">struct </span>ether_addr *ea;</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#a80bb08c4e126afd03f54a7b0ec7034be">neighbor_attr</a>, <a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310ab2376137778ada92138e3162d1e5b06a">__NEIGHBOR_MAX</a>, tb, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(attr), <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052">blobmsg_data_len</a>(attr));</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordflow">if</span> (!iface) {</div>
<div class="line"><span class="lineno">  355</span>        <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310af21a134ff9c1343d9f5e7cc44c8b242f">NEIGHBOR_INTERFACE</a>]) == NULL)</div>
<div class="line"><span class="lineno">  356</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>        iface = <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#a891d2ceff87e91d9befdedd7142434cc">vlist_find</a>(&amp;<a class="code hl_variable" href="../../dd/dda/interface_8c.html#aa5c5af6c1895c4bf768815c8c5715bf2">interfaces</a>, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur), iface, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>);</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>        <span class="keywordflow">if</span> (!iface)</div>
<div class="line"><span class="lineno">  361</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>        ip = &amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a4d137d95554e8f9954fa10f8d2ed253b">config_ip</a>;</div>
<div class="line"><span class="lineno">  364</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  365</span>        ip = &amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>;</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>    neighbor = calloc(1,<span class="keyword">sizeof</span>(*neighbor));</div>
<div class="line"><span class="lineno">  368</span>    <span class="keywordflow">if</span> (!neighbor)</div>
<div class="line"><span class="lineno">  369</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>    neighbor-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#adb4fd93626ca254ba127c279bb75dd5c">flags</a> = v6 ? <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a> : <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9facc21aeffe47d1209c184f23131cd23b2">DEVADDR_INET4</a>;</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310a89fa3b3e28ef5b35a675f68ff466d931">NEIGHBOR_ADDRESS</a>]) != NULL){</div>
<div class="line"><span class="lineno">  374</span>        <span class="keywordflow">if</span> (!inet_pton(af, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur), &amp;neighbor-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a822ab359eea23e520bcfabdfa84e1952">addr</a>))</div>
<div class="line"><span class="lineno">  375</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  376</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  377</span>        <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310add454e8a77ad2511f370537aa7b4b206">NEIGHBOR_MAC</a>]) != NULL) {</div>
<div class="line"><span class="lineno">  380</span>        neighbor-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#adb4fd93626ca254ba127c279bb75dd5c">flags</a> |= <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa2ed628cc945dc6fe64d964613f6dfad8">DEVNEIGH_MAC</a>;</div>
<div class="line"><span class="lineno">  381</span>        ea = ether_aton(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur));</div>
<div class="line"><span class="lineno">  382</span>        <span class="keywordflow">if</span> (!ea)</div>
<div class="line"><span class="lineno">  383</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>        memcpy(neighbor-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ac58ba8ee23d6eada24b17c7e29159a2e">macaddr</a>, ea, 6);</div>
<div class="line"><span class="lineno">  386</span>    }</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310a6bfbaafd7ee4fe6e57d89cdad4982caa">NEIGHBOR_PROXY</a>]) != NULL)</div>
<div class="line"><span class="lineno">  389</span>        neighbor-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a4f3b095e5cfab49275c731f83ff00014">proxy</a> = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2">blobmsg_get_bool</a>(cur);</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310a816b066d133bb595f5cb5ca527ec83e0">NEIGHBOR_ROUTER</a>]) != NULL)</div>
<div class="line"><span class="lineno">  392</span>        neighbor-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a306919de7074fe3e991e3cbcdeaeb9ba">router</a> = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2">blobmsg_get_bool</a>(cur);</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#ac913b1e12f698be7f0d79ed459a68cd7">vlist_add</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9f446a45104d408f08157e99d5bc296f">neighbor</a>, &amp;neighbor-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a2911805ef6f8c4b65a9fe4e7103daa0f">node</a>, neighbor);</div>
<div class="line"><span class="lineno">  395</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>error:</div>
<div class="line"><span class="lineno">  398</span>    free(neighbor);</div>
<div class="line"><span class="lineno">  399</span>}</div>
<div class="ttc" id="ablobmsg_8c_html_afb56b36905412b6618a529c171e833ed"><div class="ttname"><a href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a></div><div class="ttdeci">int blobmsg_parse(const struct blobmsg_policy *policy, int policy_len, struct blob_attr **tb, void *data, unsigned int len)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg.c:166</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a065ed993444c3173838a480ba4aac052"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052">blobmsg_data_len</a></div><div class="ttdeci">static size_t blobmsg_data_len(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00095">blobmsg.h:95</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_adfbec0b532211a1442310392496a45f2"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2">blobmsg_get_bool</a></div><div class="ttdeci">static bool blobmsg_get_bool(struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00283">blobmsg.h:283</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a80bb08c4e126afd03f54a7b0ec7034be"><div class="ttname"><a href="#a80bb08c4e126afd03f54a7b0ec7034be">neighbor_attr</a></div><div class="ttdeci">static const struct blobmsg_policy neighbor_attr[__NEIGHBOR_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00080">interface-ip.c:80</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a2911805ef6f8c4b65a9fe4e7103daa0f"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a2911805ef6f8c4b65a9fe4e7103daa0f">device_neighbor::node</a></div><div class="ttdeci">struct vlist_node node</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00116">interface-ip.h:116</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a306919de7074fe3e991e3cbcdeaeb9ba"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a306919de7074fe3e991e3cbcdeaeb9ba">device_neighbor::router</a></div><div class="ttdeci">bool router</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00122">interface-ip.h:122</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a4f3b095e5cfab49275c731f83ff00014"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a4f3b095e5cfab49275c731f83ff00014">device_neighbor::proxy</a></div><div class="ttdeci">bool proxy</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00119">interface-ip.h:119</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a822ab359eea23e520bcfabdfa84e1952"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a822ab359eea23e520bcfabdfa84e1952">device_neighbor::addr</a></div><div class="ttdeci">union if_addr addr</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00126">interface-ip.h:126</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_ac58ba8ee23d6eada24b17c7e29159a2e"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#ac58ba8ee23d6eada24b17c7e29159a2e">device_neighbor::macaddr</a></div><div class="ttdeci">uint8_t macaddr[6]</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00124">interface-ip.h:124</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_adabef17e89cfe4c34933e5f4a7e0ea9fa2ed628cc945dc6fe64d964613f6dfad8"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa2ed628cc945dc6fe64d964613f6dfad8">DEVNEIGH_MAC</a></div><div class="ttdeci">@ DEVNEIGH_MAC</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00053">interface-ip.h:53</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_adb4fd93626ca254ba127c279bb75dd5c"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#adb4fd93626ca254ba127c279bb75dd5c">device_neighbor::flags</a></div><div class="ttdeci">enum device_addr_flags flags</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00125">interface-ip.h:125</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_d9/df0/structdevice__neighbor"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#d9/df0/structdevice__neighbor">device_neighbor</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00115">interface-ip.h:115</a></div></div>
<div class="ttc" id="ainterface_8h_html_d7/d14/structinterface__ip__settings"><div class="ttname"><a href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a></div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00075">interface.h:75</a></div></div>
<div class="ttc" id="avlist_8h_html_a891d2ceff87e91d9befdedd7142434cc"><div class="ttname"><a href="../../dd/d1d/vlist_8h.html#a891d2ceff87e91d9befdedd7142434cc">vlist_find</a></div><div class="ttdeci">#define vlist_find(tree, name, element, node_member)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d1d/vlist_8h_source.html#l00059">vlist.h:59</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00077">__NEIGHBOR_MAX</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00126">device_neighbor::addr</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00095">blobmsg_data_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00283">blobmsg_get_bool()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00154">interface::config_ip</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00021">DEVADDR_INET4</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00022">DEVADDR_INET6</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00053">DEVNEIGH_MAC</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00125">device_neighbor::flags</a>, <a class="el" href="../../dd/dda/interface_8c_source.html#l00030">interfaces</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00124">device_neighbor::macaddr</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00085">interface_ip_settings::neighbor</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00073">NEIGHBOR_ADDRESS</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00080">neighbor_attr</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00072">NEIGHBOR_INTERFACE</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00074">NEIGHBOR_MAC</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00075">NEIGHBOR_PROXY</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00076">NEIGHBOR_ROUTER</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00116">device_neighbor::node</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00153">interface::proto_ip</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00119">device_neighbor::proxy</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00122">device_neighbor::router</a>, <a class="el" href="../../d5/d9a/vlist_8c_source.html#l00036">vlist_add()</a>, and <a class="el" href="../../dd/d1d/vlist_8h_source.html#l00059">vlist_find</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d65/netifd_2config_8c_source.html#l00231">config_parse_neighbor()</a>, and <a class="el" href="../../db/d25/proto-shell_8c_source.html#l00417">proto_shell_parse_neighbor_list()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a2881ef59479f4c14915689be62f0f129_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a2881ef59479f4c14915689be62f0f129_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a2881ef59479f4c14915689be62f0f129_cgraph" id="adc/df0/interface-ip_8c_a2881ef59479f4c14915689be62f0f129_cgraph">
<area shape="rect" title=" " alt="" coords="5,118,271,152"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1120,173,1271,206"/>
<area shape="poly" title=" " alt="" coords="221,115,375,90,472,79,579,70,691,67,807,70,923,82,1035,103,1070,114,1103,129,1159,161,1156,166,1100,134,1068,119,1034,108,922,87,807,75,691,72,579,76,472,84,375,95,222,120"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="846,118,1035,152"/>
<area shape="poly" title=" " alt="" coords="271,132,831,132,831,138,271,138"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2" title=" " alt="" coords="319,9,507,42"/>
<area shape="poly" title=" " alt="" coords="180,115,318,59,351,46,353,51,320,64,182,120"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="332,322,494,356"/>
<area shape="poly" title=" " alt="" coords="164,150,378,310,375,315,161,155"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#ac913b1e12f698be7f0d79ed459a68cd7" title=" " alt="" coords="361,654,465,688"/>
<area shape="poly" title=" " alt="" coords="150,151,398,639,393,641,146,153"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1396,122,1507,156"/>
<area shape="poly" title=" " alt="" coords="1271,172,1380,150,1381,156,1272,177"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1361,255,1542,289"/>
<area shape="poly" title=" " alt="" coords="1251,204,1383,248,1381,253,1249,210"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1366,186,1536,220"/>
<area shape="poly" title=" " alt="" coords="1272,191,1351,195,1350,200,1271,196"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1356,313,1546,346"/>
<area shape="poly" title=" " alt="" coords="1242,205,1276,222,1310,244,1325,259,1334,273,1343,286,1358,299,1364,303,1361,308,1354,304,1339,290,1329,276,1320,262,1306,248,1274,226,1240,209"/>
<area shape="poly" title=" " alt="" coords="1023,150,1105,168,1104,173,1022,155"/>
<area shape="poly" title=" " alt="" coords="1035,133,1380,136,1380,141,1035,138"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1402,543,1500,577"/>
<area shape="poly" title=" " alt="" coords="968,150,1002,178,1037,213,1052,238,1060,259,1069,280,1085,303,1122,341,1163,378,1250,443,1334,496,1402,534,1400,538,1331,500,1247,447,1160,382,1119,345,1081,306,1064,282,1056,261,1047,240,1033,217,999,182,965,154"/>
<area shape="poly" title=" " alt="" coords="507,11,617,4,752,5,823,11,896,21,967,37,1036,59,1076,80,1113,106,1171,159,1167,163,1110,110,1073,84,1034,64,966,42,895,26,823,16,751,10,617,9,507,17"/>
<area shape="poly" title=" " alt="" coords="435,320,501,272,599,210,717,149,781,123,846,103,918,89,993,82,1068,81,1142,84,1276,99,1381,119,1380,124,1275,105,1141,89,1068,86,993,87,919,94,847,108,783,128,720,154,601,215,504,277,438,324"/>
<area shape="poly" title=" " alt="" coords="455,354,503,372,556,388,689,423,794,445,845,450,900,449,962,443,1034,431,1085,419,1127,405,1196,373,1265,336,1355,298,1373,292,1375,297,1357,303,1267,341,1199,377,1129,410,1087,424,1035,436,963,449,900,455,845,455,794,450,687,428,554,394,501,377,453,359"/>
<area shape="poly" title=" " alt="" coords="427,355,448,384,477,418,514,450,556,475,626,496,717,511,821,520,932,523,1043,521,1147,512,1237,497,1307,475,1346,452,1380,421,1408,388,1430,358,1434,361,1413,392,1384,425,1349,456,1309,480,1238,502,1148,517,1043,526,932,529,821,526,716,516,625,501,554,480,510,455,473,421,443,387,423,358"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="897,387,984,421"/>
<area shape="poly" title=" " alt="" coords="495,346,882,395,881,400,494,352"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="555,282,798,316"/>
<area shape="poly" title=" " alt="" coords="494,324,546,316,547,321,495,329"/>
<area shape="poly" title=" " alt="" coords="703,279,766,244,805,226,846,212,912,198,980,189,1104,184,1104,189,981,195,913,203,847,218,807,231,769,249,706,284"/>
<area shape="poly" title=" " alt="" coords="695,280,759,227,801,196,845,169,872,156,874,161,848,173,804,201,763,231,699,284"/>
<area shape="poly" title=" " alt="" coords="721,314,847,366,883,380,881,385,845,371,719,319"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="853,227,1028,261"/>
<area shape="poly" title=" " alt="" coords="761,279,840,262,841,267,762,284"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1125,598,1266,632"/>
<area shape="poly" title=" " alt="" coords="799,291,860,297,923,310,984,335,1012,352,1037,373,1056,398,1064,424,1065,450,1063,476,1060,502,1061,527,1068,552,1085,577,1112,596,1109,601,1081,581,1063,554,1055,528,1055,501,1057,475,1060,450,1059,425,1051,401,1033,377,1008,356,981,340,922,316,859,302,798,296"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="1083,258,1308,292"/>
<area shape="poly" title=" " alt="" coords="799,291,1067,278,1067,284,799,296"/>
<area shape="poly" title=" " alt="" coords="1266,597,1386,571,1387,577,1267,603"/>
<area shape="poly" title=" " alt="" coords="1237,255,1272,238,1306,217,1330,194,1340,183,1355,171,1380,158,1382,163,1357,176,1343,187,1334,198,1310,221,1274,243,1239,260"/>
<area shape="poly" title=" " alt="" coords="1308,271,1345,271,1345,276,1308,276"/>
<area shape="poly" title=" " alt="" coords="1257,255,1374,222,1375,227,1259,260"/>
<area shape="poly" title=" " alt="" coords="1278,290,1355,306,1354,312,1277,295"/>
<area shape="poly" title=" " alt="" coords="1214,291,1427,530,1423,534,1210,294"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="620,905,734,938"/>
<area shape="poly" title=" " alt="" coords="434,686,648,892,645,896,430,690"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e08d7ee7d67ff58eeea30dd8a9356d1" title=" " alt="" coords="630,598,723,632"/>
<area shape="poly" title=" " alt="" coords="465,657,614,625,616,631,466,663"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="622,710,732,744"/>
<area shape="poly" title=" " alt="" coords="466,679,607,710,606,715,465,685"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="847,1043,1034,1077"/>
<area shape="poly" title=" " alt="" coords="712,937,894,1033,892,1038,709,941"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="891,905,990,938"/>
<area shape="poly" title=" " alt="" coords="734,919,875,919,875,924,734,924"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="877,962,1004,996"/>
<area shape="poly" title=" " alt="" coords="735,931,863,959,862,965,733,937"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="883,847,998,881"/>
<area shape="poly" title=" " alt="" coords="733,907,868,877,869,882,735,912"/>
<area shape="poly" title=" " alt="" coords="895,1044,890,1034,897,1025,914,1019,941,1017,969,1019,985,1026,983,1031,968,1024,940,1022,915,1024,900,1029,895,1035,900,1042"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="1124,1014,1267,1048"/>
<area shape="poly" title=" " alt="" coords="1034,1047,1108,1038,1109,1044,1035,1052"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="1114,1095,1277,1129"/>
<area shape="poly" title=" " alt="" coords="1027,1075,1099,1090,1098,1095,1026,1080"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="1377,998,1526,1032"/>
<area shape="poly" title=" " alt="" coords="972,1041,1023,1017,1082,999,1155,990,1229,988,1299,991,1361,998,1361,1003,1299,996,1229,993,1155,995,1083,1004,1024,1022,974,1045"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="1369,1075,1533,1109"/>
<area shape="poly" title=" " alt="" coords="965,1075,1017,1110,1049,1127,1083,1139,1145,1152,1195,1155,1244,1150,1307,1139,1353,1128,1396,1113,1398,1118,1355,1133,1309,1144,1245,1155,1195,1160,1144,1158,1082,1144,1047,1132,1014,1115,962,1080"/>
<area shape="poly" title=" " alt="" coords="1150,1096,1145,1086,1152,1077,1169,1071,1195,1069,1224,1071,1240,1078,1238,1083,1223,1076,1195,1074,1170,1076,1155,1081,1150,1087,1155,1094"/>
<area shape="poly" title=" " alt="" coords="1241,1092,1389,1035,1391,1040,1243,1097"/>
<area shape="poly" title=" " alt="" coords="1277,1103,1353,1097,1354,1103,1278,1109"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1594,1047,1692,1081"/>
<area shape="poly" title=" " alt="" coords="1520,1030,1580,1046,1579,1051,1519,1035"/>
<area shape="poly" title=" " alt="" coords="1533,1078,1578,1071,1579,1076,1534,1083"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1153,905,1238,938"/>
<area shape="poly" title=" " alt="" coords="1004,962,1137,932,1138,937,1005,967"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="875,571,1006,605"/>
<area shape="poly" title=" " alt="" coords="723,608,860,594,861,599,724,613"/>
<area shape="poly" title=" " alt="" coords="895,572,890,562,897,553,914,547,941,545,969,547,985,554,983,559,968,552,940,550,915,552,900,557,895,563,900,570"/>
<area shape="poly" title=" " alt="" coords="693,743,754,815,798,856,848,891,878,905,875,910,845,896,795,860,751,818,689,746"/>
<area shape="poly" title=" " alt="" coords="705,742,769,782,848,826,877,839,875,844,845,831,766,787,702,746"/>
<area shape="poly" title=" " alt="" coords="701,708,776,656,845,614,860,608,862,613,848,619,779,660,704,712"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="859,629,1022,662"/>
<area shape="poly" title=" " alt="" coords="731,708,868,665,870,670,733,713"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1149,681,1242,714"/>
<area shape="poly" title=" " alt="" coords="732,721,1134,698,1134,704,732,727"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="851,738,1030,772"/>
<area shape="poly" title=" " alt="" coords="732,730,836,741,835,747,732,735"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="1134,847,1257,881"/>
<area shape="poly" title=" " alt="" coords="726,742,847,782,991,819,1119,847,1118,852,990,824,846,787,724,747"/>
<area shape="poly" title=" " alt="" coords="1023,660,1135,683,1134,688,1022,665"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1401,710,1502,744"/>
<area shape="poly" title=" " alt="" coords="1242,700,1385,717,1385,722,1242,706"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1131,738,1260,772"/>
<area shape="poly" title=" " alt="" coords="1030,752,1115,752,1115,758,1030,758"/>
<area shape="poly" title=" " alt="" coords="1260,745,1384,732,1385,737,1261,751"/>
<area shape="poly" title=" " alt="" coords="1258,872,1309,890,1344,911,1376,936,1427,985,1423,989,1372,940,1341,916,1307,895,1257,877"/>
<area shape="poly" title=" " alt="" coords="1258,866,1286,875,1310,890,1325,909,1333,928,1337,966,1339,1004,1345,1023,1358,1043,1387,1066,1383,1070,1354,1046,1341,1025,1334,1005,1332,966,1328,930,1321,912,1306,894,1283,879,1257,871"/>
<area shape="poly" title=" " alt="" coords="1150,848,1145,838,1152,829,1169,823,1195,821,1224,823,1240,830,1238,835,1223,828,1195,826,1170,828,1155,833,1150,839,1155,846"/>
</map>
</div>

</div>
</div>
<a id="a05d7b44eab2927c809828881315cf16d" name="a05d7b44eab2927c809828881315cf16d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05d7b44eab2927c809828881315cf16d">&#9670;&#160;</a></span>interface_ip_add_route()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interface_ip_add_route </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *</td>          <td class="paramname"><span class="paramname"><em>iface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>attr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>v6</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00402">402</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  403</span>{</div>
<div class="line"><span class="lineno">  404</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip;</div>
<div class="line"><span class="lineno">  405</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb[<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a8dcd1d54248e94bb2e9c32b18df3a3cd">__ROUTE_MAX</a>], *cur;</div>
<div class="line"><span class="lineno">  406</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> *route;</div>
<div class="line"><span class="lineno">  407</span>    <span class="keywordtype">int</span> af = v6 ? AF_INET6 : AF_INET;</div>
<div class="line"><span class="lineno">  408</span>    <span class="keywordtype">bool</span> no_device = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#af3a087f00893426bf2b0db806cde50b2">route_attr</a>, <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a8dcd1d54248e94bb2e9c32b18df3a3cd">__ROUTE_MAX</a>, tb, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(attr), <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052">blobmsg_data_len</a>(attr));</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a3a4fb4c22974d0b4b3a90fdc97b4c052">ROUTE_DISABLED</a>]) != NULL &amp;&amp; <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2">blobmsg_get_bool</a>(cur))</div>
<div class="line"><span class="lineno">  413</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>) {</div>
<div class="line"><span class="lineno">  416</span>        <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4aaa881a9aa3726144403293084fe204a3">ROUTE_INTERFACE</a>]) == NULL) {</div>
<div class="line"><span class="lineno">  417</span>            <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a> = <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#a891d2ceff87e91d9befdedd7142434cc">vlist_find</a>(&amp;<a class="code hl_variable" href="../../dd/dda/interface_8c.html#aa5c5af6c1895c4bf768815c8c5715bf2">interfaces</a>, <span class="stringliteral">&quot;loopback&quot;</span>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>);</div>
<div class="line"><span class="lineno">  418</span>            no_device = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  419</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  420</span>            <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a> = <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#a891d2ceff87e91d9befdedd7142434cc">vlist_find</a>(&amp;<a class="code hl_variable" href="../../dd/dda/interface_8c.html#aa5c5af6c1895c4bf768815c8c5715bf2">interfaces</a>, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur), <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>);</div>
<div class="line"><span class="lineno">  421</span>        }</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>)</div>
<div class="line"><span class="lineno">  424</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>        ip = &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a4d137d95554e8f9954fa10f8d2ed253b">config_ip</a>;</div>
<div class="line"><span class="lineno">  427</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  428</span>        ip = &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>;</div>
<div class="line"><span class="lineno">  429</span>    }</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>    route = calloc(1, <span class="keyword">sizeof</span>(*route));</div>
<div class="line"><span class="lineno">  432</span>    <span class="keywordflow">if</span> (!route)</div>
<div class="line"><span class="lineno">  433</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>    route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> = v6 ? <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a> : <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9facc21aeffe47d1209c184f23131cd23b2">DEVADDR_INET4</a>;</div>
<div class="line"><span class="lineno">  436</span>    route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a> = v6 ? 128 : 32;</div>
<div class="line"><span class="lineno">  437</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a221422be76be7babeefb8fde05f6ea22">ROUTE_MASK</a>]) != NULL) {</div>
<div class="line"><span class="lineno">  438</span>        route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a> = <a class="code hl_function" href="../../de/dd2/proto_8h.html#a5f488d16837cc56ba50561dbe1ce0200">parse_netmask_string</a>(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur), v6);</div>
<div class="line"><span class="lineno">  439</span>        <span class="keywordflow">if</span> (route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a> &gt; (v6 ? 128 : 32))</div>
<div class="line"><span class="lineno">  440</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  441</span>    }</div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a22d472fa5fb22f76041b1026096bb62d">ROUTE_TARGET</a>]) != NULL) {</div>
<div class="line"><span class="lineno">  444</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d4/d96/netifd_2utils_8c.html#ac14f24743606fec01090abb8f4159d2d">parse_ip_and_netmask</a>(af, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur), &amp;route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>, &amp;route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a>)) {</div>
<div class="line"><span class="lineno">  445</span>            <a class="code hl_define" href="../../d3/d75/netifd_2netifd_8h.html#aca4e286dfd9f6ee7adaca201c701e924">D</a>(INTERFACE, <span class="stringliteral">&quot;Failed to parse route target: %s&quot;</span>, (<span class="keywordtype">char</span> *) <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur));</div>
<div class="line"><span class="lineno">  446</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  447</span>        }</div>
<div class="line"><span class="lineno">  448</span> </div>
<div class="line"><span class="lineno">  449</span>        <span class="comment">/* Mask out IPv4 host bits to avoid &quot;Invalid prefix for given prefix length&quot; */</span></div>
<div class="line"><span class="lineno">  450</span>        <span class="keywordflow">if</span> (af == AF_INET &amp;&amp; route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a> &lt; 32)</div>
<div class="line"><span class="lineno">  451</span>            <a class="code hl_function" href="#a7785e8dd3f95af28a1d05a57b6d91226">clear_if_addr</a>(&amp;route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>, route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a>);</div>
<div class="line"><span class="lineno">  452</span>    }</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4ac1c8f5bf6c8de4e1d95d774bb995e2ac">ROUTE_GATEWAY</a>]) != NULL) {</div>
<div class="line"><span class="lineno">  455</span>        <span class="keywordflow">if</span> (!inet_pton(af, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur), &amp;route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a3239ad2937ff4c7b36488398f31cea44">nexthop</a>)) {</div>
<div class="line"><span class="lineno">  456</span>            <a class="code hl_define" href="../../d3/d75/netifd_2netifd_8h.html#aca4e286dfd9f6ee7adaca201c701e924">D</a>(INTERFACE, <span class="stringliteral">&quot;Failed to parse route gateway: %s&quot;</span>, (<span class="keywordtype">char</span> *) <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur));</div>
<div class="line"><span class="lineno">  457</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  458</span>        }</div>
<div class="line"><span class="lineno">  459</span>    }</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a762692bfebe614ed3698a24632c8ff72">ROUTE_METRIC</a>]) != NULL) {</div>
<div class="line"><span class="lineno">  462</span>        route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#addc133ffe0c2217b51c5bed6dbe1369c">metric</a> = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f">blobmsg_get_u32</a>(cur);</div>
<div class="line"><span class="lineno">  463</span>        route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> |= <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fadbb1af87e6a358d82767b6efda802122">DEVROUTE_METRIC</a>;</div>
<div class="line"><span class="lineno">  464</span>    }</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a1aa07e760e2d11fdff3bb701dc53241b">ROUTE_MTU</a>]) != NULL) {</div>
<div class="line"><span class="lineno">  467</span>        route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aea6471aa4613b3e7e9cb8bc029c1c5c2">mtu</a> = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f">blobmsg_get_u32</a>(cur);</div>
<div class="line"><span class="lineno">  468</span>        route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> |= <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8220e6210a53cabb44d6a6e6b282b80c">DEVROUTE_MTU</a>;</div>
<div class="line"><span class="lineno">  469</span>    }</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>    <span class="comment">/* Use source-based routing */</span></div>
<div class="line"><span class="lineno">  472</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a24310d2cc7a12c94cbc27a68e6acf36d">ROUTE_SOURCE</a>]) != NULL) {</div>
<div class="line"><span class="lineno">  473</span>        <span class="keywordtype">char</span> *saveptr, *<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ac2df907ad45148374498b7e2bb365456">source</a> = alloca(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052">blobmsg_data_len</a>(cur));</div>
<div class="line"><span class="lineno">  474</span>        memcpy(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ac2df907ad45148374498b7e2bb365456">source</a>, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur), <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052">blobmsg_data_len</a>(cur));</div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a> = strtok_r(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ac2df907ad45148374498b7e2bb365456">source</a>, <span class="stringliteral">&quot;/&quot;</span>, &amp;saveptr);</div>
<div class="line"><span class="lineno">  477</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a> = strtok_r(NULL, <span class="stringliteral">&quot;/&quot;</span>, &amp;saveptr);</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a> || inet_pton(af, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>, &amp;route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ac2df907ad45148374498b7e2bb365456">source</a>) &lt; 1) {</div>
<div class="line"><span class="lineno">  480</span>            <a class="code hl_define" href="../../d3/d75/netifd_2netifd_8h.html#aca4e286dfd9f6ee7adaca201c701e924">D</a>(INTERFACE, <span class="stringliteral">&quot;Failed to parse route source: %s&quot;</span>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a> ? <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a> : <span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"><span class="lineno">  481</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  482</span>        }</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>        route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a30482e53cea85d9f1a8906124d1a7792">sourcemask</a> = (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a>) ? atoi(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a>) : ((af == AF_INET6) ? 128 : 32);</div>
<div class="line"><span class="lineno">  485</span>    }</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a4c9332236eab1857b847afa4925a2165">ROUTE_ONLINK</a>]) != NULL &amp;&amp; <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2">blobmsg_get_bool</a>(cur))</div>
<div class="line"><span class="lineno">  488</span>        route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> |= <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa929097df2568c940a4d7b9469648bc25">DEVROUTE_ONLINK</a>;</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4ad1cf1ff306bceafd1054a4220230b65f">ROUTE_TABLE</a>]) != NULL) {</div>
<div class="line"><span class="lineno">  491</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a2b05f4e2511654c980e7694141b5017a">system_resolve_rt_table</a>(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur), &amp;route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a29d36cd8867816724b5019d5855f91f8">table</a>)) {</div>
<div class="line"><span class="lineno">  492</span>            <a class="code hl_define" href="../../d3/d75/netifd_2netifd_8h.html#aca4e286dfd9f6ee7adaca201c701e924">D</a>(INTERFACE, <span class="stringliteral">&quot;Failed to resolve routing table: %s&quot;</span>, (<span class="keywordtype">char</span> *) <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur));</div>
<div class="line"><span class="lineno">  493</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  494</span>        }</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>        <span class="comment">/* only set the table flag if not using the main (default) table */</span></div>
<div class="line"><span class="lineno">  497</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a74dd1a1ae1d6a959bff76ca46cb197dd">system_is_default_rt_table</a>(route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a29d36cd8867816724b5019d5855f91f8">table</a>))</div>
<div class="line"><span class="lineno">  498</span>            route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a29d36cd8867816724b5019d5855f91f8">table</a> = 0;</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>        <span class="keywordflow">if</span> (route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a29d36cd8867816724b5019d5855f91f8">table</a>)</div>
<div class="line"><span class="lineno">  501</span>            route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> |= <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa0600b776c643bf2efb3120aded7833be">DEVROUTE_TABLE</a>;</div>
<div class="line"><span class="lineno">  502</span>    }</div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4ac115915919678cffc32c74e43ad9ba6d">ROUTE_VALID</a>]) != NULL) {</div>
<div class="line"><span class="lineno">  505</span>        int64_t valid = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f">blobmsg_get_u32</a>(cur);</div>
<div class="line"><span class="lineno">  506</span>        int64_t <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a2417ccf37633c212cd9eaefb6a2ba52e">valid_until</a> = valid + (int64_t)<a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3">system_get_rtime</a>();</div>
<div class="line"><span class="lineno">  507</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a2417ccf37633c212cd9eaefb6a2ba52e">valid_until</a> &lt;= LONG_MAX &amp;&amp; valid != 0xffffffffLL) <span class="comment">/* Catch overflow */</span></div>
<div class="line"><span class="lineno">  508</span>            route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a2417ccf37633c212cd9eaefb6a2ba52e">valid_until</a> = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a2417ccf37633c212cd9eaefb6a2ba52e">valid_until</a>;</div>
<div class="line"><span class="lineno">  509</span>    }</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a12c7fec5677635815e22dc50280e7c27">ROUTE_TYPE</a>]) != NULL) {</div>
<div class="line"><span class="lineno">  512</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../da/d12/system-dummy_8c.html#addb567cde61220b6f0f9930ced1da204">system_resolve_rt_type</a>(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur), &amp;route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa2984c43269a2c4f038c52bad80f6865">type</a>)) {</div>
<div class="line"><span class="lineno">  513</span>            <a class="code hl_define" href="../../d3/d75/netifd_2netifd_8h.html#aca4e286dfd9f6ee7adaca201c701e924">D</a>(INTERFACE, <span class="stringliteral">&quot;Failed to resolve routing type: %s&quot;</span>, (<span class="keywordtype">char</span> *) <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur));</div>
<div class="line"><span class="lineno">  514</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  515</span>        }</div>
<div class="line"><span class="lineno">  516</span>        route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> |= <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fadd3330d85a1e86e20e2ad13cef882b19">DEVROUTE_TYPE</a>;</div>
<div class="line"><span class="lineno">  517</span>    }</div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span>    <span class="keywordflow">if</span> ((cur = tb[<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4aa81f81dc5c8282e57ac93e8be74323ab">ROUTE_PROTO</a>]) != NULL) {</div>
<div class="line"><span class="lineno">  520</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a5d5d5287d90cf8c910b8565e20770fbd">system_resolve_rt_proto</a>(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur), &amp;route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ae721fb4068b9a11bb055998d65f93e61">proto</a>)) {</div>
<div class="line"><span class="lineno">  521</span>            <a class="code hl_define" href="../../d3/d75/netifd_2netifd_8h.html#aca4e286dfd9f6ee7adaca201c701e924">D</a>(INTERFACE, <span class="stringliteral">&quot;Failed to resolve proto type: %s&quot;</span>, (<span class="keywordtype">char</span> *) <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur));</div>
<div class="line"><span class="lineno">  522</span>            <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  523</span>        }</div>
<div class="line"><span class="lineno">  524</span>        route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> |= <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b862cafa2f6f18a54f3dd12852c11bc">DEVROUTE_PROTO</a>;</div>
<div class="line"><span class="lineno">  525</span>    }</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>    <span class="keywordflow">if</span> (no_device)</div>
<div class="line"><span class="lineno">  528</span>        route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> |= <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8fa6affc4eac87edaad40a875516277d">DEVROUTE_NODEV</a>;</div>
<div class="line"><span class="lineno">  529</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  530</span>        <a class="code hl_function" href="#a8642e113840ee637f7d57e5efb5f02fe">interface_set_route_info</a>(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>, route);</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#ac913b1e12f698be7f0d79ed459a68cd7">vlist_add</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a907be96d59886a7b970685768ba18db3">route</a>, &amp;route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a69efb4dccc3e395fd87023001402f0e9">node</a>, route);</div>
<div class="line"><span class="lineno">  533</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>error:</div>
<div class="line"><span class="lineno">  536</span>    free(route);</div>
<div class="line"><span class="lineno">  537</span>}</div>
<div class="ttc" id="ablobmsg_8h_html_a856562b4d96007d3ce1a052998451a0f"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f">blobmsg_get_u32</a></div><div class="ttdeci">static uint32_t blobmsg_get_u32(struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00293">blobmsg.h:293</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_af3a087f00893426bf2b0db806cde50b2"><div class="ttname"><a href="#af3a087f00893426bf2b0db806cde50b2">route_attr</a></div><div class="ttdeci">static const struct blobmsg_policy route_attr[__ROUTE_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00050">interface-ip.c:50</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a2417ccf37633c212cd9eaefb6a2ba52e"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a2417ccf37633c212cd9eaefb6a2ba52e">device_route::valid_until</a></div><div class="ttdeci">time_t valid_until</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00103">interface-ip.h:103</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a29d36cd8867816724b5019d5855f91f8"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a29d36cd8867816724b5019d5855f91f8">device_route::table</a></div><div class="ttdeci">unsigned int table</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00108">interface-ip.h:108</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a30482e53cea85d9f1a8906124d1a7792"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a30482e53cea85d9f1a8906124d1a7792">device_route::sourcemask</a></div><div class="ttdeci">unsigned int sourcemask</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00110">interface-ip.h:110</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a69efb4dccc3e395fd87023001402f0e9"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a69efb4dccc3e395fd87023001402f0e9">device_route::node</a></div><div class="ttdeci">struct vlist_node node</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00092">interface-ip.h:92</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_ac2df907ad45148374498b7e2bb365456"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#ac2df907ad45148374498b7e2bb365456">device_route::source</a></div><div class="ttdeci">union if_addr source</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00112">interface-ip.h:112</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_adabef17e89cfe4c34933e5f4a7e0ea9fa8220e6210a53cabb44d6a6e6b282b80c"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8220e6210a53cabb44d6a6e6b282b80c">DEVROUTE_MTU</a></div><div class="ttdeci">@ DEVROUTE_MTU</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00032">interface-ip.h:32</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_adabef17e89cfe4c34933e5f4a7e0ea9fa8fa6affc4eac87edaad40a875516277d"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8fa6affc4eac87edaad40a875516277d">DEVROUTE_NODEV</a></div><div class="ttdeci">@ DEVROUTE_NODEV</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00056">interface-ip.h:56</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_adabef17e89cfe4c34933e5f4a7e0ea9fa929097df2568c940a4d7b9469648bc25"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa929097df2568c940a4d7b9469648bc25">DEVROUTE_ONLINK</a></div><div class="ttdeci">@ DEVROUTE_ONLINK</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00047">interface-ip.h:47</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_adabef17e89cfe4c34933e5f4a7e0ea9fadd3330d85a1e86e20e2ad13cef882b19"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fadd3330d85a1e86e20e2ad13cef882b19">DEVROUTE_TYPE</a></div><div class="ttdeci">@ DEVROUTE_TYPE</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00050">interface-ip.h:50</a></div></div>
<div class="ttc" id="anetifd_2utils_8c_html_ac14f24743606fec01090abb8f4159d2d"><div class="ttname"><a href="../../d4/d96/netifd_2utils_8c.html#ac14f24743606fec01090abb8f4159d2d">parse_ip_and_netmask</a></div><div class="ttdeci">int parse_ip_and_netmask(int af, const char *str, void *addr, unsigned int *netmask)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d96/netifd_2utils_8c_source.html#l00120">utils.c:120</a></div></div>
<div class="ttc" id="aproto_8h_html_a5f488d16837cc56ba50561dbe1ce0200"><div class="ttname"><a href="../../de/dd2/proto_8h.html#a5f488d16837cc56ba50561dbe1ce0200">parse_netmask_string</a></div><div class="ttdeci">unsigned int parse_netmask_string(const char *str, bool v6)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d96/netifd_2utils_8c_source.html#l00080">utils.c:80</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_a2b05f4e2511654c980e7694141b5017a"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#a2b05f4e2511654c980e7694141b5017a">system_resolve_rt_table</a></div><div class="ttdeci">bool system_resolve_rt_table(const char *name, unsigned int *id)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00290">system-dummy.c:290</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_a72936f3708561613cece24e5723befb3"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3">system_get_rtime</a></div><div class="ttdeci">time_t system_get_rtime(void)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00328">system-dummy.c:328</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_a74dd1a1ae1d6a959bff76ca46cb197dd"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#a74dd1a1ae1d6a959bff76ca46cb197dd">system_is_default_rt_table</a></div><div class="ttdeci">bool system_is_default_rt_table(unsigned int id)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00296">system-dummy.c:296</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_addb567cde61220b6f0f9930ced1da204"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#addb567cde61220b6f0f9930ced1da204">system_resolve_rt_type</a></div><div class="ttdeci">bool system_resolve_rt_type(const char *type, unsigned int *id)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00278">system-dummy.c:278</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00047">__ROUTE_MAX</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00111">device_route::addr</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00095">blobmsg_data_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00283">blobmsg_get_bool()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00293">blobmsg_get_u32()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00100">clear_if_addr()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00154">interface::config_ip</a>, <a class="el" href="../../d3/d75/netifd_2netifd_8h_source.html#l00083">D</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00021">DEVADDR_INET4</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00022">DEVADDR_INET6</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00029">DEVROUTE_METRIC</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00032">DEVROUTE_MTU</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00056">DEVROUTE_NODEV</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00047">DEVROUTE_ONLINK</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00035">DEVROUTE_PROTO</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00041">DEVROUTE_TABLE</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00050">DEVROUTE_TYPE</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00106">device_route::flags</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00093">device_route::iface</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00326">interface_set_route_info()</a>, <a class="el" href="../../dd/dda/interface_8c_source.html#l00030">interfaces</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00109">device_route::mask</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00107">device_route::metric</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00100">device_route::mtu</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00099">device_route::nexthop</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00092">device_route::node</a>, <a class="el" href="../../d4/d96/netifd_2utils_8c_source.html#l00120">parse_ip_and_netmask()</a>, <a class="el" href="../../d4/d96/netifd_2utils_8c_source.html#l00080">parse_netmask_string()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00102">device_route::proto</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00153">interface::proto_ip</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00083">interface_ip_settings::route</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00050">route_attr</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00046">ROUTE_DISABLED</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00037">ROUTE_GATEWAY</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00034">ROUTE_INTERFACE</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00036">ROUTE_MASK</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00038">ROUTE_METRIC</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00039">ROUTE_MTU</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00043">ROUTE_ONLINK</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00045">ROUTE_PROTO</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00042">ROUTE_SOURCE</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00041">ROUTE_TABLE</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00035">ROUTE_TARGET</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00044">ROUTE_TYPE</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00040">ROUTE_VALID</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00112">device_route::source</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00110">device_route::sourcemask</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00328">system_get_rtime()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00296">system_is_default_rt_table()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00284">system_resolve_rt_proto()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00290">system_resolve_rt_table()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00278">system_resolve_rt_type()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00108">device_route::table</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00101">device_route::type</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00103">device_route::valid_until</a>, <a class="el" href="../../d5/d9a/vlist_8c_source.html#l00036">vlist_add()</a>, and <a class="el" href="../../dd/d1d/vlist_8h_source.html#l00059">vlist_find</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d65/netifd_2config_8c_source.html#l00219">config_parse_route()</a>, and <a class="el" href="../../db/d25/proto-shell_8c_source.html#l00400">proto_shell_parse_route_list()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a05d7b44eab2927c809828881315cf16d_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a05d7b44eab2927c809828881315cf16d_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a05d7b44eab2927c809828881315cf16d_cgraph" id="adc/df0/interface-ip_8c_a05d7b44eab2927c809828881315cf16d_cgraph">
<area shape="rect" title=" " alt="" coords="5,676,236,710"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1178,271,1329,304"/>
<area shape="poly" title=" " alt="" coords="122,675,135,607,163,508,184,454,211,399,243,348,282,302,317,268,350,243,382,225,414,211,485,193,575,176,721,143,782,131,839,124,896,123,955,130,1020,147,1094,174,1110,185,1120,197,1129,211,1142,224,1202,261,1200,266,1139,228,1125,214,1116,201,1107,189,1091,179,1018,152,954,135,895,128,840,129,783,136,722,148,577,181,486,198,416,216,385,230,353,248,321,272,286,305,247,351,216,402,189,456,168,510,140,609,127,676"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="886,536,1074,570"/>
<area shape="poly" title=" " alt="" coords="132,674,156,644,191,608,234,573,283,546,331,534,395,527,553,523,723,530,871,540,870,545,722,535,553,528,396,532,332,539,285,551,237,577,194,612,160,648,136,677"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#adfbec0b532211a1442310392496a45f2" title=" " alt="" coords="604,191,792,224"/>
<area shape="poly" title=" " alt="" coords="124,675,142,620,174,544,220,461,249,422,282,387,319,356,358,329,443,284,528,250,604,226,605,231,530,255,446,289,361,334,322,361,285,391,253,425,225,464,178,546,147,622,129,676"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f" title=" " alt="" coords="605,5,790,39"/>
<area shape="poly" title=" " alt="" coords="122,675,139,561,173,390,196,300,221,219,250,152,265,126,282,107,315,81,352,60,391,43,432,31,514,17,589,13,589,18,514,22,433,36,393,48,354,64,318,85,286,111,270,129,255,154,226,221,201,302,178,391,145,562,127,676"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="325,401,487,435"/>
<area shape="poly" title=" " alt="" coords="132,674,193,597,236,549,282,503,322,470,362,442,365,446,326,474,285,507,240,552,198,600,137,677"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="336,561,476,595"/>
<area shape="poly" title=" " alt="" coords="148,673,208,638,283,604,320,592,322,597,285,609,211,643,150,678"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a8642e113840ee637f7d57e5efb5f02fe" title=" " alt="" coords="285,619,527,652"/>
<area shape="poly" title=" " alt="" coords="207,673,303,653,304,659,208,678"/>
<area shape="rect" href="../../d4/d96/netifd_2utils_8c.html#ac14f24743606fec01090abb8f4159d2d" title=" " alt="" coords="290,676,522,710"/>
<area shape="poly" title=" " alt="" coords="236,690,274,690,274,696,236,696"/>
<area shape="rect" href="../../d4/d96/netifd_2utils_8c.html#a5f488d16837cc56ba50561dbe1ce0200" title=" " alt="" coords="867,704,1093,738"/>
<area shape="poly" title=" " alt="" coords="202,708,284,720,436,729,590,731,852,725,852,731,590,737,436,734,283,725,202,713"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3" title=" " alt="" coords="313,785,499,819"/>
<area shape="poly" title=" " alt="" coords="158,708,217,735,285,764,326,778,325,783,283,769,214,740,155,713"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a74dd1a1ae1d6a959bff76ca46cb197dd" title=" " alt="" coords="301,843,511,900"/>
<area shape="poly" title=" " alt="" coords="139,708,200,767,241,800,285,829,294,834,291,839,282,834,238,804,196,771,136,712"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a5d5d5287d90cf8c910b8565e20770fbd" title=" " alt="" coords="284,924,528,958"/>
<area shape="poly" title=" " alt="" coords="132,709,153,751,186,805,231,862,257,887,285,909,294,915,291,919,282,914,253,891,227,865,182,808,148,753,127,711"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a2b05f4e2511654c980e7694141b5017a" title=" " alt="" coords="285,981,527,1015"/>
<area shape="poly" title=" " alt="" coords="129,709,147,761,178,831,199,869,224,906,252,939,285,968,290,971,287,976,282,972,249,943,219,909,194,872,173,834,142,763,124,711"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#addb567cde61220b6f0f9930ced1da204" title=" " alt="" coords="287,1039,525,1072"/>
<area shape="poly" title=" " alt="" coords="127,710,142,771,170,857,191,903,217,948,248,990,285,1025,289,1028,286,1033,282,1030,244,993,213,951,187,905,165,859,136,772,122,711"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#ac913b1e12f698be7f0d79ed459a68cd7" title=" " alt="" coords="354,1096,458,1130"/>
<area shape="poly" title=" " alt="" coords="126,710,137,780,163,881,184,936,210,990,244,1040,285,1083,311,1098,340,1107,338,1112,309,1103,282,1087,240,1043,206,993,179,938,158,883,132,781,121,711"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1454,463,1565,496"/>
<area shape="poly" title=" " alt="" coords="1311,303,1341,317,1368,338,1385,362,1393,384,1400,407,1416,430,1448,453,1445,457,1412,433,1395,409,1388,386,1381,364,1364,341,1338,322,1309,307"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1419,271,1600,304"/>
<area shape="poly" title=" " alt="" coords="1330,285,1403,285,1403,290,1330,290"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1424,328,1594,362"/>
<area shape="poly" title=" " alt="" coords="1330,302,1417,321,1416,327,1329,307"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1414,385,1604,419"/>
<area shape="poly" title=" " alt="" coords="1298,303,1367,337,1391,355,1415,372,1426,377,1424,382,1413,376,1388,360,1365,342,1296,307"/>
<area shape="poly" title=" " alt="" coords="996,534,1040,484,1090,421,1104,397,1112,378,1121,358,1139,338,1160,321,1183,309,1186,313,1163,326,1142,341,1126,361,1117,380,1109,400,1095,424,1044,488,1000,537"/>
<area shape="poly" title=" " alt="" coords="1075,546,1212,535,1366,514,1438,498,1439,503,1366,519,1213,540,1075,551"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1460,583,1558,616"/>
<area shape="poly" title=" " alt="" coords="1075,559,1141,565,1445,591,1444,597,1140,570,1074,564"/>
<area shape="poly" title=" " alt="" coords="792,191,859,185,935,183,1015,188,1093,201,1128,212,1161,227,1217,259,1214,264,1158,232,1126,217,1092,206,1014,193,935,189,859,190,793,196"/>
<area shape="poly" title=" " alt="" coords="791,24,861,32,939,47,1019,71,1094,107,1140,140,1179,180,1212,221,1236,256,1232,259,1208,224,1175,184,1136,144,1091,111,1017,76,937,52,860,37,790,29"/>
<area shape="poly" title=" " alt="" coords="488,422,576,429,1070,457,1438,474,1438,479,1069,462,576,434,487,428"/>
<area shape="poly" title=" " alt="" coords="410,400,430,352,463,289,485,256,511,225,541,198,575,176,634,150,695,131,758,119,822,112,887,111,951,115,1078,133,1197,162,1304,197,1393,232,1460,261,1458,266,1391,236,1302,202,1196,168,1077,139,951,120,887,117,822,118,759,124,696,136,635,155,577,181,544,202,515,229,490,259,468,292,435,354,415,402"/>
<area shape="poly" title=" " alt="" coords="488,418,576,420,834,423,1093,420,1398,406,1398,412,1093,425,834,428,576,425,487,423"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="936,216,1024,250"/>
<area shape="poly" title=" " alt="" coords="460,398,921,249,922,254,462,403"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="576,376,819,410"/>
<area shape="poly" title=" " alt="" coords="487,408,560,402,561,407,488,414"/>
<area shape="poly" title=" " alt="" coords="751,373,867,341,1022,313,1162,294,1163,300,1023,318,868,346,752,378"/>
<area shape="poly" title=" " alt="" coords="731,408,936,526,934,530,728,413"/>
<area shape="poly" title=" " alt="" coords="743,373,781,354,818,329,832,314,840,298,849,282,866,267,892,252,920,242,922,247,895,257,869,271,854,286,845,301,836,317,821,334,784,359,745,378"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="893,376,1067,410"/>
<area shape="poly" title=" " alt="" coords="820,390,878,390,878,396,820,396"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1183,637,1324,671"/>
<area shape="poly" title=" " alt="" coords="711,408,734,445,770,492,815,540,841,562,869,580,943,613,1022,634,1099,646,1167,651,1167,656,1098,651,1021,639,941,618,866,585,838,566,812,544,766,496,730,448,706,411"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="1141,352,1366,386"/>
<area shape="poly" title=" " alt="" coords="782,373,867,361,980,357,1093,361,1125,362,1125,367,1093,366,980,362,868,366,783,378"/>
<area shape="poly" title=" " alt="" coords="1324,636,1444,610,1445,616,1325,642"/>
<area shape="poly" title=" " alt="" coords="1295,384,1456,454,1454,459,1293,389"/>
<area shape="poly" title=" " alt="" coords="1305,349,1413,313,1433,307,1434,312,1415,318,1306,354"/>
<area shape="poly" title=" " alt="" coords="1366,356,1409,352,1409,357,1367,361"/>
<area shape="poly" title=" " alt="" coords="1367,381,1399,385,1398,390,1366,386"/>
<area shape="poly" title=" " alt="" coords="1275,384,1480,570,1476,574,1272,388"/>
<area shape="rect" href="../../d4/d96/netifd_2utils_8c.html#a271b944607573a5dc07a3536178d101a" title=" " alt="" coords="623,676,772,710"/>
<area shape="poly" title=" " alt="" coords="522,690,607,690,607,696,522,696"/>
<area shape="poly" title=" " alt="" coords="773,698,852,705,852,711,773,703"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="641,1168,755,1202"/>
<area shape="poly" title=" " alt="" coords="458,1123,626,1165,625,1170,457,1128"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e08d7ee7d67ff58eeea30dd8a9356d1" title=" " alt="" coords="651,1024,744,1058"/>
<area shape="poly" title=" " alt="" coords="457,1099,527,1082,635,1055,636,1060,529,1087,458,1104"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="643,1096,753,1130"/>
<area shape="poly" title=" " alt="" coords="458,1110,627,1110,627,1116,458,1116"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="887,1307,1073,1340"/>
<area shape="poly" title=" " alt="" coords="733,1200,869,1269,928,1297,925,1302,866,1274,730,1205"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="931,1168,1029,1202"/>
<area shape="poly" title=" " alt="" coords="755,1182,915,1182,915,1188,755,1188"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="917,1225,1043,1259"/>
<area shape="poly" title=" " alt="" coords="756,1194,902,1224,901,1229,755,1199"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="923,1111,1037,1144"/>
<area shape="poly" title=" " alt="" coords="755,1171,907,1139,908,1145,756,1176"/>
<area shape="poly" title=" " alt="" coords="931,1308,926,1297,933,1288,951,1282,980,1280,1011,1282,1028,1289,1026,1294,1010,1288,980,1285,952,1287,936,1292,931,1298,936,1305"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="915,996,1045,1030"/>
<area shape="poly" title=" " alt="" coords="744,1034,899,1018,900,1023,745,1039"/>
<area shape="poly" title=" " alt="" coords="931,997,926,987,933,977,951,971,980,969,1011,972,1028,978,1026,983,1010,977,980,975,952,977,936,982,931,987,936,994"/>
<area shape="poly" title=" " alt="" coords="754,1125,868,1154,916,1167,915,1172,867,1159,752,1130"/>
<area shape="poly" title=" " alt="" coords="753,1113,908,1121,907,1126,753,1118"/>
<area shape="poly" title=" " alt="" coords="752,1094,818,1068,842,1053,866,1038,899,1027,901,1032,868,1043,845,1057,821,1073,754,1099"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="899,1053,1061,1087"/>
<area shape="poly" title=" " alt="" coords="753,1102,883,1082,884,1087,754,1107"/>
</map>
</div>

</div>
</div>
<a id="acbb0ebff9ef0239159d7c8a079fc1e76" name="acbb0ebff9ef0239159d7c8a079fc1e76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbb0ebff9ef0239159d7c8a079fc1e76">&#9670;&#160;</a></span>interface_ip_add_target_route()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> * interface_ip_add_target_route </td>
          <td>(</td>
          <td class="paramtype">union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>v6</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *</td>          <td class="paramname"><span class="paramname"><em>iface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>exclude</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00260">260</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  262</span>{</div>
<div class="line"><span class="lineno">  263</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> *route, *r_next = NULL;</div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordtype">bool</span> defaultroute_target = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  265</span>    <span class="keyword">union </span><a class="code hl_union" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> addr_zero;</div>
<div class="line"><span class="lineno">  266</span>    <span class="keywordtype">int</span> addrsize = v6 ? <span class="keyword">sizeof</span>(addr-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ab1d6caa48549e17147d79c6c8d375eda">in6</a>) : sizeof(addr-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a96be1455d3994624065442370cb4b260">in</a>);</div>
<div class="line"><span class="lineno">  267</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *exclude_iface = NULL;</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>    <span class="keywordflow">if</span> (exclude) {</div>
<div class="line"><span class="lineno">  270</span>        exclude_iface = iface;</div>
<div class="line"><span class="lineno">  271</span>        iface = NULL;</div>
<div class="line"><span class="lineno">  272</span>    }</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>    memset(&amp;addr_zero, 0, <span class="keyword">sizeof</span>(addr_zero));</div>
<div class="line"><span class="lineno">  275</span>    <span class="keywordflow">if</span> (memcmp(&amp;addr_zero, addr, addrsize) == 0)</div>
<div class="line"><span class="lineno">  276</span>        defaultroute_target = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordflow">if</span> (iface) {</div>
<div class="line"><span class="lineno">  279</span>        <span class="comment">/* look for locally addressable target first */</span></div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="#a034742daada0a615cf0469dde20d0961">interface_ip_find_addr_target</a>(iface, addr, v6))</div>
<div class="line"><span class="lineno">  281</span>            <span class="keywordflow">return</span> iface;</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>        <span class="comment">/* do not stop at the first route, let the lookup compare</span></div>
<div class="line"><span class="lineno">  284</span><span class="comment">         * masks to find the best match */</span></div>
<div class="line"><span class="lineno">  285</span>        <a class="code hl_function" href="#aa238be32b0e78351187c0e8af17c3d6a">interface_ip_find_route_target</a>(iface, addr, v6, &amp;r_next);</div>
<div class="line"><span class="lineno">  286</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  287</span>        <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#add31e1f4b4f9662f592e61501aaca312">vlist_for_each_element</a>(&amp;<a class="code hl_variable" href="../../dd/dda/interface_8c.html#aa5c5af6c1895c4bf768815c8c5715bf2">interfaces</a>, iface, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>) {</div>
<div class="line"><span class="lineno">  288</span>            <span class="keywordflow">if</span> (iface == exclude_iface)</div>
<div class="line"><span class="lineno">  289</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>            <span class="comment">/* look for locally addressable target first */</span></div>
<div class="line"><span class="lineno">  292</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="#a034742daada0a615cf0469dde20d0961">interface_ip_find_addr_target</a>(iface, addr, v6))</div>
<div class="line"><span class="lineno">  293</span>                <span class="keywordflow">return</span> iface;</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>            <span class="comment">/* do not stop at the first route, let the lookup compare</span></div>
<div class="line"><span class="lineno">  296</span><span class="comment">             * masks to find the best match */</span></div>
<div class="line"><span class="lineno">  297</span>            <a class="code hl_function" href="#aa238be32b0e78351187c0e8af17c3d6a">interface_ip_find_route_target</a>(iface, addr, v6, &amp;r_next);</div>
<div class="line"><span class="lineno">  298</span>        }</div>
<div class="line"><span class="lineno">  299</span>    }</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>    <span class="keywordflow">if</span> (!r_next)</div>
<div class="line"><span class="lineno">  302</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    iface = r_next-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>;</div>
<div class="line"><span class="lineno">  305</span>    <span class="keywordflow">if</span> (defaultroute_target)</div>
<div class="line"><span class="lineno">  306</span>        <span class="keywordflow">return</span> iface;</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>    route = calloc(1, <span class="keyword">sizeof</span>(*route));</div>
<div class="line"><span class="lineno">  309</span>    <span class="keywordflow">if</span> (!route)</div>
<div class="line"><span class="lineno">  310</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>    route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> = v6 ? <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a> : <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9facc21aeffe47d1209c184f23131cd23b2">DEVADDR_INET4</a>;</div>
<div class="line"><span class="lineno">  313</span>    route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a> = v6 ? 128 : 32;</div>
<div class="line"><span class="lineno">  314</span>    memcpy(&amp;route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>, addr, addrsize);</div>
<div class="line"><span class="lineno">  315</span>    memcpy(&amp;route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a3239ad2937ff4c7b36488398f31cea44">nexthop</a>, &amp;r_next-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a3239ad2937ff4c7b36488398f31cea44">nexthop</a>, <span class="keyword">sizeof</span>(route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a3239ad2937ff4c7b36488398f31cea44">nexthop</a>));</div>
<div class="line"><span class="lineno">  316</span>    route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aea6471aa4613b3e7e9cb8bc029c1c5c2">mtu</a> = r_next-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aea6471aa4613b3e7e9cb8bc029c1c5c2">mtu</a>;</div>
<div class="line"><span class="lineno">  317</span>    route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#addc133ffe0c2217b51c5bed6dbe1369c">metric</a> = r_next-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#addc133ffe0c2217b51c5bed6dbe1369c">metric</a>;</div>
<div class="line"><span class="lineno">  318</span>    route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a29d36cd8867816724b5019d5855f91f8">table</a> = r_next-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a29d36cd8867816724b5019d5855f91f8">table</a>;</div>
<div class="line"><span class="lineno">  319</span>    route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a> = iface;</div>
<div class="line"><span class="lineno">  320</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#ac913b1e12f698be7f0d79ed459a68cd7">vlist_add</a>(&amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#afd6e136ad48740d7d0b675a8e65db363">host_routes</a>, &amp;route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a69efb4dccc3e395fd87023001402f0e9">node</a>, route);</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordflow">return</span> iface;</div>
<div class="line"><span class="lineno">  323</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_a034742daada0a615cf0469dde20d0961"><div class="ttname"><a href="#a034742daada0a615cf0469dde20d0961">interface_ip_find_addr_target</a></div><div class="ttdeci">static bool interface_ip_find_addr_target(struct interface *iface, union if_addr *a, bool v6)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00245">interface-ip.c:245</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_aa238be32b0e78351187c0e8af17c3d6a"><div class="ttname"><a href="#aa238be32b0e78351187c0e8af17c3d6a">interface_ip_find_route_target</a></div><div class="ttdeci">static void interface_ip_find_route_target(struct interface *iface, union if_addr *a, bool v6, struct device_route **route)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00252">interface-ip.c:252</a></div></div>
<div class="ttc" id="ainterface_8h_html_afd6e136ad48740d7d0b675a8e65db363"><div class="ttname"><a href="../../d4/da9/interface_8h.html#afd6e136ad48740d7d0b675a8e65db363">interface::host_routes</a></div><div class="ttdeci">struct vlist_tree host_routes</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00155">interface.h:155</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00111">device_route::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00021">DEVADDR_INET4</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00022">DEVADDR_INET6</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00106">device_route::flags</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00155">interface::host_routes</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00093">device_route::iface</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00060">if_addr::in</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00061">if_addr::in6</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00245">interface_ip_find_addr_target()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00252">interface_ip_find_route_target()</a>, <a class="el" href="../../dd/dda/interface_8c_source.html#l00030">interfaces</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00109">device_route::mask</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00107">device_route::metric</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00100">device_route::mtu</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00099">device_route::nexthop</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00092">device_route::node</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00108">device_route::table</a>, <a class="el" href="../../d5/d9a/vlist_8c_source.html#l00036">vlist_add()</a>, and <a class="el" href="../../dd/d1d/vlist_8h_source.html#l00072">vlist_for_each_element</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/db1/netifd_2ubus_8c_source.html#l00070">netifd_add_host_route()</a>, and <a class="el" href="../../db/d25/proto-shell_8c_source.html#l00117">proto_shell_update_host_dep()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_acbb0ebff9ef0239159d7c8a079fc1e76_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_acbb0ebff9ef0239159d7c8a079fc1e76_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_acbb0ebff9ef0239159d7c8a079fc1e76_cgraph" id="adc/df0/interface-ip_8c_acbb0ebff9ef0239159d7c8a079fc1e76_cgraph">
<area shape="rect" title=" " alt="" coords="5,114,243,171"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a034742daada0a615cf0469dde20d0961" title=" " alt="" coords="293,114,520,171"/>
<area shape="poly" title=" " alt="" coords="243,140,278,140,278,145,243,145"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#aa238be32b0e78351187c0e8af17c3d6a" title=" " alt="" coords="291,33,522,89"/>
<area shape="poly" title=" " alt="" coords="224,111,290,91,292,97,225,116"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#ac913b1e12f698be7f0d79ed459a68cd7" title=" " alt="" coords="355,321,458,355"/>
<area shape="poly" title=" " alt="" coords="168,169,369,310,366,314,165,173"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a1007690842a6580d3b184dd8d6c104aa" title=" " alt="" coords="573,113,790,147"/>
<area shape="poly" title=" " alt="" coords="520,135,557,133,557,138,520,140"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad6b1063b11f2c34ebf7c5d023e30b31c" title=" " alt="" coords="857,44,1010,78"/>
<area shape="poly" title=" " alt="" coords="745,110,854,80,855,85,746,115"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="1087,5,1226,39"/>
<area shape="poly" title=" " alt="" coords="1010,45,1071,34,1071,40,1010,50"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a87d523dd0fb4bbe26aecce15eb00cd1d" title=" " alt="" coords="570,44,792,78"/>
<area shape="poly" title=" " alt="" coords="522,58,555,58,555,64,522,64"/>
<area shape="poly" title=" " alt="" coords="793,58,842,58,842,64,793,64"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="624,265,738,299"/>
<area shape="poly" title=" " alt="" coords="458,325,608,294,609,299,459,330"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e08d7ee7d67ff58eeea30dd8a9356d1" title=" " alt="" coords="635,555,728,588"/>
<area shape="poly" title=" " alt="" coords="429,353,650,542,646,546,426,357"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="626,404,736,438"/>
<area shape="poly" title=" " alt="" coords="459,351,612,397,610,403,457,356"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="840,151,1027,184"/>
<area shape="poly" title=" " alt="" coords="709,262,768,228,839,193,853,188,855,192,841,198,770,233,711,267"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="884,323,983,356"/>
<area shape="poly" title=" " alt="" coords="739,292,870,322,869,328,738,298"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="870,208,997,242"/>
<area shape="poly" title=" " alt="" coords="738,267,855,240,856,245,739,272"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="876,265,991,299"/>
<area shape="poly" title=" " alt="" coords="739,280,861,280,861,285,739,285"/>
<area shape="poly" title=" " alt="" coords="893,151,889,141,895,132,910,126,934,124,959,126,973,133,971,138,957,132,933,129,911,131,898,136,894,142,898,149"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="1085,196,1228,230"/>
<area shape="poly" title=" " alt="" coords="1020,182,1070,193,1069,198,1019,188"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="1075,139,1238,172"/>
<area shape="poly" title=" " alt="" coords="1027,160,1059,158,1059,163,1027,165"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="1294,237,1443,271"/>
<area shape="poly" title=" " alt="" coords="1014,183,1029,194,1042,210,1048,228,1051,262,1055,294,1062,308,1076,321,1107,336,1140,343,1175,341,1209,334,1275,308,1329,278,1332,282,1278,313,1211,339,1175,346,1140,348,1105,341,1073,326,1058,311,1050,296,1046,262,1043,229,1037,213,1025,197,1010,187"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="1286,180,1450,214"/>
<area shape="poly" title=" " alt="" coords="961,148,1012,121,1074,100,1120,90,1157,85,1194,88,1239,100,1269,113,1296,130,1342,167,1338,171,1293,134,1266,117,1237,105,1193,93,1157,90,1121,95,1075,105,1014,126,964,153"/>
<area shape="poly" title=" " alt="" coords="1118,139,1114,129,1120,120,1134,114,1156,112,1180,114,1194,121,1192,126,1179,120,1156,117,1135,119,1123,124,1119,130,1123,137"/>
<area shape="poly" title=" " alt="" coords="1218,171,1239,181,1254,192,1264,203,1273,213,1287,224,1295,228,1293,233,1285,228,1270,217,1260,207,1251,196,1237,186,1215,175"/>
<area shape="poly" title=" " alt="" coords="1239,169,1271,175,1270,180,1238,174"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1498,180,1596,214"/>
<area shape="poly" title=" " alt="" coords="1422,234,1483,214,1485,219,1424,239"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1501,237,1593,271"/>
<area shape="poly" title=" " alt="" coords="1443,252,1485,252,1485,257,1443,257"/>
<area shape="poly" title=" " alt="" coords="1451,194,1483,194,1483,200,1451,200"/>
<area shape="poly" title=" " alt="" coords="1424,212,1487,232,1485,237,1422,217"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1114,387,1199,420"/>
<area shape="poly" title=" " alt="" coords="998,233,1028,251,1041,265,1049,280,1054,309,1059,337,1065,351,1077,366,1101,383,1098,388,1073,369,1061,354,1054,339,1049,310,1044,282,1037,268,1025,255,996,238"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1321,387,1415,420"/>
<area shape="poly" title=" " alt="" coords="1199,401,1305,401,1305,406,1199,406"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="868,623,999,656"/>
<area shape="poly" title=" " alt="" coords="729,581,854,616,853,621,728,587"/>
<area shape="poly" title=" " alt="" coords="893,623,889,613,895,604,910,598,934,596,959,598,973,605,971,610,957,604,933,601,911,603,898,608,894,614,898,621"/>
<area shape="poly" title=" " alt="" coords="735,401,868,357,870,363,737,406"/>
<area shape="poly" title=" " alt="" coords="701,401,761,355,799,330,839,308,861,299,863,304,842,313,802,335,764,360,704,406"/>
<area shape="poly" title=" " alt="" coords="700,437,772,516,842,585,884,613,881,617,839,590,768,520,696,440"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="852,541,1015,575"/>
<area shape="poly" title=" " alt="" coords="708,436,767,476,842,520,869,533,867,537,839,525,764,481,705,440"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1110,501,1203,535"/>
<area shape="poly" title=" " alt="" coords="724,436,779,457,841,476,908,489,977,500,1095,512,1094,517,976,505,907,495,840,481,777,462,722,441"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="844,432,1023,466"/>
<area shape="poly" title=" " alt="" coords="737,424,829,435,829,440,736,430"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="1095,277,1218,311"/>
<area shape="poly" title=" " alt="" coords="736,416,870,403,949,388,1026,366,1075,344,1118,318,1121,322,1077,349,1028,371,950,393,871,408,737,422"/>
<area shape="poly" title=" " alt="" coords="1014,541,1095,526,1096,532,1015,546"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1318,472,1419,506"/>
<area shape="poly" title=" " alt="" coords="1203,509,1302,495,1303,501,1203,514"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1092,444,1221,478"/>
<area shape="poly" title=" " alt="" coords="1023,451,1076,454,1076,459,1023,456"/>
<area shape="poly" title=" " alt="" coords="1222,467,1302,478,1302,483,1221,472"/>
<area shape="poly" title=" " alt="" coords="1218,280,1278,268,1279,274,1219,285"/>
<area shape="poly" title=" " alt="" coords="1185,274,1285,222,1297,217,1299,222,1287,227,1188,279"/>
<area shape="poly" title=" " alt="" coords="1118,278,1114,268,1120,259,1134,253,1156,251,1180,253,1194,260,1192,264,1179,258,1156,256,1135,258,1123,263,1119,268,1123,276"/>
</map>
</div>

</div>
</div>
<a id="a034742daada0a615cf0469dde20d0961" name="a034742daada0a615cf0469dde20d0961"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a034742daada0a615cf0469dde20d0961">&#9670;&#160;</a></span>interface_ip_find_addr_target()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool interface_ip_find_addr_target </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *</td>          <td class="paramname"><span class="paramname"><em>iface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>v6</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00245">245</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  246</span>{</div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a1007690842a6580d3b184dd8d6c104aa">__find_ip_addr_target</a>(&amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>, a, v6) ||</div>
<div class="line"><span class="lineno">  248</span>           <a class="code hl_function" href="#a1007690842a6580d3b184dd8d6c104aa">__find_ip_addr_target</a>(&amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a4d137d95554e8f9954fa10f8d2ed253b">config_ip</a>, a, v6);</div>
<div class="line"><span class="lineno">  249</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_a1007690842a6580d3b184dd8d6c104aa"><div class="ttname"><a href="#a1007690842a6580d3b184dd8d6c104aa">__find_ip_addr_target</a></div><div class="ttdeci">static bool __find_ip_addr_target(struct interface_ip_settings *ip, union if_addr *a, bool v6)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00188">interface-ip.c:188</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00188">__find_ip_addr_target()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00154">interface::config_ip</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00093">device_route::iface</a>, and <a class="el" href="../../d4/da9/interface_8h_source.html#l00153">interface::proto_ip</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00260">interface_ip_add_target_route()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a034742daada0a615cf0469dde20d0961_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a034742daada0a615cf0469dde20d0961_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a034742daada0a615cf0469dde20d0961_cgraph" id="adc/df0/interface-ip_8c_a034742daada0a615cf0469dde20d0961_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,232,62"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a1007690842a6580d3b184dd8d6c104aa" title=" " alt="" coords="280,17,497,51"/>
<area shape="poly" title=" " alt="" coords="232,31,264,31,264,36,232,36"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad6b1063b11f2c34ebf7c5d023e30b31c" title=" " alt="" coords="545,17,697,51"/>
<area shape="poly" title=" " alt="" coords="497,31,529,31,529,36,497,36"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="745,17,885,51"/>
<area shape="poly" title=" " alt="" coords="698,31,730,31,730,36,698,36"/>
</map>
</div>

</div>
</div>
<a id="aa238be32b0e78351187c0e8af17c3d6a" name="aa238be32b0e78351187c0e8af17c3d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa238be32b0e78351187c0e8af17c3d6a">&#9670;&#160;</a></span>interface_ip_find_route_target()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interface_ip_find_route_target </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *</td>          <td class="paramname"><span class="paramname"><em>iface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>v6</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> **</td>          <td class="paramname"><span class="paramname"><em>route</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00252">252</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  254</span>{</div>
<div class="line"><span class="lineno">  255</span>    <a class="code hl_function" href="#a87d523dd0fb4bbe26aecce15eb00cd1d">__find_ip_route_target</a>(&amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>, a, v6, route);</div>
<div class="line"><span class="lineno">  256</span>    <a class="code hl_function" href="#a87d523dd0fb4bbe26aecce15eb00cd1d">__find_ip_route_target</a>(&amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a4d137d95554e8f9954fa10f8d2ed253b">config_ip</a>, a, v6, route);</div>
<div class="line"><span class="lineno">  257</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_a87d523dd0fb4bbe26aecce15eb00cd1d"><div class="ttname"><a href="#a87d523dd0fb4bbe26aecce15eb00cd1d">__find_ip_route_target</a></div><div class="ttdeci">static void __find_ip_route_target(struct interface_ip_settings *ip, union if_addr *a, bool v6, struct device_route **res)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00219">interface-ip.c:219</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00219">__find_ip_route_target()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00154">interface::config_ip</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00093">device_route::iface</a>, and <a class="el" href="../../d4/da9/interface_8h_source.html#l00153">interface::proto_ip</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00260">interface_ip_add_target_route()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_aa238be32b0e78351187c0e8af17c3d6a_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_aa238be32b0e78351187c0e8af17c3d6a_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_aa238be32b0e78351187c0e8af17c3d6a_cgraph" id="adc/df0/interface-ip_8c_aa238be32b0e78351187c0e8af17c3d6a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,237,62"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a87d523dd0fb4bbe26aecce15eb00cd1d" title=" " alt="" coords="285,17,507,51"/>
<area shape="poly" title=" " alt="" coords="237,31,269,31,269,36,237,36"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad6b1063b11f2c34ebf7c5d023e30b31c" title=" " alt="" coords="555,17,707,51"/>
<area shape="poly" title=" " alt="" coords="507,31,539,31,539,36,507,36"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="755,17,895,51"/>
<area shape="poly" title=" " alt="" coords="708,31,740,31,740,36,708,36"/>
</map>
</div>

</div>
</div>
<a id="a72260106df1daaec0966a91524c6e7b0" name="a72260106df1daaec0966a91524c6e7b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72260106df1daaec0966a91524c6e7b0">&#9670;&#160;</a></span>interface_ip_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interface_ip_flush </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01795">1795</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1796</span>{</div>
<div class="line"><span class="lineno"> 1797</span>    <span class="keywordflow">if</span> (ip == &amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>)</div>
<div class="line"><span class="lineno"> 1798</span>        <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#a28a95a93eeb59526ff3482d6ab7bca7f">vlist_flush_all</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#afd6e136ad48740d7d0b675a8e65db363">host_routes</a>);</div>
<div class="line"><span class="lineno"> 1799</span>    <a class="code hl_function" href="../../d4/d96/netifd_2utils_8c.html#a48929e7282e8012675eaddc2662fc549">vlist_simple_flush_all</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3363410aef3be499106d9fbf8dba3f0a">dns_servers</a>);</div>
<div class="line"><span class="lineno"> 1800</span>    <a class="code hl_function" href="../../d4/d96/netifd_2utils_8c.html#a48929e7282e8012675eaddc2662fc549">vlist_simple_flush_all</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#adb66860a788e26352191973708b498b5">dns_search</a>);</div>
<div class="line"><span class="lineno"> 1801</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#a28a95a93eeb59526ff3482d6ab7bca7f">vlist_flush_all</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a907be96d59886a7b970685768ba18db3">route</a>);</div>
<div class="line"><span class="lineno"> 1802</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#a28a95a93eeb59526ff3482d6ab7bca7f">vlist_flush_all</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ab3234a7d043c711b115520fdde5dc6a1">addr</a>);</div>
<div class="line"><span class="lineno"> 1803</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#a28a95a93eeb59526ff3482d6ab7bca7f">vlist_flush_all</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9f446a45104d408f08157e99d5bc296f">neighbor</a>);</div>
<div class="line"><span class="lineno"> 1804</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#a28a95a93eeb59526ff3482d6ab7bca7f">vlist_flush_all</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac8c1ba6c32f0b815a0da4d8612d5adce">prefix</a>);</div>
<div class="line"><span class="lineno"> 1805</span>}</div>
<div class="ttc" id="anetifd_2utils_8c_html_a48929e7282e8012675eaddc2662fc549"><div class="ttname"><a href="../../d4/d96/netifd_2utils_8c.html#a48929e7282e8012675eaddc2662fc549">vlist_simple_flush_all</a></div><div class="ttdeci">void vlist_simple_flush_all(struct vlist_simple_tree *tree)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d96/netifd_2utils_8c_source.html#l00073">utils.c:73</a></div></div>
<div class="ttc" id="avlist_8c_html_a28a95a93eeb59526ff3482d6ab7bca7f"><div class="ttname"><a href="../../d5/d9a/vlist_8c.html#a28a95a93eeb59526ff3482d6ab7bca7f">vlist_flush_all</a></div><div class="ttdeci">void vlist_flush_all(struct vlist_tree *tree)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d9a/vlist_8c_source.html#l00076">vlist.c:76</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/da9/interface_8h_source.html#l00082">interface_ip_settings::addr</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00088">interface_ip_settings::dns_search</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00087">interface_ip_settings::dns_servers</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00155">interface::host_routes</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00076">interface_ip_settings::iface</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00085">interface_ip_settings::neighbor</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00084">interface_ip_settings::prefix</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00153">interface::proto_ip</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00083">interface_ip_settings::route</a>, <a class="el" href="../../d5/d9a/vlist_8c_source.html#l00076">vlist_flush_all()</a>, and <a class="el" href="../../d4/d96/netifd_2utils_8c_source.html#l00073">vlist_simple_flush_all()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dda/interface_8c_source.html#l00685">interface_cleanup()</a>, <a class="el" href="../../dd/dda/interface_8c_source.html#l01011">interface_set_l3_dev()</a>, and <a class="el" href="../../dd/dda/interface_8c_source.html#l00290">mark_interface_down()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a72260106df1daaec0966a91524c6e7b0_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a72260106df1daaec0966a91524c6e7b0_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a72260106df1daaec0966a91524c6e7b0_cgraph" id="adc/df0/interface-ip_8c_a72260106df1daaec0966a91524c6e7b0_cgraph">
<area shape="rect" title=" " alt="" coords="5,200,190,234"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#a28a95a93eeb59526ff3482d6ab7bca7f" title=" " alt="" coords="273,171,417,204"/>
<area shape="poly" title=" " alt="" coords="190,203,257,195,258,200,191,209"/>
<area shape="rect" href="../../d4/d96/netifd_2utils_8c.html#a48929e7282e8012675eaddc2662fc549" title=" " alt="" coords="238,228,452,262"/>
<area shape="poly" title=" " alt="" coords="191,225,222,228,222,234,190,230"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#a62a8ae640752531c644d53311b98d53a" title=" " alt="" coords="535,157,649,191"/>
<area shape="poly" title=" " alt="" coords="417,181,519,175,519,181,418,186"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#ae3f611db174c46a1558ef07aa4df0138" title=" " alt="" coords="732,151,858,184"/>
<area shape="poly" title=" " alt="" coords="650,170,717,167,717,173,650,175"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="946,144,1061,178"/>
<area shape="poly" title=" " alt="" coords="858,163,930,160,931,166,858,168"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="1149,87,1335,120"/>
<area shape="poly" title=" " alt="" coords="1060,145,1154,122,1155,127,1061,150"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="1193,5,1291,39"/>
<area shape="poly" title=" " alt="" coords="1021,141,1075,95,1110,70,1148,48,1177,36,1179,40,1150,53,1113,74,1079,100,1025,145"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="1179,201,1305,235"/>
<area shape="poly" title=" " alt="" coords="1061,172,1165,197,1163,202,1060,177"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="1185,144,1299,178"/>
<area shape="poly" title=" " alt="" coords="1061,158,1169,158,1169,164,1061,164"/>
<area shape="poly" title=" " alt="" coords="1202,87,1198,77,1204,68,1219,62,1242,60,1267,62,1282,69,1280,74,1266,68,1242,65,1220,67,1207,72,1203,78,1207,85"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="1393,117,1537,151"/>
<area shape="poly" title=" " alt="" coords="1336,114,1378,120,1378,125,1335,119"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="1383,60,1547,94"/>
<area shape="poly" title=" " alt="" coords="1335,90,1368,86,1368,91,1336,95"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="1602,89,1752,123"/>
<area shape="poly" title=" " alt="" coords="1310,118,1337,129,1360,147,1370,155,1384,161,1429,172,1464,174,1501,170,1546,161,1591,147,1631,128,1634,133,1593,152,1547,166,1501,175,1464,180,1428,177,1382,166,1367,159,1357,151,1334,134,1308,123"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="1595,32,1759,66"/>
<area shape="poly" title=" " alt="" coords="1273,84,1334,49,1357,33,1383,21,1439,12,1496,11,1551,17,1600,25,1599,31,1551,22,1496,16,1439,17,1384,26,1360,38,1337,54,1276,88"/>
<area shape="poly" title=" " alt="" coords="1427,61,1423,51,1428,41,1443,35,1465,33,1489,36,1503,42,1500,47,1488,41,1465,39,1444,41,1432,45,1428,51,1432,59"/>
<area shape="poly" title=" " alt="" coords="1548,86,1587,91,1586,96,1547,91"/>
<area shape="poly" title=" " alt="" coords="1547,63,1579,59,1580,64,1548,69"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1807,32,1904,66"/>
<area shape="poly" title=" " alt="" coords="1731,86,1792,66,1793,71,1732,91"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1810,89,1902,123"/>
<area shape="poly" title=" " alt="" coords="1752,104,1794,104,1794,109,1752,109"/>
<area shape="poly" title=" " alt="" coords="1760,46,1791,46,1791,52,1760,52"/>
<area shape="poly" title=" " alt="" coords="1732,64,1795,84,1794,89,1731,69"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1422,228,1508,262"/>
<area shape="poly" title=" " alt="" coords="1306,223,1407,235,1406,241,1305,228"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1630,228,1724,262"/>
<area shape="poly" title=" " alt="" coords="1508,242,1614,242,1614,248,1508,248"/>
<area shape="rect" href="../../d4/d96/netifd_2utils_8c.html#aea577f1d63282f4bcdf5781f12763abd" title=" " alt="" coords="500,228,684,262"/>
<area shape="poly" title=" " alt="" coords="452,242,484,242,484,248,452,248"/>
<area shape="rect" href="../../d4/d96/netifd_2utils_8c.html#a04fe5f7e3bdbec3646f88924248d3bfc" title=" " alt="" coords="906,228,1101,262"/>
<area shape="poly" title=" " alt="" coords="685,242,890,242,890,248,685,248"/>
<area shape="poly" title=" " alt="" coords="1101,244,1149,245,1335,245,1407,244,1407,249,1335,250,1149,250,1101,250"/>
</map>
</div>

</div>
</div>
<a id="a495aa9adc0d717dcb93a92dca14858b6" name="a495aa9adc0d717dcb93a92dca14858b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a495aa9adc0d717dcb93a92dca14858b6">&#9670;&#160;</a></span>interface_ip_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interface_ip_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *</td>          <td class="paramname"><span class="paramname"><em>iface</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01821">1821</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1822</span>{</div>
<div class="line"><span class="lineno"> 1823</span>    <a class="code hl_function" href="#accba810c66981a5f3fc9a27e3aba373a">__interface_ip_init</a>(&amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>, iface);</div>
<div class="line"><span class="lineno"> 1824</span>    <a class="code hl_function" href="#accba810c66981a5f3fc9a27e3aba373a">__interface_ip_init</a>(&amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a4d137d95554e8f9954fa10f8d2ed253b">config_ip</a>, iface);</div>
<div class="line"><span class="lineno"> 1825</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#ac79110e0303dfd3332b3648a921fd004">vlist_init</a>(&amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#afd6e136ad48740d7d0b675a8e65db363">host_routes</a>, <a class="code hl_function" href="#ad57cd3b1ffe38facbf01051cb75a6291">route_cmp</a>, <a class="code hl_function" href="#a010f97e268812eceb52a258e7cb213f5">interface_update_host_route</a>);</div>
<div class="line"><span class="lineno"> 1826</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_a010f97e268812eceb52a258e7cb213f5"><div class="ttname"><a href="#a010f97e268812eceb52a258e7cb213f5">interface_update_host_route</a></div><div class="ttdeci">static void interface_update_host_route(struct vlist_tree *tree, struct vlist_node *node_new, struct vlist_node *node_old)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00884">interface-ip.c:884</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_accba810c66981a5f3fc9a27e3aba373a"><div class="ttname"><a href="#accba810c66981a5f3fc9a27e3aba373a">__interface_ip_init</a></div><div class="ttdeci">static void __interface_ip_init(struct interface_ip_settings *ip, struct interface *iface)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l01808">interface-ip.c:1808</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01808">__interface_ip_init()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00154">interface::config_ip</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00155">interface::host_routes</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00884">interface_update_host_route()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00153">interface::proto_ip</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00561">route_cmp()</a>, and <a class="el" href="../../d5/d9a/vlist_8c_source.html#l00019">vlist_init()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dda/interface_8c_source.html#l00818">interface_alloc()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a495aa9adc0d717dcb93a92dca14858b6_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a495aa9adc0d717dcb93a92dca14858b6_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a495aa9adc0d717dcb93a92dca14858b6_cgraph" id="adc/df0/interface-ip_8c_a495aa9adc0d717dcb93a92dca14858b6_cgraph">
<area shape="rect" title=" " alt="" coords="5,635,173,668"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#accba810c66981a5f3fc9a27e3aba373a" title=" " alt="" coords="241,580,427,614"/>
<area shape="poly" title=" " alt="" coords="167,631,240,615,241,620,168,637"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad57cd3b1ffe38facbf01051cb75a6291" title=" " alt="" coords="556,776,674,810"/>
<area shape="poly" title=" " alt="" coords="123,666,169,689,222,710,306,735,392,755,541,781,540,786,391,760,304,740,220,715,167,694,120,671"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#ac79110e0303dfd3332b3648a921fd004" title=" " alt="" coords="566,719,663,752"/>
<area shape="poly" title=" " alt="" coords="174,662,551,723,550,728,173,667"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a010f97e268812eceb52a258e7cb213f5" title=" " alt="" coords="221,291,447,348"/>
<area shape="poly" title=" " alt="" coords="101,633,300,359,305,362,105,636"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a247f5acb467b98b039aa12f190ec8bb5" title=" " alt="" coords="558,413,671,447"/>
<area shape="poly" title=" " alt="" coords="348,578,408,518,449,485,494,457,542,439,544,444,496,462,452,490,411,522,352,581"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#adeaba893a4a1c7ca713a948b4d1972d6" title=" " alt="" coords="495,661,734,695"/>
<area shape="poly" title=" " alt="" coords="396,612,540,654,539,659,394,617"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#abd78479a01b9f96c7ad966ca334802c7" title=" " alt="" coords="782,503,1069,536"/>
<area shape="poly" title=" " alt="" coords="427,605,495,609,572,610,654,607,734,596,773,585,812,572,879,541,881,546,813,577,775,591,735,601,654,612,572,616,495,614,427,610"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a6ba449ccc984ff201c40a6ac96460438" title=" " alt="" coords="498,51,732,108"/>
<area shape="poly" title=" " alt="" coords="342,578,588,120,593,123,347,581"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7545e1d6969574c2d78054d63ff6f303" title=" " alt="" coords="498,471,732,528"/>
<area shape="poly" title=" " alt="" coords="382,577,494,537,512,531,514,536,496,542,384,582"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ab9fc147a80c4a3b13684931f3d12145e" title=" " alt="" coords="538,356,691,390"/>
<area shape="poly" title=" " alt="" coords="342,578,364,540,397,492,441,441,494,399,522,385,524,390,496,403,445,445,402,495,368,543,346,581"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a5bbc540d3d551947ef7eb6644c951fc0" title=" " alt="" coords="553,552,676,586"/>
<area shape="poly" title=" " alt="" coords="427,585,537,574,538,579,427,590"/>
<area shape="poly" title=" " alt="" coords="349,613,372,645,406,686,448,728,496,762,541,780,539,785,494,767,445,732,402,690,368,648,344,616"/>
<area shape="poly" title=" " alt="" coords="357,612,417,659,455,684,496,705,551,723,550,728,494,710,453,688,413,663,353,616"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#abaaced56b3a208f7cc76ce6723abce07" title=" " alt="" coords="1140,705,1342,761"/>
<area shape="poly" title=" " alt="" coords="735,682,894,692,1069,708,1125,714,1124,719,1068,713,893,698,735,687"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="1447,237,1636,271"/>
<area shape="poly" title=" " alt="" coords="651,658,693,632,732,596,749,569,755,543,762,517,780,488,858,411,894,383,930,361,1010,327,1116,292,1197,271,1280,258,1360,251,1431,249,1431,254,1360,257,1280,263,1198,276,1117,297,1012,332,932,366,897,388,862,415,784,492,767,519,760,544,754,571,736,600,696,636,653,663"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="1451,449,1633,483"/>
<area shape="poly" title=" " alt="" coords="735,675,897,671,1082,657,1171,646,1250,631,1316,613,1363,589,1375,579,1381,568,1387,543,1393,517,1400,504,1411,492,1435,478,1437,483,1415,496,1404,507,1398,519,1392,544,1386,570,1379,582,1367,594,1318,618,1251,637,1171,651,1083,663,898,676,735,681"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3" title=" " alt="" coords="1449,851,1634,884"/>
<area shape="poly" title=" " alt="" coords="719,693,736,704,748,718,755,732,760,760,765,787,772,799,784,811,818,823,879,833,1054,849,1256,858,1434,863,1433,868,1256,864,1054,854,878,839,817,828,781,815,768,803,760,789,755,761,750,733,744,721,733,708,716,698"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#afa4013a5a375dedce7a1d26deaf9addf" title=" " alt="" coords="806,891,1045,948"/>
<area shape="poly" title=" " alt="" coords="722,693,736,704,752,724,760,745,762,786,763,826,770,846,784,866,802,881,798,885,780,869,765,848,758,827,757,786,755,746,748,727,732,708,719,698"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1195,996,1287,1030"/>
<area shape="poly" title=" " alt="" coords="723,693,736,704,758,737,766,769,765,802,759,835,754,867,753,898,762,928,784,958,828,990,877,1012,931,1027,985,1034,1040,1036,1091,1034,1179,1023,1180,1029,1092,1040,1040,1042,985,1040,930,1032,876,1017,825,994,780,961,757,931,748,899,749,867,754,834,760,802,761,770,753,739,732,708,720,697"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1198,887,1284,920"/>
<area shape="poly" title=" " alt="" coords="704,693,783,708,827,713,865,714,932,713,963,715,996,720,1031,732,1070,752,1087,766,1097,782,1105,798,1119,815,1158,848,1199,876,1196,880,1155,852,1115,819,1100,801,1092,784,1083,770,1067,756,1029,737,994,725,963,720,932,718,865,720,826,718,782,713,703,698"/>
<area shape="rect" href="../../da/d23/list_8h.html#a0abd4b86ca9f97272fd1fc0e48d99c38" title=" " alt="" coords="870,767,981,800"/>
<area shape="poly" title=" " alt="" coords="710,693,736,704,751,714,760,725,770,735,784,745,819,760,856,770,854,775,817,765,781,750,766,739,756,729,747,718,733,709,708,698"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="1472,392,1611,426"/>
<area shape="poly" title=" " alt="" coords="1272,702,1318,653,1342,622,1363,590,1372,568,1377,547,1380,509,1386,472,1395,453,1411,435,1432,421,1456,412,1458,417,1435,425,1415,439,1399,456,1391,474,1385,509,1382,548,1377,570,1367,593,1346,625,1323,656,1275,706"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7e8a1089df00d795d915595e2e7eaa96" title=" " alt="" coords="1455,736,1629,770"/>
<area shape="poly" title=" " alt="" coords="1342,737,1439,743,1439,749,1342,742"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a8642e113840ee637f7d57e5efb5f02fe" title=" " alt="" coords="1421,507,1662,540"/>
<area shape="poly" title=" " alt="" coords="1285,702,1325,671,1363,634,1377,611,1384,590,1393,569,1411,549,1416,546,1419,550,1415,554,1397,572,1389,592,1382,613,1367,637,1328,675,1288,706"/>
<area shape="rect" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad" title=" " alt="" coords="1440,925,1644,959"/>
<area shape="poly" title=" " alt="" coords="1267,760,1330,827,1370,863,1414,895,1462,917,1460,922,1412,899,1367,867,1326,831,1263,763"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac1e6968392107ab1704c592a2270ee2f" title=" " alt="" coords="1438,564,1646,598"/>
<area shape="poly" title=" " alt="" coords="1277,702,1349,647,1412,606,1426,600,1428,605,1414,611,1352,651,1280,706"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf" title=" " alt="" coords="1435,621,1649,655"/>
<area shape="poly" title=" " alt="" coords="1318,702,1364,684,1412,664,1436,657,1437,662,1414,669,1366,689,1320,707"/>
<area shape="poly" title=" " alt="" coords="1273,702,1320,653,1343,623,1363,590,1375,560,1382,533,1385,485,1389,436,1397,408,1411,378,1430,349,1454,322,1502,279,1505,283,1458,326,1435,352,1415,381,1402,410,1394,437,1390,485,1387,534,1380,562,1367,593,1348,626,1324,656,1277,706"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a753fba8c387cd70d67f154f1d26c3946" title=" " alt="" coords="1438,793,1645,827"/>
<area shape="poly" title=" " alt="" coords="1339,759,1414,780,1443,787,1442,792,1412,785,1337,764"/>
<area shape="poly" title=" " alt="" coords="1289,702,1328,672,1363,634,1374,615,1379,596,1382,561,1387,526,1396,509,1411,492,1435,477,1438,481,1415,496,1401,512,1393,528,1387,561,1384,597,1378,617,1367,637,1332,676,1293,706"/>
<area shape="poly" title=" " alt="" coords="1281,759,1342,800,1414,837,1435,844,1433,849,1412,842,1339,804,1278,764"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a6624a98fc17593f67a43a6fbb15d4c49" title=" " alt="" coords="1413,679,1670,712"/>
<area shape="poly" title=" " alt="" coords="1342,718,1397,711,1398,716,1343,723"/>
<area shape="poly" title=" " alt="" coords="974,888,1177,767,1180,772,977,893"/>
<area shape="poly" title=" " alt="" coords="1046,926,1117,930,1424,938,1424,944,1117,935,1046,931"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="1198,1053,1284,1087"/>
<area shape="poly" title=" " alt="" coords="964,946,1033,994,1075,1019,1118,1040,1183,1059,1182,1064,1116,1045,1072,1024,1030,999,961,950"/>
<area shape="poly" title=" " alt="" coords="1023,946,1117,974,1181,993,1180,998,1116,979,1021,951"/>
<area shape="poly" title=" " alt="" coords="1045,911,1183,904,1183,909,1046,916"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="1458,1053,1626,1087"/>
<area shape="poly" title=" " alt="" coords="1284,1068,1442,1068,1442,1073,1284,1073"/>
<area shape="poly" title=" " alt="" coords="941,500,970,472,1011,437,1061,403,1116,378,1161,367,1209,360,1304,359,1392,370,1467,385,1466,390,1392,375,1303,365,1209,365,1163,372,1118,383,1064,408,1015,441,974,476,944,504"/>
<area shape="poly" title=" " alt="" coords="965,534,1035,563,1117,589,1195,605,1274,617,1419,630,1419,636,1273,622,1194,610,1116,594,1033,568,963,539"/>
<area shape="poly" title=" " alt="" coords="939,500,1009,427,1060,385,1115,349,1194,315,1277,290,1358,273,1431,262,1432,267,1359,278,1279,296,1196,320,1118,354,1063,389,1013,431,943,504"/>
<area shape="poly" title=" " alt="" coords="942,535,1043,673,1118,771,1154,788,1192,801,1271,818,1350,823,1422,822,1423,827,1350,829,1271,823,1191,806,1152,793,1115,775,1039,676,937,538"/>
<area shape="poly" title=" " alt="" coords="1069,504,1435,473,1435,478,1069,510"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#af0d8dcb590782e1c562717fe62976acd" title=" " alt="" coords="1141,523,1341,580"/>
<area shape="poly" title=" " alt="" coords="1069,531,1126,537,1125,542,1069,537"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac7ef3157ec2d3ecb1b0e109409296157" title=" " alt="" coords="1117,393,1365,449"/>
<area shape="poly" title=" " alt="" coords="981,500,1133,452,1135,457,983,505"/>
<area shape="poly" title=" " alt="" coords="1341,559,1422,567,1422,572,1341,564"/>
<area shape="poly" title=" " alt="" coords="1365,413,1456,410,1456,415,1366,419"/>
<area shape="poly" title=" " alt="" coords="1301,447,1355,471,1414,493,1436,500,1435,505,1412,498,1353,476,1299,452"/>
<area shape="poly" title=" " alt="" coords="1292,390,1495,276,1498,281,1295,394"/>
<area shape="poly" title=" " alt="" coords="1366,437,1436,448,1435,453,1365,442"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a49dab130004c4304ca124ab88c1e696a" title=" " alt="" coords="813,63,1038,96"/>
<area shape="poly" title=" " alt="" coords="732,77,798,77,798,82,732,82"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72a45a7669e7e3b0d4be0b0882632d03" title=" " alt="" coords="817,5,1034,39"/>
<area shape="poly" title=" " alt="" coords="732,55,815,40,816,45,733,61"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a0b1977f692eb2cca5a33580db8fa9cea" title=" " alt="" coords="828,121,1023,177"/>
<area shape="poly" title=" " alt="" coords="721,469,732,458,753,425,761,393,760,360,756,328,751,295,750,262,759,228,780,194,812,169,815,174,784,197,763,230,755,262,756,295,761,327,766,360,766,393,758,427,736,461,724,473"/>
<area shape="poly" title=" " alt="" coords="1023,119,1099,104,1186,96,1277,98,1322,105,1366,117,1411,138,1453,166,1517,224,1513,228,1450,170,1409,143,1364,122,1321,110,1277,103,1186,101,1100,110,1024,124"/>
<area shape="poly" title=" " alt="" coords="1002,175,1082,210,1176,256,1274,313,1367,379,1382,395,1390,409,1399,423,1414,436,1437,447,1434,452,1412,440,1395,427,1386,412,1377,398,1363,383,1271,318,1173,261,1080,215,1000,180"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad74f4a302c6f3336368d4129b31547ba" title=" " alt="" coords="1171,132,1311,166"/>
<area shape="poly" title=" " alt="" coords="1024,146,1155,146,1155,152,1024,152"/>
<area shape="poly" title=" " alt="" coords="664,732,702,740,721,749,736,762,750,779,760,798,768,834,765,871,758,907,751,942,750,977,759,1010,769,1026,784,1041,829,1073,879,1093,933,1105,988,1109,1043,1107,1095,1102,1182,1084,1183,1089,1096,1107,1043,1113,988,1114,932,1110,878,1098,826,1077,781,1046,765,1029,754,1012,745,977,746,942,753,906,760,870,762,834,755,799,746,782,732,765,718,754,701,745,663,738"/>
<area shape="poly" title=" " alt="" coords="434,288,812,179,813,184,436,293"/>
</map>
</div>

</div>
</div>
<a id="ae921ad44cd03eff5b5bb0a7d18d53615" name="ae921ad44cd03eff5b5bb0a7d18d53615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae921ad44cd03eff5b5bb0a7d18d53615">&#9670;&#160;</a></span>interface_ip_init_worker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="../../d9/dd0/netifd_2utils_8h.html#aca8f1e05ca62886e6d99e8dc006e5500">__init</a> interface_ip_init_worker </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01859">1859</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1860</span>{</div>
<div class="line"><span class="lineno"> 1861</span>    <a class="code hl_variable" href="#af9483ad15bf6568de612f45fff0b1d98">valid_until_timeout</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a7b331d0a02bb53b37ae38716956c97bd">cb</a> = <a class="code hl_function" href="#ae56839c12390b266bcb02d88283e1a5e">interface_ip_valid_until_handler</a>;</div>
<div class="line"><span class="lineno"> 1862</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346">uloop_timeout_set</a>(&amp;<a class="code hl_variable" href="#af9483ad15bf6568de612f45fff0b1d98">valid_until_timeout</a>, 1000);</div>
<div class="line"><span class="lineno"> 1863</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_ae56839c12390b266bcb02d88283e1a5e"><div class="ttname"><a href="#ae56839c12390b266bcb02d88283e1a5e">interface_ip_valid_until_handler</a></div><div class="ttdeci">static void interface_ip_valid_until_handler(struct uloop_timeout *t)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l01829">interface-ip.c:1829</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_af9483ad15bf6568de612f45fff0b1d98"><div class="ttname"><a href="#af9483ad15bf6568de612f45fff0b1d98">valid_until_timeout</a></div><div class="ttdeci">static struct uloop_timeout valid_until_timeout</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00096">interface-ip.c:96</a></div></div>
<div class="ttc" id="auloop_8c_html_aeae1856255dccd537fd19cdda1cba346"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346">uloop_timeout_set</a></div><div class="ttdeci">int uloop_timeout_set(struct uloop_timeout *timeout, int msecs)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00328">uloop.c:328</a></div></div>
<div class="ttc" id="auloop_8h_html_a7b331d0a02bb53b37ae38716956c97bd"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#a7b331d0a02bb53b37ae38716956c97bd">uloop_timeout::cb</a></div><div class="ttdeci">uloop_timeout_handler cb</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00077">uloop.h:77</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d56/uloop_8h_source.html#l00077">uloop_timeout::cb</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01829">interface_ip_valid_until_handler()</a>, <a class="el" href="../../d1/d08/uloop_8c_source.html#l00328">uloop_timeout_set()</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00096">valid_until_timeout</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_ae921ad44cd03eff5b5bb0a7d18d53615_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_ae921ad44cd03eff5b5bb0a7d18d53615_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_ae921ad44cd03eff5b5bb0a7d18d53615_cgraph" id="adc/df0/interface-ip_8c_ae921ad44cd03eff5b5bb0a7d18d53615_cgraph">
<area shape="rect" title=" " alt="" coords="5,259,245,292"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ae56839c12390b266bcb02d88283e1a5e" title=" " alt="" coords="293,214,475,271"/>
<area shape="poly" title=" " alt="" coords="245,257,277,253,278,259,245,263"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="523,291,712,324"/>
<area shape="poly" title=" " alt="" coords="245,281,508,298,507,303,245,286"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3" title=" " alt="" coords="525,225,710,259"/>
<area shape="poly" title=" " alt="" coords="475,240,510,240,510,245,475,245"/>
<area shape="poly" title=" " alt="" coords="476,265,541,283,539,288,474,270"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#ae3f611db174c46a1558ef07aa4df0138" title=" " alt="" coords="555,156,680,190"/>
<area shape="poly" title=" " alt="" coords="474,213,543,192,544,197,476,218"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="794,371,947,404"/>
<area shape="poly" title=" " alt="" coords="663,322,761,357,784,364,782,369,760,362,662,327"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="772,313,969,347"/>
<area shape="poly" title=" " alt="" coords="713,313,757,317,756,323,713,319"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="760,256,981,290"/>
<area shape="poly" title=" " alt="" coords="712,292,744,287,745,293,713,297"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1057,369,1187,403"/>
<area shape="poly" title=" " alt="" coords="950,345,1043,366,1042,371,949,350"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="1083,312,1161,346"/>
<area shape="poly" title=" " alt="" coords="969,327,1067,326,1067,332,969,332"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1294,369,1395,403"/>
<area shape="poly" title=" " alt="" coords="1187,384,1278,384,1278,389,1187,389"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1302,255,1387,288"/>
<area shape="poly" title=" " alt="" coords="981,270,1286,269,1286,274,981,275"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1509,255,1604,288"/>
<area shape="poly" title=" " alt="" coords="1388,269,1494,269,1494,274,1388,274"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="813,144,928,178"/>
<area shape="poly" title=" " alt="" coords="681,167,797,162,798,167,681,173"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="1029,87,1215,120"/>
<area shape="poly" title=" " alt="" coords="928,145,1030,122,1031,127,929,150"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="1073,144,1171,178"/>
<area shape="poly" title=" " alt="" coords="928,158,1057,158,1057,164,928,164"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="1059,201,1185,235"/>
<area shape="poly" title=" " alt="" coords="929,171,1044,198,1043,203,928,176"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="1065,5,1179,39"/>
<area shape="poly" title=" " alt="" coords="890,141,949,95,987,70,1027,48,1049,39,1051,44,1030,53,990,75,953,100,893,146"/>
<area shape="poly" title=" " alt="" coords="1082,87,1077,77,1083,68,1098,62,1122,60,1147,62,1161,69,1159,74,1146,68,1122,65,1100,67,1087,72,1083,78,1087,85"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="1273,116,1416,150"/>
<area shape="poly" title=" " alt="" coords="1216,113,1258,119,1257,124,1215,118"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="1263,59,1426,92"/>
<area shape="poly" title=" " alt="" coords="1215,89,1247,85,1248,90,1216,94"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="1482,31,1631,64"/>
<area shape="poly" title=" " alt="" coords="1153,84,1214,49,1237,32,1262,20,1319,10,1376,9,1432,15,1481,24,1480,29,1431,20,1376,14,1319,15,1264,25,1239,37,1216,54,1156,88"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="1474,88,1639,122"/>
<area shape="poly" title=" " alt="" coords="1189,118,1216,129,1240,146,1250,154,1264,160,1308,170,1344,173,1380,169,1426,160,1470,146,1511,127,1513,132,1472,151,1427,165,1381,174,1344,178,1308,176,1262,165,1247,158,1237,150,1214,134,1187,123"/>
<area shape="poly" title=" " alt="" coords="1306,59,1302,49,1308,40,1322,34,1345,32,1369,34,1382,41,1380,46,1367,40,1345,37,1324,39,1311,44,1308,50,1311,57"/>
<area shape="poly" title=" " alt="" coords="1427,62,1466,57,1467,62,1427,67"/>
<area shape="poly" title=" " alt="" coords="1427,84,1459,89,1458,94,1426,89"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1687,31,1784,64"/>
<area shape="poly" title=" " alt="" coords="1632,45,1671,45,1671,50,1632,50"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1689,88,1782,122"/>
<area shape="poly" title=" " alt="" coords="1612,62,1675,83,1673,88,1610,67"/>
<area shape="poly" title=" " alt="" coords="1610,85,1671,65,1673,70,1612,90"/>
<area shape="poly" title=" " alt="" coords="1639,102,1673,102,1673,108,1639,108"/>
<area shape="poly" title=" " alt="" coords="1186,231,1287,255,1286,260,1184,236"/>
</map>
</div>

</div>
</div>
<a id="af3aa23eb062cefe798daa9be8fe8151b" name="af3aa23eb062cefe798daa9be8fe8151b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3aa23eb062cefe798daa9be8fe8151b">&#9670;&#160;</a></span>interface_ip_set_enabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interface_ip_set_enabled </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01655">1655</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1656</span>{</div>
<div class="line"><span class="lineno"> 1657</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a> *<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>;</div>
<div class="line"><span class="lineno"> 1658</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> *route;</div>
<div class="line"><span class="lineno"> 1659</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/df0/structdevice__neighbor">device_neighbor</a> *neighbor;</div>
<div class="line"><span class="lineno"> 1660</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a> *dev;</div>
<div class="line"><span class="lineno"> 1661</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface;</div>
<div class="line"><span class="lineno"> 1662</span> </div>
<div class="line"><span class="lineno"> 1663</span>    ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a652c417338519beaff9970407f295a90">enabled</a> = <a class="code hl_variable" href="../../d4/da9/interface_8h.html#a899d0a27b501d5937add55982e8a2f70">enabled</a>;</div>
<div class="line"><span class="lineno"> 1664</span>    iface = ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>;</div>
<div class="line"><span class="lineno"> 1665</span>    dev = iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a>;</div>
<div class="line"><span class="lineno"> 1666</span>    <span class="keywordflow">if</span> (!dev)</div>
<div class="line"><span class="lineno"> 1667</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1668</span> </div>
<div class="line"><span class="lineno"> 1669</span>    <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#add31e1f4b4f9662f592e61501aaca312">vlist_for_each_element</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ab3234a7d043c711b115520fdde5dc6a1">addr</a>, addr, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>) {</div>
<div class="line"><span class="lineno"> 1670</span>        <span class="keywordtype">bool</span> v6 = ((addr-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a6001613ebb60add0e1a3fbbe745b9382">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa40334f02660abdfc5b74e399dacdbfe8">DEVADDR_FAMILY</a>) == <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a>) ? <span class="keyword">true</span> : false;</div>
<div class="line"><span class="lineno"> 1671</span> </div>
<div class="line"><span class="lineno"> 1672</span>        <span class="keywordflow">if</span> (addr-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a6001613ebb60add0e1a3fbbe745b9382">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa17c50e410c0807a582360d9d74d95f57">DEVADDR_EXTERNAL</a>)</div>
<div class="line"><span class="lineno"> 1673</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1674</span> </div>
<div class="line"><span class="lineno"> 1675</span>        <span class="keywordflow">if</span> (addr-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a465e4251bd40dc4c56cdb781d1b58d42">enabled</a> == <a class="code hl_variable" href="../../d4/da9/interface_8h.html#a899d0a27b501d5937add55982e8a2f70">enabled</a>)</div>
<div class="line"><span class="lineno"> 1676</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1677</span> </div>
<div class="line"><span class="lineno"> 1678</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a899d0a27b501d5937add55982e8a2f70">enabled</a>) {</div>
<div class="line"><span class="lineno"> 1679</span>            <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf">system_add_address</a>(dev, addr);</div>
<div class="line"><span class="lineno"> 1680</span> </div>
<div class="line"><span class="lineno"> 1681</span>            addr-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a401647711263a27345a28f9728dc0f60">policy_table</a> = (v6) ? iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac14ccb7981d32e5fb90792e60ed64567">ip6table</a> : iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9ff01607267c90ee931e3628d2f068b6">ip4table</a>;</div>
<div class="line"><span class="lineno"> 1682</span>            <span class="keywordflow">if</span> (iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#adbb7ad89b817a388e9442e85f1e72cc8">metric</a> || addr-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a401647711263a27345a28f9728dc0f60">policy_table</a>)</div>
<div class="line"><span class="lineno"> 1683</span>                <a class="code hl_function" href="#ac7ef3157ec2d3ecb1b0e109409296157">interface_handle_subnet_route</a>(iface, addr, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1684</span> </div>
<div class="line"><span class="lineno"> 1685</span>            <span class="keywordflow">if</span> ((addr-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a6001613ebb60add0e1a3fbbe745b9382">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa02b351530caa741be98d22a4fa977ab5">DEVADDR_OFFLINK</a>) &amp;&amp; (addr-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a0d9a011d2ecda428dcdd98f410fc5dc8">mask</a> &lt; (v6 ? 128 : 32))) {</div>
<div class="line"><span class="lineno"> 1686</span>                <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> route;</div>
<div class="line"><span class="lineno"> 1687</span> </div>
<div class="line"><span class="lineno"> 1688</span>                memset(&amp;route, 0, <span class="keyword">sizeof</span>(route));</div>
<div class="line"><span class="lineno"> 1689</span>                route.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> = v6 ? <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a> : <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9facc21aeffe47d1209c184f23131cd23b2">DEVADDR_INET4</a>;</div>
<div class="line"><span class="lineno"> 1690</span>                route.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#addc133ffe0c2217b51c5bed6dbe1369c">metric</a> = INT32_MAX;</div>
<div class="line"><span class="lineno"> 1691</span>                route.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a> = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>-&gt;mask;</div>
<div class="line"><span class="lineno"> 1692</span>                route.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a> = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>-&gt;addr;</div>
<div class="line"><span class="lineno"> 1693</span> </div>
<div class="line"><span class="lineno"> 1694</span>                <a class="code hl_function" href="#a7785e8dd3f95af28a1d05a57b6d91226">clear_if_addr</a>(&amp;route.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>, route.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a>);</div>
<div class="line"><span class="lineno"> 1695</span> </div>
<div class="line"><span class="lineno"> 1696</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1697</span><span class="comment">                 * In case off link is specifed as address property</span></div>
<div class="line"><span class="lineno"> 1698</span><span class="comment">                 * add null-route to avoid routing loops</span></div>
<div class="line"><span class="lineno"> 1699</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno"> 1700</span>                <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f">system_add_route</a>(NULL, &amp;route);</div>
<div class="line"><span class="lineno"> 1701</span>            }</div>
<div class="line"><span class="lineno"> 1702</span> </div>
<div class="line"><span class="lineno"> 1703</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>-&gt;policy_table)</div>
<div class="line"><span class="lineno"> 1704</span>                <a class="code hl_function" href="#af0d8dcb590782e1c562717fe62976acd">interface_add_addr_rules</a>(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1705</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1706</span>            <a class="code hl_function" href="#ac7ef3157ec2d3ecb1b0e109409296157">interface_handle_subnet_route</a>(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1707</span>            <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a753fba8c387cd70d67f154f1d26c3946">system_del_address</a>(dev, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>);</div>
<div class="line"><span class="lineno"> 1708</span> </div>
<div class="line"><span class="lineno"> 1709</span>            <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>-&gt;flags &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa02b351530caa741be98d22a4fa977ab5">DEVADDR_OFFLINK</a>) &amp;&amp; (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>-&gt;mask &lt; (v6 ? 128 : 32))) {</div>
<div class="line"><span class="lineno"> 1710</span>                <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> route;</div>
<div class="line"><span class="lineno"> 1711</span> </div>
<div class="line"><span class="lineno"> 1712</span>                memset(&amp;route, 0, <span class="keyword">sizeof</span>(route));</div>
<div class="line"><span class="lineno"> 1713</span>                route.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> = v6 ? <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a> : <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9facc21aeffe47d1209c184f23131cd23b2">DEVADDR_INET4</a>;</div>
<div class="line"><span class="lineno"> 1714</span>                route.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#addc133ffe0c2217b51c5bed6dbe1369c">metric</a> = INT32_MAX;</div>
<div class="line"><span class="lineno"> 1715</span>                route.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a> = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>-&gt;mask;</div>
<div class="line"><span class="lineno"> 1716</span>                route.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a> = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>-&gt;addr;</div>
<div class="line"><span class="lineno"> 1717</span> </div>
<div class="line"><span class="lineno"> 1718</span>                <a class="code hl_function" href="#a7785e8dd3f95af28a1d05a57b6d91226">clear_if_addr</a>(&amp;route.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>, route.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a>);</div>
<div class="line"><span class="lineno"> 1719</span> </div>
<div class="line"><span class="lineno"> 1720</span>                <span class="comment">/* Delete null-route */</span></div>
<div class="line"><span class="lineno"> 1721</span>                <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c">system_del_route</a>(NULL, &amp;route);</div>
<div class="line"><span class="lineno"> 1722</span>            }</div>
<div class="line"><span class="lineno"> 1723</span> </div>
<div class="line"><span class="lineno"> 1724</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>-&gt;policy_table)</div>
<div class="line"><span class="lineno"> 1725</span>                <a class="code hl_function" href="#af0d8dcb590782e1c562717fe62976acd">interface_add_addr_rules</a>(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1726</span>        }</div>
<div class="line"><span class="lineno"> 1727</span>        <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>-&gt;enabled = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a96a4baf9529747c1edc7d81674b3fc7b">enabled</a>;</div>
<div class="line"><span class="lineno"> 1728</span>    }</div>
<div class="line"><span class="lineno"> 1729</span> </div>
<div class="line"><span class="lineno"> 1730</span>    <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#add31e1f4b4f9662f592e61501aaca312">vlist_for_each_element</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a907be96d59886a7b970685768ba18db3">route</a>, route, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>)</div>
<div class="line"><span class="lineno"> 1731</span>        <a class="code hl_function" href="#aeaac4f2415ee53e62d026bcc39b99bf4">interface_ip_set_route_enabled</a>(ip, route, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a96a4baf9529747c1edc7d81674b3fc7b">enabled</a>);</div>
<div class="line"><span class="lineno"> 1732</span>    <span class="keywordflow">if</span> (ip == &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>)</div>
<div class="line"><span class="lineno"> 1733</span>        <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#add31e1f4b4f9662f592e61501aaca312">vlist_for_each_element</a>(&amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#afd6e136ad48740d7d0b675a8e65db363">host_routes</a>, route, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>)</div>
<div class="line"><span class="lineno"> 1734</span>            <a class="code hl_function" href="#aeaac4f2415ee53e62d026bcc39b99bf4">interface_ip_set_route_enabled</a>(ip, route, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a96a4baf9529747c1edc7d81674b3fc7b">enabled</a>);</div>
<div class="line"><span class="lineno"> 1735</span> </div>
<div class="line"><span class="lineno"> 1736</span>    <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#add31e1f4b4f9662f592e61501aaca312">vlist_for_each_element</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9f446a45104d408f08157e99d5bc296f">neighbor</a>, neighbor, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>) {</div>
<div class="line"><span class="lineno"> 1737</span>        <span class="keywordflow">if</span> (neighbor-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ab7a74f4a793a2cd391ecfc3351c80d6c">enabled</a> == <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a96a4baf9529747c1edc7d81674b3fc7b">enabled</a>)</div>
<div class="line"><span class="lineno"> 1738</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1739</span> </div>
<div class="line"><span class="lineno"> 1740</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a96a4baf9529747c1edc7d81674b3fc7b">enabled</a>) {</div>
<div class="line"><span class="lineno"> 1741</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a49dab130004c4304ca124ab88c1e696a">system_add_neighbor</a>(dev, neighbor))</div>
<div class="line"><span class="lineno"> 1742</span>                neighbor-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a86ad0dac8b2a14d7fac351a499be2d00">failed</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1743</span>        } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1744</span>            <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a72a45a7669e7e3b0d4be0b0882632d03">system_del_neighbor</a>(dev, neighbor);</div>
<div class="line"><span class="lineno"> 1745</span> </div>
<div class="line"><span class="lineno"> 1746</span>        neighbor-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ab7a74f4a793a2cd391ecfc3351c80d6c">enabled</a> = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a96a4baf9529747c1edc7d81674b3fc7b">enabled</a>;</div>
<div class="line"><span class="lineno"> 1747</span>    }</div>
<div class="line"><span class="lineno"> 1748</span> </div>
<div class="line"><span class="lineno"> 1749</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a> *c;</div>
<div class="line"><span class="lineno"> 1750</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d6/d38/structdevice__prefix__assignment">device_prefix_assignment</a> *a;</div>
<div class="line"><span class="lineno"> 1751</span>    <a class="code hl_define" href="../../da/d23/list_8h.html#a6b4019bb70de70adc3caddbe3a024c27">list_for_each_entry</a>(c, &amp;<a class="code hl_variable" href="#a1a2b88a3a6afbd3fd0acd37507e4d5d6">prefixes</a>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa5681727f93eb7df55b3527eb531cbf3">head</a>)</div>
<div class="line"><span class="lineno"> 1752</span>        <a class="code hl_define" href="../../da/d23/list_8h.html#a6b4019bb70de70adc3caddbe3a024c27">list_for_each_entry</a>(a, &amp;c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a82473bb614beacfa32817d947577eb8d">assignments</a>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa5681727f93eb7df55b3527eb531cbf3">head</a>)</div>
<div class="line"><span class="lineno"> 1753</span>            <span class="keywordflow">if</span> (!strcmp(a-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a5764d07789245d07adb43b0975adc0d7">name</a>, ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#aee0f8e8ed8b404d358a6da91196da0d9">name</a>))</div>
<div class="line"><span class="lineno"> 1754</span>                <a class="code hl_function" href="#abaaced56b3a208f7cc76ce6723abce07">interface_set_prefix_address</a>(a, c, ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa84ce32674884be33207e0ebf9e21271">enabled</a>);</div>
<div class="line"><span class="lineno"> 1755</span> </div>
<div class="line"><span class="lineno"> 1756</span>    <span class="keywordflow">if</span> (ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a85e44f024311edeb214c7bba50db61af">policy_rules_set</a> != <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa84ce32674884be33207e0ebf9e21271">enabled</a> &amp;&amp;</div>
<div class="line"><span class="lineno"> 1757</span>        ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a>) {</div>
<div class="line"><span class="lineno"> 1758</span>        <span class="keywordflow">if</span> (ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a>-&gt;<a class="code hl_variable" href="../../db/de9/device_8h.html#a2ccf37999ddf5b884592437dfa7c2a0d">settings</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#ab15ee4568186b0143b1be3b4193d1fb5">ipv6</a>) {</div>
<div class="line"><span class="lineno"> 1759</span>            <a class="code hl_function" href="#af8e74e9212744cd02592ae785cbd0ffc">set_ip_lo_policy</a>(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa84ce32674884be33207e0ebf9e21271">enabled</a>, <span class="keyword">true</span>, ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>);</div>
<div class="line"><span class="lineno"> 1760</span>            <a class="code hl_function" href="#ac1e6968392107ab1704c592a2270ee2f">set_ip_source_policy</a>(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa84ce32674884be33207e0ebf9e21271">enabled</a>, <span class="keyword">true</span>, <a class="code hl_define" href="../../de/d40/iprule_8h.html#ae9edaf898d4ab3f563d31fe2554113a2">IPRULE_PRIORITY_REJECT</a> + ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a>-&gt;<a class="code hl_variable" href="../../db/de9/device_8h.html#aea843a714557ceb8d3375b9ba676d40b">ifindex</a>,</div>
<div class="line"><span class="lineno"> 1761</span>                         NULL, 0, 0, ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>, <span class="stringliteral">&quot;failed_policy&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1762</span>        }</div>
<div class="line"><span class="lineno"> 1763</span>        <a class="code hl_function" href="#af8e74e9212744cd02592ae785cbd0ffc">set_ip_lo_policy</a>(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa84ce32674884be33207e0ebf9e21271">enabled</a>, <span class="keyword">false</span>, ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>);</div>
<div class="line"><span class="lineno"> 1764</span> </div>
<div class="line"><span class="lineno"> 1765</span>        ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a85e44f024311edeb214c7bba50db61af">policy_rules_set</a> = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa84ce32674884be33207e0ebf9e21271">enabled</a>;</div>
<div class="line"><span class="lineno"> 1766</span>    }</div>
<div class="line"><span class="lineno"> 1767</span>}</div>
<div class="ttc" id="adevice_8h_html_a2ccf37999ddf5b884592437dfa7c2a0d"><div class="ttname"><a href="../../db/de9/device_8h.html#a2ccf37999ddf5b884592437dfa7c2a0d">device::settings</a></div><div class="ttdeci">struct device_settings settings</div><div class="ttdef"><b>Definition</b> <a href="../../db/de9/device_8h_source.html#l00294">device.h:294</a></div></div>
<div class="ttc" id="adevice_8h_html_ab15ee4568186b0143b1be3b4193d1fb5"><div class="ttname"><a href="../../db/de9/device_8h.html#ab15ee4568186b0143b1be3b4193d1fb5">device_settings::ipv6</a></div><div class="ttdeci">bool ipv6</div><div class="ttdef"><b>Definition</b> <a href="../../db/de9/device_8h_source.html#l00195">device.h:195</a></div></div>
<div class="ttc" id="adevice_8h_html_aea843a714557ceb8d3375b9ba676d40b"><div class="ttname"><a href="../../db/de9/device_8h.html#aea843a714557ceb8d3375b9ba676d40b">device::ifindex</a></div><div class="ttdeci">int ifindex</div><div class="ttdef"><b>Definition</b> <a href="../../db/de9/device_8h_source.html#l00255">device.h:255</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a1a2b88a3a6afbd3fd0acd37507e4d5d6"><div class="ttname"><a href="#a1a2b88a3a6afbd3fd0acd37507e4d5d6">prefixes</a></div><div class="ttdeci">struct list_head prefixes</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00094">interface-ip.c:94</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_abaaced56b3a208f7cc76ce6723abce07"><div class="ttname"><a href="#abaaced56b3a208f7cc76ce6723abce07">interface_set_prefix_address</a></div><div class="ttdeci">static void interface_set_prefix_address(struct device_prefix_assignment *assignment, const struct device_prefix *prefix, struct interface *iface, bool add)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00960">interface-ip.c:960</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_ac7ef3157ec2d3ecb1b0e109409296157"><div class="ttname"><a href="#ac7ef3157ec2d3ecb1b0e109409296157">interface_handle_subnet_route</a></div><div class="ttdeci">static void interface_handle_subnet_route(struct interface *iface, struct device_addr *addr, bool add)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00595">interface-ip.c:595</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_aeaac4f2415ee53e62d026bcc39b99bf4"><div class="ttname"><a href="#aeaac4f2415ee53e62d026bcc39b99bf4">interface_ip_set_route_enabled</a></div><div class="ttdeci">static void interface_ip_set_route_enabled(struct interface_ip_settings *ip, struct device_route *route, bool enabled)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l01630">interface-ip.c:1630</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_af0d8dcb590782e1c562717fe62976acd"><div class="ttname"><a href="#af0d8dcb590782e1c562717fe62976acd">interface_add_addr_rules</a></div><div class="ttdeci">static void interface_add_addr_rules(struct device_addr *addr, bool enabled)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00631">interface-ip.c:631</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_af8e74e9212744cd02592ae785cbd0ffc"><div class="ttname"><a href="#af8e74e9212744cd02592ae785cbd0ffc">set_ip_lo_policy</a></div><div class="ttdeci">static int set_ip_lo_policy(bool add, bool v6, struct interface *iface)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00170">interface-ip.c:170</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a465e4251bd40dc4c56cdb781d1b58d42"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a465e4251bd40dc4c56cdb781d1b58d42">device_addr::enabled</a></div><div class="ttdeci">bool enabled</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00131">interface-ip.h:131</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a5764d07789245d07adb43b0975adc0d7"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a5764d07789245d07adb43b0975adc0d7">device_prefix_assignment::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00071">interface-ip.h:71</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a86ad0dac8b2a14d7fac351a499be2d00"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a86ad0dac8b2a14d7fac351a499be2d00">device_neighbor::failed</a></div><div class="ttdeci">bool failed</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00118">interface-ip.h:118</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_aa5681727f93eb7df55b3527eb531cbf3"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#aa5681727f93eb7df55b3527eb531cbf3">device_prefix_assignment::head</a></div><div class="ttdeci">struct list_head head</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00065">interface-ip.h:65</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_aa84ce32674884be33207e0ebf9e21271"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#aa84ce32674884be33207e0ebf9e21271">device_prefix_assignment::enabled</a></div><div class="ttdeci">bool enabled</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00070">interface-ip.h:70</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_ab7a74f4a793a2cd391ecfc3351c80d6c"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#ab7a74f4a793a2cd391ecfc3351c80d6c">device_neighbor::enabled</a></div><div class="ttdeci">bool enabled</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00121">interface-ip.h:121</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_d6/d38/structdevice__prefix__assignment"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#d6/d38/structdevice__prefix__assignment">device_prefix_assignment</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00064">interface-ip.h:64</a></div></div>
<div class="ttc" id="ainterface_8h_html_a85e44f024311edeb214c7bba50db61af"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a85e44f024311edeb214c7bba50db61af">interface::policy_rules_set</a></div><div class="ttdeci">bool policy_rules_set</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00125">interface.h:125</a></div></div>
<div class="ttc" id="ainterface_8h_html_a899d0a27b501d5937add55982e8a2f70"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a899d0a27b501d5937add55982e8a2f70">interface::enabled</a></div><div class="ttdeci">bool enabled</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00121">interface.h:121</a></div></div>
<div class="ttc" id="ainterface_8h_html_a9ff01607267c90ee931e3628d2f068b6"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a9ff01607267c90ee931e3628d2f068b6">interface::ip4table</a></div><div class="ttdeci">unsigned int ip4table</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00160">interface.h:160</a></div></div>
<div class="ttc" id="ainterface_8h_html_ac14ccb7981d32e5fb90792e60ed64567"><div class="ttname"><a href="../../d4/da9/interface_8h.html#ac14ccb7981d32e5fb90792e60ed64567">interface::ip6table</a></div><div class="ttdeci">unsigned int ip6table</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00161">interface.h:161</a></div></div>
<div class="ttc" id="ainterface_8h_html_adbb7ad89b817a388e9442e85f1e72cc8"><div class="ttname"><a href="../../d4/da9/interface_8h.html#adbb7ad89b817a388e9442e85f1e72cc8">interface::metric</a></div><div class="ttdeci">int metric</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00158">interface.h:158</a></div></div>
<div class="ttc" id="aiprule_8h_html_ae9edaf898d4ab3f563d31fe2554113a2"><div class="ttname"><a href="../../de/d40/iprule_8h.html#ae9edaf898d4ab3f563d31fe2554113a2">IPRULE_PRIORITY_REJECT</a></div><div class="ttdeci">#define IPRULE_PRIORITY_REJECT</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00023">iprule.h:23</a></div></div>
<div class="ttc" id="alist_8h_html_a6b4019bb70de70adc3caddbe3a024c27"><div class="ttname"><a href="../../da/d23/list_8h.html#a6b4019bb70de70adc3caddbe3a024c27">list_for_each_entry</a></div><div class="ttdeci">#define list_for_each_entry(p, h, field)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00132">list.h:132</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_a49dab130004c4304ca124ab88c1e696a"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#a49dab130004c4304ca124ab88c1e696a">system_add_neighbor</a></div><div class="ttdeci">int system_add_neighbor(struct device *dev, struct device_neighbor *neighbor)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00253">system-dummy.c:253</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_a4a078399167635362cfbff7bab157caf"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf">system_add_address</a></div><div class="ttdeci">int system_add_address(struct device *dev, struct device_addr *addr)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00201">system-dummy.c:201</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_a72a45a7669e7e3b0d4be0b0882632d03"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#a72a45a7669e7e3b0d4be0b0882632d03">system_del_neighbor</a></div><div class="ttdeci">int system_del_neighbor(struct device *dev, struct device_neighbor *neighbor)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00258">system-dummy.c:258</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_a753fba8c387cd70d67f154f1d26c3946"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#a753fba8c387cd70d67f154f1d26c3946">system_del_address</a></div><div class="ttdeci">int system_del_address(struct device *dev, struct device_addr *addr)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00206">system-dummy.c:206</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00150">device_addr::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00111">device_route::addr</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00082">interface_ip_settings::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00077">device_prefix::assignments</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00100">clear_if_addr()</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00184">device_user::dev</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00026">DEVADDR_EXTERNAL</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00023">DEVADDR_FAMILY</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00021">DEVADDR_INET4</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00022">DEVADDR_INET6</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00038">DEVADDR_OFFLINK</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00131">device_addr::enabled</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00121">device_neighbor::enabled</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00070">device_prefix_assignment::enabled</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00095">device_route::enabled</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00121">interface::enabled</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00077">interface_ip_settings::enabled</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00118">device_neighbor::failed</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00148">device_addr::flags</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00106">device_route::flags</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00065">device_prefix_assignment::head</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00155">interface::host_routes</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00093">device_route::iface</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00076">interface_ip_settings::iface</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00255">device::ifindex</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00631">interface_add_addr_rules()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00595">interface_handle_subnet_route()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01630">interface_ip_set_route_enabled()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00960">interface_set_prefix_address()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00160">interface::ip4table</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00161">interface::ip6table</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00023">IPRULE_PRIORITY_REJECT</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00195">device_settings::ipv6</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00145">interface::l3_dev</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00132">list_for_each_entry</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00149">device_addr::mask</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00109">device_route::mask</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00107">device_route::metric</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00158">interface::metric</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00071">device_prefix_assignment::name</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00109">interface::name</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00085">interface_ip_settings::neighbor</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00125">interface::policy_rules_set</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00134">device_addr::policy_table</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00094">prefixes</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00153">interface::proto_ip</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00083">interface_ip_settings::route</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00170">set_ip_lo_policy()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00128">set_ip_source_policy()</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00294">device::settings</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00201">system_add_address()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00253">system_add_neighbor()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00263">system_add_route()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00206">system_del_address()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00258">system_del_neighbor()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00268">system_del_route()</a>, and <a class="el" href="../../dd/d1d/vlist_8h_source.html#l00072">vlist_for_each_element</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dda/interface_8c_source.html#l01287">interface_change_config()</a>, <a class="el" href="../../dd/dda/interface_8c_source.html#l00751">interface_proto_event_cb()</a>, <a class="el" href="../../dd/dda/interface_8c_source.html#l01011">interface_set_l3_dev()</a>, and <a class="el" href="../../dd/dda/interface_8c_source.html#l00290">mark_interface_down()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_af3aa23eb062cefe798daa9be8fe8151b_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_af3aa23eb062cefe798daa9be8fe8151b_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_af3aa23eb062cefe798daa9be8fe8151b_cgraph" id="adc/df0/interface-ip_8c_af3aa23eb062cefe798daa9be8fe8151b_cgraph">
<area shape="rect" title=" " alt="" coords="5,436,255,470"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="658,63,797,96"/>
<area shape="poly" title=" " alt="" coords="131,435,144,369,173,276,195,226,224,177,259,134,301,99,342,77,385,61,430,52,476,47,565,48,643,58,642,63,565,53,477,52,431,57,387,67,344,82,304,103,263,138,228,181,200,228,178,277,149,371,136,436"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#af0d8dcb590782e1c562717fe62976acd" title=" " alt="" coords="327,730,527,787"/>
<area shape="poly" title=" " alt="" coords="141,469,163,515,198,578,246,646,274,677,304,705,326,720,323,724,301,710,270,681,242,649,194,581,158,518,136,471"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac1e6968392107ab1704c592a2270ee2f" title=" " alt="" coords="624,751,832,784"/>
<area shape="poly" title=" " alt="" coords="143,469,166,508,202,560,248,614,275,638,304,659,338,677,368,687,423,696,481,700,514,705,552,716,600,737,622,744,621,749,598,742,550,721,513,710,480,705,422,701,366,692,336,681,301,663,272,642,245,618,197,564,161,511,138,471"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac7ef3157ec2d3ecb1b0e109409296157" title=" " alt="" coords="303,113,551,169"/>
<area shape="poly" title=" " alt="" coords="135,435,157,386,192,320,240,248,269,215,301,185,316,175,319,179,304,190,273,219,244,252,196,322,162,388,140,437"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="633,120,822,154"/>
<area shape="poly" title=" " alt="" coords="137,434,159,392,195,336,243,278,271,252,301,229,335,211,366,200,422,192,480,190,513,186,550,178,598,162,626,155,627,160,600,167,552,183,513,192,480,195,422,197,367,205,337,216,304,234,274,256,246,281,199,339,164,395,142,437"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="637,292,819,326"/>
<area shape="poly" title=" " alt="" coords="164,433,227,404,302,377,384,356,469,339,621,317,621,322,470,344,386,361,303,382,229,409,166,438"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#aeaac4f2415ee53e62d026bcc39b99bf4" title=" " alt="" coords="315,243,539,300"/>
<area shape="poly" title=" " alt="" coords="148,433,213,377,256,345,301,316,325,304,327,309,304,320,259,349,216,381,151,437"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#abaaced56b3a208f7cc76ce6723abce07" title=" " alt="" coords="326,425,528,481"/>
<area shape="poly" title=" " alt="" coords="255,450,310,450,310,456,255,456"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf" title=" " alt="" coords="621,349,835,383"/>
<area shape="poly" title=" " alt="" coords="197,433,302,410,460,388,605,373,605,378,460,393,303,415,198,438"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a753fba8c387cd70d67f154f1d26c3946" title=" " alt="" coords="624,579,831,612"/>
<area shape="poly" title=" " alt="" coords="205,468,303,490,373,503,429,511,483,521,552,541,576,553,600,565,620,572,619,577,598,570,574,558,550,546,482,526,428,516,372,508,302,495,204,473"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#af8e74e9212744cd02592ae785cbd0ffc" title=" " alt="" coords="646,820,809,854"/>
<area shape="poly" title=" " alt="" coords="137,470,150,534,180,625,202,673,230,719,264,761,304,796,342,818,383,834,425,845,469,852,554,855,631,850,631,856,554,861,468,857,424,850,381,839,340,822,301,800,260,765,225,722,197,675,175,627,145,535,131,471"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a49dab130004c4304ca124ab88c1e696a" title=" " alt="" coords="315,556,539,590"/>
<area shape="poly" title=" " alt="" coords="164,468,228,501,304,534,345,549,343,554,302,539,225,505,162,473"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72a45a7669e7e3b0d4be0b0882632d03" title=" " alt="" coords="318,615,536,648"/>
<area shape="poly" title=" " alt="" coords="148,468,211,533,255,569,304,600,319,607,317,612,301,605,252,574,208,537,144,472"/>
<area shape="poly" title=" " alt="" coords="527,759,608,761,608,766,527,764"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#aee9e4cf147264086eb292977c8df60d1" title=" " alt="" coords="920,877,1114,911"/>
<area shape="poly" title=" " alt="" coords="811,783,858,805,874,820,882,836,891,850,906,864,913,868,911,873,903,868,887,854,878,838,870,824,855,810,808,787"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#abcae62722c192dc27b24ea60cfdb3c77" title=" " alt="" coords="923,820,1111,854"/>
<area shape="poly" title=" " alt="" coords="802,782,929,813,928,818,801,788"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a956997d89612ec8774b76854579547bf" title=" " alt="" coords="904,739,1130,796"/>
<area shape="poly" title=" " alt="" coords="832,765,889,765,889,770,832,770"/>
<area shape="poly" title=" " alt="" coords="551,113,642,94,643,99,552,118"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a8642e113840ee637f7d57e5efb5f02fe" title=" " alt="" coords="607,235,848,268"/>
<area shape="poly" title=" " alt="" coords="481,167,537,195,600,221,621,228,619,233,598,226,535,200,479,172"/>
<area shape="poly" title=" " alt="" coords="552,137,617,136,617,141,552,142"/>
<area shape="poly" title=" " alt="" coords="472,167,553,230,576,256,585,268,600,279,623,289,620,294,598,283,582,272,572,260,549,233,469,172"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a5d5d5287d90cf8c910b8565e20770fbd" title=" " alt="" coords="606,5,850,39"/>
<area shape="poly" title=" " alt="" coords="473,110,532,77,598,48,618,41,619,46,600,53,534,82,476,114"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af02c6a85ad946c9d5b7d06007d6768b0" title=" " alt="" coords="920,292,1114,326"/>
<area shape="poly" title=" " alt="" coords="824,149,858,162,899,188,936,219,994,278,990,282,933,223,896,192,855,167,822,154"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a7b2b1c8437df1396d066c3d37650f748" title=" " alt="" coords="1178,404,1423,438"/>
<area shape="poly" title=" " alt="" coords="1063,324,1242,395,1241,400,1061,329"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a12404d32d3958a043ee78eece1e5045d" title=" " alt="" coords="1192,292,1409,326"/>
<area shape="poly" title=" " alt="" coords="1115,306,1177,306,1177,312,1115,312"/>
<area shape="poly" title=" " alt="" coords="819,306,904,306,904,312,819,312"/>
<area shape="poly" title=" " alt="" coords="539,261,591,258,591,263,539,267"/>
<area shape="poly" title=" " alt="" coords="520,240,549,223,564,208,572,193,581,177,597,163,617,152,620,157,601,167,585,181,577,195,568,211,553,227,522,245"/>
<area shape="poly" title=" " alt="" coords="539,283,621,293,621,298,538,288"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad74f4a302c6f3336368d4129b31547ba" title=" " alt="" coords="658,177,798,211"/>
<area shape="poly" title=" " alt="" coords="523,240,598,220,642,209,643,214,600,225,525,245"/>
<area shape="poly" title=" " alt="" coords="459,422,506,373,529,343,549,310,560,281,564,254,563,203,563,179,567,155,577,130,597,106,618,91,642,82,643,87,620,95,601,109,582,133,572,156,569,179,569,203,570,254,565,282,553,313,533,346,510,376,463,426"/>
<area shape="poly" title=" " alt="" coords="484,479,521,507,553,542,567,570,573,597,572,646,571,670,574,692,583,715,601,738,612,746,608,750,597,741,578,717,569,694,566,670,567,646,568,597,562,572,549,545,518,511,481,484"/>
<area shape="poly" title=" " alt="" coords="446,423,472,389,507,349,550,310,598,277,608,272,610,277,600,282,553,314,511,353,476,392,450,426"/>
<area shape="poly" title=" " alt="" coords="457,422,504,372,549,310,558,289,563,269,566,233,572,198,582,180,597,163,617,149,620,154,601,167,586,183,577,200,571,233,568,270,563,291,553,313,508,376,461,426"/>
<area shape="poly" title=" " alt="" coords="460,422,522,377,559,354,598,334,621,326,623,331,600,339,562,358,525,381,463,426"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7e8a1089df00d795d915595e2e7eaa96" title=" " alt="" coords="641,636,815,670"/>
<area shape="poly" title=" " alt="" coords="478,479,516,508,553,542,568,565,575,586,583,605,601,623,627,637,625,641,597,627,579,608,570,588,563,567,549,545,513,512,475,484"/>
<area shape="rect" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad" title=" " alt="" coords="626,464,830,498"/>
<area shape="poly" title=" " alt="" coords="529,460,610,467,609,473,528,465"/>
<area shape="poly" title=" " alt="" coords="505,421,598,392,625,385,627,390,600,397,507,426"/>
<area shape="poly" title=" " alt="" coords="523,479,553,497,569,515,577,533,585,550,601,565,611,571,608,576,597,570,580,553,572,535,564,518,549,502,520,484"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3" title=" " alt="" coords="635,521,820,555"/>
<area shape="poly" title=" " alt="" coords="509,479,600,508,627,515,626,520,598,513,508,484"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a6624a98fc17593f67a43a6fbb15d4c49" title=" " alt="" coords="599,407,856,440"/>
<area shape="poly" title=" " alt="" coords="528,440,583,435,584,440,529,446"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a0a8ce678ad772000eb73db0e34b94d47" title=" " alt="" coords="945,572,1089,606"/>
<area shape="poly" title=" " alt="" coords="808,633,856,622,929,606,930,611,857,627,809,638"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a31c0179736e6e3c8082c62eeae49d6a5" title=" " alt="" coords="935,515,1099,548"/>
<area shape="poly" title=" " alt="" coords="814,640,855,623,870,608,878,591,886,574,903,557,920,548,922,553,906,562,891,577,883,593,875,611,858,627,816,645"/>
<area shape="rect" href="../../d5/d96/device_8c.html#ae3d0a25145a8e464a0b07931ddd0ac76" title=" " alt="" coords="1184,572,1417,606"/>
<area shape="poly" title=" " alt="" coords="1089,586,1169,586,1169,592,1089,592"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#ac566620cf0a24b018d764ffbab2e539a" title=" " alt="" coords="907,404,1127,438"/>
<area shape="poly" title=" " alt="" coords="821,381,910,398,909,403,820,386"/>
<area shape="poly" title=" " alt="" coords="1127,418,1162,418,1162,424,1127,424"/>
<area shape="poly" title=" " alt="" coords="831,578,855,565,871,551,880,536,888,519,902,500,938,470,973,444,976,448,941,474,906,504,893,522,884,538,875,554,858,570,833,582"/>
<area shape="poly" title=" " alt="" coords="811,850,914,871,913,876,809,856"/>
<area shape="poly" title=" " alt="" coords="810,834,908,834,908,840,810,840"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a7620b9efee3888ed52424576106cec70" title=" " alt="" coords="613,693,842,727"/>
<area shape="poly" title=" " alt="" coords="532,588,553,600,570,620,577,641,584,662,601,680,605,683,602,688,597,684,580,664,572,643,566,623,549,604,529,593"/>
<area shape="poly" title=" " alt="" coords="811,690,856,680,904,666,969,655,1021,652,1071,643,1098,632,1128,616,1144,603,1154,590,1176,558,1271,448,1275,451,1180,561,1158,593,1148,607,1131,620,1100,637,1072,648,1022,657,970,661,905,671,857,685,812,695"/>
<area shape="rect" href="../../d4/d96/netifd_2utils_8c.html#a13d9536923c5ebce0c233ea375702789" title=" " alt="" coords="930,681,1104,715"/>
<area shape="poly" title=" " alt="" coords="843,703,915,700,915,705,843,708"/>
<area shape="poly" title=" " alt="" coords="484,646,600,680,629,687,627,692,598,685,483,652"/>
</map>
</div>

</div>
</div>
<a id="aeaac4f2415ee53e62d026bcc39b99bf4" name="aeaac4f2415ee53e62d026bcc39b99bf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaac4f2415ee53e62d026bcc39b99bf4">&#9670;&#160;</a></span>interface_ip_set_route_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interface_ip_set_route_enabled </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> *</td>          <td class="paramname"><span class="paramname"><em>route</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01630">1630</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1632</span>{</div>
<div class="line"><span class="lineno"> 1633</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a> *dev = ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a>;</div>
<div class="line"><span class="lineno"> 1634</span> </div>
<div class="line"><span class="lineno"> 1635</span>    <span class="keywordflow">if</span> (route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa17c50e410c0807a582360d9d74d95f57">DEVADDR_EXTERNAL</a>)</div>
<div class="line"><span class="lineno"> 1636</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1637</span> </div>
<div class="line"><span class="lineno"> 1638</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="#ad74f4a302c6f3336368d4129b31547ba">enable_route</a>(ip, route))</div>
<div class="line"><span class="lineno"> 1639</span>        enabled = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1640</span> </div>
<div class="line"><span class="lineno"> 1641</span>    <span class="keywordflow">if</span> (route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a96a4baf9529747c1edc7d81674b3fc7b">enabled</a> == enabled)</div>
<div class="line"><span class="lineno"> 1642</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1643</span> </div>
<div class="line"><span class="lineno"> 1644</span>    <span class="keywordflow">if</span> (enabled) {</div>
<div class="line"><span class="lineno"> 1645</span>        <a class="code hl_function" href="#a8642e113840ee637f7d57e5efb5f02fe">interface_set_route_info</a>(ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>, route);</div>
<div class="line"><span class="lineno"> 1646</span> </div>
<div class="line"><span class="lineno"> 1647</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f">system_add_route</a>(dev, route))</div>
<div class="line"><span class="lineno"> 1648</span>            route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a7e80aaaa76110debf7642e75a20b2998">failed</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1649</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1650</span>        <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c">system_del_route</a>(dev, route);</div>
<div class="line"><span class="lineno"> 1651</span> </div>
<div class="line"><span class="lineno"> 1652</span>    route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a96a4baf9529747c1edc7d81674b3fc7b">enabled</a> = enabled;</div>
<div class="line"><span class="lineno"> 1653</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/de9/device_8h_source.html#l00184">device_user::dev</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00026">DEVADDR_EXTERNAL</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00784">enable_route()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00095">device_route::enabled</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00097">device_route::failed</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00106">device_route::flags</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00076">interface_ip_settings::iface</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00326">interface_set_route_info()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00145">interface::l3_dev</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00263">system_add_route()</a>, and <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00268">system_del_route()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01655">interface_ip_set_enabled()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_aeaac4f2415ee53e62d026bcc39b99bf4_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_aeaac4f2415ee53e62d026bcc39b99bf4_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_aeaac4f2415ee53e62d026bcc39b99bf4_cgraph" id="adc/df0/interface-ip_8c_aeaac4f2415ee53e62d026bcc39b99bf4_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,229,137"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad74f4a302c6f3336368d4129b31547ba" title=" " alt="" coords="327,5,468,39"/>
<area shape="poly" title=" " alt="" coords="190,77,276,48,312,38,313,43,277,53,191,82"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a8642e113840ee637f7d57e5efb5f02fe" title=" " alt="" coords="277,63,518,96"/>
<area shape="poly" title=" " alt="" coords="229,94,261,91,261,96,230,100"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="303,120,492,154"/>
<area shape="poly" title=" " alt="" coords="230,117,287,123,287,129,229,123"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="306,177,489,211"/>
<area shape="poly" title=" " alt="" coords="193,135,277,164,302,171,301,176,276,169,192,140"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af02c6a85ad946c9d5b7d06007d6768b0" title=" " alt="" coords="566,149,760,183"/>
<area shape="poly" title=" " alt="" coords="493,145,551,151,551,156,492,150"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a7b2b1c8437df1396d066c3d37650f748" title=" " alt="" coords="808,120,1054,154"/>
<area shape="poly" title=" " alt="" coords="761,153,792,149,793,155,761,158"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a12404d32d3958a043ee78eece1e5045d" title=" " alt="" coords="823,177,1039,211"/>
<area shape="poly" title=" " alt="" coords="761,174,808,179,807,184,761,179"/>
<area shape="poly" title=" " alt="" coords="489,182,550,175,551,181,489,187"/>
</map>
</div>

</div>
</div>
<a id="a55ccc38ca261daffbd0158a12777c703" name="a55ccc38ca261daffbd0158a12777c703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55ccc38ca261daffbd0158a12777c703">&#9670;&#160;</a></span>interface_ip_set_ula_prefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interface_ip_set_ula_prefix </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>prefix</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01383">1383</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1384</span>{</div>
<div class="line"><span class="lineno"> 1385</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>[INET6_ADDRSTRLEN + 4] = {0}, *saveptr;</div>
<div class="line"><span class="lineno"> 1386</span>    <span class="keywordflow">if</span> (prefix)</div>
<div class="line"><span class="lineno"> 1387</span>        strncpy(<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, prefix, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>) - 1);</div>
<div class="line"><span class="lineno"> 1388</span>    <span class="keywordtype">char</span> *prefixaddr = strtok_r(<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, <span class="stringliteral">&quot;/&quot;</span>, &amp;saveptr);</div>
<div class="line"><span class="lineno"> 1389</span> </div>
<div class="line"><span class="lineno"> 1390</span>    <span class="keyword">struct </span>in6_addr addr;</div>
<div class="line"><span class="lineno"> 1391</span>    <span class="keywordflow">if</span> (!prefixaddr || inet_pton(AF_INET6, prefixaddr, &amp;addr) &lt; 1) {</div>
<div class="line"><span class="lineno"> 1392</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#ae959340152a25637dbe576bb22df62d9">ula_prefix</a>) {</div>
<div class="line"><span class="lineno"> 1393</span>            <a class="code hl_function" href="#adeaba893a4a1c7ca713a948b4d1972d6">interface_update_prefix</a>(NULL, NULL, &amp;<a class="code hl_variable" href="#ae959340152a25637dbe576bb22df62d9">ula_prefix</a>-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a3dff0119c2b395c1a629d9b75a57e24e">node</a>);</div>
<div class="line"><span class="lineno"> 1394</span>            <a class="code hl_variable" href="#ae959340152a25637dbe576bb22df62d9">ula_prefix</a> = NULL;</div>
<div class="line"><span class="lineno"> 1395</span>        }</div>
<div class="line"><span class="lineno"> 1396</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1397</span>    }</div>
<div class="line"><span class="lineno"> 1398</span> </div>
<div class="line"><span class="lineno"> 1399</span>    <span class="keywordtype">int</span> length;</div>
<div class="line"><span class="lineno"> 1400</span>    <span class="keywordtype">char</span> *prefixlen = strtok_r(NULL, <span class="stringliteral">&quot;,&quot;</span>, &amp;saveptr);</div>
<div class="line"><span class="lineno"> 1401</span>    <span class="keywordflow">if</span> (!prefixlen || (length = atoi(prefixlen)) &lt; 1 || length &gt; 64)</div>
<div class="line"><span class="lineno"> 1402</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1403</span> </div>
<div class="line"><span class="lineno"> 1404</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#ae959340152a25637dbe576bb22df62d9">ula_prefix</a> || !IN6_ARE_ADDR_EQUAL(&amp;addr, &amp;<a class="code hl_variable" href="#ae959340152a25637dbe576bb22df62d9">ula_prefix</a>-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a043e5860a8b73d3c14410de8615afd60">addr</a>) ||</div>
<div class="line"><span class="lineno"> 1405</span>            <a class="code hl_variable" href="#ae959340152a25637dbe576bb22df62d9">ula_prefix</a>-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a06997e44cf444e928ee955f9c205a993">length</a> != length) {</div>
<div class="line"><span class="lineno"> 1406</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#ae959340152a25637dbe576bb22df62d9">ula_prefix</a>)</div>
<div class="line"><span class="lineno"> 1407</span>            <a class="code hl_function" href="#adeaba893a4a1c7ca713a948b4d1972d6">interface_update_prefix</a>(NULL, NULL, &amp;<a class="code hl_variable" href="#ae959340152a25637dbe576bb22df62d9">ula_prefix</a>-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a3dff0119c2b395c1a629d9b75a57e24e">node</a>);</div>
<div class="line"><span class="lineno"> 1408</span> </div>
<div class="line"><span class="lineno"> 1409</span>        <a class="code hl_variable" href="#ae959340152a25637dbe576bb22df62d9">ula_prefix</a> = <a class="code hl_function" href="#af97962d0250298cbaade835196bdaf13">interface_ip_add_device_prefix</a>(NULL, &amp;addr, length,</div>
<div class="line"><span class="lineno"> 1410</span>                0, 0, NULL, 0, NULL);</div>
<div class="line"><span class="lineno"> 1411</span>    }</div>
<div class="line"><span class="lineno"> 1412</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_ae959340152a25637dbe576bb22df62d9"><div class="ttname"><a href="#ae959340152a25637dbe576bb22df62d9">ula_prefix</a></div><div class="ttdeci">static struct device_prefix * ula_prefix</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00095">interface-ip.c:95</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_af97962d0250298cbaade835196bdaf13"><div class="ttname"><a href="#af97962d0250298cbaade835196bdaf13">interface_ip_add_device_prefix</a></div><div class="ttdeci">struct device_prefix * interface_ip_add_device_prefix(struct interface *iface, struct in6_addr *addr, uint8_t length, time_t valid_until, time_t preferred_until, struct in6_addr *excl_addr, uint8_t excl_length, const char *pclass)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l01345">interface-ip.c:1345</a></div></div>
<div class="ttc" id="amkdev_8c_html_a024e65f7d9664cdc767f51c283fd8353"><div class="ttname"><a href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a></div><div class="ttdeci">static char buf[PATH_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d9a/mkdev_8c_source.html#l00034">mkdev.c:34</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00085">device_prefix::addr</a>, <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01345">interface_ip_add_device_prefix()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01287">interface_update_prefix()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00086">device_prefix::length</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00075">device_prefix::node</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00095">ula_prefix</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d65/netifd_2config_8c_source.html#l00530">config_init_globals()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a55ccc38ca261daffbd0158a12777c703_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a55ccc38ca261daffbd0158a12777c703_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a55ccc38ca261daffbd0158a12777c703_cgraph" id="adc/df0/interface-ip_8c_a55ccc38ca261daffbd0158a12777c703_cgraph">
<area shape="rect" title=" " alt="" coords="5,529,209,586"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#af97962d0250298cbaade835196bdaf13" title=" " alt="" coords="257,365,499,422"/>
<area shape="poly" title=" " alt="" coords="154,526,315,428,318,432,157,531"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#adeaba893a4a1c7ca713a948b4d1972d6" title=" " alt="" coords="547,639,786,673"/>
<area shape="poly" title=" " alt="" coords="210,573,553,633,552,639,209,578"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="1469,699,1608,733"/>
<area shape="poly" title=" " alt="" coords="499,387,728,382,997,381,1123,384,1233,391,1315,401,1344,408,1363,416,1378,428,1387,441,1396,467,1400,496,1412,528,1467,615,1517,685,1513,688,1462,618,1408,531,1395,497,1390,468,1382,443,1374,432,1361,421,1343,413,1315,406,1232,396,1123,390,997,386,728,387,499,392"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="1455,417,1623,450"/>
<area shape="poly" title=" " alt="" coords="499,363,711,321,836,301,963,284,1087,274,1200,272,1294,283,1332,293,1363,307,1376,317,1383,328,1390,352,1395,376,1401,387,1412,398,1441,415,1438,419,1408,402,1397,391,1390,378,1385,354,1379,331,1372,321,1361,312,1330,298,1293,288,1199,278,1087,279,964,290,836,306,712,327,500,368"/>
<area shape="poly" title=" " alt="" coords="412,420,637,627,634,631,409,424"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#ac913b1e12f698be7f0d79ed459a68cd7" title=" " alt="" coords="902,185,1006,218"/>
<area shape="poly" title=" " alt="" coords="405,363,466,311,505,284,546,263,635,233,728,214,814,204,886,199,887,205,815,209,729,219,637,238,548,268,508,289,470,315,409,367"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#abaaced56b3a208f7cc76ce6723abce07" title=" " alt="" coords="1141,917,1343,974"/>
<area shape="poly" title=" " alt="" coords="676,672,696,719,729,781,776,844,804,872,836,895,869,913,905,927,981,945,1056,953,1125,954,1125,959,1055,958,980,950,904,932,867,918,833,900,801,876,772,848,724,783,691,721,672,674"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="1444,757,1633,790"/>
<area shape="poly" title=" " alt="" coords="695,671,757,707,795,724,835,738,913,755,994,768,1155,782,1305,784,1428,779,1428,785,1305,789,1155,787,993,773,912,760,834,743,793,729,755,711,692,676"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="1448,871,1630,905"/>
<area shape="poly" title=" " alt="" coords="686,671,748,727,790,756,835,780,912,809,993,832,1074,850,1155,863,1307,880,1432,886,1432,891,1307,885,1155,869,1073,855,991,837,911,814,833,785,787,761,745,731,683,675"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3" title=" " alt="" coords="1446,1273,1631,1306"/>
<area shape="poly" title=" " alt="" coords="676,673,695,726,729,801,776,884,804,923,836,958,909,1025,975,1076,1037,1116,1099,1147,1164,1173,1235,1199,1411,1259,1432,1266,1430,1271,1409,1264,1234,1204,1162,1178,1097,1152,1034,1121,972,1081,905,1029,832,962,800,926,771,886,724,804,690,728,671,674"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#afa4013a5a375dedce7a1d26deaf9addf" title=" " alt="" coords="834,529,1074,586"/>
<area shape="poly" title=" " alt="" coords="717,636,855,589,856,594,719,641"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1770,594,1855,628"/>
<area shape="poly" title=" " alt="" coords="784,671,904,685,1049,696,1205,701,1362,693,1409,684,1754,619,1755,624,1411,689,1362,699,1205,706,1048,702,903,690,783,676"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1493,98,1585,132"/>
<area shape="poly" title=" " alt="" coords="667,638,677,557,703,434,724,365,752,296,788,230,832,170,892,110,950,64,1009,32,1069,13,1133,4,1202,5,1278,14,1363,31,1400,42,1436,56,1498,87,1496,92,1434,61,1398,47,1361,36,1278,20,1202,10,1134,9,1070,18,1011,37,953,69,895,114,836,174,792,233,757,298,729,367,708,435,682,558,672,639"/>
<area shape="rect" href="../../da/d23/list_8h.html#a0abd4b86ca9f97272fd1fc0e48d99c38" title=" " alt="" coords="899,451,1009,485"/>
<area shape="poly" title=" " alt="" coords="683,637,746,579,788,546,833,515,886,489,889,494,836,520,791,550,750,583,687,641"/>
<area shape="poly" title=" " alt="" coords="1256,915,1281,875,1315,828,1358,781,1409,742,1453,724,1455,729,1411,746,1362,785,1319,832,1285,878,1261,918"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7e8a1089df00d795d915595e2e7eaa96" title=" " alt="" coords="1452,929,1626,962"/>
<area shape="poly" title=" " alt="" coords="1344,943,1436,943,1436,948,1344,948"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a8642e113840ee637f7d57e5efb5f02fe" title=" " alt="" coords="1418,986,1659,1020"/>
<area shape="poly" title=" " alt="" coords="1344,962,1433,980,1432,985,1343,968"/>
<area shape="rect" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad" title=" " alt="" coords="1437,814,1641,848"/>
<area shape="poly" title=" " alt="" coords="1289,914,1346,884,1409,856,1429,850,1430,855,1411,861,1348,889,1292,919"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac1e6968392107ab1704c592a2270ee2f" title=" " alt="" coords="1435,1043,1643,1077"/>
<area shape="poly" title=" " alt="" coords="1292,972,1348,1002,1411,1030,1430,1036,1429,1041,1409,1035,1346,1007,1289,977"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf" title=" " alt="" coords="1432,1101,1646,1134"/>
<area shape="poly" title=" " alt="" coords="1270,972,1330,1031,1369,1062,1411,1087,1423,1092,1421,1097,1409,1092,1366,1066,1327,1035,1266,976"/>
<area shape="poly" title=" " alt="" coords="1266,915,1327,856,1366,825,1409,799,1428,791,1430,796,1411,804,1369,829,1330,860,1270,919"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a753fba8c387cd70d67f154f1d26c3946" title=" " alt="" coords="1435,1158,1642,1192"/>
<area shape="poly" title=" " alt="" coords="1261,973,1285,1012,1319,1059,1362,1106,1411,1145,1422,1150,1420,1155,1409,1149,1358,1110,1315,1063,1281,1015,1256,976"/>
<area shape="poly" title=" " alt="" coords="1343,923,1432,906,1433,911,1344,928"/>
<area shape="poly" title=" " alt="" coords="1267,973,1314,1043,1364,1130,1377,1168,1381,1201,1389,1231,1398,1245,1412,1259,1433,1273,1431,1278,1408,1263,1394,1248,1384,1233,1376,1202,1372,1169,1360,1132,1310,1046,1262,976"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a6624a98fc17593f67a43a6fbb15d4c49" title=" " alt="" coords="1410,1215,1667,1249"/>
<area shape="poly" title=" " alt="" coords="1264,973,1412,1202,1417,1206,1414,1210,1408,1206,1259,975"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af02c6a85ad946c9d5b7d06007d6768b0" title=" " alt="" coords="1715,814,1910,848"/>
<area shape="poly" title=" " alt="" coords="1623,788,1714,808,1713,813,1622,793"/>
<area shape="poly" title=" " alt="" coords="1622,868,1713,849,1714,854,1623,873"/>
<area shape="poly" title=" " alt="" coords="970,585,1030,702,1073,774,1124,842,1156,876,1190,905,1186,909,1152,880,1120,846,1069,777,1025,705,966,588"/>
<area shape="poly" title=" " alt="" coords="985,584,1046,639,1084,668,1123,694,1201,733,1283,764,1362,789,1434,807,1433,813,1361,794,1281,769,1199,738,1120,698,1080,672,1043,643,982,588"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="1185,213,1299,246"/>
<area shape="poly" title=" " alt="" coords="1034,526,1054,513,1072,496,1087,472,1094,449,1097,405,1098,359,1105,334,1120,308,1150,276,1186,252,1189,256,1154,280,1124,311,1110,336,1103,359,1102,405,1100,450,1092,474,1076,499,1058,517,1037,531"/>
<area shape="poly" title=" " alt="" coords="1074,578,1122,584,1303,598,1481,606,1754,609,1754,614,1481,611,1302,604,1121,589,1074,583"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="1199,431,1285,465"/>
<area shape="poly" title=" " alt="" coords="1015,526,1121,482,1183,461,1185,466,1123,487,1017,531"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="1187,155,1297,189"/>
<area shape="poly" title=" " alt="" coords="1036,527,1056,513,1071,496,1092,457,1099,419,1097,382,1090,345,1085,309,1084,272,1094,235,1120,198,1143,181,1171,172,1173,177,1146,186,1124,202,1099,238,1089,273,1090,308,1096,345,1102,381,1104,419,1097,459,1076,499,1059,517,1039,531"/>
<area shape="poly" title=" " alt="" coords="1037,526,1056,513,1072,496,1086,472,1095,449,1101,403,1096,357,1086,313,1077,269,1075,226,1079,204,1088,183,1101,162,1120,141,1146,125,1183,114,1229,107,1280,104,1385,103,1477,107,1477,113,1385,108,1280,109,1229,113,1184,120,1148,130,1123,145,1105,165,1092,185,1085,205,1081,226,1082,268,1091,312,1101,356,1106,403,1100,450,1091,474,1076,499,1059,517,1040,531"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad2fa2d0aea44b9538daad403462e71e5" title=" " alt="" coords="1125,650,1359,684"/>
<area shape="poly" title=" " alt="" coords="1017,584,1123,628,1164,642,1163,647,1121,633,1015,589"/>
<area shape="rect" href="../../da/d23/list_8h.html#a6ff0e5eee443d7b27def83827340634d" title=" " alt="" coords="1481,483,1597,517"/>
<area shape="poly" title=" " alt="" coords="1074,532,1121,525,1307,509,1465,500,1465,505,1307,514,1122,531,1075,538"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a183ee1b93d937be80c81ac51c8411049" title=" " alt="" coords="1122,541,1362,574"/>
<area shape="poly" title=" " alt="" coords="1074,555,1106,555,1106,560,1074,560"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="1446,294,1632,328"/>
<area shape="poly" title=" " alt="" coords="1300,242,1461,287,1459,292,1299,248"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="1490,213,1588,246"/>
<area shape="poly" title=" " alt="" coords="1300,227,1474,227,1474,232,1300,232"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="1476,354,1602,388"/>
<area shape="poly" title=" " alt="" coords="1300,235,1333,246,1364,263,1381,283,1388,302,1396,321,1412,338,1435,351,1461,360,1460,365,1433,356,1408,342,1391,324,1383,304,1376,285,1360,267,1331,251,1299,241"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="1482,155,1596,189"/>
<area shape="poly" title=" " alt="" coords="1299,216,1466,183,1467,189,1300,221"/>
<area shape="poly" title=" " alt="" coords="1490,295,1485,285,1492,275,1510,269,1539,267,1569,270,1587,276,1585,281,1568,275,1539,273,1511,275,1495,279,1490,285,1495,292"/>
<area shape="poly" title=" " alt="" coords="1603,375,1637,385,1669,402,1714,443,1752,490,1781,538,1801,579,1796,581,1776,541,1747,493,1710,446,1666,406,1635,390,1601,381"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1958,594,2052,628"/>
<area shape="poly" title=" " alt="" coords="1855,608,1942,608,1942,613,1855,613"/>
<area shape="poly" title=" " alt="" coords="1285,443,1439,436,1439,441,1285,449"/>
<area shape="poly" title=" " alt="" coords="1298,180,1475,215,1474,220,1297,185"/>
<area shape="poly" title=" " alt="" coords="1297,169,1466,169,1466,175,1297,175"/>
<area shape="poly" title=" " alt="" coords="1297,159,1477,124,1478,129,1298,164"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1762,98,1863,132"/>
<area shape="poly" title=" " alt="" coords="1585,112,1747,112,1747,117,1585,117"/>
<area shape="rect" href="../../da/d23/list_8h.html#a1f27c370174f8a62e15d20ed5306fbf3" title=" " alt="" coords="1182,322,1302,356"/>
<area shape="poly" title=" " alt="" coords="993,448,1187,360,1189,365,995,453"/>
<area shape="poly" title=" " alt="" coords="1303,345,1334,355,1364,373,1382,395,1389,418,1395,440,1412,461,1438,476,1466,487,1465,492,1435,481,1408,465,1390,442,1383,420,1377,398,1360,377,1332,360,1301,350"/>
<area shape="poly" title=" " alt="" coords="1007,204,1169,220,1169,225,1006,209"/>
<area shape="poly" title=" " alt="" coords="1006,194,1171,177,1171,182,1007,199"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e08d7ee7d67ff58eeea30dd8a9356d1" title=" " alt="" coords="1195,46,1289,80"/>
<area shape="poly" title=" " alt="" coords="978,182,1041,140,1121,96,1180,75,1182,80,1123,101,1043,144,981,186"/>
</map>
</div>

</div>
</div>
<a id="a811f6c0cc5583b59b19034dd4eb5365c" name="a811f6c0cc5583b59b19034dd4eb5365c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a811f6c0cc5583b59b19034dd4eb5365c">&#9670;&#160;</a></span>interface_ip_update_complete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interface_ip_update_complete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01783">1783</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1784</span>{</div>
<div class="line"><span class="lineno"> 1785</span>    <a class="code hl_function" href="../../d4/d96/netifd_2utils_8c.html#aea577f1d63282f4bcdf5781f12763abd">vlist_simple_flush</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3363410aef3be499106d9fbf8dba3f0a">dns_servers</a>);</div>
<div class="line"><span class="lineno"> 1786</span>    <a class="code hl_function" href="../../d4/d96/netifd_2utils_8c.html#aea577f1d63282f4bcdf5781f12763abd">vlist_simple_flush</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#adb66860a788e26352191973708b498b5">dns_search</a>);</div>
<div class="line"><span class="lineno"> 1787</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#a62a8ae640752531c644d53311b98d53a">vlist_flush</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a907be96d59886a7b970685768ba18db3">route</a>);</div>
<div class="line"><span class="lineno"> 1788</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#a62a8ae640752531c644d53311b98d53a">vlist_flush</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ab3234a7d043c711b115520fdde5dc6a1">addr</a>);</div>
<div class="line"><span class="lineno"> 1789</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#a62a8ae640752531c644d53311b98d53a">vlist_flush</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac8c1ba6c32f0b815a0da4d8612d5adce">prefix</a>);</div>
<div class="line"><span class="lineno"> 1790</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#a62a8ae640752531c644d53311b98d53a">vlist_flush</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9f446a45104d408f08157e99d5bc296f">neighbor</a>);</div>
<div class="line"><span class="lineno"> 1791</span>    <a class="code hl_function" href="#a3db870442998ad2a60cbc2a0b30470a3">interface_write_resolv_conf</a>(ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a774a0fb73e91a605b453f090924cd159">jail</a>);</div>
<div class="line"><span class="lineno"> 1792</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_a3db870442998ad2a60cbc2a0b30470a3"><div class="ttname"><a href="#a3db870442998ad2a60cbc2a0b30470a3">interface_write_resolv_conf</a></div><div class="ttdeci">void interface_write_resolv_conf(const char *jail)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l01579">interface-ip.c:1579</a></div></div>
<div class="ttc" id="anetifd_2utils_8c_html_aea577f1d63282f4bcdf5781f12763abd"><div class="ttname"><a href="../../d4/d96/netifd_2utils_8c.html#aea577f1d63282f4bcdf5781f12763abd">vlist_simple_flush</a></div><div class="ttdeci">void vlist_simple_flush(struct vlist_simple_tree *tree)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d96/netifd_2utils_8c_source.html#l00046">utils.c:46</a></div></div>
<div class="ttc" id="avlist_8c_html_a62a8ae640752531c644d53311b98d53a"><div class="ttname"><a href="../../d5/d9a/vlist_8c.html#a62a8ae640752531c644d53311b98d53a">vlist_flush</a></div><div class="ttdeci">void vlist_flush(struct vlist_tree *tree)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d9a/vlist_8c_source.html#l00062">vlist.c:62</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/da9/interface_8h_source.html#l00082">interface_ip_settings::addr</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00088">interface_ip_settings::dns_search</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00087">interface_ip_settings::dns_servers</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00076">interface_ip_settings::iface</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01579">interface_write_resolv_conf()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00112">interface::jail</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00085">interface_ip_settings::neighbor</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00084">interface_ip_settings::prefix</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00083">interface_ip_settings::route</a>, <a class="el" href="../../d5/d9a/vlist_8c_source.html#l00062">vlist_flush()</a>, and <a class="el" href="../../d4/d96/netifd_2utils_8c_source.html#l00046">vlist_simple_flush()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d65/netifd_2config_8c_source.html#l00485">config_init_ip()</a>, and <a class="el" href="../../dd/dda/interface_8c_source.html#l01244">interface_update_complete()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a811f6c0cc5583b59b19034dd4eb5365c_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a811f6c0cc5583b59b19034dd4eb5365c_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a811f6c0cc5583b59b19034dd4eb5365c_cgraph" id="adc/df0/interface-ip_8c_a811f6c0cc5583b59b19034dd4eb5365c_cgraph">
<area shape="rect" title=" " alt="" coords="5,450,209,507"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a3db870442998ad2a60cbc2a0b30470a3" title=" " alt="" coords="257,315,528,348"/>
<area shape="poly" title=" " alt="" coords="163,447,343,353,346,358,165,452"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#a62a8ae640752531c644d53311b98d53a" title=" " alt="" coords="335,461,450,495"/>
<area shape="poly" title=" " alt="" coords="209,476,319,476,319,481,209,481"/>
<area shape="rect" href="../../d4/d96/netifd_2utils_8c.html#aea577f1d63282f4bcdf5781f12763abd" title=" " alt="" coords="300,519,485,552"/>
<area shape="poly" title=" " alt="" coords="210,496,291,512,290,518,209,501"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7ed8956e1e64f07ee877053185923d35" title=" " alt="" coords="576,185,795,241"/>
<area shape="poly" title=" " alt="" coords="435,312,598,245,600,250,437,317"/>
<area shape="rect" href="../../d4/d96/netifd_2utils_8c.html#ae5f885912572e398987e528515538b06" title=" " alt="" coords="631,315,740,348"/>
<area shape="poly" title=" " alt="" coords="528,329,615,329,615,334,528,334"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="927,196,1013,230"/>
<area shape="poly" title=" " alt="" coords="796,210,911,210,911,216,796,216"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="915,253,1025,287"/>
<area shape="poly" title=" " alt="" coords="796,232,900,253,899,259,795,238"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a3da67a3fa851ed997efc3da70d565e5e" title=" " alt="" coords="856,81,1084,115"/>
<area shape="poly" title=" " alt="" coords="730,182,783,151,842,124,861,117,863,122,844,129,785,156,733,186"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a5c86f96ae0805157dbf688873ec1e935" title=" " alt="" coords="843,139,1097,172"/>
<area shape="poly" title=" " alt="" coords="795,188,868,173,869,179,796,193"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="1154,5,1322,39"/>
<area shape="poly" title=" " alt="" coords="1013,211,1056,203,1077,195,1095,183,1108,167,1115,152,1119,118,1122,83,1129,65,1143,48,1145,46,1149,50,1147,52,1134,68,1127,84,1124,118,1120,153,1113,170,1098,187,1079,200,1058,208,1014,216"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="1173,253,1303,287"/>
<area shape="poly" title=" " alt="" coords="1026,268,1157,268,1157,273,1026,273"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="1157,63,1319,96"/>
<area shape="poly" title=" " alt="" coords="1025,267,1062,259,1095,240,1108,226,1115,211,1119,180,1123,147,1130,130,1143,114,1157,102,1160,106,1147,117,1135,133,1128,148,1124,180,1120,213,1112,229,1098,244,1064,264,1026,272"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1415,115,1507,148"/>
<area shape="poly" title=" " alt="" coords="1025,265,1061,257,1095,240,1111,221,1118,199,1125,177,1143,157,1174,141,1207,129,1275,116,1342,114,1399,119,1399,124,1342,120,1276,122,1208,134,1176,146,1146,162,1129,180,1123,201,1116,223,1098,244,1063,262,1026,270"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="1149,172,1327,206"/>
<area shape="poly" title=" " alt="" coords="1025,259,1096,240,1120,227,1144,214,1158,209,1160,214,1146,219,1122,232,1098,245,1026,264"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="1189,420,1287,454"/>
<area shape="poly" title=" " alt="" coords="990,286,1055,344,1099,378,1146,406,1175,419,1173,424,1143,411,1096,382,1052,349,987,290"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="1181,363,1295,396"/>
<area shape="poly" title=" " alt="" coords="1013,285,1146,341,1178,354,1177,359,1144,346,1011,290"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="1399,313,1522,347"/>
<area shape="poly" title=" " alt="" coords="1026,278,1145,297,1384,322,1383,327,1144,302,1025,283"/>
<area shape="poly" title=" " alt="" coords="1198,254,1193,244,1199,235,1214,229,1238,227,1263,229,1277,236,1275,240,1262,234,1238,232,1216,234,1203,239,1199,244,1203,252"/>
<area shape="poly" title=" " alt="" coords="1314,94,1400,115,1399,120,1312,100"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1622,144,1723,178"/>
<area shape="poly" title=" " alt="" coords="1508,135,1607,149,1606,154,1507,141"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1396,172,1525,206"/>
<area shape="poly" title=" " alt="" coords="1327,186,1380,186,1380,192,1327,192"/>
<area shape="poly" title=" " alt="" coords="1526,178,1606,167,1607,172,1526,183"/>
<area shape="poly" title=" " alt="" coords="1422,314,1418,304,1424,295,1438,289,1461,287,1485,289,1498,296,1496,300,1483,294,1461,292,1440,294,1427,299,1424,304,1427,312"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="1598,379,1747,412"/>
<area shape="poly" title=" " alt="" coords="1518,345,1602,371,1600,376,1517,350"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="1590,436,1755,470"/>
<area shape="poly" title=" " alt="" coords="1483,346,1531,384,1592,423,1601,427,1599,432,1589,427,1528,388,1480,350"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1803,379,1900,412"/>
<area shape="poly" title=" " alt="" coords="1748,393,1787,393,1787,398,1748,398"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1805,436,1898,470"/>
<area shape="poly" title=" " alt="" coords="1728,410,1791,431,1789,436,1726,415"/>
<area shape="poly" title=" " alt="" coords="1726,433,1787,413,1789,418,1728,438"/>
<area shape="poly" title=" " alt="" coords="1755,450,1789,450,1789,456,1755,456"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#ae3f611db174c46a1558ef07aa4df0138" title=" " alt="" coords="623,461,748,495"/>
<area shape="poly" title=" " alt="" coords="450,476,608,476,608,481,450,481"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="913,461,1027,495"/>
<area shape="poly" title=" " alt="" coords="749,476,897,476,897,481,749,481"/>
<area shape="poly" title=" " alt="" coords="1027,467,1173,444,1174,449,1028,472"/>
<area shape="poly" title=" " alt="" coords="1010,458,1144,405,1165,398,1167,403,1146,410,1012,463"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="1145,501,1331,535"/>
<area shape="poly" title=" " alt="" coords="1028,484,1130,499,1129,505,1027,489"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="1175,559,1301,592"/>
<area shape="poly" title=" " alt="" coords="1013,493,1146,545,1163,551,1161,556,1144,550,1011,498"/>
<area shape="poly" title=" " alt="" coords="1275,499,1329,464,1343,449,1351,434,1361,420,1378,408,1428,390,1482,380,1534,378,1583,380,1583,385,1534,383,1482,385,1430,395,1380,413,1365,424,1356,437,1347,452,1333,468,1278,503"/>
<area shape="poly" title=" " alt="" coords="1331,513,1433,506,1542,490,1609,472,1611,477,1543,495,1434,511,1332,518"/>
<area shape="poly" title=" " alt="" coords="1198,502,1193,492,1199,483,1214,477,1238,475,1263,477,1277,484,1275,488,1262,482,1238,480,1216,482,1203,487,1199,492,1203,500"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="1389,556,1532,590"/>
<area shape="poly" title=" " alt="" coords="1310,533,1375,549,1374,554,1309,538"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="1379,447,1542,480"/>
<area shape="poly" title=" " alt="" coords="1309,498,1374,482,1375,487,1310,503"/>
<area shape="poly" title=" " alt="" coords="1514,444,1602,415,1604,420,1516,449"/>
<area shape="poly" title=" " alt="" coords="1543,457,1575,455,1575,460,1543,462"/>
<area shape="poly" title=" " alt="" coords="1422,447,1418,437,1424,428,1438,422,1461,420,1485,422,1498,429,1496,434,1483,428,1461,425,1440,427,1427,432,1424,438,1427,445"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1418,613,1503,647"/>
<area shape="poly" title=" " alt="" coords="1302,588,1403,614,1402,619,1300,593"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1625,613,1720,647"/>
<area shape="poly" title=" " alt="" coords="1504,628,1610,628,1610,633,1504,633"/>
<area shape="rect" href="../../d4/d96/netifd_2utils_8c.html#a04fe5f7e3bdbec3646f88924248d3bfc" title=" " alt="" coords="588,545,783,579"/>
<area shape="poly" title=" " alt="" coords="485,541,573,549,572,555,485,547"/>
<area shape="poly" title=" " alt="" coords="784,569,1145,602,1403,623,1402,628,1144,607,784,574"/>
</map>
</div>

</div>
</div>
<a id="a504616f6a4a00fba4818e42c0b672df5" name="a504616f6a4a00fba4818e42c0b672df5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a504616f6a4a00fba4818e42c0b672df5">&#9670;&#160;</a></span>interface_ip_update_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interface_ip_update_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01770">1770</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1771</span>{</div>
<div class="line"><span class="lineno"> 1772</span>    <span class="keywordflow">if</span> (ip != &amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a4d137d95554e8f9954fa10f8d2ed253b">config_ip</a>) {</div>
<div class="line"><span class="lineno"> 1773</span>        <a class="code hl_function" href="../../d9/dd0/netifd_2utils_8h.html#af2b66905219a8778002452d90bf7d4ff">vlist_simple_update</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3363410aef3be499106d9fbf8dba3f0a">dns_servers</a>);</div>
<div class="line"><span class="lineno"> 1774</span>        <a class="code hl_function" href="../../d9/dd0/netifd_2utils_8h.html#af2b66905219a8778002452d90bf7d4ff">vlist_simple_update</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#adb66860a788e26352191973708b498b5">dns_search</a>);</div>
<div class="line"><span class="lineno"> 1775</span>    }</div>
<div class="line"><span class="lineno"> 1776</span>    <a class="code hl_function" href="../../dd/d1d/vlist_8h.html#ac66f6ee1f1beb49157d2e737c68713ba">vlist_update</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a907be96d59886a7b970685768ba18db3">route</a>);</div>
<div class="line"><span class="lineno"> 1777</span>    <a class="code hl_function" href="../../dd/d1d/vlist_8h.html#ac66f6ee1f1beb49157d2e737c68713ba">vlist_update</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ab3234a7d043c711b115520fdde5dc6a1">addr</a>);</div>
<div class="line"><span class="lineno"> 1778</span>    <a class="code hl_function" href="../../dd/d1d/vlist_8h.html#ac66f6ee1f1beb49157d2e737c68713ba">vlist_update</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac8c1ba6c32f0b815a0da4d8612d5adce">prefix</a>);</div>
<div class="line"><span class="lineno"> 1779</span>    <a class="code hl_function" href="../../dd/d1d/vlist_8h.html#ac66f6ee1f1beb49157d2e737c68713ba">vlist_update</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9f446a45104d408f08157e99d5bc296f">neighbor</a>);</div>
<div class="line"><span class="lineno"> 1780</span>}</div>
<div class="ttc" id="anetifd_2utils_8h_html_af2b66905219a8778002452d90bf7d4ff"><div class="ttname"><a href="../../d9/dd0/netifd_2utils_8h.html#af2b66905219a8778002452d90bf7d4ff">vlist_simple_update</a></div><div class="ttdeci">static void vlist_simple_update(struct vlist_simple_tree *tree)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dd0/netifd_2utils_8h_source.html#l00060">utils.h:60</a></div></div>
<div class="ttc" id="avlist_8h_html_ac66f6ee1f1beb49157d2e737c68713ba"><div class="ttname"><a href="../../dd/d1d/vlist_8h.html#ac66f6ee1f1beb49157d2e737c68713ba">vlist_update</a></div><div class="ttdeci">static void vlist_update(struct vlist_tree *tree)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d1d/vlist_8h_source.html#l00062">vlist.h:62</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/da9/interface_8h_source.html#l00082">interface_ip_settings::addr</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00154">interface::config_ip</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00088">interface_ip_settings::dns_search</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00087">interface_ip_settings::dns_servers</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00076">interface_ip_settings::iface</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00085">interface_ip_settings::neighbor</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00084">interface_ip_settings::prefix</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00083">interface_ip_settings::route</a>, <a class="el" href="../../d9/dd0/netifd_2utils_8h_source.html#l00060">vlist_simple_update()</a>, and <a class="el" href="../../dd/d1d/vlist_8h_source.html#l00062">vlist_update()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d65/netifd_2config_8c_source.html#l00485">config_init_ip()</a>, and <a class="el" href="../../dd/dda/interface_8c_source.html#l01235">interface_update_start()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a504616f6a4a00fba4818e42c0b672df5_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a504616f6a4a00fba4818e42c0b672df5_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a504616f6a4a00fba4818e42c0b672df5_cgraph" id="adc/df0/interface-ip_8c_a504616f6a4a00fba4818e42c0b672df5_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,209,80"/>
<area shape="rect" href="../../d9/dd0/netifd_2utils_8h.html#af2b66905219a8778002452d90bf7d4ff" title=" " alt="" coords="257,5,460,39"/>
<area shape="poly" title=" " alt="" coords="209,37,241,33,241,38,209,42"/>
<area shape="rect" href="../../dd/d1d/vlist_8h.html#ac66f6ee1f1beb49157d2e737c68713ba" title=" " alt="" coords="292,63,425,96"/>
<area shape="poly" title=" " alt="" coords="209,60,276,68,276,73,209,65"/>
</map>
</div>

</div>
</div>
<a id="ae56839c12390b266bcb02d88283e1a5e" name="ae56839c12390b266bcb02d88283e1a5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae56839c12390b266bcb02d88283e1a5e">&#9670;&#160;</a></span>interface_ip_valid_until_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interface_ip_valid_until_handler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d56/uloop_8h.html#d8/d2b/structuloop__timeout">uloop_timeout</a> *</td>          <td class="paramname"><span class="paramname"><em>t</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01829">1829</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1830</span>{</div>
<div class="line"><span class="lineno"> 1831</span>    time_t now = <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3">system_get_rtime</a>();</div>
<div class="line"><span class="lineno"> 1832</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface;</div>
<div class="line"><span class="lineno"> 1833</span>    <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#add31e1f4b4f9662f592e61501aaca312">vlist_for_each_element</a>(&amp;<a class="code hl_variable" href="../../dd/dda/interface_8c.html#aa5c5af6c1895c4bf768815c8c5715bf2">interfaces</a>, iface, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>) {</div>
<div class="line"><span class="lineno"> 1834</span>        <span class="keywordflow">if</span> (iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#afadba4d9a3cb8e6e3138d97ff273b1b1">state</a> != <a class="code hl_enumvalue" href="../../d4/da9/interface_8h.html#a674a1a15cc57d4afc3a1a17514257a68aace55f381cc3303217492d5c10548a7a">IFS_UP</a>)</div>
<div class="line"><span class="lineno"> 1835</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1836</span> </div>
<div class="line"><span class="lineno"> 1837</span>        <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a> *<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>, *addrp;</div>
<div class="line"><span class="lineno"> 1838</span>        <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> *route, *routep;</div>
<div class="line"><span class="lineno"> 1839</span>        <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a> *pref, *prefp;</div>
<div class="line"><span class="lineno"> 1840</span> </div>
<div class="line"><span class="lineno"> 1841</span>        <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#a6264b1689e4dcd5030b3360bb9236807">vlist_for_each_element_safe</a>(&amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>.<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ab3234a7d043c711b115520fdde5dc6a1">addr</a>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a043e5860a8b73d3c14410de8615afd60">addr</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>, addrp)</div>
<div class="line"><span class="lineno"> 1842</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a043e5860a8b73d3c14410de8615afd60">addr</a>-&gt;valid_until &amp;&amp; <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a043e5860a8b73d3c14410de8615afd60">addr</a>-&gt;valid_until &lt; now)</div>
<div class="line"><span class="lineno"> 1843</span>                <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#ae3f611db174c46a1558ef07aa4df0138">vlist_delete</a>(&amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>.<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ab3234a7d043c711b115520fdde5dc6a1">addr</a>, &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a043e5860a8b73d3c14410de8615afd60">addr</a>-&gt;node);</div>
<div class="line"><span class="lineno"> 1844</span> </div>
<div class="line"><span class="lineno"> 1845</span>        <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#a6264b1689e4dcd5030b3360bb9236807">vlist_for_each_element_safe</a>(&amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>.<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a907be96d59886a7b970685768ba18db3">route</a>, route, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>, routep)</div>
<div class="line"><span class="lineno"> 1846</span>            <span class="keywordflow">if</span> (route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a2417ccf37633c212cd9eaefb6a2ba52e">valid_until</a> &amp;&amp; route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a2417ccf37633c212cd9eaefb6a2ba52e">valid_until</a> &lt; now)</div>
<div class="line"><span class="lineno"> 1847</span>                <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#ae3f611db174c46a1558ef07aa4df0138">vlist_delete</a>(&amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>.<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a907be96d59886a7b970685768ba18db3">route</a>, &amp;route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a69efb4dccc3e395fd87023001402f0e9">node</a>);</div>
<div class="line"><span class="lineno"> 1848</span> </div>
<div class="line"><span class="lineno"> 1849</span>        <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#a6264b1689e4dcd5030b3360bb9236807">vlist_for_each_element_safe</a>(&amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>.<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac8c1ba6c32f0b815a0da4d8612d5adce">prefix</a>, pref, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>, prefp)</div>
<div class="line"><span class="lineno"> 1850</span>            <span class="keywordflow">if</span> (pref-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1aeecf819584c23f510369b2edb3160f">valid_until</a> &amp;&amp; pref-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1aeecf819584c23f510369b2edb3160f">valid_until</a> &lt; now)</div>
<div class="line"><span class="lineno"> 1851</span>                <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#ae3f611db174c46a1558ef07aa4df0138">vlist_delete</a>(&amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>.<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac8c1ba6c32f0b815a0da4d8612d5adce">prefix</a>, &amp;pref-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a3dff0119c2b395c1a629d9b75a57e24e">node</a>);</div>
<div class="line"><span class="lineno"> 1852</span> </div>
<div class="line"><span class="lineno"> 1853</span>    }</div>
<div class="line"><span class="lineno"> 1854</span> </div>
<div class="line"><span class="lineno"> 1855</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346">uloop_timeout_set</a>(t, 1000);</div>
<div class="line"><span class="lineno"> 1856</span>}</div>
<div class="ttc" id="avlist_8c_html_ae3f611db174c46a1558ef07aa4df0138"><div class="ttname"><a href="../../d5/d9a/vlist_8c.html#ae3f611db174c46a1558ef07aa4df0138">vlist_delete</a></div><div class="ttdeci">void vlist_delete(struct vlist_tree *tree, struct vlist_node *node)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d9a/vlist_8c_source.html#l00028">vlist.c:28</a></div></div>
<div class="ttc" id="avlist_8h_html_a6264b1689e4dcd5030b3360bb9236807"><div class="ttname"><a href="../../dd/d1d/vlist_8h.html#a6264b1689e4dcd5030b3360bb9236807">vlist_for_each_element_safe</a></div><div class="ttdeci">#define vlist_for_each_element_safe(tree, element, node_member, ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d1d/vlist_8h_source.html#l00075">vlist.h:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00150">device_addr::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00085">device_prefix::addr</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00082">interface_ip_settings::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00078">device_prefix::iface</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00037">IFS_UP</a>, <a class="el" href="../../dd/dda/interface_8c_source.html#l00030">interfaces</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00075">device_prefix::node</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00092">device_route::node</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00084">interface_ip_settings::prefix</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00153">interface::proto_ip</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00083">interface_ip_settings::route</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00130">interface::state</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00328">system_get_rtime()</a>, <a class="el" href="../../d1/d08/uloop_8c_source.html#l00328">uloop_timeout_set()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00079">device_prefix::valid_until</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00103">device_route::valid_until</a>, <a class="el" href="../../d5/d9a/vlist_8c_source.html#l00028">vlist_delete()</a>, <a class="el" href="../../dd/d1d/vlist_8h_source.html#l00072">vlist_for_each_element</a>, and <a class="el" href="../../dd/d1d/vlist_8h_source.html#l00075">vlist_for_each_element_safe</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01859">interface_ip_init_worker()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_ae56839c12390b266bcb02d88283e1a5e_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_ae56839c12390b266bcb02d88283e1a5e_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_ae56839c12390b266bcb02d88283e1a5e_cgraph" id="adc/df0/interface-ip_8c_ae56839c12390b266bcb02d88283e1a5e_cgraph">
<area shape="rect" title=" " alt="" coords="5,137,188,193"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3" title=" " alt="" coords="238,91,423,124"/>
<area shape="poly" title=" " alt="" coords="187,140,243,126,245,131,189,145"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="236,148,425,182"/>
<area shape="poly" title=" " alt="" coords="188,162,220,162,220,168,188,168"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#ae3f611db174c46a1558ef07aa4df0138" title=" " alt="" coords="268,205,393,239"/>
<area shape="poly" title=" " alt="" coords="189,185,253,201,252,206,187,190"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="507,176,659,210"/>
<area shape="poly" title=" " alt="" coords="426,173,492,180,492,185,425,178"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="485,61,681,95"/>
<area shape="poly" title=" " alt="" coords="397,145,424,134,447,119,472,104,487,98,489,103,474,109,450,124,426,139,399,150"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="473,119,693,152"/>
<area shape="poly" title=" " alt="" coords="425,151,457,147,458,153,426,156"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="770,63,899,96"/>
<area shape="poly" title=" " alt="" coords="682,76,755,76,755,82,682,81"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="795,5,874,39"/>
<area shape="poly" title=" " alt="" coords="662,58,779,32,781,37,663,63"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1007,63,1108,96"/>
<area shape="poly" title=" " alt="" coords="900,77,991,77,991,82,900,82"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1015,177,1100,211"/>
<area shape="poly" title=" " alt="" coords="694,136,807,143,928,158,1000,175,999,180,927,163,807,149,693,141"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1222,177,1316,211"/>
<area shape="poly" title=" " alt="" coords="1100,192,1206,192,1206,197,1100,197"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="526,233,640,267"/>
<area shape="poly" title=" " alt="" coords="394,226,511,240,510,245,393,232"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="741,369,928,403"/>
<area shape="poly" title=" " alt="" coords="617,265,790,359,787,364,615,270"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="785,173,884,207"/>
<area shape="poly" title=" " alt="" coords="640,234,770,203,771,208,642,239"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="771,288,898,322"/>
<area shape="poly" title=" " alt="" coords="641,260,756,285,755,290,640,265"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="777,231,892,264"/>
<area shape="poly" title=" " alt="" coords="641,247,762,246,762,251,641,252"/>
<area shape="poly" title=" " alt="" coords="794,370,790,360,796,351,811,345,835,343,860,345,874,352,872,356,858,350,834,348,812,350,799,355,795,360,799,368"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="986,451,1129,484"/>
<area shape="poly" title=" " alt="" coords="884,401,996,442,994,447,882,406"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="976,341,1139,375"/>
<area shape="poly" title=" " alt="" coords="928,372,960,368,961,373,928,377"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="1195,368,1344,402"/>
<area shape="poly" title=" " alt="" coords="928,385,1139,385,1179,384,1179,390,1139,390,928,390"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="1187,311,1351,344"/>
<area shape="poly" title=" " alt="" coords="866,367,926,332,949,315,975,302,1030,292,1087,291,1141,296,1190,304,1189,310,1141,301,1087,297,1031,298,977,307,952,320,929,336,868,371"/>
<area shape="poly" title=" " alt="" coords="1019,342,1015,332,1021,323,1035,317,1057,315,1081,317,1095,324,1093,328,1080,322,1057,320,1036,322,1024,327,1020,332,1024,340"/>
<area shape="poly" title=" " alt="" coords="1140,366,1179,371,1179,376,1139,371"/>
<area shape="poly" title=" " alt="" coords="1139,344,1171,339,1172,344,1140,349"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1399,311,1497,344"/>
<area shape="poly" title=" " alt="" coords="1323,365,1384,345,1386,350,1325,370"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1402,368,1494,402"/>
<area shape="poly" title=" " alt="" coords="1344,382,1386,382,1386,388,1344,388"/>
<area shape="poly" title=" " alt="" coords="1352,325,1384,325,1384,330,1352,330"/>
<area shape="poly" title=" " alt="" coords="1325,342,1388,363,1386,368,1323,347"/>
<area shape="poly" title=" " alt="" coords="897,286,927,274,976,247,1020,218,1023,222,979,252,929,279,899,291"/>
</map>
</div>

</div>
</div>
<a id="ad2fa2d0aea44b9538daad403462e71e5" name="ad2fa2d0aea44b9538daad403462e71e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2fa2d0aea44b9538daad403462e71e5">&#9670;&#160;</a></span>interface_prefix_assign()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool interface_prefix_assign </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d23/list_8h.html#d9/d93/structlist__head">list_head</a> *</td>          <td class="paramname"><span class="paramname"><em>list</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d6/d38/structdevice__prefix__assignment">device_prefix_assignment</a> *</td>          <td class="paramname"><span class="paramname"><em>assign</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01072">1072</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1074</span>{</div>
<div class="line"><span class="lineno"> 1075</span>    int32_t <a class="code hl_variable" href="../../d2/ddd/interface-event_8c.html#a87b972c396dbd749330f8467905525fb">current</a> = 0, asize = (1 &lt;&lt; (64 - <a class="code hl_define" href="../../d0/d5f/mstp_8h.html#a4a0bdba8e340fd54347bb8dfef68765f">assign</a>-&gt;length)) - 1;</div>
<div class="line"><span class="lineno"> 1076</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d6/d38/structdevice__prefix__assignment">device_prefix_assignment</a> *c;</div>
<div class="line"><span class="lineno"> 1077</span>    <a class="code hl_define" href="../../da/d23/list_8h.html#a6b4019bb70de70adc3caddbe3a024c27">list_for_each_entry</a>(c, list, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa5681727f93eb7df55b3527eb531cbf3">head</a>) {</div>
<div class="line"><span class="lineno"> 1078</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d0/d5f/mstp_8h.html#a4a0bdba8e340fd54347bb8dfef68765f">assign</a>-&gt;assigned != -1) {</div>
<div class="line"><span class="lineno"> 1079</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d0/d5f/mstp_8h.html#a4a0bdba8e340fd54347bb8dfef68765f">assign</a>-&gt;assigned &gt;= <a class="code hl_variable" href="../../d2/ddd/interface-event_8c.html#a87b972c396dbd749330f8467905525fb">current</a> &amp;&amp; <a class="code hl_define" href="../../d0/d5f/mstp_8h.html#a4a0bdba8e340fd54347bb8dfef68765f">assign</a>-&gt;assigned + asize &lt; c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a208580aad959adc62c2b16ae92637d1f">assigned</a>) {</div>
<div class="line"><span class="lineno"> 1080</span>                <a class="code hl_function" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1">list_add_tail</a>(&amp;<a class="code hl_define" href="../../d0/d5f/mstp_8h.html#a4a0bdba8e340fd54347bb8dfef68765f">assign</a>-&gt;head, &amp;c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa5681727f93eb7df55b3527eb531cbf3">head</a>);</div>
<div class="line"><span class="lineno"> 1081</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1082</span>            }</div>
<div class="line"><span class="lineno"> 1083</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d0/d5f/mstp_8h.html#a4a0bdba8e340fd54347bb8dfef68765f">assign</a>-&gt;assigned == -1) {</div>
<div class="line"><span class="lineno"> 1084</span>            <a class="code hl_variable" href="../../d2/ddd/interface-event_8c.html#a87b972c396dbd749330f8467905525fb">current</a> = (<a class="code hl_variable" href="../../d2/ddd/interface-event_8c.html#a87b972c396dbd749330f8467905525fb">current</a> + asize) &amp; (~asize);</div>
<div class="line"><span class="lineno"> 1085</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d2/ddd/interface-event_8c.html#a87b972c396dbd749330f8467905525fb">current</a> + asize &lt; c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a208580aad959adc62c2b16ae92637d1f">assigned</a>) {</div>
<div class="line"><span class="lineno"> 1086</span>                <a class="code hl_define" href="../../d0/d5f/mstp_8h.html#a4a0bdba8e340fd54347bb8dfef68765f">assign</a>-&gt;assigned = <a class="code hl_variable" href="../../d2/ddd/interface-event_8c.html#a87b972c396dbd749330f8467905525fb">current</a>;</div>
<div class="line"><span class="lineno"> 1087</span>                <a class="code hl_function" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1">list_add_tail</a>(&amp;<a class="code hl_define" href="../../d0/d5f/mstp_8h.html#a4a0bdba8e340fd54347bb8dfef68765f">assign</a>-&gt;head, &amp;c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa5681727f93eb7df55b3527eb531cbf3">head</a>);</div>
<div class="line"><span class="lineno"> 1088</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1089</span>            }</div>
<div class="line"><span class="lineno"> 1090</span>        }</div>
<div class="line"><span class="lineno"> 1091</span>        <a class="code hl_variable" href="../../d2/ddd/interface-event_8c.html#a87b972c396dbd749330f8467905525fb">current</a> = (c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a208580aad959adc62c2b16ae92637d1f">assigned</a> + (1 &lt;&lt; (64 - c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ad3f333f5cf7a6313124c4aa02c97ed81">length</a>)));</div>
<div class="line"><span class="lineno"> 1092</span>    }</div>
<div class="line"><span class="lineno"> 1093</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1094</span>}</div>
<div class="ttc" id="ainterface-event_8c_html_a87b972c396dbd749330f8467905525fb"><div class="ttname"><a href="../../d2/ddd/interface-event_8c.html#a87b972c396dbd749330f8467905525fb">current</a></div><div class="ttdeci">static struct interface * current</div><div class="ttdef"><b>Definition</b> <a href="../../d2/ddd/interface-event_8c_source.html#l00025">interface-event.c:25</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a208580aad959adc62c2b16ae92637d1f"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a208580aad959adc62c2b16ae92637d1f">device_prefix_assignment::assigned</a></div><div class="ttdeci">int32_t assigned</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00066">interface-ip.h:66</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_ad3f333f5cf7a6313124c4aa02c97ed81"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#ad3f333f5cf7a6313124c4aa02c97ed81">device_prefix_assignment::length</a></div><div class="ttdeci">uint8_t length</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00067">interface-ip.h:67</a></div></div>
<div class="ttc" id="alist_8h_html_a5f3c4582c49b990c9fb4f5c83f8400d1"><div class="ttname"><a href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1">list_add_tail</a></div><div class="ttdeci">static void list_add_tail(struct list_head *_new, struct list_head *head)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00165">list.h:165</a></div></div>
<div class="ttc" id="amstp_8h_html_a4a0bdba8e340fd54347bb8dfef68765f"><div class="ttname"><a href="../../d0/d5f/mstp_8h.html#a4a0bdba8e340fd54347bb8dfef68765f">assign</a></div><div class="ttdeci">#define assign(x, y)</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d5f/mstp_8h_source.html#l00032">mstp.h:32</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d5f/mstp_8h_source.html#l00032">assign</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00066">device_prefix_assignment::assigned</a>, <a class="el" href="../../d2/ddd/interface-event_8c_source.html#l00025">current</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00065">device_prefix_assignment::head</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00067">device_prefix_assignment::length</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00165">list_add_tail()</a>, and <a class="el" href="../../da/d23/list_8h_source.html#l00132">list_for_each_entry</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01115">interface_update_prefix_assignments()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_ad2fa2d0aea44b9538daad403462e71e5_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_ad2fa2d0aea44b9538daad403462e71e5_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_ad2fa2d0aea44b9538daad403462e71e5_cgraph" id="adc/df0/interface-ip_8c_ad2fa2d0aea44b9538daad403462e71e5_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,240,39"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="288,5,417,39"/>
<area shape="poly" title=" " alt="" coords="240,20,272,20,272,25,240,25"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="465,5,566,39"/>
<area shape="poly" title=" " alt="" coords="418,20,449,20,449,25,418,25"/>
</map>
</div>

</div>
</div>
<a id="a1ec233883b0c5916c7ea200074f9b406" name="a1ec233883b0c5916c7ea200074f9b406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ec233883b0c5916c7ea200074f9b406">&#9670;&#160;</a></span>interface_refresh_assignments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interface_refresh_assignments </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>hint</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01252">1252</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1253</span>{</div>
<div class="line"><span class="lineno"> 1254</span>    <span class="keyword">static</span> <span class="keywordtype">bool</span> refresh = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1255</span>    <span class="keywordflow">if</span> (!hint &amp;&amp; refresh) {</div>
<div class="line"><span class="lineno"> 1256</span>        <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a> *p;</div>
<div class="line"><span class="lineno"> 1257</span>        time_t now = <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3">system_get_rtime</a>();</div>
<div class="line"><span class="lineno"> 1258</span> </div>
<div class="line"><span class="lineno"> 1259</span>        <a class="code hl_define" href="../../da/d23/list_8h.html#a6b4019bb70de70adc3caddbe3a024c27">list_for_each_entry</a>(p, &amp;<a class="code hl_variable" href="#a1a2b88a3a6afbd3fd0acd37507e4d5d6">prefixes</a>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a210fa46a134990396e88b41708a75205">head</a>) {</div>
<div class="line"><span class="lineno"> 1260</span>            <span class="keywordtype">bool</span> valid = !(p-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1aeecf819584c23f510369b2edb3160f">valid_until</a> &amp;&amp; p-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1aeecf819584c23f510369b2edb3160f">valid_until</a> - 1 &lt;= now);</div>
<div class="line"><span class="lineno"> 1261</span> </div>
<div class="line"><span class="lineno"> 1262</span>            <a class="code hl_function" href="#afa4013a5a375dedce7a1d26deaf9addf">interface_update_prefix_assignments</a>(p, valid);</div>
<div class="line"><span class="lineno"> 1263</span>        }</div>
<div class="line"><span class="lineno"> 1264</span>    }</div>
<div class="line"><span class="lineno"> 1265</span>    refresh = hint;</div>
<div class="line"><span class="lineno"> 1266</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_afa4013a5a375dedce7a1d26deaf9addf"><div class="ttname"><a href="#afa4013a5a375dedce7a1d26deaf9addf">interface_update_prefix_assignments</a></div><div class="ttdeci">static void interface_update_prefix_assignments(struct device_prefix *prefix, bool setup)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l01115">interface-ip.c:1115</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a210fa46a134990396e88b41708a75205"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a210fa46a134990396e88b41708a75205">device_prefix::head</a></div><div class="ttdeci">struct list_head head</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00076">interface-ip.h:76</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00076">device_prefix::head</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01115">interface_update_prefix_assignments()</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00132">list_for_each_entry</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00094">prefixes</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00328">system_get_rtime()</a>, and <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00079">device_prefix::valid_until</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d65/netifd_2config_8c_source.html#l00846">config_init_all()</a>, and <a class="el" href="../../dd/dda/interface_8c_source.html#l00552">interface_merge_assignment_data()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a1ec233883b0c5916c7ea200074f9b406_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a1ec233883b0c5916c7ea200074f9b406_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a1ec233883b0c5916c7ea200074f9b406_cgraph" id="adc/df0/interface-ip_8c_a1ec233883b0c5916c7ea200074f9b406_cgraph">
<area shape="rect" title=" " alt="" coords="5,1075,310,1108"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#afa4013a5a375dedce7a1d26deaf9addf" title=" " alt="" coords="358,666,597,723"/>
<area shape="poly" title=" " alt="" coords="170,1073,442,733,446,736,175,1076"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3" title=" " alt="" coords="969,1417,1155,1451"/>
<area shape="poly" title=" " alt="" coords="196,1106,317,1162,497,1240,711,1326,934,1404,958,1410,957,1416,933,1409,709,1331,494,1245,314,1167,194,1111"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="708,240,822,274"/>
<area shape="poly" title=" " alt="" coords="495,664,742,285,747,288,500,667"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1278,169,1363,203"/>
<area shape="poly" title=" " alt="" coords="477,665,486,578,495,521,510,459,531,395,560,333,597,275,643,226,678,199,716,177,756,160,798,146,885,130,973,125,1058,130,1138,140,1263,167,1262,172,1137,145,1058,135,973,131,885,135,799,151,758,165,719,182,681,203,647,229,601,278,565,335,536,397,515,460,501,522,491,579,482,665"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="722,789,808,823"/>
<area shape="poly" title=" " alt="" coords="529,721,585,749,646,776,708,793,706,798,644,781,582,754,527,725"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="710,472,820,506"/>
<area shape="poly" title=" " alt="" coords="517,663,726,513,729,517,520,667"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1274,569,1367,603"/>
<area shape="poly" title=" " alt="" coords="598,700,750,706,922,707,1005,704,1080,697,1143,686,1189,670,1205,658,1213,644,1222,628,1237,612,1258,600,1261,605,1240,616,1226,631,1218,646,1209,662,1192,675,1144,691,1080,702,1005,709,922,713,750,712,597,705"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad2fa2d0aea44b9538daad403462e71e5" title=" " alt="" coords="648,732,882,766"/>
<area shape="poly" title=" " alt="" coords="598,714,659,726,658,731,597,720"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#abaaced56b3a208f7cc76ce6723abce07" title=" " alt="" coords="664,1090,866,1147"/>
<area shape="poly" title=" " alt="" coords="500,721,738,1075,734,1078,496,724"/>
<area shape="rect" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad" title=" " alt="" coords="960,844,1164,878"/>
<area shape="poly" title=" " alt="" coords="504,721,564,781,603,810,646,833,721,856,799,868,875,872,944,870,944,876,875,877,798,873,719,861,644,838,600,815,560,785,500,725"/>
<area shape="rect" href="../../da/d23/list_8h.html#a6ff0e5eee443d7b27def83827340634d" title=" " alt="" coords="707,16,823,50"/>
<area shape="poly" title=" " alt="" coords="480,665,499,535,533,353,555,260,581,175,611,106,626,79,643,59,665,44,691,35,692,40,668,48,647,63,631,82,615,108,586,177,561,262,538,354,504,536,485,666"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a183ee1b93d937be80c81ac51c8411049" title=" " alt="" coords="645,73,885,107"/>
<area shape="poly" title=" " alt="" coords="475,665,480,564,488,495,501,419,522,340,551,262,591,189,616,155,643,124,657,113,661,117,647,128,620,159,596,192,556,264,527,342,506,420,493,496,485,564,481,665"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="969,73,1155,107"/>
<area shape="poly" title=" " alt="" coords="796,237,1015,113,1018,117,798,242"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="1013,297,1111,331"/>
<area shape="poly" title=" " alt="" coords="823,265,998,299,997,304,822,270"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="999,183,1125,216"/>
<area shape="poly" title=" " alt="" coords="822,243,983,212,984,217,823,248"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="1005,240,1119,274"/>
<area shape="poly" title=" " alt="" coords="823,254,989,254,989,260,823,260"/>
<area shape="poly" title=" " alt="" coords="1016,74,1011,64,1018,55,1035,49,1062,47,1091,49,1108,55,1106,60,1090,54,1062,52,1036,54,1021,59,1016,64,1021,72"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="1249,5,1392,39"/>
<area shape="poly" title=" " alt="" coords="1128,70,1238,41,1239,46,1129,75"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="1239,87,1402,120"/>
<area shape="poly" title=" " alt="" coords="1156,92,1223,96,1223,101,1155,98"/>
<area shape="poly" title=" " alt="" coords="1287,87,1284,77,1289,68,1301,62,1320,60,1341,63,1353,69,1350,74,1339,68,1320,65,1303,67,1292,72,1289,78,1292,85"/>
<area shape="poly" title=" " alt="" coords="1125,194,1262,186,1263,192,1125,199"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1454,169,1548,203"/>
<area shape="poly" title=" " alt="" coords="1363,184,1438,184,1438,189,1363,189"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="978,787,1146,820"/>
<area shape="poly" title=" " alt="" coords="809,803,962,802,962,807,809,808"/>
<area shape="poly" title=" " alt="" coords="780,470,843,410,886,377,932,348,964,334,997,324,999,329,966,339,935,353,889,381,846,414,784,474"/>
<area shape="poly" title=" " alt="" coords="773,471,795,431,831,380,876,327,903,303,932,283,960,269,989,261,991,266,962,274,935,287,906,307,880,331,835,383,800,434,777,473"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="997,512,1127,546"/>
<area shape="poly" title=" " alt="" coords="821,494,982,515,981,521,820,499"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="981,569,1143,603"/>
<area shape="poly" title=" " alt="" coords="804,504,864,530,934,556,966,565,965,570,933,561,862,535,802,509"/>
<area shape="poly" title=" " alt="" coords="787,469,849,428,890,407,933,392,1005,372,1065,360,1094,360,1124,365,1156,375,1192,392,1215,407,1236,426,1270,469,1295,514,1311,554,1306,556,1290,517,1265,472,1232,429,1212,411,1189,396,1154,380,1123,370,1094,365,1066,366,1007,377,934,397,892,412,852,432,790,474"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="973,627,1151,660"/>
<area shape="poly" title=" " alt="" coords="786,504,848,558,890,588,934,613,959,623,957,628,932,618,887,593,845,563,782,508"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="1000,431,1124,464"/>
<area shape="poly" title=" " alt="" coords="820,479,985,455,986,461,821,484"/>
<area shape="poly" title=" " alt="" coords="1016,513,1011,503,1018,493,1035,487,1062,485,1091,488,1108,494,1106,499,1090,493,1062,491,1036,493,1021,498,1016,503,1021,510"/>
<area shape="poly" title=" " alt="" coords="1144,584,1259,584,1259,589,1144,589"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1450,597,1551,631"/>
<area shape="poly" title=" " alt="" coords="1367,591,1435,601,1434,607,1367,596"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1256,627,1385,660"/>
<area shape="poly" title=" " alt="" coords="1152,641,1240,641,1240,646,1152,646"/>
<area shape="poly" title=" " alt="" coords="1385,630,1434,622,1435,627,1386,636"/>
<area shape="poly" title=" " alt="" coords="1016,432,1011,421,1018,412,1035,406,1062,404,1091,406,1108,413,1106,418,1090,412,1062,409,1036,411,1021,416,1016,422,1021,429"/>
<area shape="poly" title=" " alt="" coords="883,751,953,750,1031,744,1112,733,1190,714,1239,693,1282,667,1285,672,1242,698,1192,719,1113,738,1032,750,954,755,883,756"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="992,1073,1132,1107"/>
<area shape="poly" title=" " alt="" coords="867,1106,976,1096,977,1101,867,1111"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7e8a1089df00d795d915595e2e7eaa96" title=" " alt="" coords="975,1131,1149,1164"/>
<area shape="poly" title=" " alt="" coords="867,1126,960,1135,959,1140,867,1131"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a8642e113840ee637f7d57e5efb5f02fe" title=" " alt="" coords="941,1188,1183,1222"/>
<area shape="poly" title=" " alt="" coords="844,1145,934,1174,960,1181,959,1186,933,1179,842,1150"/>
<area shape="poly" title=" " alt="" coords="777,1088,800,1043,833,988,878,933,904,908,932,887,944,880,947,884,935,891,907,912,882,936,838,991,804,1046,781,1091"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac1e6968392107ab1704c592a2270ee2f" title=" " alt="" coords="958,1245,1166,1279"/>
<area shape="poly" title=" " alt="" coords="801,1145,861,1190,897,1213,934,1232,949,1237,947,1242,932,1237,894,1217,858,1194,798,1149"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf" title=" " alt="" coords="955,1303,1169,1336"/>
<area shape="poly" title=" " alt="" coords="788,1145,813,1179,847,1218,888,1257,935,1289,944,1294,941,1299,932,1294,885,1261,844,1222,809,1182,783,1148"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="967,1360,1157,1394"/>
<area shape="poly" title=" " alt="" coords="786,1146,858,1258,900,1312,935,1347,954,1357,952,1362,932,1351,896,1316,854,1261,782,1149"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a753fba8c387cd70d67f154f1d26c3946" title=" " alt="" coords="958,901,1166,935"/>
<area shape="poly" title=" " alt="" coords="784,1088,810,1054,844,1015,885,976,932,944,943,939,945,943,935,948,889,980,848,1019,814,1057,788,1091"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="971,959,1153,992"/>
<area shape="poly" title=" " alt="" coords="798,1087,858,1043,894,1020,932,1001,955,993,957,998,934,1006,897,1025,861,1047,802,1091"/>
<area shape="poly" title=" " alt="" coords="789,1145,836,1216,888,1302,900,1333,906,1359,915,1382,935,1404,956,1417,953,1421,932,1408,910,1384,901,1360,895,1335,883,1305,831,1219,784,1148"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a6624a98fc17593f67a43a6fbb15d4c49" title=" " alt="" coords="933,1016,1191,1050"/>
<area shape="poly" title=" " alt="" coords="844,1087,933,1058,960,1051,961,1056,934,1063,846,1092"/>
</map>
</div>

</div>
</div>
<a id="abaaced56b3a208f7cc76ce6723abce07" name="abaaced56b3a208f7cc76ce6723abce07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaaced56b3a208f7cc76ce6723abce07">&#9670;&#160;</a></span>interface_set_prefix_address()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interface_set_prefix_address </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d6/d38/structdevice__prefix__assignment">device_prefix_assignment</a> *</td>          <td class="paramname"><span class="paramname"><em>assignment</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a> *</td>          <td class="paramname"><span class="paramname"><em>prefix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *</td>          <td class="paramname"><span class="paramname"><em>iface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>add</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00960">960</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  962</span>{</div>
<div class="line"><span class="lineno">  963</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *uplink = prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>;</div>
<div class="line"><span class="lineno">  964</span>    <span class="keywordflow">if</span> (!iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a>)</div>
<div class="line"><span class="lineno">  965</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  966</span> </div>
<div class="line"><span class="lineno">  967</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a> *l3_downlink = iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a>;</div>
<div class="line"><span class="lineno">  968</span> </div>
<div class="line"><span class="lineno">  969</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a> <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>;</div>
<div class="line"><span class="lineno">  970</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> route;</div>
<div class="line"><span class="lineno">  971</span>    memset(&amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>));</div>
<div class="line"><span class="lineno">  972</span>    memset(&amp;route, 0, <span class="keyword">sizeof</span>(route));</div>
<div class="line"><span class="lineno">  973</span> </div>
<div class="line"><span class="lineno">  974</span>    <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.addr.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ab1d6caa48549e17147d79c6c8d375eda">in6</a> = assignment-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a13cc3d2aaa775e5f45fdf745df18a833">addr</a>;</div>
<div class="line"><span class="lineno">  975</span>    <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.mask = assignment-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ad3f333f5cf7a6313124c4aa02c97ed81">length</a>;</div>
<div class="line"><span class="lineno">  976</span>    <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.flags = <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a>;</div>
<div class="line"><span class="lineno">  977</span>    <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.preferred_until = prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#accfba2fc8830d2702d0b8ec9bfe108d0">preferred_until</a>;</div>
<div class="line"><span class="lineno">  978</span>    <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.valid_until = prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1aeecf819584c23f510369b2edb3160f">valid_until</a>;</div>
<div class="line"><span class="lineno">  979</span> </div>
<div class="line"><span class="lineno">  980</span>    route.flags = <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a>;</div>
<div class="line"><span class="lineno">  981</span>    route.mask = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.mask &lt; 64 ? 64 : <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.mask;</div>
<div class="line"><span class="lineno">  982</span>    route.addr = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.addr;</div>
<div class="line"><span class="lineno">  983</span> </div>
<div class="line"><span class="lineno">  984</span>    <span class="keywordflow">if</span> (!add &amp;&amp; assignment-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa84ce32674884be33207e0ebf9e21271">enabled</a>) {</div>
<div class="line"><span class="lineno">  985</span>        time_t now = <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3">system_get_rtime</a>();</div>
<div class="line"><span class="lineno">  986</span> </div>
<div class="line"><span class="lineno">  987</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.valid_until &amp;&amp; <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.valid_until - 1 &lt;= now) {</div>
<div class="line"><span class="lineno">  988</span>            <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.valid_until = 0;</div>
<div class="line"><span class="lineno">  989</span>            <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.preferred_until = 0;</div>
<div class="line"><span class="lineno">  990</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  991</span>            <span class="comment">/* Address is still valid; pass its ownership to kernel (see L-14 RFC 7084). */</span></div>
<div class="line"><span class="lineno">  992</span>            <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.preferred_until = now;</div>
<div class="line"><span class="lineno">  993</span> </div>
<div class="line"><span class="lineno">  994</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.valid_until || <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.valid_until &gt; now + 7200)</div>
<div class="line"><span class="lineno">  995</span>                <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.valid_until = now + 7200;</div>
<div class="line"><span class="lineno">  996</span>        }</div>
<div class="line"><span class="lineno">  997</span> </div>
<div class="line"><span class="lineno">  998</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac14ccb7981d32e5fb90792e60ed64567">ip6table</a>)</div>
<div class="line"><span class="lineno">  999</span>            <a class="code hl_function" href="#ac1e6968392107ab1704c592a2270ee2f">set_ip_source_policy</a>(<span class="keyword">false</span>, <span class="keyword">true</span>, <a class="code hl_define" href="../../de/d40/iprule_8h.html#ad542abdb199bc23524ed13d560f06ca8">IPRULE_PRIORITY_ADDR_MASK</a>, &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.addr,</div>
<div class="line"><span class="lineno"> 1000</span>                    <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.mask &lt; 64 ? 64 : <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.mask, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac14ccb7981d32e5fb90792e60ed64567">ip6table</a>, NULL, NULL, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1001</span> </div>
<div class="line"><span class="lineno"> 1002</span>        <span class="keywordflow">if</span> (prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>) {</div>
<div class="line"><span class="lineno"> 1003</span>            <span class="keywordflow">if</span> (prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac14ccb7981d32e5fb90792e60ed64567">ip6table</a>)</div>
<div class="line"><span class="lineno"> 1004</span>                <a class="code hl_function" href="#ac1e6968392107ab1704c592a2270ee2f">set_ip_source_policy</a>(<span class="keyword">false</span>, <span class="keyword">true</span>, <a class="code hl_define" href="../../de/d40/iprule_8h.html#a6f4d0ecd3a9e06aa71aa1578abd191d0">IPRULE_PRIORITY_NW</a>, &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.addr,</div>
<div class="line"><span class="lineno"> 1005</span>                        <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.mask, prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac14ccb7981d32e5fb90792e60ed64567">ip6table</a>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>, NULL, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>            <a class="code hl_function" href="#ac1e6968392107ab1704c592a2270ee2f">set_ip_source_policy</a>(<span class="keyword">false</span>, <span class="keyword">true</span>, <a class="code hl_define" href="../../de/d40/iprule_8h.html#ae9edaf898d4ab3f563d31fe2554113a2">IPRULE_PRIORITY_REJECT</a>, &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.addr,</div>
<div class="line"><span class="lineno"> 1008</span>                            <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.mask, 0, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>, <span class="stringliteral">&quot;unreachable&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1009</span>        }</div>
<div class="line"><span class="lineno"> 1010</span> </div>
<div class="line"><span class="lineno"> 1011</span>        <a class="code hl_function" href="#a7785e8dd3f95af28a1d05a57b6d91226">clear_if_addr</a>(&amp;route.addr, route.mask);</div>
<div class="line"><span class="lineno"> 1012</span>        <a class="code hl_function" href="#a8642e113840ee637f7d57e5efb5f02fe">interface_set_route_info</a>(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>, &amp;route);</div>
<div class="line"><span class="lineno"> 1013</span> </div>
<div class="line"><span class="lineno"> 1014</span>        <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c">system_del_route</a>(l3_downlink, &amp;route);</div>
<div class="line"><span class="lineno"> 1015</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.valid_until)</div>
<div class="line"><span class="lineno"> 1016</span>            <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf">system_add_address</a>(l3_downlink, &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>);</div>
<div class="line"><span class="lineno"> 1017</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1018</span>            <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a753fba8c387cd70d67f154f1d26c3946">system_del_address</a>(l3_downlink, &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>);</div>
<div class="line"><span class="lineno"> 1019</span> </div>
<div class="line"><span class="lineno"> 1020</span>        assignment-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a13cc3d2aaa775e5f45fdf745df18a833">addr</a> = in6addr_any;</div>
<div class="line"><span class="lineno"> 1021</span>        assignment-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa84ce32674884be33207e0ebf9e21271">enabled</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1022</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (add &amp;&amp; (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#afadba4d9a3cb8e6e3138d97ff273b1b1">state</a> == <a class="code hl_enumvalue" href="../../d4/da9/interface_8h.html#a674a1a15cc57d4afc3a1a17514257a68aace55f381cc3303217492d5c10548a7a">IFS_UP</a> || <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#afadba4d9a3cb8e6e3138d97ff273b1b1">state</a> == <a class="code hl_enumvalue" href="../../d4/da9/interface_8h.html#a674a1a15cc57d4afc3a1a17514257a68a20ffb1eadea7f185125d7d531c751fe3">IFS_SETUP</a>)) {</div>
<div class="line"><span class="lineno"> 1023</span>        <span class="keywordflow">if</span> (IN6_IS_ADDR_UNSPECIFIED(&amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.addr.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ab1d6caa48549e17147d79c6c8d375eda">in6</a>)) {</div>
<div class="line"><span class="lineno"> 1024</span>            <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.addr.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ab1d6caa48549e17147d79c6c8d375eda">in6</a> = prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a043e5860a8b73d3c14410de8615afd60">addr</a>;</div>
<div class="line"><span class="lineno"> 1025</span>            <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.addr.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ab1d6caa48549e17147d79c6c8d375eda">in6</a>.s6_addr32[1] |= htonl(assignment-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a208580aad959adc62c2b16ae92637d1f">assigned</a>);</div>
<div class="line"><span class="lineno"> 1026</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a7e8a1089df00d795d915595e2e7eaa96">generate_ifaceid</a>(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>, &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.addr.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ab1d6caa48549e17147d79c6c8d375eda">in6</a>))</div>
<div class="line"><span class="lineno"> 1027</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1028</span> </div>
<div class="line"><span class="lineno"> 1029</span>            assignment-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a13cc3d2aaa775e5f45fdf745df18a833">addr</a> = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.addr.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ab1d6caa48549e17147d79c6c8d375eda">in6</a>;</div>
<div class="line"><span class="lineno"> 1030</span>            route.addr = <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.addr;</div>
<div class="line"><span class="lineno"> 1031</span>        }</div>
<div class="line"><span class="lineno"> 1032</span> </div>
<div class="line"><span class="lineno"> 1033</span>        <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.flags |= <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa02b351530caa741be98d22a4fa977ab5">DEVADDR_OFFLINK</a>;</div>
<div class="line"><span class="lineno"> 1034</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf">system_add_address</a>(l3_downlink, &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>))</div>
<div class="line"><span class="lineno"> 1035</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1036</span> </div>
<div class="line"><span class="lineno"> 1037</span>        <span class="keywordflow">if</span> (!assignment-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa84ce32674884be33207e0ebf9e21271">enabled</a>) {</div>
<div class="line"><span class="lineno"> 1038</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac14ccb7981d32e5fb90792e60ed64567">ip6table</a>)</div>
<div class="line"><span class="lineno"> 1039</span>                <a class="code hl_function" href="#ac1e6968392107ab1704c592a2270ee2f">set_ip_source_policy</a>(<span class="keyword">true</span>, <span class="keyword">true</span>, <a class="code hl_define" href="../../de/d40/iprule_8h.html#ad542abdb199bc23524ed13d560f06ca8">IPRULE_PRIORITY_ADDR_MASK</a>, &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.addr,</div>
<div class="line"><span class="lineno"> 1040</span>                        <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.mask &lt; 64 ? 64 : <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.mask, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac14ccb7981d32e5fb90792e60ed64567">ip6table</a>, NULL, NULL, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1041</span> </div>
<div class="line"><span class="lineno"> 1042</span>            <span class="keywordflow">if</span> (prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>) {</div>
<div class="line"><span class="lineno"> 1043</span>                <a class="code hl_function" href="#ac1e6968392107ab1704c592a2270ee2f">set_ip_source_policy</a>(<span class="keyword">true</span>, <span class="keyword">true</span>, <a class="code hl_define" href="../../de/d40/iprule_8h.html#ae9edaf898d4ab3f563d31fe2554113a2">IPRULE_PRIORITY_REJECT</a>, &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.addr,</div>
<div class="line"><span class="lineno"> 1044</span>                        <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.mask, 0, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>, <span class="stringliteral">&quot;unreachable&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1045</span> </div>
<div class="line"><span class="lineno"> 1046</span>                <span class="keywordflow">if</span> (prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac14ccb7981d32e5fb90792e60ed64567">ip6table</a>)</div>
<div class="line"><span class="lineno"> 1047</span>                    <a class="code hl_function" href="#ac1e6968392107ab1704c592a2270ee2f">set_ip_source_policy</a>(<span class="keyword">true</span>, <span class="keyword">true</span>, <a class="code hl_define" href="../../de/d40/iprule_8h.html#a6f4d0ecd3a9e06aa71aa1578abd191d0">IPRULE_PRIORITY_NW</a>, &amp;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.addr,</div>
<div class="line"><span class="lineno"> 1048</span>                            <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>.mask, prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac14ccb7981d32e5fb90792e60ed64567">ip6table</a>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>, NULL, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1049</span>            }</div>
<div class="line"><span class="lineno"> 1050</span>        }</div>
<div class="line"><span class="lineno"> 1051</span> </div>
<div class="line"><span class="lineno"> 1052</span>        <a class="code hl_function" href="#a7785e8dd3f95af28a1d05a57b6d91226">clear_if_addr</a>(&amp;route.addr, route.mask);</div>
<div class="line"><span class="lineno"> 1053</span>        <a class="code hl_function" href="#a8642e113840ee637f7d57e5efb5f02fe">interface_set_route_info</a>(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>, &amp;route);</div>
<div class="line"><span class="lineno"> 1054</span> </div>
<div class="line"><span class="lineno"> 1055</span>        <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f">system_add_route</a>(l3_downlink, &amp;route);</div>
<div class="line"><span class="lineno"> 1056</span> </div>
<div class="line"><span class="lineno"> 1057</span>        <span class="keywordflow">if</span> (uplink &amp;&amp; uplink-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a> &amp;&amp; !(l3_downlink-&gt;<a class="code hl_variable" href="../../db/de9/device_8h.html#a2ccf37999ddf5b884592437dfa7c2a0d">settings</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#ae9af1a2b6e65bea9acd70e5c31dbc0fe">flags</a> &amp; <a class="code hl_enumvalue" href="../../db/de9/device_8h.html#a6b7b47dd702d9e331586d485013fd1eaa2ff658894ab08f8b1221faa70f3b5b68">DEV_OPT_MTU6</a>)) {</div>
<div class="line"><span class="lineno"> 1058</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aea6471aa4613b3e7e9cb8bc029c1c5c2">mtu</a> = <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a6624a98fc17593f67a43a6fbb15d4c49">system_update_ipv6_mtu</a>(uplink-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a>, 0);</div>
<div class="line"><span class="lineno"> 1059</span>            <span class="keywordtype">int</span> mtu_old = <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a6624a98fc17593f67a43a6fbb15d4c49">system_update_ipv6_mtu</a>(l3_downlink, 0);</div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aea6471aa4613b3e7e9cb8bc029c1c5c2">mtu</a> &gt; 0 &amp;&amp; mtu_old != <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aea6471aa4613b3e7e9cb8bc029c1c5c2">mtu</a>) {</div>
<div class="line"><span class="lineno"> 1062</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a6624a98fc17593f67a43a6fbb15d4c49">system_update_ipv6_mtu</a>(l3_downlink, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aea6471aa4613b3e7e9cb8bc029c1c5c2">mtu</a>) &lt; 0 &amp;&amp; <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aea6471aa4613b3e7e9cb8bc029c1c5c2">mtu</a> &lt; mtu_old)</div>
<div class="line"><span class="lineno"> 1063</span>                    <a class="code hl_function" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad">netifd_log_message</a>(<a class="code hl_enumvalue" href="../../d3/d75/netifd_2netifd_8h.html#af9bdc3014f3d54c426b6d2df10de4960a83e54d43eb3fd145052377ecd43932a1">L_WARNING</a>, <span class="stringliteral">&quot;Failed to set IPv6 mtu to %d &quot;</span></div>
<div class="line"><span class="lineno"> 1064</span>                            <span class="stringliteral">&quot;on interface &#39;%s&#39;\n&quot;</span>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aea6471aa4613b3e7e9cb8bc029c1c5c2">mtu</a>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#aee0f8e8ed8b404d358a6da91196da0d9">name</a>);</div>
<div class="line"><span class="lineno"> 1065</span>            }</div>
<div class="line"><span class="lineno"> 1066</span>        }</div>
<div class="line"><span class="lineno"> 1067</span> </div>
<div class="line"><span class="lineno"> 1068</span>        assignment-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa84ce32674884be33207e0ebf9e21271">enabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1069</span>    }</div>
<div class="line"><span class="lineno"> 1070</span>}</div>
<div class="ttc" id="adevice_8h_html_a6b7b47dd702d9e331586d485013fd1eaa2ff658894ab08f8b1221faa70f3b5b68"><div class="ttname"><a href="../../db/de9/device_8h.html#a6b7b47dd702d9e331586d485013fd1eaa2ff658894ab08f8b1221faa70f3b5b68">DEV_OPT_MTU6</a></div><div class="ttdeci">@ DEV_OPT_MTU6</div><div class="ttdef"><b>Definition</b> <a href="../../db/de9/device_8h_source.html#l00119">device.h:119</a></div></div>
<div class="ttc" id="adevice_8h_html_ae9af1a2b6e65bea9acd70e5c31dbc0fe"><div class="ttname"><a href="../../db/de9/device_8h.html#ae9af1a2b6e65bea9acd70e5c31dbc0fe">device_settings::flags</a></div><div class="ttdeci">uint64_t flags</div><div class="ttdef"><b>Definition</b> <a href="../../db/de9/device_8h_source.html#l00189">device.h:189</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a7e8a1089df00d795d915595e2e7eaa96"><div class="ttname"><a href="#a7e8a1089df00d795d915595e2e7eaa96">generate_ifaceid</a></div><div class="ttdeci">static bool generate_ifaceid(struct interface *iface, struct in6_addr *addr)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00933">interface-ip.c:933</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a13cc3d2aaa775e5f45fdf745df18a833"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a13cc3d2aaa775e5f45fdf745df18a833">device_prefix_assignment::addr</a></div><div class="ttdeci">struct in6_addr addr</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00069">interface-ip.h:69</a></div></div>
<div class="ttc" id="ainterface_8h_html_a674a1a15cc57d4afc3a1a17514257a68a20ffb1eadea7f185125d7d531c751fe3"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a674a1a15cc57d4afc3a1a17514257a68a20ffb1eadea7f185125d7d531c751fe3">IFS_SETUP</a></div><div class="ttdeci">@ IFS_SETUP</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00036">interface.h:36</a></div></div>
<div class="ttc" id="aiprule_8h_html_a6f4d0ecd3a9e06aa71aa1578abd191d0"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a6f4d0ecd3a9e06aa71aa1578abd191d0">IPRULE_PRIORITY_NW</a></div><div class="ttdeci">#define IPRULE_PRIORITY_NW</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00022">iprule.h:22</a></div></div>
<div class="ttc" id="anetifd_2netifd_8h_html_a3ce86310645cf21bbece1e540c93a7ad"><div class="ttname"><a href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad">netifd_log_message</a></div><div class="ttdeci">void netifd_log_message(int priority, const char *format,...)</div></div>
<div class="ttc" id="anetifd_2netifd_8h_html_af9bdc3014f3d54c426b6d2df10de4960a83e54d43eb3fd145052377ecd43932a1"><div class="ttname"><a href="../../d3/d75/netifd_2netifd_8h.html#af9bdc3014f3d54c426b6d2df10de4960a83e54d43eb3fd145052377ecd43932a1">L_WARNING</a></div><div class="ttdeci">@ L_WARNING</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d75/netifd_2netifd_8h_source.html#l00059">netifd.h:59</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_a6624a98fc17593f67a43a6fbb15d4c49"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#a6624a98fc17593f67a43a6fbb15d4c49">system_update_ipv6_mtu</a></div><div class="ttdeci">int system_update_ipv6_mtu(struct device *dev, int mtu)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00348">system-dummy.c:348</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00150">device_addr::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00085">device_prefix::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00069">device_prefix_assignment::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00111">device_route::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00066">device_prefix_assignment::assigned</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00100">clear_if_addr()</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00184">device_user::dev</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00119">DEV_OPT_MTU6</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00022">DEVADDR_INET6</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00038">DEVADDR_OFFLINK</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00070">device_prefix_assignment::enabled</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00106">device_route::flags</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00189">device_settings::flags</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00933">generate_ifaceid()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00078">device_prefix::iface</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00093">device_route::iface</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00036">IFS_SETUP</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00037">IFS_UP</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00061">if_addr::in6</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00326">interface_set_route_info()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00161">interface::ip6table</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00021">IPRULE_PRIORITY_ADDR_MASK</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00022">IPRULE_PRIORITY_NW</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00023">IPRULE_PRIORITY_REJECT</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00145">interface::l3_dev</a>, <a class="el" href="../../d3/d75/netifd_2netifd_8h_source.html#l00059">L_WARNING</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00067">device_prefix_assignment::length</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00109">device_route::mask</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00100">device_route::mtu</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00109">interface::name</a>, <a class="el" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad">netifd_log_message()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00080">device_prefix::preferred_until</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00128">set_ip_source_policy()</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00294">device::settings</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00130">interface::state</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00201">system_add_address()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00263">system_add_route()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00206">system_del_address()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00268">system_del_route()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00328">system_get_rtime()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00348">system_update_ipv6_mtu()</a>, and <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00079">device_prefix::valid_until</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01655">interface_ip_set_enabled()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01287">interface_update_prefix()</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01115">interface_update_prefix_assignments()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_abaaced56b3a208f7cc76ce6723abce07_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_abaaced56b3a208f7cc76ce6723abce07_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_abaaced56b3a208f7cc76ce6723abce07_cgraph" id="adc/df0/interface-ip_8c_abaaced56b3a208f7cc76ce6723abce07_cgraph">
<area shape="rect" title=" " alt="" coords="5,281,208,337"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="315,5,454,39"/>
<area shape="poly" title=" " alt="" coords="113,279,131,228,159,166,200,102,225,73,254,48,275,36,299,28,300,33,278,41,257,52,229,77,204,105,164,168,136,230,118,281"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7e8a1089df00d795d915595e2e7eaa96" title=" " alt="" coords="297,63,472,96"/>
<area shape="poly" title=" " alt="" coords="118,279,139,239,169,192,208,145,254,105,281,92,284,97,257,110,211,148,173,195,144,242,123,281"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a8642e113840ee637f7d57e5efb5f02fe" title=" " alt="" coords="264,120,505,154"/>
<area shape="poly" title=" " alt="" coords="127,278,180,219,215,188,254,163,264,158,267,162,257,167,219,192,184,223,131,282"/>
<area shape="rect" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad" title=" " alt="" coords="282,177,487,211"/>
<area shape="poly" title=" " alt="" coords="147,278,197,247,255,220,273,213,274,218,257,225,200,252,150,282"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac1e6968392107ab1704c592a2270ee2f" title=" " alt="" coords="280,235,489,268"/>
<area shape="poly" title=" " alt="" coords="207,285,284,269,285,275,208,291"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf" title=" " alt="" coords="277,292,492,326"/>
<area shape="poly" title=" " alt="" coords="208,306,262,306,262,312,208,312"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="290,407,479,440"/>
<area shape="poly" title=" " alt="" coords="150,335,200,366,257,393,276,400,274,405,255,398,197,370,147,340"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a753fba8c387cd70d67f154f1d26c3946" title=" " alt="" coords="281,349,488,383"/>
<area shape="poly" title=" " alt="" coords="208,327,285,343,284,348,207,332"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="293,464,476,498"/>
<area shape="poly" title=" " alt="" coords="131,336,184,395,219,425,257,450,279,460,277,465,254,455,215,429,180,399,127,339"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3" title=" " alt="" coords="292,521,477,555"/>
<area shape="poly" title=" " alt="" coords="123,336,144,376,173,423,211,469,257,508,279,519,276,524,254,512,208,473,169,426,139,379,118,339"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a6624a98fc17593f67a43a6fbb15d4c49" title=" " alt="" coords="256,579,513,612"/>
<area shape="poly" title=" " alt="" coords="118,337,136,387,164,450,204,513,229,541,257,565,262,569,259,573,254,570,225,545,200,516,159,452,131,389,113,339"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a0a8ce678ad772000eb73db0e34b94d47" title=" " alt="" coords="602,23,745,56"/>
<area shape="poly" title=" " alt="" coords="472,65,586,49,587,54,472,70"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a31c0179736e6e3c8082c62eeae49d6a5" title=" " alt="" coords="592,80,755,114"/>
<area shape="poly" title=" " alt="" coords="472,82,576,88,576,94,472,87"/>
<area shape="rect" href="../../d5/d96/device_8c.html#ae3d0a25145a8e464a0b07931ddd0ac76" title=" " alt="" coords="841,23,1073,56"/>
<area shape="poly" title=" " alt="" coords="746,37,825,37,825,42,746,42"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#aee9e4cf147264086eb292977c8df60d1" title=" " alt="" coords="577,153,771,187"/>
<area shape="poly" title=" " alt="" coords="478,231,512,221,536,209,560,196,578,189,580,194,562,201,538,213,514,226,480,237"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#abcae62722c192dc27b24ea60cfdb3c77" title=" " alt="" coords="580,211,767,244"/>
<area shape="poly" title=" " alt="" coords="489,240,564,234,565,239,489,245"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a956997d89612ec8774b76854579547bf" title=" " alt="" coords="561,269,786,325"/>
<area shape="poly" title=" " alt="" coords="490,265,546,274,545,279,489,271"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#ac566620cf0a24b018d764ffbab2e539a" title=" " alt="" coords="564,349,783,383"/>
<area shape="poly" title=" " alt="" coords="473,324,571,343,570,348,472,329"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a7b2b1c8437df1396d066c3d37650f748" title=" " alt="" coords="834,349,1080,383"/>
<area shape="poly" title=" " alt="" coords="784,364,819,364,819,369,784,369"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af02c6a85ad946c9d5b7d06007d6768b0" title=" " alt="" coords="577,407,771,440"/>
<area shape="poly" title=" " alt="" coords="480,421,561,421,561,426,480,426"/>
<area shape="poly" title=" " alt="" coords="760,403,855,384,856,389,761,409"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a12404d32d3958a043ee78eece1e5045d" title=" " alt="" coords="849,407,1065,440"/>
<area shape="poly" title=" " alt="" coords="771,421,833,421,833,426,771,426"/>
<area shape="poly" title=" " alt="" coords="488,364,548,364,548,369,488,369"/>
<area shape="poly" title=" " alt="" coords="472,461,570,441,571,447,473,466"/>
</map>
</div>

</div>
</div>
<a id="a8642e113840ee637f7d57e5efb5f02fe" name="a8642e113840ee637f7d57e5efb5f02fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8642e113840ee637f7d57e5efb5f02fe">&#9670;&#160;</a></span>interface_set_route_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interface_set_route_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *</td>          <td class="paramname"><span class="paramname"><em>iface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> *</td>          <td class="paramname"><span class="paramname"><em>route</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00326">326</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  327</span>{</div>
<div class="line"><span class="lineno">  328</span>    <span class="keywordtype">bool</span> v6 = ((route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa40334f02660abdfc5b74e399dacdbfe8">DEVADDR_FAMILY</a>) == <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a>);</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>    <span class="keywordflow">if</span> (!iface)</div>
<div class="line"><span class="lineno">  331</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">if</span> (!(route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fadbb1af87e6a358d82767b6efda802122">DEVROUTE_METRIC</a>))</div>
<div class="line"><span class="lineno">  334</span>        route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#addc133ffe0c2217b51c5bed6dbe1369c">metric</a> = iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#adbb7ad89b817a388e9442e85f1e72cc8">metric</a>;</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>    <span class="keywordflow">if</span> (!(route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa0600b776c643bf2efb3120aded7833be">DEVROUTE_TABLE</a>)) {</div>
<div class="line"><span class="lineno">  337</span>        route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a29d36cd8867816724b5019d5855f91f8">table</a> = (v6) ? iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac14ccb7981d32e5fb90792e60ed64567">ip6table</a> : iface-&gt;ip4table;</div>
<div class="line"><span class="lineno">  338</span>        <span class="keywordflow">if</span> (route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a29d36cd8867816724b5019d5855f91f8">table</a>)</div>
<div class="line"><span class="lineno">  339</span>            route-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> |= <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa03fab8839971cdd7e78cc1822eac43c8">DEVROUTE_SRCTABLE</a>;</div>
<div class="line"><span class="lineno">  340</span>    }</div>
<div class="line"><span class="lineno">  341</span>}</div>
<div class="ttc" id="ainterface-ip_8h_html_adabef17e89cfe4c34933e5f4a7e0ea9fa03fab8839971cdd7e78cc1822eac43c8"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa03fab8839971cdd7e78cc1822eac43c8">DEVROUTE_SRCTABLE</a></div><div class="ttdeci">@ DEVROUTE_SRCTABLE</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00044">interface-ip.h:44</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00023">DEVADDR_FAMILY</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00022">DEVADDR_INET6</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00029">DEVROUTE_METRIC</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00044">DEVROUTE_SRCTABLE</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00041">DEVROUTE_TABLE</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00106">device_route::flags</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00160">interface::ip4table</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00161">interface::ip6table</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00107">device_route::metric</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00158">interface::metric</a>, and <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00108">device_route::table</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00595">interface_handle_subnet_route()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00402">interface_ip_add_route()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01630">interface_ip_set_route_enabled()</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00960">interface_set_prefix_address()</a>.</p>

</div>
</div>
<a id="a010f97e268812eceb52a258e7cb213f5" name="a010f97e268812eceb52a258e7cb213f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a010f97e268812eceb52a258e7cb213f5">&#9670;&#160;</a></span>interface_update_host_route()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interface_update_host_route </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d0/ddc/structvlist__tree">vlist_tree</a> *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *</td>          <td class="paramname"><span class="paramname"><em>node_new</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *</td>          <td class="paramname"><span class="paramname"><em>node_old</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00884">884</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  887</span>{</div>
<div class="line"><span class="lineno">  888</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface;</div>
<div class="line"><span class="lineno">  889</span> </div>
<div class="line"><span class="lineno">  890</span>    iface = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(tree, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a>, <a class="code hl_variable" href="../../d4/da9/interface_8h.html#afd6e136ad48740d7d0b675a8e65db363">host_routes</a>);</div>
<div class="line"><span class="lineno">  891</span>    <a class="code hl_function" href="#a0b1977f692eb2cca5a33580db8fa9cea">__interface_update_route</a>(&amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>, node_new, node_old);</div>
<div class="line"><span class="lineno">  892</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_a0b1977f692eb2cca5a33580db8fa9cea"><div class="ttname"><a href="#a0b1977f692eb2cca5a33580db8fa9cea">__interface_update_route</a></div><div class="ttdeci">static void __interface_update_route(struct interface_ip_settings *ip, struct vlist_node *node_new, struct vlist_node *node_old)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l00831">interface-ip.c:831</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00831">__interface_update_route()</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00155">interface::host_routes</a>, and <a class="el" href="../../d4/da9/interface_8h_source.html#l00153">interface::proto_ip</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01821">interface_ip_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a010f97e268812eceb52a258e7cb213f5_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a010f97e268812eceb52a258e7cb213f5_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a010f97e268812eceb52a258e7cb213f5_cgraph" id="adc/df0/interface-ip_8c_a010f97e268812eceb52a258e7cb213f5_cgraph">
<area shape="rect" title=" " alt="" coords="5,51,232,108"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a0b1977f692eb2cca5a33580db8fa9cea" title=" " alt="" coords="280,51,475,108"/>
<area shape="poly" title=" " alt="" coords="232,77,264,77,264,82,232,82"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad74f4a302c6f3336368d4129b31547ba" title=" " alt="" coords="548,5,688,39"/>
<area shape="poly" title=" " alt="" coords="475,54,532,40,533,45,476,59"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="523,63,712,96"/>
<area shape="poly" title=" " alt="" coords="475,77,507,77,507,82,475,82"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="527,120,709,154"/>
<area shape="poly" title=" " alt="" coords="476,100,530,113,529,118,475,105"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af02c6a85ad946c9d5b7d06007d6768b0" title=" " alt="" coords="760,92,955,126"/>
<area shape="poly" title=" " alt="" coords="713,88,745,92,745,98,712,94"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a7b2b1c8437df1396d066c3d37650f748" title=" " alt="" coords="1003,63,1248,96"/>
<area shape="poly" title=" " alt="" coords="955,96,987,92,987,97,956,101"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a12404d32d3958a043ee78eece1e5045d" title=" " alt="" coords="1017,120,1234,154"/>
<area shape="poly" title=" " alt="" coords="956,116,1002,121,1002,127,955,122"/>
<area shape="poly" title=" " alt="" coords="709,124,744,119,745,125,710,129"/>
</map>
</div>

</div>
</div>
<a id="adeaba893a4a1c7ca713a948b4d1972d6" name="adeaba893a4a1c7ca713a948b4d1972d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeaba893a4a1c7ca713a948b4d1972d6">&#9670;&#160;</a></span>interface_update_prefix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interface_update_prefix </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d0/ddc/structvlist__tree">vlist_tree</a> *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *</td>          <td class="paramname"><span class="paramname"><em>node_new</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *</td>          <td class="paramname"><span class="paramname"><em>node_old</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01287">1287</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1290</span>{</div>
<div class="line"><span class="lineno"> 1291</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a> *prefix_old, *prefix_new;</div>
<div class="line"><span class="lineno"> 1292</span>    prefix_old = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(node_old, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>);</div>
<div class="line"><span class="lineno"> 1293</span>    prefix_new = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(node_new, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>);</div>
<div class="line"><span class="lineno"> 1294</span> </div>
<div class="line"><span class="lineno"> 1295</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(tree, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a>, <a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac8c1ba6c32f0b815a0da4d8612d5adce">prefix</a>);</div>
<div class="line"><span class="lineno"> 1296</span>    <span class="keywordflow">if</span> (tree &amp;&amp; (!node_new || !node_old))</div>
<div class="line"><span class="lineno"> 1297</span>        ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#acf5a4a6d7b3c0312a60f705db327709b">updated</a> |= <a class="code hl_enumvalue" href="../../d4/da9/interface_8h.html#a072be7fe7b2d0e8d0ec60b07fe48b1f4aa27d9e4f5fada1e664db339d3bb32f44">IUF_PREFIX</a>;</div>
<div class="line"><span class="lineno"> 1298</span> </div>
<div class="line"><span class="lineno"> 1299</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> route;</div>
<div class="line"><span class="lineno"> 1300</span>    memset(&amp;route, 0, <span class="keyword">sizeof</span>(route));</div>
<div class="line"><span class="lineno"> 1301</span>    route.flags = <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a>;</div>
<div class="line"><span class="lineno"> 1302</span>    route.metric = INT32_MAX;</div>
<div class="line"><span class="lineno"> 1303</span>    route.mask = (node_new) ? prefix_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a06997e44cf444e928ee955f9c205a993">length</a> : prefix_old-&gt;length;</div>
<div class="line"><span class="lineno"> 1304</span>    route.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a043e5860a8b73d3c14410de8615afd60">addr</a>.in6 = (node_new) ? prefix_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a043e5860a8b73d3c14410de8615afd60">addr</a> : prefix_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>;</div>
<div class="line"><span class="lineno"> 1305</span> </div>
<div class="line"><span class="lineno"> 1306</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d6/d38/structdevice__prefix__assignment">device_prefix_assignment</a> *c;</div>
<div class="line"><span class="lineno"> 1307</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface;</div>
<div class="line"><span class="lineno"> 1308</span>    <span class="keywordtype">bool</span> new_valid = node_new &amp;&amp; !(prefix_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1aeecf819584c23f510369b2edb3160f">valid_until</a> &amp;&amp; prefix_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1aeecf819584c23f510369b2edb3160f">valid_until</a> - 1 &lt;= <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3">system_get_rtime</a>());</div>
<div class="line"><span class="lineno"> 1309</span> </div>
<div class="line"><span class="lineno"> 1310</span>    <span class="keywordflow">if</span> (node_old &amp;&amp; node_new) {</div>
<div class="line"><span class="lineno"> 1311</span>        <span class="comment">/* Move assignments and refresh addresses to update valid times */</span></div>
<div class="line"><span class="lineno"> 1312</span>        <a class="code hl_function" href="../../da/d23/list_8h.html#a0abd4b86ca9f97272fd1fc0e48d99c38">list_splice</a>(&amp;prefix_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a82473bb614beacfa32817d947577eb8d">assignments</a>, &amp;prefix_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a82473bb614beacfa32817d947577eb8d">assignments</a>);</div>
<div class="line"><span class="lineno"> 1313</span> </div>
<div class="line"><span class="lineno"> 1314</span>        <a class="code hl_define" href="../../da/d23/list_8h.html#a6b4019bb70de70adc3caddbe3a024c27">list_for_each_entry</a>(c, &amp;prefix_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a82473bb614beacfa32817d947577eb8d">assignments</a>, head)</div>
<div class="line"><span class="lineno"> 1315</span>            <span class="keywordflow">if</span> ((iface = <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#a891d2ceff87e91d9befdedd7142434cc">vlist_find</a>(&amp;<a class="code hl_variable" href="../../dd/dda/interface_8c.html#aa5c5af6c1895c4bf768815c8c5715bf2">interfaces</a>, c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a5764d07789245d07adb43b0975adc0d7">name</a>, iface, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>)))</div>
<div class="line"><span class="lineno"> 1316</span>                <a class="code hl_function" href="#abaaced56b3a208f7cc76ce6723abce07">interface_set_prefix_address</a>(c, prefix_new, iface, new_valid);</div>
<div class="line"><span class="lineno"> 1317</span> </div>
<div class="line"><span class="lineno"> 1318</span>        <span class="keywordflow">if</span> (prefix_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#accfba2fc8830d2702d0b8ec9bfe108d0">preferred_until</a> != prefix_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#accfba2fc8830d2702d0b8ec9bfe108d0">preferred_until</a> ||</div>
<div class="line"><span class="lineno"> 1319</span>                prefix_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1aeecf819584c23f510369b2edb3160f">valid_until</a> != prefix_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1aeecf819584c23f510369b2edb3160f">valid_until</a>)</div>
<div class="line"><span class="lineno"> 1320</span>            ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#acf5a4a6d7b3c0312a60f705db327709b">updated</a> |= <a class="code hl_enumvalue" href="../../d4/da9/interface_8h.html#a072be7fe7b2d0e8d0ec60b07fe48b1f4aa27d9e4f5fada1e664db339d3bb32f44">IUF_PREFIX</a>;</div>
<div class="line"><span class="lineno"> 1321</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node_new) {</div>
<div class="line"><span class="lineno"> 1322</span>        <span class="comment">/* Set null-route to avoid routing loops */</span></div>
<div class="line"><span class="lineno"> 1323</span>        <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f">system_add_route</a>(NULL, &amp;route);</div>
<div class="line"><span class="lineno"> 1324</span> </div>
<div class="line"><span class="lineno"> 1325</span>        <span class="keywordflow">if</span> (!prefix_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a> || !prefix_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>.<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a093795a88337cf3070a2f50a13cca687">no_delegation</a>)</div>
<div class="line"><span class="lineno"> 1326</span>            <a class="code hl_function" href="#afa4013a5a375dedce7a1d26deaf9addf">interface_update_prefix_assignments</a>(prefix_new, new_valid);</div>
<div class="line"><span class="lineno"> 1327</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node_old) {</div>
<div class="line"><span class="lineno"> 1328</span>        <span class="comment">/* Remove null-route */</span></div>
<div class="line"><span class="lineno"> 1329</span>        <a class="code hl_function" href="#afa4013a5a375dedce7a1d26deaf9addf">interface_update_prefix_assignments</a>(prefix_old, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1330</span>        <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c">system_del_route</a>(NULL, &amp;route);</div>
<div class="line"><span class="lineno"> 1331</span>    }</div>
<div class="line"><span class="lineno"> 1332</span> </div>
<div class="line"><span class="lineno"> 1333</span>    <span class="keywordflow">if</span> (node_old) {</div>
<div class="line"><span class="lineno"> 1334</span>        <span class="keywordflow">if</span> (prefix_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a210fa46a134990396e88b41708a75205">head</a>.<a class="code hl_variable" href="../../da/d23/list_8h.html#ac3b0ff0dfb978a0cfbdad6b9d19cdcfe">next</a>)</div>
<div class="line"><span class="lineno"> 1335</span>            <a class="code hl_function" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5">list_del</a>(&amp;prefix_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a210fa46a134990396e88b41708a75205">head</a>);</div>
<div class="line"><span class="lineno"> 1336</span>        free(prefix_old);</div>
<div class="line"><span class="lineno"> 1337</span>    }</div>
<div class="line"><span class="lineno"> 1338</span> </div>
<div class="line"><span class="lineno"> 1339</span>    <span class="keywordflow">if</span> (node_new &amp;&amp; (!prefix_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a> || !prefix_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a43aeea42f327b40bd930aea348f45cd3">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9bee13145e6a18ae256beb3069a8cc2d">proto_ip</a>.<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a093795a88337cf3070a2f50a13cca687">no_delegation</a>))</div>
<div class="line"><span class="lineno"> 1340</span>        <a class="code hl_function" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6">list_add</a>(&amp;prefix_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a210fa46a134990396e88b41708a75205">head</a>, &amp;<a class="code hl_variable" href="#a1a2b88a3a6afbd3fd0acd37507e4d5d6">prefixes</a>);</div>
<div class="line"><span class="lineno"> 1341</span> </div>
<div class="line"><span class="lineno"> 1342</span>}</div>
<div class="ttc" id="ainterface_8h_html_a072be7fe7b2d0e8d0ec60b07fe48b1f4aa27d9e4f5fada1e664db339d3bb32f44"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a072be7fe7b2d0e8d0ec60b07fe48b1f4aa27d9e4f5fada1e664db339d3bb32f44">IUF_PREFIX</a></div><div class="ttdeci">@ IUF_PREFIX</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00057">interface.h:57</a></div></div>
<div class="ttc" id="ainterface_8h_html_a093795a88337cf3070a2f50a13cca687"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a093795a88337cf3070a2f50a13cca687">interface_ip_settings::no_delegation</a></div><div class="ttdeci">bool no_delegation</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00080">interface.h:80</a></div></div>
<div class="ttc" id="alist_8h_html_a0abd4b86ca9f97272fd1fc0e48d99c38"><div class="ttname"><a href="../../da/d23/list_8h.html#a0abd4b86ca9f97272fd1fc0e48d99c38">list_splice</a></div><div class="ttdeci">static void list_splice(const struct list_head *list, struct list_head *head)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00203">list.h:203</a></div></div>
<div class="ttc" id="alist_8h_html_a875b53c95596d9e8df15ac54f6d24ae6"><div class="ttname"><a href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6">list_add</a></div><div class="ttdeci">static void list_add(struct list_head *_new, struct list_head *head)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00159">list.h:159</a></div></div>
<div class="ttc" id="alist_8h_html_ab1708206f0f7e0a56550b35372203ba5"><div class="ttname"><a href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5">list_del</a></div><div class="ttdeci">static void list_del(struct list_head *entry)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00096">list.h:96</a></div></div>
<div class="ttc" id="alist_8h_html_ac3b0ff0dfb978a0cfbdad6b9d19cdcfe"><div class="ttname"><a href="../../da/d23/list_8h.html#ac3b0ff0dfb978a0cfbdad6b9d19cdcfe">list_head::next</a></div><div class="ttdeci">struct list_head * next</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00054">list.h:54</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00085">device_prefix::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00111">device_route::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00077">device_prefix::assignments</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00022">DEVADDR_INET6</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00106">device_route::flags</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00076">device_prefix::head</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00078">device_prefix::iface</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00076">interface_ip_settings::iface</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00061">if_addr::in6</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00960">interface_set_prefix_address()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01115">interface_update_prefix_assignments()</a>, <a class="el" href="../../dd/dda/interface_8c_source.html#l00030">interfaces</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00057">IUF_PREFIX</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00086">device_prefix::length</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00159">list_add()</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00096">list_del()</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00132">list_for_each_entry</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00203">list_splice()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00109">device_route::mask</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00107">device_route::metric</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00071">device_prefix_assignment::name</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00054">list_head::next</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00080">interface_ip_settings::no_delegation</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00080">device_prefix::preferred_until</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00084">interface_ip_settings::prefix</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00094">prefixes</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00153">interface::proto_ip</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00263">system_add_route()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00268">system_del_route()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00328">system_get_rtime()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00132">interface::updated</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00079">device_prefix::valid_until</a>, and <a class="el" href="../../dd/d1d/vlist_8h_source.html#l00059">vlist_find</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01808">__interface_ip_init()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01345">interface_ip_add_device_prefix()</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01383">interface_ip_set_ula_prefix()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_adeaba893a4a1c7ca713a948b4d1972d6_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_adeaba893a4a1c7ca713a948b4d1972d6_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_adeaba893a4a1c7ca713a948b4d1972d6_cgraph" id="adc/df0/interface-ip_8c_adeaba893a4a1c7ca713a948b4d1972d6_cgraph">
<area shape="rect" title=" " alt="" coords="5,399,245,432"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#abaaced56b3a208f7cc76ce6723abce07" title=" " alt="" coords="599,338,801,395"/>
<area shape="poly" title=" " alt="" coords="245,403,584,373,584,379,246,408"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="902,5,1092,39"/>
<area shape="poly" title=" " alt="" coords="136,397,197,322,242,278,291,240,365,197,443,160,524,128,605,100,759,60,886,35,887,40,760,65,607,106,526,133,446,164,368,202,294,244,245,282,201,326,141,400"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="906,63,1088,96"/>
<area shape="poly" title=" " alt="" coords="149,396,212,355,291,310,448,239,574,192,702,152,868,105,894,98,895,103,869,110,703,157,575,197,450,244,294,315,215,359,152,400"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3" title=" " alt="" coords="904,120,1090,154"/>
<area shape="poly" title=" " alt="" coords="187,395,541,292,719,237,819,200,842,181,852,172,867,162,889,154,891,159,870,167,856,176,846,185,822,204,720,242,543,297,188,401"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#afa4013a5a375dedce7a1d26deaf9addf" title=" " alt="" coords="293,681,532,737"/>
<area shape="poly" title=" " alt="" coords="145,431,375,667,371,671,141,435"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1244,887,1329,920"/>
<area shape="poly" title=" " alt="" coords="130,433,137,520,147,582,161,653,182,728,211,802,248,874,295,938,328,972,359,998,390,1017,421,1031,491,1050,581,1069,734,1100,798,1108,858,1110,917,1106,979,1093,1047,1072,1125,1041,1166,1018,1203,989,1260,930,1264,934,1207,993,1169,1023,1127,1046,1049,1077,980,1098,918,1111,858,1116,798,1113,734,1105,579,1074,490,1056,419,1036,387,1022,356,1002,324,976,291,941,243,877,206,805,177,729,156,654,141,583,132,520,124,433"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="951,636,1043,670"/>
<area shape="poly" title=" " alt="" coords="245,417,371,430,520,456,597,475,675,500,751,531,822,568,838,582,847,596,855,610,870,623,902,637,936,645,935,650,900,642,867,627,851,613,842,599,834,585,819,572,748,536,673,505,596,480,518,461,370,435,245,422"/>
<area shape="rect" href="../../da/d23/list_8h.html#a0abd4b86ca9f97272fd1fc0e48d99c38" title=" " alt="" coords="357,893,468,927"/>
<area shape="poly" title=" " alt="" coords="136,432,197,565,243,656,295,747,344,820,390,880,385,883,340,823,290,750,239,659,192,567,131,434"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="927,349,1067,383"/>
<area shape="poly" title=" " alt="" coords="802,364,911,364,911,369,802,369"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7e8a1089df00d795d915595e2e7eaa96" title=" " alt="" coords="910,177,1084,211"/>
<area shape="poly" title=" " alt="" coords="741,335,818,274,841,245,851,232,867,220,894,207,896,212,870,224,854,236,845,248,822,277,745,339"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a8642e113840ee637f7d57e5efb5f02fe" title=" " alt="" coords="876,464,1118,498"/>
<area shape="poly" title=" " alt="" coords="750,393,806,423,869,450,889,457,887,462,867,455,804,428,748,397"/>
<area shape="rect" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad" title=" " alt="" coords="895,579,1099,612"/>
<area shape="poly" title=" " alt="" coords="750,393,788,422,822,458,838,488,844,516,851,541,858,553,870,565,882,574,879,578,867,570,854,557,846,543,839,517,833,490,818,461,784,426,747,397"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac1e6968392107ab1704c592a2270ee2f" title=" " alt="" coords="893,235,1101,268"/>
<area shape="poly" title=" " alt="" coords="748,335,804,305,867,277,887,271,889,276,869,282,806,309,750,340"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf" title=" " alt="" coords="890,407,1104,440"/>
<area shape="poly" title=" " alt="" coords="802,383,892,401,891,406,801,388"/>
<area shape="poly" title=" " alt="" coords="705,337,723,276,755,197,776,156,802,116,832,80,867,48,887,36,889,41,870,52,836,83,806,119,781,159,760,199,728,277,711,338"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a753fba8c387cd70d67f154f1d26c3946" title=" " alt="" coords="893,521,1101,555"/>
<area shape="poly" title=" " alt="" coords="743,393,822,458,845,485,854,497,870,508,880,513,878,518,867,512,851,501,841,489,818,461,740,397"/>
<area shape="poly" title=" " alt="" coords="722,336,768,275,818,201,830,174,837,150,846,127,867,105,890,92,893,96,870,110,851,130,842,151,835,175,823,203,773,278,727,339"/>
<area shape="poly" title=" " alt="" coords="749,335,785,308,818,274,833,244,839,217,846,190,854,176,867,163,888,149,891,154,870,167,858,179,850,192,844,218,838,246,822,277,789,312,752,339"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a6624a98fc17593f67a43a6fbb15d4c49" title=" " alt="" coords="868,292,1126,326"/>
<area shape="poly" title=" " alt="" coords="801,344,891,327,892,332,802,349"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a0a8ce678ad772000eb73db0e34b94d47" title=" " alt="" coords="1215,108,1358,142"/>
<area shape="poly" title=" " alt="" coords="1080,174,1125,164,1173,150,1200,143,1201,148,1174,155,1126,169,1082,179"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a31c0179736e6e3c8082c62eeae49d6a5" title=" " alt="" coords="1205,165,1368,199"/>
<area shape="poly" title=" " alt="" coords="1085,188,1189,184,1189,189,1085,193"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#aee9e4cf147264086eb292977c8df60d1" title=" " alt="" coords="1189,304,1384,338"/>
<area shape="poly" title=" " alt="" coords="1081,266,1126,277,1205,297,1203,302,1125,282,1079,272"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#abcae62722c192dc27b24ea60cfdb3c77" title=" " alt="" coords="1193,361,1380,395"/>
<area shape="poly" title=" " alt="" coords="1103,264,1127,277,1144,295,1152,314,1160,331,1175,348,1181,352,1178,356,1172,352,1155,334,1147,316,1140,298,1124,282,1100,269"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a956997d89612ec8774b76854579547bf" title=" " alt="" coords="1174,223,1399,280"/>
<area shape="poly" title=" " alt="" coords="1102,249,1158,249,1158,254,1102,254"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#ac566620cf0a24b018d764ffbab2e539a" title=" " alt="" coords="1177,471,1396,504"/>
<area shape="poly" title=" " alt="" coords="1079,438,1126,449,1194,464,1193,469,1125,454,1078,444"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af02c6a85ad946c9d5b7d06007d6768b0" title=" " alt="" coords="1189,28,1384,62"/>
<area shape="poly" title=" " alt="" coords="1092,27,1174,33,1174,39,1092,32"/>
<area shape="poly" title=" " alt="" coords="1097,518,1171,505,1172,510,1097,523"/>
<area shape="poly" title=" " alt="" coords="1088,66,1173,56,1174,61,1089,71"/>
<area shape="poly" title=" " alt="" coords="435,679,663,405,667,408,440,682"/>
<area shape="poly" title=" " alt="" coords="435,679,461,650,495,619,535,590,579,568,645,551,698,551,752,559,821,568,880,574,879,579,820,573,752,564,698,556,645,556,581,573,538,594,498,623,465,654,438,682"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="643,749,757,783"/>
<area shape="poly" title=" " alt="" coords="533,730,628,749,627,754,532,735"/>
<area shape="poly" title=" " alt="" coords="462,735,518,766,581,793,647,810,701,816,755,823,821,844,836,852,846,861,855,869,869,876,916,889,966,899,1064,909,1155,910,1228,907,1229,912,1155,915,1064,914,965,904,915,894,867,881,852,873,842,865,833,856,819,849,754,828,701,821,646,816,579,798,515,770,459,740"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="657,859,743,892"/>
<area shape="poly" title=" " alt="" coords="445,736,505,787,542,814,581,837,643,861,641,866,579,842,539,818,502,791,441,740"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="645,692,755,726"/>
<area shape="poly" title=" " alt="" coords="533,706,630,706,630,712,533,712"/>
<area shape="poly" title=" " alt="" coords="532,684,580,677,774,660,935,652,935,657,775,665,580,682,533,689"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad2fa2d0aea44b9538daad403462e71e5" title=" " alt="" coords="583,916,817,950"/>
<area shape="poly" title=" " alt="" coords="432,736,457,774,491,820,533,865,581,903,589,907,586,912,579,907,529,869,486,823,452,777,428,739"/>
<area shape="rect" href="../../da/d23/list_8h.html#a6ff0e5eee443d7b27def83827340634d" title=" " alt="" coords="939,997,1055,1031"/>
<area shape="poly" title=" " alt="" coords="437,736,534,879,547,904,554,925,563,943,581,960,607,972,643,982,734,997,834,1006,923,1010,923,1015,833,1011,733,1002,642,987,605,977,579,964,559,946,549,927,542,906,530,882,432,739"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a183ee1b93d937be80c81ac51c8411049" title=" " alt="" coords="580,583,820,616"/>
<area shape="poly" title=" " alt="" coords="474,677,579,633,621,619,623,624,581,638,476,682"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="904,775,1090,808"/>
<area shape="poly" title=" " alt="" coords="758,768,889,780,889,785,758,774"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="948,693,1046,727"/>
<area shape="poly" title=" " alt="" coords="757,753,932,720,933,725,758,758"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="934,832,1060,866"/>
<area shape="poly" title=" " alt="" coords="758,780,821,800,869,818,920,831,918,837,868,823,819,805,757,785"/>
<area shape="poly" title=" " alt="" coords="946,776,940,765,948,756,967,750,997,748,1029,750,1048,757,1046,762,1028,756,997,753,968,755,951,760,945,766,950,773"/>
<area shape="poly" title=" " alt="" coords="1061,858,1229,890,1228,895,1060,863"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1447,887,1541,920"/>
<area shape="poly" title=" " alt="" coords="1329,901,1431,901,1431,906,1329,906"/>
<area shape="poly" title=" " alt="" coords="756,706,932,707,932,713,756,712"/>
<area shape="poly" title=" " alt="" coords="755,696,935,662,936,667,756,701"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1236,636,1337,670"/>
<area shape="poly" title=" " alt="" coords="1044,650,1220,650,1220,656,1044,656"/>
<area shape="rect" href="../../da/d23/list_8h.html#a1f27c370174f8a62e15d20ed5306fbf3" title=" " alt="" coords="641,1025,760,1059"/>
<area shape="poly" title=" " alt="" coords="441,925,503,964,581,1004,626,1020,625,1025,579,1009,501,968,438,930"/>
<area shape="poly" title=" " alt="" coords="760,1034,923,1018,924,1024,761,1039"/>
</map>
</div>

</div>
</div>
<a id="afa4013a5a375dedce7a1d26deaf9addf" name="afa4013a5a375dedce7a1d26deaf9addf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa4013a5a375dedce7a1d26deaf9addf">&#9670;&#160;</a></span>interface_update_prefix_assignments()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interface_update_prefix_assignments </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a> *</td>          <td class="paramname"><span class="paramname"><em>prefix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>setup</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01115">1115</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1116</span>{</div>
<div class="line"><span class="lineno"> 1117</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d6/d38/structdevice__prefix__assignment">device_prefix_assignment</a> *c;</div>
<div class="line"><span class="lineno"> 1118</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface;</div>
<div class="line"><span class="lineno"> 1119</span> </div>
<div class="line"><span class="lineno"> 1120</span>    <span class="comment">/* Delete all assignments */</span></div>
<div class="line"><span class="lineno"> 1121</span>    <span class="keywordflow">while</span> (!<a class="code hl_function" href="../../da/d23/list_8h.html#a6ff0e5eee443d7b27def83827340634d">list_empty</a>(&amp;prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a82473bb614beacfa32817d947577eb8d">assignments</a>)) {</div>
<div class="line"><span class="lineno"> 1122</span>        c = <a class="code hl_define" href="../../da/d23/list_8h.html#ae3d072a3707e0f1373a3d8fa5d4d3e1c">list_first_entry</a>(&amp;prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a82473bb614beacfa32817d947577eb8d">assignments</a>,</div>
<div class="line"><span class="lineno"> 1123</span>                <span class="keyword">struct</span> <a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d6/d38/structdevice__prefix__assignment">device_prefix_assignment</a>, head);</div>
<div class="line"><span class="lineno"> 1124</span>        <span class="keywordflow">if</span> ((iface = <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#a891d2ceff87e91d9befdedd7142434cc">vlist_find</a>(&amp;<a class="code hl_variable" href="../../dd/dda/interface_8c.html#aa5c5af6c1895c4bf768815c8c5715bf2">interfaces</a>, c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a5764d07789245d07adb43b0975adc0d7">name</a>, iface, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>)))</div>
<div class="line"><span class="lineno"> 1125</span>            <a class="code hl_function" href="#abaaced56b3a208f7cc76ce6723abce07">interface_set_prefix_address</a>(c, prefix, iface, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1126</span>        <a class="code hl_function" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5">list_del</a>(&amp;c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa5681727f93eb7df55b3527eb531cbf3">head</a>);</div>
<div class="line"><span class="lineno"> 1127</span>        free(c);</div>
<div class="line"><span class="lineno"> 1128</span>    }</div>
<div class="line"><span class="lineno"> 1129</span> </div>
<div class="line"><span class="lineno"> 1130</span>    <span class="keywordflow">if</span> (!setup)</div>
<div class="line"><span class="lineno"> 1131</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1132</span> </div>
<div class="line"><span class="lineno"> 1133</span>    <span class="comment">/* End-of-assignment sentinel */</span></div>
<div class="line"><span class="lineno"> 1134</span>    c = malloc(<span class="keyword">sizeof</span>(*c) + 1);</div>
<div class="line"><span class="lineno"> 1135</span>    <span class="keywordflow">if</span> (!c)</div>
<div class="line"><span class="lineno"> 1136</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1137</span> </div>
<div class="line"><span class="lineno"> 1138</span>    c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a208580aad959adc62c2b16ae92637d1f">assigned</a> = 1 &lt;&lt; (64 - prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a06997e44cf444e928ee955f9c205a993">length</a>);</div>
<div class="line"><span class="lineno"> 1139</span>    c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ad3f333f5cf7a6313124c4aa02c97ed81">length</a> = 64;</div>
<div class="line"><span class="lineno"> 1140</span>    c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a5764d07789245d07adb43b0975adc0d7">name</a>[0] = 0;</div>
<div class="line"><span class="lineno"> 1141</span>    c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a13cc3d2aaa775e5f45fdf745df18a833">addr</a> = in6addr_any;</div>
<div class="line"><span class="lineno"> 1142</span>    <a class="code hl_function" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6">list_add</a>(&amp;c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa5681727f93eb7df55b3527eb531cbf3">head</a>, &amp;prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a82473bb614beacfa32817d947577eb8d">assignments</a>);</div>
<div class="line"><span class="lineno"> 1143</span> </div>
<div class="line"><span class="lineno"> 1144</span>    <span class="comment">/* Excluded prefix */</span></div>
<div class="line"><span class="lineno"> 1145</span>    <span class="keywordflow">if</span> (prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abebf1cdf59fa3c889b716c76aba03f12">excl_length</a> &gt; 0) {</div>
<div class="line"><span class="lineno"> 1146</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="../../d4/da9/interface_8h.html#aee0f8e8ed8b404d358a6da91196da0d9">name</a>[] = <span class="stringliteral">&quot;!excluded&quot;</span>;</div>
<div class="line"><span class="lineno"> 1147</span>        c = malloc(<span class="keyword">sizeof</span>(*c) + <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../d4/da9/interface_8h.html#aee0f8e8ed8b404d358a6da91196da0d9">name</a>));</div>
<div class="line"><span class="lineno"> 1148</span>        <span class="keywordflow">if</span> (c) {</div>
<div class="line"><span class="lineno"> 1149</span>            c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a208580aad959adc62c2b16ae92637d1f">assigned</a> = ntohl(prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a466fce47226095aae47e2a8e0b24c10a">excl_addr</a>.s6_addr32[1]) &amp;</div>
<div class="line"><span class="lineno"> 1150</span>                    ((1 &lt;&lt; (64 - prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a06997e44cf444e928ee955f9c205a993">length</a>)) - 1);</div>
<div class="line"><span class="lineno"> 1151</span>            c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ad3f333f5cf7a6313124c4aa02c97ed81">length</a> = prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abebf1cdf59fa3c889b716c76aba03f12">excl_length</a>;</div>
<div class="line"><span class="lineno"> 1152</span>            c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a13cc3d2aaa775e5f45fdf745df18a833">addr</a> = in6addr_any;</div>
<div class="line"><span class="lineno"> 1153</span>            memcpy(c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a5764d07789245d07adb43b0975adc0d7">name</a>, <a class="code hl_variable" href="../../d4/da9/interface_8h.html#aee0f8e8ed8b404d358a6da91196da0d9">name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../d4/da9/interface_8h.html#aee0f8e8ed8b404d358a6da91196da0d9">name</a>));</div>
<div class="line"><span class="lineno"> 1154</span>            <a class="code hl_function" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6">list_add</a>(&amp;c-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa5681727f93eb7df55b3527eb531cbf3">head</a>, &amp;prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a82473bb614beacfa32817d947577eb8d">assignments</a>);</div>
<div class="line"><span class="lineno"> 1155</span>        }</div>
<div class="line"><span class="lineno"> 1156</span>    }</div>
<div class="line"><span class="lineno"> 1157</span> </div>
<div class="line"><span class="lineno"> 1158</span>    <span class="keywordtype">bool</span> assigned_any = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1159</span>    <span class="keyword">struct </span>{</div>
<div class="line"><span class="lineno"> 1160</span>        <span class="keyword">struct </span><a class="code hl_struct" href="../../d3/d51/avl_8h.html#d6/d44/structavl__node">avl_node</a> <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>;</div>
<div class="line"><span class="lineno"> 1161</span>    } *entry, *n_entry;</div>
<div class="line"><span class="lineno"> 1162</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d3/d51/avl_8h.html#dd/d4a/structavl__tree">avl_tree</a> assign_later;</div>
<div class="line"><span class="lineno"> 1163</span> </div>
<div class="line"><span class="lineno"> 1164</span>    <a class="code hl_function" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d">avl_init</a>(&amp;assign_later, <a class="code hl_function" href="#a183ee1b93d937be80c81ac51c8411049">prefix_assignment_cmp</a>, <span class="keyword">false</span>, NULL);</div>
<div class="line"><span class="lineno"> 1165</span> </div>
<div class="line"><span class="lineno"> 1166</span>    <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#add31e1f4b4f9662f592e61501aaca312">vlist_for_each_element</a>(&amp;<a class="code hl_variable" href="../../dd/dda/interface_8c.html#aa5c5af6c1895c4bf768815c8c5715bf2">interfaces</a>, iface, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>) {</div>
<div class="line"><span class="lineno"> 1167</span>        <span class="keywordflow">if</span> (iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ad8e9971be53e83e4d0ea9bb159f5cc74">assignment_length</a> &lt; 48 ||</div>
<div class="line"><span class="lineno"> 1168</span>                iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ad8e9971be53e83e4d0ea9bb159f5cc74">assignment_length</a> &gt; 64)</div>
<div class="line"><span class="lineno"> 1169</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1170</span> </div>
<div class="line"><span class="lineno"> 1171</span>        <span class="comment">/* Test whether there is a matching class */</span></div>
<div class="line"><span class="lineno"> 1172</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../da/d23/list_8h.html#a6ff0e5eee443d7b27def83827340634d">list_empty</a>(&amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a591ab964bfeb97ab3f15edfab22a260f">assignment_classes</a>)) {</div>
<div class="line"><span class="lineno"> 1173</span>            <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1174</span> </div>
<div class="line"><span class="lineno"> 1175</span>            <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d1/d31/structinterface__assignment__class">interface_assignment_class</a> *c;</div>
<div class="line"><span class="lineno"> 1176</span>            <a class="code hl_define" href="../../da/d23/list_8h.html#a6b4019bb70de70adc3caddbe3a024c27">list_for_each_entry</a>(c, &amp;iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a591ab964bfeb97ab3f15edfab22a260f">assignment_classes</a>, <a class="code hl_variable" href="../../d4/da9/interface_8h.html#a89740cb87c7d26a587103d4ab05ed4f7">head</a>) {</div>
<div class="line"><span class="lineno"> 1177</span>                <span class="keywordflow">if</span> (!strcmp(c-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ad1c857541dea1f17f4006d89f9247f4b">name</a>, prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a25c1f732c1d094b4e9ac4ad007234db6">pclass</a>)) {</div>
<div class="line"><span class="lineno"> 1178</span>                    found = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1179</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1180</span>                }</div>
<div class="line"><span class="lineno"> 1181</span>            }</div>
<div class="line"><span class="lineno"> 1182</span> </div>
<div class="line"><span class="lineno"> 1183</span>            <span class="keywordflow">if</span> (!found)</div>
<div class="line"><span class="lineno"> 1184</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1185</span>        }</div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>        <span class="keywordtype">size_t</span> namelen = strlen(iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#aee0f8e8ed8b404d358a6da91196da0d9">name</a>) + 1;</div>
<div class="line"><span class="lineno"> 1188</span>        c = malloc(<span class="keyword">sizeof</span>(*c) + namelen);</div>
<div class="line"><span class="lineno"> 1189</span>        <span class="keywordflow">if</span> (!c)</div>
<div class="line"><span class="lineno"> 1190</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1191</span> </div>
<div class="line"><span class="lineno"> 1192</span>        c-&gt;length = iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ad8e9971be53e83e4d0ea9bb159f5cc74">assignment_length</a>;</div>
<div class="line"><span class="lineno"> 1193</span>        c-&gt;assigned = iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a5271bc558660bc4abf83a998542285d2">assignment_hint</a>;</div>
<div class="line"><span class="lineno"> 1194</span>        c-&gt;weight = iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9b41094b477365e07904e17d016ec893">assignment_weight</a>;</div>
<div class="line"><span class="lineno"> 1195</span>        c-&gt;addr = in6addr_any;</div>
<div class="line"><span class="lineno"> 1196</span>        c-&gt;enabled = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1197</span>        memcpy(c-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ad1c857541dea1f17f4006d89f9247f4b">name</a>, iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#aee0f8e8ed8b404d358a6da91196da0d9">name</a>, namelen);</div>
<div class="line"><span class="lineno"> 1198</span> </div>
<div class="line"><span class="lineno"> 1199</span>        <span class="comment">/* First process all custom assignments, put all others in later-list */</span></div>
<div class="line"><span class="lineno"> 1200</span>        <span class="keywordflow">if</span> (c-&gt;assigned == -1 || !<a class="code hl_function" href="#ad2fa2d0aea44b9538daad403462e71e5">interface_prefix_assign</a>(&amp;prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a82473bb614beacfa32817d947577eb8d">assignments</a>, c)) {</div>
<div class="line"><span class="lineno"> 1201</span>            <span class="keywordflow">if</span> (c-&gt;assigned != -1) {</div>
<div class="line"><span class="lineno"> 1202</span>                c-&gt;assigned = -1;</div>
<div class="line"><span class="lineno"> 1203</span>                <a class="code hl_function" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad">netifd_log_message</a>(<a class="code hl_enumvalue" href="../../d3/d75/netifd_2netifd_8h.html#af9bdc3014f3d54c426b6d2df10de4960a83e54d43eb3fd145052377ecd43932a1">L_WARNING</a>, <span class="stringliteral">&quot;Failed to assign requested subprefix &quot;</span></div>
<div class="line"><span class="lineno"> 1204</span>                        <span class="stringliteral">&quot;of size %hhu for %s, trying other\n&quot;</span>, c-&gt;length, c-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ad1c857541dea1f17f4006d89f9247f4b">name</a>);</div>
<div class="line"><span class="lineno"> 1205</span>            }</div>
<div class="line"><span class="lineno"> 1206</span> </div>
<div class="line"><span class="lineno"> 1207</span>            entry = calloc(1, <span class="keyword">sizeof</span>(*entry));</div>
<div class="line"><span class="lineno"> 1208</span>            <span class="keywordflow">if</span> (!entry) {</div>
<div class="line"><span class="lineno"> 1209</span>                free(c);</div>
<div class="line"><span class="lineno"> 1210</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1211</span>            }</div>
<div class="line"><span class="lineno"> 1212</span> </div>
<div class="line"><span class="lineno"> 1213</span>            entry-&gt;node.key = c;</div>
<div class="line"><span class="lineno"> 1214</span>            <a class="code hl_function" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2">avl_insert</a>(&amp;assign_later, &amp;entry-&gt;node);</div>
<div class="line"><span class="lineno"> 1215</span>        }</div>
<div class="line"><span class="lineno"> 1216</span> </div>
<div class="line"><span class="lineno"> 1217</span>        <span class="keywordflow">if</span> (c-&gt;assigned != -1)</div>
<div class="line"><span class="lineno"> 1218</span>            assigned_any = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1219</span>    }</div>
<div class="line"><span class="lineno"> 1220</span> </div>
<div class="line"><span class="lineno"> 1221</span>    <span class="comment">/* Then try to assign all other + failed custom assignments */</span></div>
<div class="line"><span class="lineno"> 1222</span>    <a class="code hl_define" href="../../d3/d51/avl_8h.html#ab23455256f763fb1e8034c6d9537a0ed">avl_for_each_element_safe</a>(&amp;assign_later, entry, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>, n_entry) {</div>
<div class="line"><span class="lineno"> 1223</span>        <span class="keywordtype">bool</span> assigned = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1224</span> </div>
<div class="line"><span class="lineno"> 1225</span>        c = (<span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d6/d38/structdevice__prefix__assignment">device_prefix_assignment</a> *)entry-&gt;node.key;</div>
<div class="line"><span class="lineno"> 1226</span>        <a class="code hl_function" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106">avl_delete</a>(&amp;assign_later, &amp;entry-&gt;node);</div>
<div class="line"><span class="lineno"> 1227</span> </div>
<div class="line"><span class="lineno"> 1228</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno"> 1229</span>            <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a208580aad959adc62c2b16ae92637d1f">assigned</a> = <a class="code hl_function" href="#ad2fa2d0aea44b9538daad403462e71e5">interface_prefix_assign</a>(&amp;prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a82473bb614beacfa32817d947577eb8d">assignments</a>, c);</div>
<div class="line"><span class="lineno"> 1230</span>        } <span class="keywordflow">while</span> (!<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a208580aad959adc62c2b16ae92637d1f">assigned</a> &amp;&amp; ++c-&gt;length &lt;= 64);</div>
<div class="line"><span class="lineno"> 1231</span> </div>
<div class="line"><span class="lineno"> 1232</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a208580aad959adc62c2b16ae92637d1f">assigned</a>) {</div>
<div class="line"><span class="lineno"> 1233</span>            <a class="code hl_function" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad">netifd_log_message</a>(<a class="code hl_enumvalue" href="../../d3/d75/netifd_2netifd_8h.html#af9bdc3014f3d54c426b6d2df10de4960a83e54d43eb3fd145052377ecd43932a1">L_WARNING</a>, <span class="stringliteral">&quot;Failed to assign subprefix &quot;</span></div>
<div class="line"><span class="lineno"> 1234</span>                    <span class="stringliteral">&quot;of size %hhu for %s\n&quot;</span>, c-&gt;length, c-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ad1c857541dea1f17f4006d89f9247f4b">name</a>);</div>
<div class="line"><span class="lineno"> 1235</span>            free(c);</div>
<div class="line"><span class="lineno"> 1236</span>        } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1237</span>            assigned_any = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1238</span> </div>
<div class="line"><span class="lineno"> 1239</span>        free(entry);</div>
<div class="line"><span class="lineno"> 1240</span>    }</div>
<div class="line"><span class="lineno"> 1241</span> </div>
<div class="line"><span class="lineno"> 1242</span>    <a class="code hl_define" href="../../da/d23/list_8h.html#a6b4019bb70de70adc3caddbe3a024c27">list_for_each_entry</a>(c, &amp;prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a82473bb614beacfa32817d947577eb8d">assignments</a>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa5681727f93eb7df55b3527eb531cbf3">head</a>)</div>
<div class="line"><span class="lineno"> 1243</span>        <span class="keywordflow">if</span> ((iface = <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#a891d2ceff87e91d9befdedd7142434cc">vlist_find</a>(&amp;<a class="code hl_variable" href="../../dd/dda/interface_8c.html#aa5c5af6c1895c4bf768815c8c5715bf2">interfaces</a>, c-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ad1c857541dea1f17f4006d89f9247f4b">name</a>, iface, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>)))</div>
<div class="line"><span class="lineno"> 1244</span>            <a class="code hl_function" href="#abaaced56b3a208f7cc76ce6723abce07">interface_set_prefix_address</a>(c, prefix, iface, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1245</span> </div>
<div class="line"><span class="lineno"> 1246</span>    <span class="keywordflow">if</span> (!assigned_any)</div>
<div class="line"><span class="lineno"> 1247</span>        <a class="code hl_function" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad">netifd_log_message</a>(<a class="code hl_enumvalue" href="../../d3/d75/netifd_2netifd_8h.html#af9bdc3014f3d54c426b6d2df10de4960a83e54d43eb3fd145052377ecd43932a1">L_WARNING</a>, <span class="stringliteral">&quot;You have delegated IPv6-prefixes but haven&#39;t assigned them &quot;</span></div>
<div class="line"><span class="lineno"> 1248</span>                <span class="stringliteral">&quot;to any interface. Did you forget to set option ip6assign on your lan-interfaces?&quot;</span>);</div>
<div class="line"><span class="lineno"> 1249</span>}</div>
<div class="ttc" id="aavl_8c_html_aff86971e7141b6e9af18b7601066b106"><div class="ttname"><a href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106">avl_delete</a></div><div class="ttdeci">void avl_delete(struct avl_tree *tree, struct avl_node *node)</div><div class="ttdef"><b>Definition</b> <a href="../../df/dc2/avl_8c_source.html#l00307">avl.c:307</a></div></div>
<div class="ttc" id="aavl_8h_html_ab23455256f763fb1e8034c6d9537a0ed"><div class="ttname"><a href="../../d3/d51/avl_8h.html#ab23455256f763fb1e8034c6d9537a0ed">avl_for_each_element_safe</a></div><div class="ttdeci">#define avl_for_each_element_safe(tree, element, node_member, ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00503">avl.h:503</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_a183ee1b93d937be80c81ac51c8411049"><div class="ttname"><a href="#a183ee1b93d937be80c81ac51c8411049">prefix_assignment_cmp</a></div><div class="ttdeci">static int prefix_assignment_cmp(const void *k1, const void *k2, void *ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l01102">interface-ip.c:1102</a></div></div>
<div class="ttc" id="ainterface-ip_8c_html_ad2fa2d0aea44b9538daad403462e71e5"><div class="ttname"><a href="#ad2fa2d0aea44b9538daad403462e71e5">interface_prefix_assign</a></div><div class="ttdeci">static bool interface_prefix_assign(struct list_head *list, struct device_prefix_assignment *assign)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l01072">interface-ip.c:1072</a></div></div>
<div class="ttc" id="ainterface_8h_html_a5271bc558660bc4abf83a998542285d2"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a5271bc558660bc4abf83a998542285d2">interface::assignment_hint</a></div><div class="ttdeci">int32_t assignment_hint</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00167">interface.h:167</a></div></div>
<div class="ttc" id="ainterface_8h_html_a591ab964bfeb97ab3f15edfab22a260f"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a591ab964bfeb97ab3f15edfab22a260f">interface::assignment_classes</a></div><div class="ttdeci">struct list_head assignment_classes</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00168">interface.h:168</a></div></div>
<div class="ttc" id="ainterface_8h_html_a89740cb87c7d26a587103d4ab05ed4f7"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a89740cb87c7d26a587103d4ab05ed4f7">interface_assignment_class::head</a></div><div class="ttdeci">struct list_head head</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00097">interface.h:97</a></div></div>
<div class="ttc" id="ainterface_8h_html_a9b41094b477365e07904e17d016ec893"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a9b41094b477365e07904e17d016ec893">interface::assignment_weight</a></div><div class="ttdeci">int assignment_weight</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00169">interface.h:169</a></div></div>
<div class="ttc" id="ainterface_8h_html_ad1c857541dea1f17f4006d89f9247f4b"><div class="ttname"><a href="../../d4/da9/interface_8h.html#ad1c857541dea1f17f4006d89f9247f4b">interface_assignment_class::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00098">interface.h:98</a></div></div>
<div class="ttc" id="ainterface_8h_html_ad8e9971be53e83e4d0ea9bb159f5cc74"><div class="ttname"><a href="../../d4/da9/interface_8h.html#ad8e9971be53e83e4d0ea9bb159f5cc74">interface::assignment_length</a></div><div class="ttdeci">uint8_t assignment_length</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00166">interface.h:166</a></div></div>
<div class="ttc" id="ainterface_8h_html_d1/d31/structinterface__assignment__class"><div class="ttname"><a href="../../d4/da9/interface_8h.html#d1/d31/structinterface__assignment__class">interface_assignment_class</a></div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00096">interface.h:96</a></div></div>
<div class="ttc" id="alist_8h_html_a6ff0e5eee443d7b27def83827340634d"><div class="ttname"><a href="../../da/d23/list_8h.html#a6ff0e5eee443d7b27def83827340634d">list_empty</a></div><div class="ttdeci">static bool list_empty(const struct list_head *head)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00069">list.h:69</a></div></div>
<div class="ttc" id="alist_8h_html_ae3d072a3707e0f1373a3d8fa5d4d3e1c"><div class="ttname"><a href="../../da/d23/list_8h.html#ae3d072a3707e0f1373a3d8fa5d4d3e1c">list_first_entry</a></div><div class="ttdeci">#define list_first_entry(ptr, type, field)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00121">list.h:121</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00069">device_prefix_assignment::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00066">device_prefix_assignment::assigned</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00168">interface::assignment_classes</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00167">interface::assignment_hint</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00166">interface::assignment_length</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00169">interface::assignment_weight</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00077">device_prefix::assignments</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00307">avl_delete()</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00503">avl_for_each_element_safe</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00092">avl_init()</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00220">avl_insert()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00070">device_prefix_assignment::enabled</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00082">device_prefix::excl_addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00083">device_prefix::excl_length</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00065">device_prefix_assignment::head</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00097">interface_assignment_class::head</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01072">interface_prefix_assign()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00960">interface_set_prefix_address()</a>, <a class="el" href="../../dd/dda/interface_8c_source.html#l00030">interfaces</a>, <a class="el" href="../../d3/d75/netifd_2netifd_8h_source.html#l00059">L_WARNING</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00086">device_prefix::length</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00067">device_prefix_assignment::length</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00159">list_add()</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00096">list_del()</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00069">list_empty()</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00121">list_first_entry</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00132">list_for_each_entry</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00071">device_prefix_assignment::name</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00109">interface::name</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00098">interface_assignment_class::name</a>, <a class="el" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad">netifd_log_message()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00088">device_prefix::pclass</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01102">prefix_assignment_cmp()</a>, <a class="el" href="../../dd/d1d/vlist_8h_source.html#l00059">vlist_find</a>, <a class="el" href="../../dd/d1d/vlist_8h_source.html#l00072">vlist_for_each_element</a>, and <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00068">device_prefix_assignment::weight</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01252">interface_refresh_assignments()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01287">interface_update_prefix()</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01268">interface_update_prefix_delegation()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_afa4013a5a375dedce7a1d26deaf9addf_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_afa4013a5a375dedce7a1d26deaf9addf_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_afa4013a5a375dedce7a1d26deaf9addf_cgraph" id="adc/df0/interface-ip_8c_afa4013a5a375dedce7a1d26deaf9addf_cgraph">
<area shape="rect" title=" " alt="" coords="5,622,245,679"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="356,252,470,286"/>
<area shape="poly" title=" " alt="" coords="146,620,388,297,392,300,150,623"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="925,43,1011,77"/>
<area shape="poly" title=" " alt="" coords="123,621,128,524,136,458,150,386,171,312,200,239,240,171,264,140,291,111,325,83,362,60,401,42,443,27,529,9,618,3,704,6,784,15,911,41,910,46,783,21,703,11,618,8,530,14,444,32,404,47,365,65,328,88,294,115,268,143,244,174,205,241,176,314,155,387,142,459,134,524,129,622"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="370,126,456,159"/>
<area shape="poly" title=" " alt="" coords="130,621,149,549,182,451,228,342,258,288,291,238,328,198,369,166,372,170,332,202,295,242,262,291,233,344,187,452,154,551,135,622"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="358,472,468,506"/>
<area shape="poly" title=" " alt="" coords="176,619,367,512,369,516,179,624"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="922,579,1014,613"/>
<area shape="poly" title=" " alt="" coords="245,640,906,597,906,602,245,645"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad2fa2d0aea44b9538daad403462e71e5" title=" " alt="" coords="296,688,530,722"/>
<area shape="poly" title=" " alt="" coords="246,671,306,682,305,688,245,676"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#abaaced56b3a208f7cc76ce6723abce07" title=" " alt="" coords="312,958,514,1015"/>
<area shape="poly" title=" " alt="" coords="153,677,379,945,375,948,149,681"/>
<area shape="rect" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad" title=" " alt="" coords="608,770,812,803"/>
<area shape="poly" title=" " alt="" coords="174,677,230,707,293,732,370,751,448,765,593,780,592,785,447,770,369,757,292,737,228,712,172,682"/>
<area shape="rect" href="../../da/d23/list_8h.html#a6ff0e5eee443d7b27def83827340634d" title=" " alt="" coords="355,1039,471,1073"/>
<area shape="poly" title=" " alt="" coords="133,679,147,749,176,843,198,893,224,941,256,986,294,1024,316,1038,340,1046,339,1052,314,1043,291,1029,252,989,220,944,193,895,171,845,142,751,128,680"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a183ee1b93d937be80c81ac51c8411049" title=" " alt="" coords="293,1096,533,1130"/>
<area shape="poly" title=" " alt="" coords="131,679,142,759,153,812,168,869,189,928,217,985,252,1038,294,1083,297,1085,294,1089,291,1087,247,1041,212,987,184,930,163,871,147,813,137,760,126,679"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="617,195,803,229"/>
<area shape="poly" title=" " alt="" coords="470,256,603,230,604,235,471,261"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="661,252,759,286"/>
<area shape="poly" title=" " alt="" coords="471,267,645,267,645,272,471,272"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="647,114,773,147"/>
<area shape="poly" title=" " alt="" coords="433,250,496,203,537,178,580,156,631,140,632,145,582,161,540,182,499,207,436,254"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="653,310,767,343"/>
<area shape="poly" title=" " alt="" coords="471,278,638,310,637,315,470,283"/>
<area shape="poly" title=" " alt="" coords="664,196,659,186,665,176,683,170,710,168,739,171,755,177,753,182,738,176,710,174,684,176,669,181,664,186,668,193"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="896,143,1040,177"/>
<area shape="poly" title=" " alt="" coords="796,192,881,175,882,180,797,197"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="886,276,1050,310"/>
<area shape="poly" title=" " alt="" coords="801,227,839,237,917,267,915,272,838,242,799,232"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="1098,276,1247,310"/>
<area shape="poly" title=" " alt="" coords="803,209,922,216,987,224,1050,237,1091,251,1128,267,1125,272,1089,256,1049,242,986,230,921,221,803,214"/>
<area shape="poly" title=" " alt="" coords="931,277,927,267,932,258,946,252,968,250,991,252,1004,259,1002,263,990,257,968,255,948,257,936,262,932,267,936,275"/>
<area shape="poly" title=" " alt="" coords="1050,291,1082,291,1082,296,1050,296"/>
<area shape="poly" title=" " alt="" coords="773,116,838,100,910,77,912,82,839,105,774,121"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1125,43,1220,77"/>
<area shape="poly" title=" " alt="" coords="1011,57,1110,57,1110,63,1011,63"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="626,56,794,90"/>
<area shape="poly" title=" " alt="" coords="456,129,580,99,612,91,613,97,582,104,457,134"/>
<area shape="poly" title=" " alt="" coords="421,471,445,434,480,386,526,336,580,295,612,281,645,272,646,277,613,286,582,299,529,340,484,389,449,437,426,474"/>
<area shape="poly" title=" " alt="" coords="430,470,493,416,535,386,580,360,636,339,638,344,582,365,538,391,497,420,434,474"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="645,443,775,477"/>
<area shape="poly" title=" " alt="" coords="468,481,629,465,630,470,469,486"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="629,500,791,534"/>
<area shape="poly" title=" " alt="" coords="469,492,613,505,613,511,468,497"/>
<area shape="poly" title=" " alt="" coords="458,504,516,525,582,544,669,561,758,574,907,589,906,595,757,580,669,567,580,549,515,530,456,509"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="621,660,799,694"/>
<area shape="poly" title=" " alt="" coords="443,504,670,649,667,654,440,509"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="906,362,1030,395"/>
<area shape="poly" title=" " alt="" coords="439,470,502,435,540,418,580,404,662,387,745,377,824,373,891,373,891,378,824,378,746,383,663,392,582,409,542,423,504,440,442,474"/>
<area shape="poly" title=" " alt="" coords="664,444,659,434,665,424,683,418,710,416,739,419,755,425,753,430,738,424,710,422,684,424,669,429,664,434,668,441"/>
<area shape="poly" title=" " alt="" coords="775,532,839,551,908,573,906,578,838,556,774,537"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1122,619,1223,653"/>
<area shape="poly" title=" " alt="" coords="1015,602,1107,620,1106,626,1014,607"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="903,660,1033,694"/>
<area shape="poly" title=" " alt="" coords="799,675,888,675,888,680,799,680"/>
<area shape="poly" title=" " alt="" coords="1033,661,1106,647,1107,652,1034,667"/>
<area shape="poly" title=" " alt="" coords="1010,359,1115,314,1117,319,1012,363"/>
<area shape="poly" title=" " alt="" coords="931,362,927,352,932,343,946,337,968,335,991,338,1004,344,1002,349,990,343,968,340,948,342,936,347,932,353,936,360"/>
<area shape="poly" title=" " alt="" coords="530,710,677,713,758,710,838,704,888,695,889,701,839,709,759,716,677,718,530,715"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="640,1171,779,1205"/>
<area shape="poly" title=" " alt="" coords="516,1010,535,1025,548,1042,555,1059,559,1094,562,1127,569,1143,583,1158,603,1171,626,1180,624,1185,600,1176,579,1162,565,1145,557,1128,553,1094,550,1061,544,1045,531,1028,513,1014"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7e8a1089df00d795d915595e2e7eaa96" title=" " alt="" coords="623,1228,797,1262"/>
<area shape="poly" title=" " alt="" coords="516,1009,535,1025,552,1049,559,1074,560,1099,558,1123,557,1147,558,1170,566,1193,583,1215,609,1232,606,1237,579,1219,561,1195,553,1171,551,1147,553,1123,555,1099,554,1075,547,1052,531,1028,513,1013"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a8642e113840ee637f7d57e5efb5f02fe" title=" " alt="" coords="589,1286,830,1319"/>
<area shape="poly" title=" " alt="" coords="516,1009,535,1025,556,1057,563,1089,563,1121,558,1152,554,1183,553,1213,562,1243,583,1273,584,1274,580,1278,579,1276,557,1245,548,1214,548,1183,553,1152,557,1121,558,1090,551,1059,531,1028,513,1013"/>
<area shape="poly" title=" " alt="" coords="432,956,457,922,492,883,533,844,580,812,592,806,594,811,582,817,536,849,496,887,461,926,436,959"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac1e6968392107ab1704c592a2270ee2f" title=" " alt="" coords="606,1343,814,1377"/>
<area shape="poly" title=" " alt="" coords="516,1008,535,1025,549,1045,559,1065,567,1104,565,1143,558,1182,550,1219,549,1256,558,1293,568,1312,583,1330,594,1339,590,1343,579,1334,564,1315,553,1295,544,1257,545,1219,552,1181,560,1143,562,1105,554,1067,545,1048,531,1028,513,1012"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf" title=" " alt="" coords="603,827,817,861"/>
<area shape="poly" title=" " alt="" coords="446,956,506,911,542,888,580,869,595,864,597,868,582,874,545,893,509,915,449,960"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="615,884,804,918"/>
<area shape="poly" title=" " alt="" coords="492,955,580,927,607,920,609,925,582,932,493,960"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a753fba8c387cd70d67f154f1d26c3946" title=" " alt="" coords="606,942,813,975"/>
<area shape="poly" title=" " alt="" coords="514,974,590,967,591,972,515,980"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="619,999,801,1033"/>
<area shape="poly" title=" " alt="" coords="515,994,603,1003,603,1008,514,999"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3" title=" " alt="" coords="617,1056,802,1090"/>
<area shape="poly" title=" " alt="" coords="502,1013,534,1024,582,1043,607,1050,605,1055,580,1048,532,1029,500,1018"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a6624a98fc17593f67a43a6fbb15d4c49" title=" " alt="" coords="581,1114,838,1147"/>
<area shape="poly" title=" " alt="" coords="516,1012,535,1025,551,1044,559,1064,566,1083,583,1100,588,1104,585,1108,579,1105,562,1086,554,1066,547,1047,531,1029,513,1017"/>
</map>
</div>

</div>
</div>
<a id="a109bdf78a75572b0639ab2f1139a6515" name="a109bdf78a75572b0639ab2f1139a6515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a109bdf78a75572b0639ab2f1139a6515">&#9670;&#160;</a></span>interface_update_prefix_delegation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interface_update_prefix_delegation </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01268">1268</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1269</span>{</div>
<div class="line"><span class="lineno"> 1270</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a> *prefix;</div>
<div class="line"><span class="lineno"> 1271</span>    time_t now = <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3">system_get_rtime</a>();</div>
<div class="line"><span class="lineno"> 1272</span> </div>
<div class="line"><span class="lineno"> 1273</span>    <a class="code hl_define" href="../../dd/d1d/vlist_8h.html#add31e1f4b4f9662f592e61501aaca312">vlist_for_each_element</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac8c1ba6c32f0b815a0da4d8612d5adce">prefix</a>, prefix, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>) {</div>
<div class="line"><span class="lineno"> 1274</span>        <span class="keywordtype">bool</span> valid = !(prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1aeecf819584c23f510369b2edb3160f">valid_until</a> &amp;&amp; prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1aeecf819584c23f510369b2edb3160f">valid_until</a> - 1 &lt;= now);</div>
<div class="line"><span class="lineno"> 1275</span> </div>
<div class="line"><span class="lineno"> 1276</span>        <a class="code hl_function" href="#afa4013a5a375dedce7a1d26deaf9addf">interface_update_prefix_assignments</a>(prefix, !ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a093795a88337cf3070a2f50a13cca687">no_delegation</a> &amp;&amp; valid);</div>
<div class="line"><span class="lineno"> 1277</span> </div>
<div class="line"><span class="lineno"> 1278</span>        <span class="keywordflow">if</span> (ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a093795a88337cf3070a2f50a13cca687">no_delegation</a>) {</div>
<div class="line"><span class="lineno"> 1279</span>            <span class="keywordflow">if</span> (prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a210fa46a134990396e88b41708a75205">head</a>.<a class="code hl_variable" href="../../da/d23/list_8h.html#ac3b0ff0dfb978a0cfbdad6b9d19cdcfe">next</a>)</div>
<div class="line"><span class="lineno"> 1280</span>                <a class="code hl_function" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5">list_del</a>(&amp;prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a210fa46a134990396e88b41708a75205">head</a>);</div>
<div class="line"><span class="lineno"> 1281</span>        } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1282</span>            <a class="code hl_function" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6">list_add</a>(&amp;prefix-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a210fa46a134990396e88b41708a75205">head</a>, &amp;<a class="code hl_variable" href="#a1a2b88a3a6afbd3fd0acd37507e4d5d6">prefixes</a>);</div>
<div class="line"><span class="lineno"> 1283</span>    }</div>
<div class="line"><span class="lineno"> 1284</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00076">device_prefix::head</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01115">interface_update_prefix_assignments()</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00159">list_add()</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00096">list_del()</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00054">list_head::next</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00080">interface_ip_settings::no_delegation</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00084">interface_ip_settings::prefix</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00094">prefixes</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00328">system_get_rtime()</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00079">device_prefix::valid_until</a>, and <a class="el" href="../../dd/d1d/vlist_8h_source.html#l00072">vlist_for_each_element</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dda/interface_8c_source.html#l01287">interface_change_config()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a109bdf78a75572b0639ab2f1139a6515_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a109bdf78a75572b0639ab2f1139a6515_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a109bdf78a75572b0639ab2f1139a6515_cgraph" id="adc/df0/interface-ip_8c_a109bdf78a75572b0639ab2f1139a6515_cgraph">
<area shape="rect" title=" " alt="" coords="5,598,245,655"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#afa4013a5a375dedce7a1d26deaf9addf" title=" " alt="" coords="293,706,532,763"/>
<area shape="poly" title=" " alt="" coords="204,653,322,698,320,703,202,658"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1213,718,1298,751"/>
<area shape="poly" title=" " alt="" coords="145,596,204,520,295,412,411,291,476,230,545,172,617,120,691,74,765,38,841,14,915,3,952,4,989,8,1024,18,1060,32,1094,51,1127,75,1145,94,1162,121,1189,191,1210,278,1227,374,1247,565,1256,702,1250,702,1242,565,1222,375,1205,279,1184,193,1157,123,1141,98,1124,79,1091,55,1057,36,1023,23,988,14,952,9,916,9,842,19,767,43,693,79,620,124,548,176,480,234,415,294,299,415,208,523,149,599"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1209,1354,1302,1387"/>
<area shape="poly" title=" " alt="" coords="134,655,147,717,170,805,204,912,249,1029,309,1149,344,1208,383,1265,426,1318,474,1367,525,1411,581,1449,655,1486,721,1507,783,1513,843,1507,905,1493,971,1472,1125,1421,1149,1410,1172,1396,1193,1388,1195,1393,1175,1401,1151,1414,1127,1426,972,1477,907,1498,844,1513,783,1518,720,1512,653,1491,579,1454,522,1416,470,1371,422,1322,379,1268,340,1211,304,1152,245,1031,199,913,165,806,142,718,129,656"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72936f3708561613cece24e5723befb3" title=" " alt="" coords="904,606,1090,639"/>
<area shape="poly" title=" " alt="" coords="189,595,311,551,388,530,471,512,559,502,649,501,737,513,780,524,822,540,838,552,847,566,855,580,870,592,891,602,888,607,867,597,851,583,843,569,834,555,819,545,778,529,736,518,648,506,560,507,472,517,389,535,312,556,191,600"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="643,911,757,945"/>
<area shape="poly" title=" " alt="" coords="458,761,662,900,659,904,455,766"/>
<area shape="poly" title=" " alt="" coords="532,732,1197,732,1197,737,532,737"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="657,772,743,806"/>
<area shape="poly" title=" " alt="" coords="533,755,642,775,641,781,532,760"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="645,1147,755,1181"/>
<area shape="poly" title=" " alt="" coords="435,762,681,1132,677,1135,431,765"/>
<area shape="poly" title=" " alt="" coords="421,762,436,842,467,953,488,1015,514,1076,546,1136,582,1191,646,1270,675,1299,705,1324,737,1345,774,1363,869,1398,911,1409,955,1415,1044,1414,1126,1402,1194,1386,1195,1392,1127,1407,1044,1419,955,1420,910,1414,868,1404,772,1368,735,1349,702,1328,672,1303,642,1274,578,1195,541,1139,509,1079,483,1017,462,955,431,843,415,763"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad2fa2d0aea44b9538daad403462e71e5" title=" " alt="" coords="583,1406,817,1439"/>
<area shape="poly" title=" " alt="" coords="420,763,439,895,473,1082,496,1178,522,1265,550,1336,566,1364,582,1385,595,1395,591,1399,578,1388,561,1367,546,1339,517,1267,491,1179,468,1083,434,896,415,764"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#abaaced56b3a208f7cc76ce6723abce07" title=" " alt="" coords="599,394,801,451"/>
<area shape="poly" title=" " alt="" coords="435,704,578,541,657,460,660,464,582,544,439,708"/>
<area shape="rect" href="../../d3/d75/netifd_2netifd_8h.html#a3ce86310645cf21bbece1e540c93a7ad" title=" " alt="" coords="895,663,1099,697"/>
<area shape="poly" title=" " alt="" coords="532,718,580,713,879,686,879,692,580,718,533,723"/>
<area shape="rect" href="../../da/d23/list_8h.html#a6ff0e5eee443d7b27def83827340634d" title=" " alt="" coords="642,555,758,589"/>
<area shape="poly" title=" " alt="" coords="439,704,500,649,538,621,579,597,626,581,627,586,581,602,541,626,503,653,443,708"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a183ee1b93d937be80c81ac51c8411049" title=" " alt="" coords="580,612,820,646"/>
<area shape="poly" title=" " alt="" coords="478,703,579,663,622,648,624,653,581,668,480,708"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="904,911,1090,945"/>
<area shape="poly" title=" " alt="" coords="758,925,889,925,889,930,758,930"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="948,1026,1046,1059"/>
<area shape="poly" title=" " alt="" coords="731,943,793,978,869,1012,934,1029,932,1035,867,1017,791,982,728,947"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="934,830,1060,863"/>
<area shape="poly" title=" " alt="" coords="751,908,868,872,918,860,919,865,869,877,753,913"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="940,968,1054,1002"/>
<area shape="poly" title=" " alt="" coords="758,936,925,969,924,974,757,941"/>
<area shape="poly" title=" " alt="" coords="951,912,946,902,953,892,970,886,997,884,1026,887,1043,893,1041,898,1025,892,997,890,971,891,956,896,951,902,956,909"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="1184,940,1327,974"/>
<area shape="poly" title=" " alt="" coords="1091,936,1168,945,1168,950,1090,941"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="1174,883,1337,917"/>
<area shape="poly" title=" " alt="" coords="1090,915,1158,908,1158,913,1091,920"/>
<area shape="poly" title=" " alt="" coords="1222,883,1219,874,1224,864,1236,858,1255,856,1276,859,1288,865,1285,870,1274,864,1255,862,1238,863,1227,868,1224,874,1227,882"/>
<area shape="poly" title=" " alt="" coords="1060,835,1125,816,1176,789,1219,759,1222,763,1178,794,1127,821,1061,840"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1389,718,1483,751"/>
<area shape="poly" title=" " alt="" coords="1298,732,1373,732,1373,737,1298,737"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="913,772,1081,806"/>
<area shape="poly" title=" " alt="" coords="744,786,897,786,897,792,744,792"/>
<area shape="poly" title=" " alt="" coords="726,1144,788,1106,867,1068,932,1050,934,1055,869,1073,791,1110,728,1149"/>
<area shape="poly" title=" " alt="" coords="713,1145,775,1079,818,1042,867,1011,895,999,924,991,925,996,897,1004,870,1015,822,1046,778,1083,717,1148"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="932,1188,1062,1222"/>
<area shape="poly" title=" " alt="" coords="756,1169,917,1191,916,1197,755,1174"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="916,1298,1078,1331"/>
<area shape="poly" title=" " alt="" coords="723,1179,786,1227,827,1253,869,1276,905,1290,903,1295,867,1281,824,1258,783,1231,720,1183"/>
<area shape="poly" title=" " alt="" coords="738,1179,798,1206,869,1232,941,1248,999,1253,1056,1261,1127,1283,1179,1310,1223,1342,1220,1346,1176,1315,1125,1287,1055,1266,998,1259,940,1253,868,1237,796,1211,735,1183"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="908,1355,1086,1389"/>
<area shape="poly" title=" " alt="" coords="714,1179,738,1214,773,1258,818,1304,870,1341,894,1352,892,1357,867,1346,815,1308,769,1262,734,1217,710,1182"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="935,1107,1059,1141"/>
<area shape="poly" title=" " alt="" coords="755,1154,920,1131,921,1137,756,1159"/>
<area shape="poly" title=" " alt="" coords="951,1189,946,1179,953,1169,970,1164,997,1162,1026,1164,1043,1170,1041,1175,1025,1169,997,1167,971,1169,956,1174,951,1179,956,1187"/>
<area shape="poly" title=" " alt="" coords="1079,1329,1194,1355,1193,1360,1078,1334"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1385,1382,1486,1415"/>
<area shape="poly" title=" " alt="" coords="1302,1375,1370,1386,1369,1391,1302,1380"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1191,1411,1320,1445"/>
<area shape="poly" title=" " alt="" coords="1079,1387,1176,1408,1175,1413,1078,1392"/>
<area shape="poly" title=" " alt="" coords="1320,1415,1369,1406,1370,1412,1321,1420"/>
<area shape="poly" title=" " alt="" coords="951,1108,946,1098,953,1088,970,1082,997,1080,1026,1083,1043,1089,1041,1094,1025,1088,997,1086,971,1087,956,1092,951,1098,956,1105"/>
<area shape="poly" title=" " alt="" coords="815,1437,869,1442,997,1448,1125,1442,1175,1437,1176,1443,1126,1448,997,1453,868,1448,815,1443"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="927,548,1067,582"/>
<area shape="poly" title=" " alt="" coords="751,449,822,496,845,517,870,535,913,550,911,555,867,539,842,521,819,500,748,453"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7e8a1089df00d795d915595e2e7eaa96" title=" " alt="" coords="910,90,1084,123"/>
<area shape="poly" title=" " alt="" coords="707,393,727,337,759,266,780,229,805,193,834,160,867,132,894,118,896,122,870,137,838,164,809,197,785,232,764,268,731,339,712,395"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a8642e113840ee637f7d57e5efb5f02fe" title=" " alt="" coords="876,147,1118,181"/>
<area shape="poly" title=" " alt="" coords="712,392,734,347,768,292,813,236,839,211,867,189,874,185,876,190,870,194,842,215,817,240,773,295,739,349,716,395"/>
<area shape="poly" title=" " alt="" coords="738,449,781,490,823,541,837,572,843,600,850,625,870,650,882,658,879,662,867,654,845,628,838,602,832,574,818,544,777,494,734,453"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac1e6968392107ab1704c592a2270ee2f" title=" " alt="" coords="893,204,1101,238"/>
<area shape="poly" title=" " alt="" coords="718,392,744,358,779,319,820,279,867,247,877,242,879,246,870,251,823,284,782,322,748,362,723,396"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf" title=" " alt="" coords="890,262,1104,295"/>
<area shape="poly" title=" " alt="" coords="733,392,793,346,829,323,867,304,882,298,884,303,869,309,832,328,796,351,736,396"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="902,319,1092,353"/>
<area shape="poly" title=" " alt="" coords="777,391,868,361,894,354,895,359,869,366,779,396"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a753fba8c387cd70d67f154f1d26c3946" title=" " alt="" coords="893,376,1101,410"/>
<area shape="poly" title=" " alt="" coords="802,410,877,402,878,407,802,415"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="906,434,1088,467"/>
<area shape="poly" title=" " alt="" coords="802,429,891,438,890,443,802,435"/>
<area shape="poly" title=" " alt="" coords="762,449,793,470,822,497,838,523,845,548,852,571,870,592,891,605,889,610,867,596,847,573,840,549,834,525,818,500,790,475,759,453"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a6624a98fc17593f67a43a6fbb15d4c49" title=" " alt="" coords="868,491,1126,525"/>
<area shape="poly" title=" " alt="" coords="781,449,869,477,896,484,895,489,868,482,779,454"/>
</map>
</div>

</div>
</div>
<a id="abd78479a01b9f96c7ad966ca334802c7" name="abd78479a01b9f96c7ad966ca334802c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd78479a01b9f96c7ad966ca334802c7">&#9670;&#160;</a></span>interface_update_proto_addr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interface_update_proto_addr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d0/ddc/structvlist__tree">vlist_tree</a> *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *</td>          <td class="paramname"><span class="paramname"><em>node_new</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *</td>          <td class="paramname"><span class="paramname"><em>node_old</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00644">644</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  647</span>{</div>
<div class="line"><span class="lineno">  648</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip;</div>
<div class="line"><span class="lineno">  649</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface;</div>
<div class="line"><span class="lineno">  650</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a> *dev;</div>
<div class="line"><span class="lineno">  651</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a> *a_new = NULL, *a_old = NULL;</div>
<div class="line"><span class="lineno">  652</span>    <span class="keywordtype">bool</span> replace = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  653</span>    <span class="keywordtype">bool</span> keep = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  654</span>    <span class="keywordtype">bool</span> v6 = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span>    ip = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(tree, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a>, <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>);</div>
<div class="line"><span class="lineno">  657</span>    iface = ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>;</div>
<div class="line"><span class="lineno">  658</span>    dev = iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a>;</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>    <span class="keywordflow">if</span> (!node_new || !node_old)</div>
<div class="line"><span class="lineno">  661</span>        iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#acf5a4a6d7b3c0312a60f705db327709b">updated</a> |= <a class="code hl_enumvalue" href="../../d4/da9/interface_8h.html#a072be7fe7b2d0e8d0ec60b07fe48b1f4a5e677de7df876deffbb7e8cace1bcb5f">IUF_ADDRESS</a>;</div>
<div class="line"><span class="lineno">  662</span> </div>
<div class="line"><span class="lineno">  663</span>    <span class="keywordflow">if</span> (node_new) {</div>
<div class="line"><span class="lineno">  664</span>        a_new = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(node_new, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>);</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>        <span class="keywordflow">if</span> ((a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a6001613ebb60add0e1a3fbbe745b9382">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa40334f02660abdfc5b74e399dacdbfe8">DEVADDR_FAMILY</a>) == <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9facc21aeffe47d1209c184f23131cd23b2">DEVADDR_INET4</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  667</span>            !a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a59ea6e84f8117231ccc81699d8108eb9">broadcast</a>) {</div>
<div class="line"><span class="lineno">  668</span> </div>
<div class="line"><span class="lineno">  669</span>            <span class="comment">/* /31 and /32 addressing need 255.255.255.255</span></div>
<div class="line"><span class="lineno">  670</span><span class="comment">             * as broadcast address. */</span></div>
<div class="line"><span class="lineno">  671</span>            <span class="keywordflow">if</span> (a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a0d9a011d2ecda428dcdd98f410fc5dc8">mask</a> &gt;= 31) {</div>
<div class="line"><span class="lineno">  672</span>                a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a59ea6e84f8117231ccc81699d8108eb9">broadcast</a> = (uint32_t) ~0;</div>
<div class="line"><span class="lineno">  673</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  674</span>                uint32_t <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a0d9a011d2ecda428dcdd98f410fc5dc8">mask</a> = ~0;</div>
<div class="line"><span class="lineno">  675</span>                uint32_t *a = (uint32_t *) &amp;a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>;</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>                <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a0d9a011d2ecda428dcdd98f410fc5dc8">mask</a> &gt;&gt;= a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a0d9a011d2ecda428dcdd98f410fc5dc8">mask</a>;</div>
<div class="line"><span class="lineno">  678</span>                a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a59ea6e84f8117231ccc81699d8108eb9">broadcast</a> = *a | htonl(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a0d9a011d2ecda428dcdd98f410fc5dc8">mask</a>);</div>
<div class="line"><span class="lineno">  679</span>            }</div>
<div class="line"><span class="lineno">  680</span>        }</div>
<div class="line"><span class="lineno">  681</span>    }</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>    <span class="keywordflow">if</span> (node_old)</div>
<div class="line"><span class="lineno">  684</span>        a_old = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(node_old, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/ddd/structdevice__addr">device_addr</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>);</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span>    <span class="keywordflow">if</span> (a_new &amp;&amp; a_old) {</div>
<div class="line"><span class="lineno">  687</span>        keep = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>        <span class="keywordflow">if</span> (a_old-&gt;flags != a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a6001613ebb60add0e1a3fbbe745b9382">flags</a> || a_old-&gt;failed)</div>
<div class="line"><span class="lineno">  690</span>            keep = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  691</span> </div>
<div class="line"><span class="lineno">  692</span>        <span class="keywordflow">if</span> (a_old-&gt;valid_until != a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ae9fbb82b8704054a1f4d4f7daf861042">valid_until</a> ||</div>
<div class="line"><span class="lineno">  693</span>                a_old-&gt;preferred_until != a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a95c2da81317542ed974fdcae6da03a99">preferred_until</a>)</div>
<div class="line"><span class="lineno">  694</span>            replace = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>        <span class="keywordflow">if</span> (((a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a6001613ebb60add0e1a3fbbe745b9382">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa40334f02660abdfc5b74e399dacdbfe8">DEVADDR_FAMILY</a>) == <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9facc21aeffe47d1209c184f23131cd23b2">DEVADDR_INET4</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  697</span>             (a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a59ea6e84f8117231ccc81699d8108eb9">broadcast</a> != a_old-&gt;broadcast ||</div>
<div class="line"><span class="lineno">  698</span>              a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#aa849e91763084a9c4669d535347f2e99">point_to_point</a> != a_old-&gt;point_to_point))</div>
<div class="line"><span class="lineno">  699</span>            keep = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  700</span>    }</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>    <span class="keywordflow">if</span> (node_old) {</div>
<div class="line"><span class="lineno">  703</span>        <span class="keywordflow">if</span> (a_old-&gt;enabled &amp;&amp; !keep) {</div>
<div class="line"><span class="lineno">  704</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  705</span><span class="comment">             * This is needed for source routing to work correctly. If a device</span></div>
<div class="line"><span class="lineno">  706</span><span class="comment">             * has two connections to a network using the same subnet, adding</span></div>
<div class="line"><span class="lineno">  707</span><span class="comment">             * only the network-rule will cause packets to be routed through the</span></div>
<div class="line"><span class="lineno">  708</span><span class="comment">             * first matching network (source IP matches both masks)</span></div>
<div class="line"><span class="lineno">  709</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  710</span>            <span class="keywordflow">if</span> (a_old-&gt;policy_table)</div>
<div class="line"><span class="lineno">  711</span>                <a class="code hl_function" href="#af0d8dcb590782e1c562717fe62976acd">interface_add_addr_rules</a>(a_old, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  712</span> </div>
<div class="line"><span class="lineno">  713</span>            <span class="keywordflow">if</span> (!(a_old-&gt;flags &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa17c50e410c0807a582360d9d74d95f57">DEVADDR_EXTERNAL</a>)) {</div>
<div class="line"><span class="lineno">  714</span>                <a class="code hl_function" href="#ac7ef3157ec2d3ecb1b0e109409296157">interface_handle_subnet_route</a>(iface, a_old, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  715</span>                <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a753fba8c387cd70d67f154f1d26c3946">system_del_address</a>(dev, a_old);</div>
<div class="line"><span class="lineno">  716</span> </div>
<div class="line"><span class="lineno">  717</span>                <span class="keywordflow">if</span> ((a_old-&gt;flags &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa02b351530caa741be98d22a4fa977ab5">DEVADDR_OFFLINK</a>) &amp;&amp; (a_old-&gt;mask &lt; (v6 ? 128 : 32))) {</div>
<div class="line"><span class="lineno">  718</span>                    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> route;</div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span>                    memset(&amp;route, 0, <span class="keyword">sizeof</span>(route));</div>
<div class="line"><span class="lineno">  721</span>                    route.flags = v6 ? <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a> : <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9facc21aeffe47d1209c184f23131cd23b2">DEVADDR_INET4</a>;</div>
<div class="line"><span class="lineno">  722</span>                    route.metric = INT32_MAX;</div>
<div class="line"><span class="lineno">  723</span>                    route.mask = a_old-&gt;mask;</div>
<div class="line"><span class="lineno">  724</span>                    route.addr = a_old-&gt;addr;</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>                    <a class="code hl_function" href="#a7785e8dd3f95af28a1d05a57b6d91226">clear_if_addr</a>(&amp;route.addr, route.mask);</div>
<div class="line"><span class="lineno">  727</span> </div>
<div class="line"><span class="lineno">  728</span>                    <span class="comment">/* Delete null-route */</span></div>
<div class="line"><span class="lineno">  729</span>                    <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c">system_del_route</a>(NULL, &amp;route);</div>
<div class="line"><span class="lineno">  730</span>                }</div>
<div class="line"><span class="lineno">  731</span> </div>
<div class="line"><span class="lineno">  732</span>            }</div>
<div class="line"><span class="lineno">  733</span>        }</div>
<div class="line"><span class="lineno">  734</span>        free(a_old-&gt;pclass);</div>
<div class="line"><span class="lineno">  735</span>        free(a_old);</div>
<div class="line"><span class="lineno">  736</span>    }</div>
<div class="line"><span class="lineno">  737</span> </div>
<div class="line"><span class="lineno">  738</span>    <span class="keywordflow">if</span> (node_new) {</div>
<div class="line"><span class="lineno">  739</span>        a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a465e4251bd40dc4c56cdb781d1b58d42">enabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  740</span> </div>
<div class="line"><span class="lineno">  741</span>        <span class="keywordflow">if</span> ((a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a6001613ebb60add0e1a3fbbe745b9382">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa40334f02660abdfc5b74e399dacdbfe8">DEVADDR_FAMILY</a>) == <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a>)</div>
<div class="line"><span class="lineno">  742</span>            v6 = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>        a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a401647711263a27345a28f9728dc0f60">policy_table</a> = (v6) ? <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac14ccb7981d32e5fb90792e60ed64567">ip6table</a> : <a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;ip4table;</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ae41d478fddbe4dde14368595553d4b46">keep</a> || replace) {</div>
<div class="line"><span class="lineno">  747</span>            <span class="keywordflow">if</span> (!(a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a6001613ebb60add0e1a3fbbe745b9382">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa17c50e410c0807a582360d9d74d95f57">DEVADDR_EXTERNAL</a>)) {</div>
<div class="line"><span class="lineno">  748</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf">system_add_address</a>(dev, a_new))</div>
<div class="line"><span class="lineno">  749</span>                    a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a9ae93317891002ab4229742ab02d577f">failed</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#adbb7ad89b817a388e9442e85f1e72cc8">metric</a> || a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a401647711263a27345a28f9728dc0f60">policy_table</a>)</div>
<div class="line"><span class="lineno">  752</span>                    <a class="code hl_function" href="#ac7ef3157ec2d3ecb1b0e109409296157">interface_handle_subnet_route</a>(<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a32c77efb0acc228302530ef37bc035b1">iface</a>, a_new, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  753</span>            }</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ae41d478fddbe4dde14368595553d4b46">keep</a>) {</div>
<div class="line"><span class="lineno">  756</span>                <span class="keywordflow">if</span> (!(a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a6001613ebb60add0e1a3fbbe745b9382">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa17c50e410c0807a582360d9d74d95f57">DEVADDR_EXTERNAL</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  757</span>                    (a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a6001613ebb60add0e1a3fbbe745b9382">flags</a> &amp; <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa02b351530caa741be98d22a4fa977ab5">DEVADDR_OFFLINK</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  758</span>                    (a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a0d9a011d2ecda428dcdd98f410fc5dc8">mask</a> &lt; (v6 ? 128 : 32))) {</div>
<div class="line"><span class="lineno">  759</span>                    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> route;</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>                    memset(&amp;route, 0, <span class="keyword">sizeof</span>(route));</div>
<div class="line"><span class="lineno">  762</span>                    route.flags = v6 ? <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9fa8b0e18dba8f577f29835e148d9e863db">DEVADDR_INET6</a> : <a class="code hl_enumvalue" href="../../d9/d62/interface-ip_8h.html#adabef17e89cfe4c34933e5f4a7e0ea9facc21aeffe47d1209c184f23131cd23b2">DEVADDR_INET4</a>;</div>
<div class="line"><span class="lineno">  763</span>                    route.metric = INT32_MAX;</div>
<div class="line"><span class="lineno">  764</span>                    route.mask = a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a0d9a011d2ecda428dcdd98f410fc5dc8">mask</a>;</div>
<div class="line"><span class="lineno">  765</span>                    route.addr = a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a763e2f65a14ee3bb6301b151f6b17fe9">addr</a>;</div>
<div class="line"><span class="lineno">  766</span> </div>
<div class="line"><span class="lineno">  767</span>                    <a class="code hl_function" href="#a7785e8dd3f95af28a1d05a57b6d91226">clear_if_addr</a>(&amp;route.addr, route.mask);</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>                    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  770</span><span class="comment">                     * In case off link is specifed as address property</span></div>
<div class="line"><span class="lineno">  771</span><span class="comment">                     * add null-route to avoid routing loops</span></div>
<div class="line"><span class="lineno">  772</span><span class="comment">                     */</span></div>
<div class="line"><span class="lineno">  773</span>                    <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f">system_add_route</a>(NULL, &amp;route);</div>
<div class="line"><span class="lineno">  774</span>                }</div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span>                <span class="keywordflow">if</span> (a_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a401647711263a27345a28f9728dc0f60">policy_table</a>)</div>
<div class="line"><span class="lineno">  777</span>                    <a class="code hl_function" href="#af0d8dcb590782e1c562717fe62976acd">interface_add_addr_rules</a>(a_new, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  778</span>            }</div>
<div class="line"><span class="lineno">  779</span>        }</div>
<div class="line"><span class="lineno">  780</span>    }</div>
<div class="line"><span class="lineno">  781</span>}</div>
<div class="ttc" id="ainterface-ip_8h_html_a59ea6e84f8117231ccc81699d8108eb9"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a59ea6e84f8117231ccc81699d8108eb9">device_addr::broadcast</a></div><div class="ttdeci">uint32_t broadcast</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00139">interface-ip.h:139</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a95c2da81317542ed974fdcae6da03a99"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a95c2da81317542ed974fdcae6da03a99">device_addr::preferred_until</a></div><div class="ttdeci">time_t preferred_until</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00144">interface-ip.h:144</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_a9ae93317891002ab4229742ab02d577f"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a9ae93317891002ab4229742ab02d577f">device_addr::failed</a></div><div class="ttdeci">bool failed</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00132">interface-ip.h:132</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_aa849e91763084a9c4669d535347f2e99"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#aa849e91763084a9c4669d535347f2e99">device_addr::point_to_point</a></div><div class="ttdeci">uint32_t point_to_point</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00140">interface-ip.h:140</a></div></div>
<div class="ttc" id="ainterface-ip_8h_html_ae9fbb82b8704054a1f4d4f7daf861042"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#ae9fbb82b8704054a1f4d4f7daf861042">device_addr::valid_until</a></div><div class="ttdeci">time_t valid_until</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00143">interface-ip.h:143</a></div></div>
<div class="ttc" id="ainterface_8h_html_a072be7fe7b2d0e8d0ec60b07fe48b1f4a5e677de7df876deffbb7e8cace1bcb5f"><div class="ttname"><a href="../../d4/da9/interface_8h.html#a072be7fe7b2d0e8d0ec60b07fe48b1f4a5e677de7df876deffbb7e8cace1bcb5f">IUF_ADDRESS</a></div><div class="ttdeci">@ IUF_ADDRESS</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00055">interface.h:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00150">device_addr::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00111">device_route::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00139">device_addr::broadcast</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00100">clear_if_addr()</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00184">device_user::dev</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00026">DEVADDR_EXTERNAL</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00023">DEVADDR_FAMILY</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00021">DEVADDR_INET4</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00022">DEVADDR_INET6</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00038">DEVADDR_OFFLINK</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00131">device_addr::enabled</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00132">device_addr::failed</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00148">device_addr::flags</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00106">device_route::flags</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00093">device_route::iface</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00076">interface_ip_settings::iface</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00631">interface_add_addr_rules()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00595">interface_handle_subnet_route()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00160">interface::ip4table</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00161">interface::ip6table</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00055">IUF_ADDRESS</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00096">device_route::keep</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00145">interface::l3_dev</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00149">device_addr::mask</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00109">device_route::mask</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00107">device_route::metric</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00158">interface::metric</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00140">device_addr::point_to_point</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00134">device_addr::policy_table</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00144">device_addr::preferred_until</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00201">system_add_address()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00263">system_add_route()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00206">system_del_address()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00268">system_del_route()</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00132">interface::updated</a>, and <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00143">device_addr::valid_until</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01808">__interface_ip_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_abd78479a01b9f96c7ad966ca334802c7_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_abd78479a01b9f96c7ad966ca334802c7_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_abd78479a01b9f96c7ad966ca334802c7_cgraph" id="adc/df0/interface-ip_8c_abd78479a01b9f96c7ad966ca334802c7_cgraph">
<area shape="rect" title=" " alt="" coords="5,231,292,264"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="689,5,828,39"/>
<area shape="poly" title=" " alt="" coords="163,229,233,160,283,121,339,89,424,58,514,38,599,26,673,21,673,26,600,32,515,43,426,63,341,94,286,125,237,164,166,232"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#af0d8dcb590782e1c562717fe62976acd" title=" " alt="" coords="364,401,564,457"/>
<area shape="poly" title=" " alt="" coords="170,263,242,322,290,356,341,386,351,392,349,396,338,391,287,361,239,326,167,267"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac7ef3157ec2d3ecb1b0e109409296157" title=" " alt="" coords="340,103,588,160"/>
<area shape="poly" title=" " alt="" coords="196,228,369,163,371,168,198,233"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="664,235,853,268"/>
<area shape="poly" title=" " alt="" coords="292,246,648,248,648,253,292,251"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="667,177,849,211"/>
<area shape="poly" title=" " alt="" coords="292,232,652,201,652,206,292,238"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a4a078399167635362cfbff7bab157caf" title=" " alt="" coords="357,343,571,376"/>
<area shape="poly" title=" " alt="" coords="185,262,256,296,341,329,363,336,361,341,339,334,254,301,183,267"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a753fba8c387cd70d67f154f1d26c3946" title=" " alt="" coords="360,285,568,319"/>
<area shape="poly" title=" " alt="" coords="250,262,348,279,347,285,249,268"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ac1e6968392107ab1704c592a2270ee2f" title=" " alt="" coords="654,412,862,446"/>
<area shape="poly" title=" " alt="" coords="564,426,638,426,638,432,564,432"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#aee9e4cf147264086eb292977c8df60d1" title=" " alt="" coords="944,355,1138,388"/>
<area shape="poly" title=" " alt="" coords="844,409,939,389,940,395,845,414"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#abcae62722c192dc27b24ea60cfdb3c77" title=" " alt="" coords="947,412,1135,446"/>
<area shape="poly" title=" " alt="" coords="863,426,932,426,932,432,863,432"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a956997d89612ec8774b76854579547bf" title=" " alt="" coords="928,470,1154,527"/>
<area shape="poly" title=" " alt="" coords="831,444,914,464,913,469,830,449"/>
<area shape="poly" title=" " alt="" coords="517,100,573,73,635,48,673,36,674,42,637,53,575,78,519,105"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a8642e113840ee637f7d57e5efb5f02fe" title=" " alt="" coords="638,120,879,154"/>
<area shape="poly" title=" " alt="" coords="588,131,622,132,622,137,588,136"/>
<area shape="poly" title=" " alt="" coords="512,158,570,191,637,221,655,227,653,232,635,226,568,196,509,163"/>
<area shape="poly" title=" " alt="" coords="589,155,661,171,660,176,588,161"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a5d5d5287d90cf8c910b8565e20770fbd" title=" " alt="" coords="636,63,880,96"/>
<area shape="poly" title=" " alt="" coords="588,107,643,97,644,102,589,112"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af02c6a85ad946c9d5b7d06007d6768b0" title=" " alt="" coords="944,235,1138,268"/>
<area shape="poly" title=" " alt="" coords="853,249,928,249,928,254,853,254"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a7b2b1c8437df1396d066c3d37650f748" title=" " alt="" coords="1202,292,1447,326"/>
<area shape="poly" title=" " alt="" coords="1128,266,1223,286,1222,291,1127,272"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a12404d32d3958a043ee78eece1e5045d" title=" " alt="" coords="1216,235,1433,268"/>
<area shape="poly" title=" " alt="" coords="1139,249,1201,249,1201,254,1139,254"/>
<area shape="poly" title=" " alt="" coords="845,209,940,228,939,234,844,214"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#ac566620cf0a24b018d764ffbab2e539a" title=" " alt="" coords="649,292,868,326"/>
<area shape="poly" title=" " alt="" coords="565,339,641,326,642,332,566,345"/>
<area shape="poly" title=" " alt="" coords="868,306,1186,306,1186,312,868,312"/>
<area shape="poly" title=" " alt="" coords="568,302,633,303,633,309,568,307"/>
</map>
</div>

</div>
</div>
<a id="a6ba449ccc984ff201c40a6ac96460438" name="a6ba449ccc984ff201c40a6ac96460438"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ba449ccc984ff201c40a6ac96460438">&#9670;&#160;</a></span>interface_update_proto_neighbor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interface_update_proto_neighbor </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d0/ddc/structvlist__tree">vlist_tree</a> *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *</td>          <td class="paramname"><span class="paramname"><em>node_new</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *</td>          <td class="paramname"><span class="paramname"><em>node_old</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00793">793</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  796</span>{</div>
<div class="line"><span class="lineno">  797</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a> *dev;</div>
<div class="line"><span class="lineno">  798</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/df0/structdevice__neighbor">device_neighbor</a> *neighbor_old, *neighbor_new;</div>
<div class="line"><span class="lineno">  799</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip;</div>
<div class="line"><span class="lineno">  800</span>    <span class="keywordtype">bool</span> keep = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  801</span> </div>
<div class="line"><span class="lineno">  802</span>    ip = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(tree, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a>, <a class="code hl_variable" href="../../d4/da9/interface_8h.html#a9f446a45104d408f08157e99d5bc296f">neighbor</a>);</div>
<div class="line"><span class="lineno">  803</span>    dev = ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a0366c6e716f66acef3dfa13b996afa9b">iface</a>-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a>;</div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span>    neighbor_old = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(node_old, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/df0/structdevice__neighbor">device_neighbor</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>);</div>
<div class="line"><span class="lineno">  806</span>    neighbor_new = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(node_new, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/df0/structdevice__neighbor">device_neighbor</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>);</div>
<div class="line"><span class="lineno">  807</span> </div>
<div class="line"><span class="lineno">  808</span>    <span class="keywordflow">if</span> (node_old &amp;&amp; node_new) {</div>
<div class="line"><span class="lineno">  809</span>        keep = (!memcmp(neighbor_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ac58ba8ee23d6eada24b17c7e29159a2e">macaddr</a>, neighbor_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ac58ba8ee23d6eada24b17c7e29159a2e">macaddr</a>, <span class="keyword">sizeof</span>(neighbor_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ac58ba8ee23d6eada24b17c7e29159a2e">macaddr</a>)) &amp;&amp;</div>
<div class="line"><span class="lineno">  810</span>            (neighbor_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a4f3b095e5cfab49275c731f83ff00014">proxy</a> == neighbor_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a4f3b095e5cfab49275c731f83ff00014">proxy</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  811</span>            (neighbor_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a306919de7074fe3e991e3cbcdeaeb9ba">router</a> == neighbor_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a306919de7074fe3e991e3cbcdeaeb9ba">router</a>));</div>
<div class="line"><span class="lineno">  812</span>    }</div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span>    <span class="keywordflow">if</span> (node_old) {</div>
<div class="line"><span class="lineno">  815</span>        <span class="keywordflow">if</span> (!keep &amp;&amp; neighbor_old-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ab7a74f4a793a2cd391ecfc3351c80d6c">enabled</a>)</div>
<div class="line"><span class="lineno">  816</span>            <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a72a45a7669e7e3b0d4be0b0882632d03">system_del_neighbor</a>(dev, neighbor_old);</div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span>        free(neighbor_old);</div>
<div class="line"><span class="lineno">  819</span>    }</div>
<div class="line"><span class="lineno">  820</span> </div>
<div class="line"><span class="lineno">  821</span>    <span class="keywordflow">if</span> (node_new) {</div>
<div class="line"><span class="lineno">  822</span>        <span class="keywordflow">if</span> (!keep &amp;&amp; ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a652c417338519beaff9970407f295a90">enabled</a>)</div>
<div class="line"><span class="lineno">  823</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a49dab130004c4304ca124ab88c1e696a">system_add_neighbor</a>(dev, neighbor_new))</div>
<div class="line"><span class="lineno">  824</span>                neighbor_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a86ad0dac8b2a14d7fac351a499be2d00">failed</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  825</span> </div>
<div class="line"><span class="lineno">  826</span>        neighbor_new-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ab7a74f4a793a2cd391ecfc3351c80d6c">enabled</a> = ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a652c417338519beaff9970407f295a90">enabled</a>;</div>
<div class="line"><span class="lineno">  827</span>    }</div>
<div class="line"><span class="lineno">  828</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00184">device_user::dev</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00121">device_neighbor::enabled</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00077">interface_ip_settings::enabled</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00118">device_neighbor::failed</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00076">interface_ip_settings::iface</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00145">interface::l3_dev</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00124">device_neighbor::macaddr</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00085">interface_ip_settings::neighbor</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00119">device_neighbor::proxy</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00122">device_neighbor::router</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00253">system_add_neighbor()</a>, and <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00258">system_del_neighbor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01808">__interface_ip_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a6ba449ccc984ff201c40a6ac96460438_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a6ba449ccc984ff201c40a6ac96460438_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a6ba449ccc984ff201c40a6ac96460438_cgraph" id="adc/df0/interface-ip_8c_a6ba449ccc984ff201c40a6ac96460438_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,240,80"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a49dab130004c4304ca124ab88c1e696a" title=" " alt="" coords="288,5,512,39"/>
<area shape="poly" title=" " alt="" coords="240,36,272,33,272,38,241,42"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a72a45a7669e7e3b0d4be0b0882632d03" title=" " alt="" coords="291,63,509,96"/>
<area shape="poly" title=" " alt="" coords="241,61,276,64,275,70,240,66"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a7620b9efee3888ed52424576106cec70" title=" " alt="" coords="560,35,789,68"/>
<area shape="poly" title=" " alt="" coords="513,32,545,35,544,40,512,37"/>
<area shape="rect" href="../../d4/d96/netifd_2utils_8c.html#a13d9536923c5ebce0c233ea375702789" title=" " alt="" coords="873,5,1047,39"/>
<area shape="poly" title=" " alt="" coords="789,37,858,30,858,35,790,42"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a7b2b1c8437df1396d066c3d37650f748" title=" " alt="" coords="837,63,1083,96"/>
<area shape="poly" title=" " alt="" coords="790,60,822,63,821,69,789,65"/>
<area shape="poly" title=" " alt="" coords="509,66,544,62,545,67,509,71"/>
</map>
</div>

</div>
</div>
<a id="a7545e1d6969574c2d78054d63ff6f303" name="a7545e1d6969574c2d78054d63ff6f303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7545e1d6969574c2d78054d63ff6f303">&#9670;&#160;</a></span>interface_update_proto_route()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void interface_update_proto_route </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d0/ddc/structvlist__tree">vlist_tree</a> *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *</td>          <td class="paramname"><span class="paramname"><em>node_new</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d1d/vlist_8h.html#d9/d32/structvlist__node">vlist_node</a> *</td>          <td class="paramname"><span class="paramname"><em>node_old</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00873">873</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  876</span>{</div>
<div class="line"><span class="lineno">  877</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *ip;</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span>    ip = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(tree, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a>, <a class="code hl_variable" href="../../d4/da9/interface_8h.html#a907be96d59886a7b970685768ba18db3">route</a>);</div>
<div class="line"><span class="lineno">  880</span>    <a class="code hl_function" href="#a0b1977f692eb2cca5a33580db8fa9cea">__interface_update_route</a>(ip, node_new, node_old);</div>
<div class="line"><span class="lineno">  881</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00831">__interface_update_route()</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, and <a class="el" href="../../d4/da9/interface_8h_source.html#l00083">interface_ip_settings::route</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01808">__interface_ip_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a7545e1d6969574c2d78054d63ff6f303_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a7545e1d6969574c2d78054d63ff6f303_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a7545e1d6969574c2d78054d63ff6f303_cgraph" id="adc/df0/interface-ip_8c_a7545e1d6969574c2d78054d63ff6f303_cgraph">
<area shape="rect" title=" " alt="" coords="5,51,240,108"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a0b1977f692eb2cca5a33580db8fa9cea" title=" " alt="" coords="288,51,483,108"/>
<area shape="poly" title=" " alt="" coords="240,77,272,77,272,82,240,82"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#ad74f4a302c6f3336368d4129b31547ba" title=" " alt="" coords="556,5,696,39"/>
<area shape="poly" title=" " alt="" coords="483,54,540,40,541,45,484,59"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af2e53724ebfc199196c813bf8369179f" title=" " alt="" coords="531,63,720,96"/>
<area shape="poly" title=" " alt="" coords="483,77,515,77,515,82,483,82"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a3c493797f177336e962f4e33ae86b68c" title=" " alt="" coords="535,120,717,154"/>
<area shape="poly" title=" " alt="" coords="484,100,538,113,537,118,483,105"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#af02c6a85ad946c9d5b7d06007d6768b0" title=" " alt="" coords="768,92,963,126"/>
<area shape="poly" title=" " alt="" coords="721,88,753,92,753,98,720,94"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a7b2b1c8437df1396d066c3d37650f748" title=" " alt="" coords="1011,63,1256,96"/>
<area shape="poly" title=" " alt="" coords="963,96,995,92,995,97,964,101"/>
<area shape="rect" href="../../dc/db2/system_8h.html#a12404d32d3958a043ee78eece1e5045d" title=" " alt="" coords="1025,120,1242,154"/>
<area shape="poly" title=" " alt="" coords="964,116,1010,121,1010,127,963,122"/>
<area shape="poly" title=" " alt="" coords="717,124,752,119,753,125,718,129"/>
</map>
</div>

</div>
</div>
<a id="a3db870442998ad2a60cbc2a0b30470a3" name="a3db870442998ad2a60cbc2a0b30470a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3db870442998ad2a60cbc2a0b30470a3">&#9670;&#160;</a></span>interface_write_resolv_conf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interface_write_resolv_conf </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>jail</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01579">1579</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1580</span>{</div>
<div class="line"><span class="lineno"> 1581</span>    <span class="keywordtype">size_t</span> plen = (<a class="code hl_struct" href="../../d9/dda/instance_8h.html#d6/d57/structjail">jail</a> ? strlen(<a class="code hl_struct" href="../../d9/dda/instance_8h.html#d6/d57/structjail">jail</a>) + 1 : 0 ) +</div>
<div class="line"><span class="lineno"> 1582</span>        (strlen(<a class="code hl_variable" href="../../d1/dd7/netifd_2main_8c.html#a5860bc72c6bb60f7542f89f8494e7ea9">resolv_conf</a>) &gt;= strlen(<a class="code hl_define" href="../../d3/d75/netifd_2netifd_8h.html#a7cfb5d1cd59f04bd9230a1dceb291daf">DEFAULT_RESOLV_CONF</a>) ?</div>
<div class="line"><span class="lineno"> 1583</span>        strlen(<a class="code hl_variable" href="../../d1/dd7/netifd_2main_8c.html#a5860bc72c6bb60f7542f89f8494e7ea9">resolv_conf</a>) : strlen(<a class="code hl_define" href="../../d3/d75/netifd_2netifd_8h.html#a7cfb5d1cd59f04bd9230a1dceb291daf">DEFAULT_RESOLV_CONF</a>) ) + 1;</div>
<div class="line"><span class="lineno"> 1584</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a> = alloca(plen);</div>
<div class="line"><span class="lineno"> 1585</span>    <span class="keywordtype">char</span> *dpath = alloca(plen);</div>
<div class="line"><span class="lineno"> 1586</span>    <span class="keywordtype">char</span> *tmppath = alloca(plen + 4);</div>
<div class="line"><span class="lineno"> 1587</span>    FILE *f;</div>
<div class="line"><span class="lineno"> 1588</span>    uint32_t crcold, crcnew;</div>
<div class="line"><span class="lineno"> 1589</span> </div>
<div class="line"><span class="lineno"> 1590</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d9/dda/instance_8h.html#d6/d57/structjail">jail</a>) {</div>
<div class="line"><span class="lineno"> 1591</span>        sprintf(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, <span class="stringliteral">&quot;/tmp/resolv.conf-%s.d/resolv.conf.auto&quot;</span>, <a class="code hl_struct" href="../../d9/dda/instance_8h.html#d6/d57/structjail">jail</a>);</div>
<div class="line"><span class="lineno"> 1592</span>        strcpy(dpath, <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>);</div>
<div class="line"><span class="lineno"> 1593</span>        dpath = dirname(dpath);</div>
<div class="line"><span class="lineno"> 1594</span>        mkdir(dpath, 0755);</div>
<div class="line"><span class="lineno"> 1595</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1596</span>        strcpy(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, <a class="code hl_variable" href="../../d1/dd7/netifd_2main_8c.html#a5860bc72c6bb60f7542f89f8494e7ea9">resolv_conf</a>);</div>
<div class="line"><span class="lineno"> 1597</span>    }</div>
<div class="line"><span class="lineno"> 1598</span> </div>
<div class="line"><span class="lineno"> 1599</span>    sprintf(tmppath, <span class="stringliteral">&quot;%s.tmp&quot;</span>, <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>);</div>
<div class="line"><span class="lineno"> 1600</span>    unlink(tmppath);</div>
<div class="line"><span class="lineno"> 1601</span>    f = fopen(tmppath, <span class="stringliteral">&quot;w+&quot;</span>);</div>
<div class="line"><span class="lineno"> 1602</span>    <span class="keywordflow">if</span> (!f) {</div>
<div class="line"><span class="lineno"> 1603</span>        <a class="code hl_define" href="../../d3/d75/netifd_2netifd_8h.html#aca4e286dfd9f6ee7adaca201c701e924">D</a>(INTERFACE, <span class="stringliteral">&quot;Failed to open %s for writing&quot;</span>, <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>);</div>
<div class="line"><span class="lineno"> 1604</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1605</span>    }</div>
<div class="line"><span class="lineno"> 1606</span> </div>
<div class="line"><span class="lineno"> 1607</span>    <a class="code hl_function" href="#a7ed8956e1e64f07ee877053185923d35">__interface_write_dns_entries</a>(f, <a class="code hl_struct" href="../../d9/dda/instance_8h.html#d6/d57/structjail">jail</a>);</div>
<div class="line"><span class="lineno"> 1608</span> </div>
<div class="line"><span class="lineno"> 1609</span>    fflush(f);</div>
<div class="line"><span class="lineno"> 1610</span>    rewind(f);</div>
<div class="line"><span class="lineno"> 1611</span>    crcnew = <a class="code hl_function" href="../../d4/d96/netifd_2utils_8c.html#ae5f885912572e398987e528515538b06">crc32_file</a>(f);</div>
<div class="line"><span class="lineno"> 1612</span>    fclose(f);</div>
<div class="line"><span class="lineno"> 1613</span> </div>
<div class="line"><span class="lineno"> 1614</span>    crcold = crcnew + 1;</div>
<div class="line"><span class="lineno"> 1615</span>    f = fopen(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno"> 1616</span>    <span class="keywordflow">if</span> (f) {</div>
<div class="line"><span class="lineno"> 1617</span>        crcold = <a class="code hl_function" href="../../d4/d96/netifd_2utils_8c.html#ae5f885912572e398987e528515538b06">crc32_file</a>(f);</div>
<div class="line"><span class="lineno"> 1618</span>        fclose(f);</div>
<div class="line"><span class="lineno"> 1619</span>    }</div>
<div class="line"><span class="lineno"> 1620</span> </div>
<div class="line"><span class="lineno"> 1621</span>    <span class="keywordflow">if</span> (crcold == crcnew) {</div>
<div class="line"><span class="lineno"> 1622</span>        unlink(tmppath);</div>
<div class="line"><span class="lineno"> 1623</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rename(tmppath, <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>) &lt; 0) {</div>
<div class="line"><span class="lineno"> 1624</span>        <a class="code hl_define" href="../../d3/d75/netifd_2netifd_8h.html#aca4e286dfd9f6ee7adaca201c701e924">D</a>(INTERFACE, <span class="stringliteral">&quot;Failed to replace %s&quot;</span>, <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>);</div>
<div class="line"><span class="lineno"> 1625</span>        unlink(tmppath);</div>
<div class="line"><span class="lineno"> 1626</span>    }</div>
<div class="line"><span class="lineno"> 1627</span>}</div>
<div class="ttc" id="ainterface-ip_8c_html_a7ed8956e1e64f07ee877053185923d35"><div class="ttname"><a href="#a7ed8956e1e64f07ee877053185923d35">__interface_write_dns_entries</a></div><div class="ttdeci">static void __interface_write_dns_entries(FILE *f, const char *jail)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/df0/interface-ip_8c_source.html#l01531">interface-ip.c:1531</a></div></div>
<div class="ttc" id="anetifd_2main_8c_html_a5860bc72c6bb60f7542f89f8494e7ea9"><div class="ttname"><a href="../../d1/dd7/netifd_2main_8c.html#a5860bc72c6bb60f7542f89f8494e7ea9">resolv_conf</a></div><div class="ttdeci">const char * resolv_conf</div><div class="ttdef"><b>Definition</b> <a href="../../d1/dd7/netifd_2main_8c_source.html#l00034">main.c:34</a></div></div>
<div class="ttc" id="anetifd_2netifd_8h_html_a7cfb5d1cd59f04bd9230a1dceb291daf"><div class="ttname"><a href="../../d3/d75/netifd_2netifd_8h.html#a7cfb5d1cd59f04bd9230a1dceb291daf">DEFAULT_RESOLV_CONF</a></div><div class="ttdeci">#define DEFAULT_RESOLV_CONF</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d75/netifd_2netifd_8h_source.html#l00048">netifd.h:48</a></div></div>
<div class="ttc" id="anetifd_2utils_8c_html_ae5f885912572e398987e528515538b06"><div class="ttname"><a href="../../d4/d96/netifd_2utils_8c.html#ae5f885912572e398987e528515538b06">crc32_file</a></div><div class="ttdeci">uint32_t crc32_file(FILE *fp)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d96/netifd_2utils_8c_source.html#l00151">utils.c:151</a></div></div>
<div class="ttc" id="aubusd__obj_8c_html_a9ece2e576492090c46d5e3b435cef7d4"><div class="ttname"><a href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a></div><div class="ttdeci">struct avl_tree path</div><div class="ttdef"><b>Definition</b> <a href="../../df/d0e/ubusd__obj_8c_source.html#l00019">ubusd_obj.c:19</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01531">__interface_write_dns_entries()</a>, <a class="el" href="../../d4/d96/netifd_2utils_8c_source.html#l00151">crc32_file()</a>, <a class="el" href="../../d3/d75/netifd_2netifd_8h_source.html#l00083">D</a>, <a class="el" href="../../d3/d75/netifd_2netifd_8h_source.html#l00048">DEFAULT_RESOLV_CONF</a>, <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>, and <a class="el" href="../../d1/dd7/netifd_2main_8c_source.html#l00034">resolv_conf</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dda/interface_8c_source.html#l01287">interface_change_config()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01783">interface_ip_update_complete()</a>, and <a class="el" href="../../dd/dda/interface_8c_source.html#l00751">interface_proto_event_cb()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_a3db870442998ad2a60cbc2a0b30470a3_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_a3db870442998ad2a60cbc2a0b30470a3_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_a3db870442998ad2a60cbc2a0b30470a3_cgraph" id="adc/df0/interface-ip_8c_a3db870442998ad2a60cbc2a0b30470a3_cgraph">
<area shape="rect" title=" " alt="" coords="5,307,277,340"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7ed8956e1e64f07ee877053185923d35" title=" " alt="" coords="325,261,544,317"/>
<area shape="poly" title=" " alt="" coords="277,305,309,301,309,306,277,310"/>
<area shape="rect" href="../../d4/d96/netifd_2utils_8c.html#ae5f885912572e398987e528515538b06" title=" " alt="" coords="380,341,489,375"/>
<area shape="poly" title=" " alt="" coords="277,337,364,347,364,353,277,342"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="676,76,762,110"/>
<area shape="poly" title=" " alt="" coords="476,258,678,117,681,121,479,262"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="664,243,774,276"/>
<area shape="poly" title=" " alt="" coords="544,275,648,264,648,269,545,280"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a3da67a3fa851ed997efc3da70d565e5e" title=" " alt="" coords="605,300,832,334"/>
<area shape="poly" title=" " alt="" coords="545,297,590,301,589,307,544,302"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a5c86f96ae0805157dbf688873ec1e935" title=" " alt="" coords="592,357,845,391"/>
<area shape="poly" title=" " alt="" coords="515,315,593,344,618,351,617,356,591,349,513,320"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="898,5,1067,39"/>
<area shape="poly" title=" " alt="" coords="761,79,902,41,903,46,763,84"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="917,283,1048,316"/>
<area shape="poly" title=" " alt="" coords="775,265,903,285,902,290,774,270"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="901,392,1064,426"/>
<area shape="poly" title=" " alt="" coords="775,259,812,268,847,285,865,306,873,328,879,350,895,371,911,382,908,387,891,375,875,352,868,330,861,309,844,290,810,273,773,264"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1156,392,1248,426"/>
<area shape="poly" title=" " alt="" coords="775,263,811,271,847,285,862,295,871,306,881,317,894,326,995,356,1141,392,1140,397,993,361,892,331,877,321,867,310,858,299,844,290,809,277,774,268"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="893,449,1072,483"/>
<area shape="poly" title=" " alt="" coords="775,257,813,266,831,274,847,286,863,304,870,323,873,362,875,400,881,418,895,436,897,438,893,442,891,440,877,421,870,401,867,362,865,325,858,307,844,289,828,279,811,271,774,262"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="933,63,1032,96"/>
<area shape="poly" title=" " alt="" coords="733,240,798,175,843,138,892,105,917,94,919,98,895,110,846,142,802,179,737,244"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="925,120,1040,154"/>
<area shape="poly" title=" " alt="" coords="747,240,812,202,892,162,909,156,911,161,894,167,815,207,749,244"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="921,201,1044,235"/>
<area shape="poly" title=" " alt="" coords="774,248,905,228,906,233,775,254"/>
<area shape="poly" title=" " alt="" coords="943,283,939,273,945,264,959,258,983,256,1007,258,1021,265,1019,270,1006,264,982,261,961,263,948,268,944,274,948,281"/>
<area shape="poly" title=" " alt="" coords="1064,406,1140,406,1140,412,1064,412"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1332,420,1433,454"/>
<area shape="poly" title=" " alt="" coords="1249,413,1317,424,1316,429,1248,419"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1137,449,1267,483"/>
<area shape="poly" title=" " alt="" coords="1072,464,1122,464,1122,469,1072,469"/>
<area shape="poly" title=" " alt="" coords="1267,453,1316,445,1317,450,1267,458"/>
<area shape="poly" title=" " alt="" coords="943,202,939,192,945,183,959,177,983,175,1007,177,1021,184,1019,188,1006,182,982,180,961,182,948,187,944,192,948,200"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="1127,173,1277,207"/>
<area shape="poly" title=" " alt="" coords="1044,208,1112,199,1112,204,1045,213"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="1120,231,1284,264"/>
<area shape="poly" title=" " alt="" coords="1045,224,1104,232,1103,237,1044,229"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1334,231,1431,264"/>
<area shape="poly" title=" " alt="" coords="1258,205,1320,225,1318,230,1256,210"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1337,173,1429,207"/>
<area shape="poly" title=" " alt="" coords="1277,188,1321,188,1321,193,1277,193"/>
<area shape="poly" title=" " alt="" coords="1284,245,1319,245,1319,250,1284,250"/>
<area shape="poly" title=" " alt="" coords="1256,228,1321,207,1323,212,1258,233"/>
</map>
</div>

</div>
</div>
<a id="ad6b1063b11f2c34ebf7c5d023e30b31c" name="ad6b1063b11f2c34ebf7c5d023e30b31c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6b1063b11f2c34ebf7c5d023e30b31c">&#9670;&#160;</a></span>match_if_addr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool match_if_addr </td>
          <td>(</td>
          <td class="paramtype">union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *</td>          <td class="paramname"><span class="paramname"><em>a1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *</td>          <td class="paramname"><span class="paramname"><em>a2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>mask</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00113">113</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  114</span>{</div>
<div class="line"><span class="lineno">  115</span>    <span class="keyword">union </span><a class="code hl_union" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *p1, *p2;</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>    p1 = alloca(<span class="keyword">sizeof</span>(*a1));</div>
<div class="line"><span class="lineno">  118</span>    p2 = alloca(<span class="keyword">sizeof</span>(*a2));</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>    memcpy(p1, a1, <span class="keyword">sizeof</span>(*a1));</div>
<div class="line"><span class="lineno">  121</span>    <a class="code hl_function" href="#a7785e8dd3f95af28a1d05a57b6d91226">clear_if_addr</a>(p1, mask);</div>
<div class="line"><span class="lineno">  122</span>    memcpy(p2, a2, <span class="keyword">sizeof</span>(*a2));</div>
<div class="line"><span class="lineno">  123</span>    <a class="code hl_function" href="#a7785e8dd3f95af28a1d05a57b6d91226">clear_if_addr</a>(p2, mask);</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">return</span> !memcmp(p1, p2, <span class="keyword">sizeof</span>(*p1));</div>
<div class="line"><span class="lineno">  126</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00100">clear_if_addr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00188">__find_ip_addr_target()</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00219">__find_ip_route_target()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_ad6b1063b11f2c34ebf7c5d023e30b31c_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_ad6b1063b11f2c34ebf7c5d023e30b31c_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_ad6b1063b11f2c34ebf7c5d023e30b31c_cgraph" id="adc/df0/interface-ip_8c_ad6b1063b11f2c34ebf7c5d023e30b31c_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,158,39"/>
<area shape="rect" href="../../dc/df0/interface-ip_8c.html#a7785e8dd3f95af28a1d05a57b6d91226" title=" " alt="" coords="206,5,345,39"/>
<area shape="poly" title=" " alt="" coords="158,20,190,20,190,25,158,25"/>
</map>
</div>

</div>
</div>
<a id="ab9fc147a80c4a3b13684931f3d12145e" name="ab9fc147a80c4a3b13684931f3d12145e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9fc147a80c4a3b13684931f3d12145e">&#9670;&#160;</a></span>neighbor_cmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int neighbor_cmp </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>k1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>k2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00553">553</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  554</span>{</div>
<div class="line"><span class="lineno">  555</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/df0/structdevice__neighbor">device_neighbor</a> *n1 = k1, *n2 = k2;</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>    <span class="keywordflow">return</span> memcmp(&amp;n1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a822ab359eea23e520bcfabdfa84e1952">addr</a>, &amp;n2-&gt;addr, <span class="keyword">sizeof</span>(n2-&gt;addr));</div>
<div class="line"><span class="lineno">  558</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00126">device_neighbor::addr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01808">__interface_ip_init()</a>.</p>

</div>
</div>
<a id="a183ee1b93d937be80c81ac51c8411049" name="a183ee1b93d937be80c81ac51c8411049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a183ee1b93d937be80c81ac51c8411049">&#9670;&#160;</a></span>prefix_assignment_cmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int prefix_assignment_cmp </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>k1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>k2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01102">1102</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1103</span>{</div>
<div class="line"><span class="lineno"> 1104</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d6/d38/structdevice__prefix__assignment">device_prefix_assignment</a> *a1 = k1, *a2 = k2;</div>
<div class="line"><span class="lineno"> 1105</span> </div>
<div class="line"><span class="lineno"> 1106</span>    <span class="keywordflow">if</span> (a1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ad3f333f5cf7a6313124c4aa02c97ed81">length</a> != a2-&gt;length)</div>
<div class="line"><span class="lineno"> 1107</span>        <span class="keywordflow">return</span> a1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ad3f333f5cf7a6313124c4aa02c97ed81">length</a> - a2-&gt;length;</div>
<div class="line"><span class="lineno"> 1108</span> </div>
<div class="line"><span class="lineno"> 1109</span>    <span class="keywordflow">if</span> (a1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a033bbc4973ca8daac977763693ab2668">weight</a> != a2-&gt;weight)</div>
<div class="line"><span class="lineno"> 1110</span>        <span class="keywordflow">return</span> a2-&gt;weight - a1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a033bbc4973ca8daac977763693ab2668">weight</a>;</div>
<div class="line"><span class="lineno"> 1111</span> </div>
<div class="line"><span class="lineno"> 1112</span>    <span class="keywordflow">return</span> strcmp(a1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a5764d07789245d07adb43b0975adc0d7">name</a>, a2-&gt;name);</div>
<div class="line"><span class="lineno"> 1113</span>}</div>
<div class="ttc" id="ainterface-ip_8h_html_a033bbc4973ca8daac977763693ab2668"><div class="ttname"><a href="../../d9/d62/interface-ip_8h.html#a033bbc4973ca8daac977763693ab2668">device_prefix_assignment::weight</a></div><div class="ttdeci">int weight</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d62/interface-ip_8h_source.html#l00068">interface-ip.h:68</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00067">device_prefix_assignment::length</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00071">device_prefix_assignment::name</a>, and <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00068">device_prefix_assignment::weight</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01115">interface_update_prefix_assignments()</a>.</p>

</div>
</div>
<a id="a5bbc540d3d551947ef7eb6644c951fc0" name="a5bbc540d3d551947ef7eb6644c951fc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bbc540d3d551947ef7eb6644c951fc0">&#9670;&#160;</a></span>prefix_cmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int prefix_cmp </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>k1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>k2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00588">588</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  589</span>{</div>
<div class="line"><span class="lineno">  590</span>    <span class="keywordflow">return</span> memcmp(k1, k2, offsetof(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a>, pclass) -</div>
<div class="line"><span class="lineno">  591</span>            offsetof(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a>, addr));</div>
<div class="line"><span class="lineno">  592</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00111">device_route::addr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01808">__interface_ip_init()</a>.</p>

</div>
</div>
<a id="a31c0179736e6e3c8082c62eeae49d6a5" name="a31c0179736e6e3c8082c62eeae49d6a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31c0179736e6e3c8082c62eeae49d6a5">&#9670;&#160;</a></span>random_ifaceid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void random_ifaceid </td>
          <td>(</td>
          <td class="paramtype">struct in6_addr *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00895">895</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  896</span>{</div>
<div class="line"><span class="lineno">  897</span>    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_variable" href="../../db/d40/cgroups_8c.html#aedeffc7d23da25d52b9a50045189fe2b">initialized</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  898</span>    <span class="keyword">struct </span>timeval t;</div>
<div class="line"><span class="lineno">  899</span> </div>
<div class="line"><span class="lineno">  900</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../db/d40/cgroups_8c.html#aedeffc7d23da25d52b9a50045189fe2b">initialized</a>) {</div>
<div class="line"><span class="lineno">  901</span>        <span class="keywordtype">long</span> <span class="keywordtype">int</span> seed = 0;</div>
<div class="line"><span class="lineno">  902</span>        gettimeofday(&amp;t, NULL);</div>
<div class="line"><span class="lineno">  903</span>        seed = t.tv_sec ^ t.tv_usec ^ getpid();</div>
<div class="line"><span class="lineno">  904</span>        srand48(seed);</div>
<div class="line"><span class="lineno">  905</span>        <a class="code hl_variable" href="../../db/d40/cgroups_8c.html#aedeffc7d23da25d52b9a50045189fe2b">initialized</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  906</span>    }</div>
<div class="line"><span class="lineno">  907</span>    addr-&gt;s6_addr32[2] = (uint32_t)mrand48();</div>
<div class="line"><span class="lineno">  908</span>    addr-&gt;s6_addr32[3] = (uint32_t)mrand48();</div>
<div class="line"><span class="lineno">  909</span>}</div>
<div class="ttc" id="acgroups_8c_html_aedeffc7d23da25d52b9a50045189fe2b"><div class="ttname"><a href="../../db/d40/cgroups_8c.html#aedeffc7d23da25d52b9a50045189fe2b">initialized</a></div><div class="ttdeci">static bool initialized</div><div class="ttdef"><b>Definition</b> <a href="../../db/d40/cgroups_8c_source.html#l00056">cgroups.c:56</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d40/cgroups_8c_source.html#l00056">initialized</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00933">generate_ifaceid()</a>.</p>

</div>
</div>
<a id="a3da67a3fa851ed997efc3da70d565e5e" name="a3da67a3fa851ed997efc3da70d565e5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3da67a3fa851ed997efc3da70d565e5e">&#9670;&#160;</a></span>resolv_conf_iface_cmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int resolv_conf_iface_cmp </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>k1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>k2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01517">1517</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1518</span>{</div>
<div class="line"><span class="lineno"> 1519</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *iface1 = k1, *iface2 = k2;</div>
<div class="line"><span class="lineno"> 1520</span> </div>
<div class="line"><span class="lineno"> 1521</span>    <span class="keywordflow">if</span> (iface1-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#acdbad73cf8ae9eb81ab832ce8c6db4f2">dns_metric</a> != iface2-&gt;dns_metric)</div>
<div class="line"><span class="lineno"> 1522</span>        <span class="keywordflow">return</span> iface1-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#acdbad73cf8ae9eb81ab832ce8c6db4f2">dns_metric</a> - iface2-&gt;dns_metric;</div>
<div class="line"><span class="lineno"> 1523</span> </div>
<div class="line"><span class="lineno"> 1524</span>    <span class="keywordflow">if</span> (iface1-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#adbb7ad89b817a388e9442e85f1e72cc8">metric</a> != iface2-&gt;metric)</div>
<div class="line"><span class="lineno"> 1525</span>        <span class="keywordflow">return</span> iface1-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#adbb7ad89b817a388e9442e85f1e72cc8">metric</a> - iface2-&gt;metric;</div>
<div class="line"><span class="lineno"> 1526</span> </div>
<div class="line"><span class="lineno"> 1527</span>    <span class="keywordflow">return</span> strcmp(iface1-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#aee0f8e8ed8b404d358a6da91196da0d9">name</a>, iface2-&gt;name);</div>
<div class="line"><span class="lineno"> 1528</span>}</div>
<div class="ttc" id="ainterface_8h_html_acdbad73cf8ae9eb81ab832ce8c6db4f2"><div class="ttname"><a href="../../d4/da9/interface_8h.html#acdbad73cf8ae9eb81ab832ce8c6db4f2">interface::dns_metric</a></div><div class="ttdeci">int dns_metric</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da9/interface_8h_source.html#l00159">interface.h:159</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/da9/interface_8h_source.html#l00159">interface::dns_metric</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00158">interface::metric</a>, and <a class="el" href="../../d4/da9/interface_8h_source.html#l00109">interface::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01531">__interface_write_dns_entries()</a>.</p>

</div>
</div>
<a id="ad57cd3b1ffe38facbf01051cb75a6291" name="ad57cd3b1ffe38facbf01051cb75a6291"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad57cd3b1ffe38facbf01051cb75a6291">&#9670;&#160;</a></span>route_cmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int route_cmp </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>k1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>k2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00561">561</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  562</span>{</div>
<div class="line"><span class="lineno">  563</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d5/d4e/structdevice__route">device_route</a> *r1 = k1, *r2 = k2;</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span>    <span class="keywordflow">if</span> (r1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a> != r2-&gt;mask)</div>
<div class="line"><span class="lineno">  566</span>        <span class="keywordflow">return</span> r2-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a> - r1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#abb51b39cae1061f5c43bb95e7b89f25e">mask</a>;</div>
<div class="line"><span class="lineno">  567</span> </div>
<div class="line"><span class="lineno">  568</span>    <span class="keywordflow">if</span> (r1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#addc133ffe0c2217b51c5bed6dbe1369c">metric</a> != r2-&gt;metric)</div>
<div class="line"><span class="lineno">  569</span>        <span class="keywordflow">return</span> r1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#addc133ffe0c2217b51c5bed6dbe1369c">metric</a> - r2-&gt;metric;</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>    <span class="keywordflow">if</span> (r1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a> != r2-&gt;flags)</div>
<div class="line"><span class="lineno">  572</span>        <span class="keywordflow">return</span> r2-&gt;flags - r1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a60baf6667dc5c3499a0dd3fca76d5149">flags</a>;</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>    <span class="keywordflow">if</span> (r1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a30482e53cea85d9f1a8906124d1a7792">sourcemask</a> != r2-&gt;sourcemask)</div>
<div class="line"><span class="lineno">  575</span>        <span class="keywordflow">return</span> r1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a30482e53cea85d9f1a8906124d1a7792">sourcemask</a> - r2-&gt;sourcemask;</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>    <span class="keywordflow">if</span> (r1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a29d36cd8867816724b5019d5855f91f8">table</a> != r2-&gt;table)</div>
<div class="line"><span class="lineno">  578</span>        <span class="keywordflow">return</span> r1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a29d36cd8867816724b5019d5855f91f8">table</a> - r2-&gt;table;</div>
<div class="line"><span class="lineno">  579</span> </div>
<div class="line"><span class="lineno">  580</span>    <span class="keywordtype">int</span> maskcmp = memcmp(&amp;r1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ac2df907ad45148374498b7e2bb365456">source</a>, &amp;r2-&gt;source, <span class="keyword">sizeof</span>(r1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ac2df907ad45148374498b7e2bb365456">source</a>));</div>
<div class="line"><span class="lineno">  581</span>    <span class="keywordflow">if</span> (maskcmp)</div>
<div class="line"><span class="lineno">  582</span>        <span class="keywordflow">return</span> maskcmp;</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>    <span class="keywordflow">return</span> memcmp(&amp;r1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>, &amp;r2-&gt;addr, <span class="keyword">sizeof</span>(r1-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a26653715ae7333e64d0db417edff4e89">addr</a>));</div>
<div class="line"><span class="lineno">  585</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00111">device_route::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00106">device_route::flags</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00109">device_route::mask</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00107">device_route::metric</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00112">device_route::source</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00110">device_route::sourcemask</a>, and <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00108">device_route::table</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01808">__interface_ip_init()</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01821">interface_ip_init()</a>.</p>

</div>
</div>
<a id="af8e74e9212744cd02592ae785cbd0ffc" name="af8e74e9212744cd02592ae785cbd0ffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8e74e9212744cd02592ae785cbd0ffc">&#9670;&#160;</a></span>set_ip_lo_policy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_ip_lo_policy </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>add</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>v6</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *</td>          <td class="paramname"><span class="paramname"><em>iface</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00170">170</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  171</span>{</div>
<div class="line"><span class="lineno">  172</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../de/d40/iprule_8h.html#dd/d31/structiprule">iprule</a> rule = {</div>
<div class="line"><span class="lineno">  173</span>        .flags = <a class="code hl_enumvalue" href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947a6214e69a56829567a4d6d86065460d9b">IPRULE_IN</a> | <a class="code hl_enumvalue" href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947ac820061c3c1e0b31e1f3a3a8a8bd3906">IPRULE_LOOKUP</a> | <a class="code hl_enumvalue" href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947aa88c09d126a17d0fd8f4a1c6c8d6c41f">IPRULE_PRIORITY</a>,</div>
<div class="line"><span class="lineno">  174</span>        .priority = <a class="code hl_define" href="../../de/d40/iprule_8h.html#a6f4d0ecd3a9e06aa71aa1578abd191d0">IPRULE_PRIORITY_NW</a> + iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3b038a7f07556d316ad753778e74620b">l3_dev</a>.<a class="code hl_variable" href="../../db/de9/device_8h.html#a57556a6e1911613138f56f50aad072e1">dev</a>-&gt;<a class="code hl_variable" href="../../db/de9/device_8h.html#aea843a714557ceb8d3375b9ba676d40b">ifindex</a>,</div>
<div class="line"><span class="lineno">  175</span>        .lookup = (v6) ? iface-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#ac14ccb7981d32e5fb90792e60ed64567">ip6table</a> : iface-&gt;ip4table,</div>
<div class="line"><span class="lineno">  176</span>        .<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a552a0607818383f54c5c661cfc238797">in_dev</a> = <span class="stringliteral">&quot;lo&quot;</span></div>
<div class="line"><span class="lineno">  177</span>    };</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">if</span> (!rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#abdd7204f62c8d47be57538b581da40c1">lookup</a>)</div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a9a3eeee183fdebaecbd0f4b70219f2bc">flags</a> |= (v6) ? <a class="code hl_enumvalue" href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947a89be6e3a4f67564776926bda9e2e674a">IPRULE_INET6</a> : <a class="code hl_enumvalue" href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947a47ee7f0a3b06ee3ecd954b7e56f52e74">IPRULE_INET4</a>;</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>    <span class="keywordflow">return</span> (add) ? <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#aee9e4cf147264086eb292977c8df60d1">system_add_iprule</a>(&amp;rule) : <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#abcae62722c192dc27b24ea60cfdb3c77">system_del_iprule</a>(&amp;rule);</div>
<div class="line"><span class="lineno">  185</span>}</div>
<div class="ttc" id="aiprule_8h_html_a0ca1194201d2ace69c4f2021b9b0d947a47ee7f0a3b06ee3ecd954b7e56f52e74"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947a47ee7f0a3b06ee3ecd954b7e56f52e74">IPRULE_INET4</a></div><div class="ttdeci">@ IPRULE_INET4</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00027">iprule.h:27</a></div></div>
<div class="ttc" id="aiprule_8h_html_a0ca1194201d2ace69c4f2021b9b0d947a6214e69a56829567a4d6d86065460d9b"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947a6214e69a56829567a4d6d86065460d9b">IPRULE_IN</a></div><div class="ttdeci">@ IPRULE_IN</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00032">iprule.h:32</a></div></div>
<div class="ttc" id="aiprule_8h_html_a0ca1194201d2ace69c4f2021b9b0d947a89be6e3a4f67564776926bda9e2e674a"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947a89be6e3a4f67564776926bda9e2e674a">IPRULE_INET6</a></div><div class="ttdeci">@ IPRULE_INET6</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00028">iprule.h:28</a></div></div>
<div class="ttc" id="aiprule_8h_html_a0ca1194201d2ace69c4f2021b9b0d947aa88c09d126a17d0fd8f4a1c6c8d6c41f"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947aa88c09d126a17d0fd8f4a1c6c8d6c41f">IPRULE_PRIORITY</a></div><div class="ttdeci">@ IPRULE_PRIORITY</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00044">iprule.h:44</a></div></div>
<div class="ttc" id="aiprule_8h_html_a0ca1194201d2ace69c4f2021b9b0d947ac820061c3c1e0b31e1f3a3a8a8bd3906"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947ac820061c3c1e0b31e1f3a3a8a8bd3906">IPRULE_LOOKUP</a></div><div class="ttdeci">@ IPRULE_LOOKUP</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00056">iprule.h:56</a></div></div>
<div class="ttc" id="aiprule_8h_html_a552a0607818383f54c5c661cfc238797"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a552a0607818383f54c5c661cfc238797">iprule::in_dev</a></div><div class="ttdeci">char in_dev[IFNAMSIZ]</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00080">iprule.h:80</a></div></div>
<div class="ttc" id="aiprule_8h_html_a9a3eeee183fdebaecbd0f4b70219f2bc"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a9a3eeee183fdebaecbd0f4b70219f2bc">iprule::flags</a></div><div class="ttdeci">enum iprule_flags flags</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00090">iprule.h:90</a></div></div>
<div class="ttc" id="aiprule_8h_html_abdd7204f62c8d47be57538b581da40c1"><div class="ttname"><a href="../../de/d40/iprule_8h.html#abdd7204f62c8d47be57538b581da40c1">iprule::lookup</a></div><div class="ttdeci">unsigned int lookup</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00106">iprule.h:106</a></div></div>
<div class="ttc" id="aiprule_8h_html_dd/d31/structiprule"><div class="ttname"><a href="../../de/d40/iprule_8h.html#dd/d31/structiprule">iprule</a></div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00071">iprule.h:71</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_abcae62722c192dc27b24ea60cfdb3c77"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#abcae62722c192dc27b24ea60cfdb3c77">system_del_iprule</a></div><div class="ttdeci">int system_del_iprule(struct iprule *rule)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00312">system-dummy.c:312</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_aee9e4cf147264086eb292977c8df60d1"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#aee9e4cf147264086eb292977c8df60d1">system_add_iprule</a></div><div class="ttdeci">int system_add_iprule(struct iprule *rule)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00307">system-dummy.c:307</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/de9/device_8h_source.html#l00184">device_user::dev</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00090">iprule::flags</a>, <a class="el" href="../../db/de9/device_8h_source.html#l00255">device::ifindex</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00160">interface::ip4table</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00161">interface::ip6table</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00032">IPRULE_IN</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00027">IPRULE_INET4</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00028">IPRULE_INET6</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00056">IPRULE_LOOKUP</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00044">IPRULE_PRIORITY</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00022">IPRULE_PRIORITY_NW</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00145">interface::l3_dev</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00106">iprule::lookup</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00307">system_add_iprule()</a>, and <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00312">system_del_iprule()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01655">interface_ip_set_enabled()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_af8e74e9212744cd02592ae785cbd0ffc_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_af8e74e9212744cd02592ae785cbd0ffc_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_af8e74e9212744cd02592ae785cbd0ffc_cgraph" id="adc/df0/interface-ip_8c_af8e74e9212744cd02592ae785cbd0ffc_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,169,68"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#aee9e4cf147264086eb292977c8df60d1" title=" " alt="" coords="217,5,411,39"/>
<area shape="poly" title=" " alt="" coords="169,38,201,34,201,39,170,44"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#abcae62722c192dc27b24ea60cfdb3c77" title=" " alt="" coords="220,63,408,96"/>
<area shape="poly" title=" " alt="" coords="170,59,205,63,204,69,169,64"/>
</map>
</div>

</div>
</div>
<a id="ac1e6968392107ab1704c592a2270ee2f" name="ac1e6968392107ab1704c592a2270ee2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1e6968392107ab1704c592a2270ee2f">&#9670;&#160;</a></span>set_ip_source_policy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_ip_source_policy </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>add</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>v6</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>priority</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="../../d9/d62/interface-ip_8h.html#d8/dd6/unionif__addr">if_addr</a> *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>mask</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d9/dbe/structinterface">interface</a> *</td>          <td class="paramname"><span class="paramname"><em>in_iface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>action</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>src</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00128">128</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  131</span>{</div>
<div class="line"><span class="lineno">  132</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../de/d40/iprule_8h.html#dd/d31/structiprule">iprule</a> rule = {</div>
<div class="line"><span class="lineno">  133</span>        .flags = <a class="code hl_enumvalue" href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947aa88c09d126a17d0fd8f4a1c6c8d6c41f">IPRULE_PRIORITY</a>,</div>
<div class="line"><span class="lineno">  134</span>        .priority = <a class="code hl_variable" href="../../d0/d5f/mstp_8h.html#a94e25615c4cac1591c65de0b75710e0e">priority</a></div>
<div class="line"><span class="lineno">  135</span>    };</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">if</span> (addr) {</div>
<div class="line"><span class="lineno">  138</span>        <span class="keywordflow">if</span> (src) {</div>
<div class="line"><span class="lineno">  139</span>            rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a9a3eeee183fdebaecbd0f4b70219f2bc">flags</a> |= <a class="code hl_enumvalue" href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947a6c4de09e490ee496b8030d2fa5d68afa">IPRULE_SRC</a>;</div>
<div class="line"><span class="lineno">  140</span>            rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a03d09dec3ed31274c6d85f4e450609b8">src_addr</a> = *addr;</div>
<div class="line"><span class="lineno">  141</span>            rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a0f2a73b39ad2f1c56b048e86f7cc421f">src_mask</a> = mask;</div>
<div class="line"><span class="lineno">  142</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  143</span>            rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a9a3eeee183fdebaecbd0f4b70219f2bc">flags</a> |= <a class="code hl_enumvalue" href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947a82e8c2ba8a8ee54f60a1d8d58f565cc2">IPRULE_DEST</a>;</div>
<div class="line"><span class="lineno">  144</span>            rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a75cc151475eb8b5e4b5422e354e161b5">dest_addr</a> = *addr;</div>
<div class="line"><span class="lineno">  145</span>            rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a069c3d5b2b0f96fd052cccee6d26b186">dest_mask</a> = mask;</div>
<div class="line"><span class="lineno">  146</span>        }</div>
<div class="line"><span class="lineno">  147</span>    }</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">if</span> (table) {</div>
<div class="line"><span class="lineno">  150</span>        rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a9a3eeee183fdebaecbd0f4b70219f2bc">flags</a> |= <a class="code hl_enumvalue" href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947ac820061c3c1e0b31e1f3a3a8a8bd3906">IPRULE_LOOKUP</a>;</div>
<div class="line"><span class="lineno">  151</span>        rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#abdd7204f62c8d47be57538b581da40c1">lookup</a> = table;</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>        <span class="keywordflow">if</span> (!rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#abdd7204f62c8d47be57538b581da40c1">lookup</a>)</div>
<div class="line"><span class="lineno">  154</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  155</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a42d194461d61650ed184d44848a4af3a">action</a>) {</div>
<div class="line"><span class="lineno">  156</span>        rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a9a3eeee183fdebaecbd0f4b70219f2bc">flags</a> |= <a class="code hl_enumvalue" href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947af4f3bda839ec2ad127c7c621e060e9cb">IPRULE_ACTION</a>;</div>
<div class="line"><span class="lineno">  157</span>        <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#a956997d89612ec8774b76854579547bf">system_resolve_iprule_action</a>(<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a42d194461d61650ed184d44848a4af3a">action</a>, &amp;rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a42d194461d61650ed184d44848a4af3a">action</a>);</div>
<div class="line"><span class="lineno">  158</span>    }</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a3c53a11127f452a93aa8743ccd5fdb71">in_iface</a> &amp;&amp; <a class="code hl_variable" href="../../de/d40/iprule_8h.html#a3c53a11127f452a93aa8743ccd5fdb71">in_iface</a>-&gt;l3_dev.dev) {</div>
<div class="line"><span class="lineno">  161</span>        rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a9a3eeee183fdebaecbd0f4b70219f2bc">flags</a> |= <a class="code hl_enumvalue" href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947a6214e69a56829567a4d6d86065460d9b">IPRULE_IN</a>;</div>
<div class="line"><span class="lineno">  162</span>        strcpy(rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a552a0607818383f54c5c661cfc238797">in_dev</a>, <a class="code hl_variable" href="../../de/d40/iprule_8h.html#a3c53a11127f452a93aa8743ccd5fdb71">in_iface</a>-&gt;l3_dev.dev-&gt;ifname);</div>
<div class="line"><span class="lineno">  163</span>    }</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>    rule.<a class="code hl_variable" href="../../de/d40/iprule_8h.html#a9a3eeee183fdebaecbd0f4b70219f2bc">flags</a> |= (v6) ? <a class="code hl_enumvalue" href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947a89be6e3a4f67564776926bda9e2e674a">IPRULE_INET6</a> : <a class="code hl_enumvalue" href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947a47ee7f0a3b06ee3ecd954b7e56f52e74">IPRULE_INET4</a>;</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">return</span> (add) ? <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#aee9e4cf147264086eb292977c8df60d1">system_add_iprule</a>(&amp;rule) : <a class="code hl_function" href="../../da/d12/system-dummy_8c.html#abcae62722c192dc27b24ea60cfdb3c77">system_del_iprule</a>(&amp;rule);</div>
<div class="line"><span class="lineno">  168</span>}</div>
<div class="ttc" id="aiprule_8h_html_a03d09dec3ed31274c6d85f4e450609b8"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a03d09dec3ed31274c6d85f4e450609b8">iprule::src_addr</a></div><div class="ttdeci">union if_addr src_addr</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00095">iprule.h:95</a></div></div>
<div class="ttc" id="aiprule_8h_html_a069c3d5b2b0f96fd052cccee6d26b186"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a069c3d5b2b0f96fd052cccee6d26b186">iprule::dest_mask</a></div><div class="ttdeci">unsigned int dest_mask</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00097">iprule.h:97</a></div></div>
<div class="ttc" id="aiprule_8h_html_a0ca1194201d2ace69c4f2021b9b0d947a6c4de09e490ee496b8030d2fa5d68afa"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947a6c4de09e490ee496b8030d2fa5d68afa">IPRULE_SRC</a></div><div class="ttdeci">@ IPRULE_SRC</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00038">iprule.h:38</a></div></div>
<div class="ttc" id="aiprule_8h_html_a0ca1194201d2ace69c4f2021b9b0d947a82e8c2ba8a8ee54f60a1d8d58f565cc2"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947a82e8c2ba8a8ee54f60a1d8d58f565cc2">IPRULE_DEST</a></div><div class="ttdeci">@ IPRULE_DEST</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00041">iprule.h:41</a></div></div>
<div class="ttc" id="aiprule_8h_html_a0ca1194201d2ace69c4f2021b9b0d947af4f3bda839ec2ad127c7c621e060e9cb"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a0ca1194201d2ace69c4f2021b9b0d947af4f3bda839ec2ad127c7c621e060e9cb">IPRULE_ACTION</a></div><div class="ttdeci">@ IPRULE_ACTION</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00059">iprule.h:59</a></div></div>
<div class="ttc" id="aiprule_8h_html_a0f2a73b39ad2f1c56b048e86f7cc421f"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a0f2a73b39ad2f1c56b048e86f7cc421f">iprule::src_mask</a></div><div class="ttdeci">unsigned int src_mask</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00094">iprule.h:94</a></div></div>
<div class="ttc" id="aiprule_8h_html_a3c53a11127f452a93aa8743ccd5fdb71"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a3c53a11127f452a93aa8743ccd5fdb71">iprule::in_iface</a></div><div class="ttdeci">char * in_iface</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00087">iprule.h:87</a></div></div>
<div class="ttc" id="aiprule_8h_html_a42d194461d61650ed184d44848a4af3a"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a42d194461d61650ed184d44848a4af3a">iprule::action</a></div><div class="ttdeci">unsigned int action</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00110">iprule.h:110</a></div></div>
<div class="ttc" id="aiprule_8h_html_a75cc151475eb8b5e4b5422e354e161b5"><div class="ttname"><a href="../../de/d40/iprule_8h.html#a75cc151475eb8b5e4b5422e354e161b5">iprule::dest_addr</a></div><div class="ttdeci">union if_addr dest_addr</div><div class="ttdef"><b>Definition</b> <a href="../../de/d40/iprule_8h_source.html#l00098">iprule.h:98</a></div></div>
<div class="ttc" id="amstp_8h_html_a94e25615c4cac1591c65de0b75710e0e"><div class="ttname"><a href="../../d0/d5f/mstp_8h.html#a94e25615c4cac1591c65de0b75710e0e">priority</a></div><div class="ttdeci">__be16 priority</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d5f/mstp_8h_source.html#l00000">mstp.h:0</a></div></div>
<div class="ttc" id="asystem-dummy_8c_html_a956997d89612ec8774b76854579547bf"><div class="ttname"><a href="../../da/d12/system-dummy_8c.html#a956997d89612ec8774b76854579547bf">system_resolve_iprule_action</a></div><div class="ttdeci">bool system_resolve_iprule_action(const char *action, unsigned int *id)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d12/system-dummy_8c_source.html#l00322">system-dummy.c:322</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d40/iprule_8h_source.html#l00110">iprule::action</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00098">iprule::dest_addr</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00097">iprule::dest_mask</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00090">iprule::flags</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00080">iprule::in_dev</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00087">iprule::in_iface</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00059">IPRULE_ACTION</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00041">IPRULE_DEST</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00032">IPRULE_IN</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00027">IPRULE_INET4</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00028">IPRULE_INET6</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00056">IPRULE_LOOKUP</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00044">IPRULE_PRIORITY</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00038">IPRULE_SRC</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00106">iprule::lookup</a>, <a class="el" href="../../d0/d5f/mstp_8h_source.html#l00000">priority</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00095">iprule::src_addr</a>, <a class="el" href="../../de/d40/iprule_8h_source.html#l00094">iprule::src_mask</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00307">system_add_iprule()</a>, <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00312">system_del_iprule()</a>, and <a class="el" href="../../da/d12/system-dummy_8c_source.html#l00322">system_resolve_iprule_action()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00631">interface_add_addr_rules()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01655">interface_ip_set_enabled()</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00960">interface_set_prefix_address()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/df0/interface-ip_8c_ac1e6968392107ab1704c592a2270ee2f_cgraph.png" border="0" usemap="#adc/df0/interface-ip_8c_ac1e6968392107ab1704c592a2270ee2f_cgraph" alt=""/></div>
<map name="adc/df0/interface-ip_8c_ac1e6968392107ab1704c592a2270ee2f_cgraph" id="adc/df0/interface-ip_8c_ac1e6968392107ab1704c592a2270ee2f_cgraph">
<area shape="rect" title=" " alt="" coords="5,63,214,96"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#aee9e4cf147264086eb292977c8df60d1" title=" " alt="" coords="277,5,472,39"/>
<area shape="poly" title=" " alt="" coords="190,59,278,40,279,45,191,65"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#abcae62722c192dc27b24ea60cfdb3c77" title=" " alt="" coords="281,63,468,96"/>
<area shape="poly" title=" " alt="" coords="214,77,265,77,265,82,214,82"/>
<area shape="rect" href="../../da/d12/system-dummy_8c.html#a956997d89612ec8774b76854579547bf" title=" " alt="" coords="262,121,487,177"/>
<area shape="poly" title=" " alt="" coords="178,94,250,113,248,119,176,100"/>
</map>
</div>

</div>
</div>
<a id="a5c86f96ae0805157dbf688873ec1e935" name="a5c86f96ae0805157dbf688873ec1e935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c86f96ae0805157dbf688873ec1e935">&#9670;&#160;</a></span>write_resolv_conf_entries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void write_resolv_conf_entries </td>
          <td>(</td>
          <td class="paramtype">FILE *</td>          <td class="paramname"><span class="paramname"><em>f</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/da9/interface_8h.html#d7/d14/structinterface__ip__settings">interface_ip_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01490">1490</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1491</span>{</div>
<div class="line"><span class="lineno"> 1492</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#d0/dc0/structdns__server">dns_server</a> *s;</div>
<div class="line"><span class="lineno"> 1493</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d62/interface-ip_8h.html#db/ddf/structdns__search__domain">dns_search_domain</a> *d;</div>
<div class="line"><span class="lineno"> 1494</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *str;</div>
<div class="line"><span class="lineno"> 1495</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>[INET6_ADDRSTRLEN];</div>
<div class="line"><span class="lineno"> 1496</span> </div>
<div class="line"><span class="lineno"> 1497</span>    <a class="code hl_define" href="../../d9/dd0/netifd_2utils_8h.html#a603fbc6b6d9dd8149d74a3aca723aae4">vlist_simple_for_each_element</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#a3363410aef3be499106d9fbf8dba3f0a">dns_servers</a>, s, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>) {</div>
<div class="line"><span class="lineno"> 1498</span>        str = inet_ntop(s-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1478e2e48dbbc298cfec20ccbe3a7bd7">af</a>, &amp;s-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a687fa24d1e4f97c2c89d15aa5f370706">addr</a>, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>));</div>
<div class="line"><span class="lineno"> 1499</span>        <span class="keywordflow">if</span> (!str)</div>
<div class="line"><span class="lineno"> 1500</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1501</span> </div>
<div class="line"><span class="lineno"> 1502</span>        <span class="keywordflow">if</span> (s-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a1478e2e48dbbc298cfec20ccbe3a7bd7">af</a> == AF_INET6 &amp;&amp; IN6_IS_ADDR_LINKLOCAL(&amp;s-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#a687fa24d1e4f97c2c89d15aa5f370706">addr</a>.<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#ab1d6caa48549e17147d79c6c8d375eda">in6</a>))</div>
<div class="line"><span class="lineno"> 1503</span>            fprintf(f, <span class="stringliteral">&quot;nameserver %s%%%s\n&quot;</span>, str, dev);</div>
<div class="line"><span class="lineno"> 1504</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1505</span>            fprintf(f, <span class="stringliteral">&quot;nameserver %s\n&quot;</span>, str);</div>
<div class="line"><span class="lineno"> 1506</span>    }</div>
<div class="line"><span class="lineno"> 1507</span> </div>
<div class="line"><span class="lineno"> 1508</span>    <a class="code hl_define" href="../../d9/dd0/netifd_2utils_8h.html#a603fbc6b6d9dd8149d74a3aca723aae4">vlist_simple_for_each_element</a>(&amp;ip-&gt;<a class="code hl_variable" href="../../d4/da9/interface_8h.html#adb66860a788e26352191973708b498b5">dns_search</a>, d, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>) {</div>
<div class="line"><span class="lineno"> 1509</span>        fprintf(f, <span class="stringliteral">&quot;search %s\n&quot;</span>, d-&gt;<a class="code hl_variable" href="../../d9/d62/interface-ip_8h.html#afdb22459e6492a9c0307f9847eb86402">name</a>);</div>
<div class="line"><span class="lineno"> 1510</span>    }</div>
<div class="line"><span class="lineno"> 1511</span>}</div>
<div class="ttc" id="anetifd_2utils_8h_html_a603fbc6b6d9dd8149d74a3aca723aae4"><div class="ttname"><a href="../../d9/dd0/netifd_2utils_8h.html#a603fbc6b6d9dd8149d74a3aca723aae4">vlist_simple_for_each_element</a></div><div class="ttdeci">#define vlist_simple_for_each_element(tree, element, node_member)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dd0/netifd_2utils_8h_source.html#l00071">utils.h:71</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00165">dns_server::addr</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00164">dns_server::af</a>, <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00088">interface_ip_settings::dns_search</a>, <a class="el" href="../../d4/da9/interface_8h_source.html#l00087">interface_ip_settings::dns_servers</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00061">if_addr::in6</a>, <a class="el" href="../../d9/d62/interface-ip_8h_source.html#l00170">dns_search_domain::name</a>, and <a class="el" href="../../d9/dd0/netifd_2utils_8h_source.html#l00071">vlist_simple_for_each_element</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01531">__interface_write_dns_entries()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a80bb08c4e126afd03f54a7b0ec7034be" name="a80bb08c4e126afd03f54a7b0ec7034be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80bb08c4e126afd03f54a7b0ec7034be">&#9670;&#160;</a></span>neighbor_attr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> neighbor_attr[<a class="el" href="#a94798fdadfbf49a7c658ace669a1d310ab2376137778ada92138e3162d1e5b06a">__NEIGHBOR_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">={</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310af21a134ff9c1343d9f5e7cc44c8b242f">NEIGHBOR_INTERFACE</a>]= { .name = <span class="stringliteral">&quot;interface&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>},</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310a89fa3b3e28ef5b35a675f68ff466d931">NEIGHBOR_ADDRESS</a>]= { .name = <span class="stringliteral">&quot;ipaddr&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>},</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310add454e8a77ad2511f370537aa7b4b206">NEIGHBOR_MAC</a>]= { .name = <span class="stringliteral">&quot;mac&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>},</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310a6bfbaafd7ee4fe6e57d89cdad4982caa">NEIGHBOR_PROXY</a>]= { .name = <span class="stringliteral">&quot;proxy&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a>},</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310a816b066d133bb595f5cb5ca527ec83e0">NEIGHBOR_ROUTER</a>]= {.name = <span class="stringliteral">&quot;router&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a>},</div>
<div class="line">}</div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a></div><div class="ttdeci">@ BLOBMSG_TYPE_BOOL</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00034">blobmsg.h:34</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00080">80</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   80</span>                                                                 {</div>
<div class="line"><span class="lineno">   81</span>    [<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310af21a134ff9c1343d9f5e7cc44c8b242f">NEIGHBOR_INTERFACE</a>]= { .name = <span class="stringliteral">&quot;interface&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>},</div>
<div class="line"><span class="lineno">   82</span>    [<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310a89fa3b3e28ef5b35a675f68ff466d931">NEIGHBOR_ADDRESS</a>]= { .name = <span class="stringliteral">&quot;ipaddr&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>},</div>
<div class="line"><span class="lineno">   83</span>    [<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310add454e8a77ad2511f370537aa7b4b206">NEIGHBOR_MAC</a>]= { .name = <span class="stringliteral">&quot;mac&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>},</div>
<div class="line"><span class="lineno">   84</span>    [<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310a6bfbaafd7ee4fe6e57d89cdad4982caa">NEIGHBOR_PROXY</a>]= { .name = <span class="stringliteral">&quot;proxy&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a>},</div>
<div class="line"><span class="lineno">   85</span>    [<a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310a816b066d133bb595f5cb5ca527ec83e0">NEIGHBOR_ROUTER</a>]= {.name = <span class="stringliteral">&quot;router&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a>},</div>
<div class="line"><span class="lineno">   86</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00344">interface_ip_add_neighbor()</a>.</p>

</div>
</div>
<a id="ac13869d1cbcb10ea8e7f352c80c1e342" name="ac13869d1cbcb10ea8e7f352c80c1e342"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac13869d1cbcb10ea8e7f352c80c1e342">&#9670;&#160;</a></span>neighbor_attr_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct uci_blob_param_list neighbor_attr_list</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .n_params = <a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310ab2376137778ada92138e3162d1e5b06a">__NEIGHBOR_MAX</a>,</div>
<div class="line">    .params = <a class="code hl_variable" href="#a80bb08c4e126afd03f54a7b0ec7034be">neighbor_attr</a>,</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00088">88</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   88</span>                                                      {</div>
<div class="line"><span class="lineno">   89</span>    .n_params = <a class="code hl_enumvalue" href="#a94798fdadfbf49a7c658ace669a1d310ab2376137778ada92138e3162d1e5b06a">__NEIGHBOR_MAX</a>,</div>
<div class="line"><span class="lineno">   90</span>    .params = <a class="code hl_variable" href="#a80bb08c4e126afd03f54a7b0ec7034be">neighbor_attr</a>,</div>
<div class="line"><span class="lineno">   91</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d5/d65/netifd_2config_8c_source.html#l00231">config_parse_neighbor()</a>.</p>

</div>
</div>
<a id="a1a2b88a3a6afbd3fd0acd37507e4d5d6" name="a1a2b88a3a6afbd3fd0acd37507e4d5d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a2b88a3a6afbd3fd0acd37507e4d5d6">&#9670;&#160;</a></span>prefixes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../da/d23/list_8h.html#d9/d93/structlist__head">list_head</a> prefixes = <a class="el" href="../../da/d23/list_8h.html#a4642d4b7df28478bb762fe43c85b5c63">LIST_HEAD_INIT</a>(prefixes)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00094">94</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/db1/netifd_2ubus_8c_source.html#l00728">interface_ip_dump_prefix_assignment_list()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01655">interface_ip_set_enabled()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01252">interface_refresh_assignments()</a>, <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01287">interface_update_prefix()</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01268">interface_update_prefix_delegation()</a>.</p>

</div>
</div>
<a id="af3a087f00893426bf2b0db806cde50b2" name="af3a087f00893426bf2b0db806cde50b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3a087f00893426bf2b0db806cde50b2">&#9670;&#160;</a></span>route_attr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> route_attr[<a class="el" href="#aaf8fd5f0e57d456151c951e0f3715fc4a8dcd1d54248e94bb2e9c32b18df3a3cd">__ROUTE_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4aaa881a9aa3726144403293084fe204a3">ROUTE_INTERFACE</a>] = { .name = <span class="stringliteral">&quot;interface&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a22d472fa5fb22f76041b1026096bb62d">ROUTE_TARGET</a>] = { .name = <span class="stringliteral">&quot;target&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a221422be76be7babeefb8fde05f6ea22">ROUTE_MASK</a>] = { .name = <span class="stringliteral">&quot;netmask&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4ac1c8f5bf6c8de4e1d95d774bb995e2ac">ROUTE_GATEWAY</a>] = { .name = <span class="stringliteral">&quot;gateway&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a762692bfebe614ed3698a24632c8ff72">ROUTE_METRIC</a>] = { .name = <span class="stringliteral">&quot;metric&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a1aa07e760e2d11fdff3bb701dc53241b">ROUTE_MTU</a>] = { .name = <span class="stringliteral">&quot;mtu&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4ad1cf1ff306bceafd1054a4220230b65f">ROUTE_TABLE</a>] = { .name = <span class="stringliteral">&quot;table&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4ac115915919678cffc32c74e43ad9ba6d">ROUTE_VALID</a>] = { .name = <span class="stringliteral">&quot;valid&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a24310d2cc7a12c94cbc27a68e6acf36d">ROUTE_SOURCE</a>] = { .name = <span class="stringliteral">&quot;source&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a4c9332236eab1857b847afa4925a2165">ROUTE_ONLINK</a>] = { .name = <span class="stringliteral">&quot;onlink&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a12c7fec5677635815e22dc50280e7c27">ROUTE_TYPE</a>] = { .name = <span class="stringliteral">&quot;type&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4aa81f81dc5c8282e57ac93e8be74323ab">ROUTE_PROTO</a>] = { .name = <span class="stringliteral">&quot;proto&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a3a4fb4c22974d0b4b3a90fdc97b4c052">ROUTE_DISABLED</a>] = { .name = <span class="stringliteral">&quot;disabled&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a> },</div>
<div class="line">}</div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a></div><div class="ttdeci">@ BLOBMSG_TYPE_INT32</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00031">blobmsg.h:31</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00050">50</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   50</span>                                                             {</div>
<div class="line"><span class="lineno">   51</span>    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4aaa881a9aa3726144403293084fe204a3">ROUTE_INTERFACE</a>] = { .name = <span class="stringliteral">&quot;interface&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   52</span>    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a22d472fa5fb22f76041b1026096bb62d">ROUTE_TARGET</a>] = { .name = <span class="stringliteral">&quot;target&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   53</span>    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a221422be76be7babeefb8fde05f6ea22">ROUTE_MASK</a>] = { .name = <span class="stringliteral">&quot;netmask&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   54</span>    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4ac1c8f5bf6c8de4e1d95d774bb995e2ac">ROUTE_GATEWAY</a>] = { .name = <span class="stringliteral">&quot;gateway&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   55</span>    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a762692bfebe614ed3698a24632c8ff72">ROUTE_METRIC</a>] = { .name = <span class="stringliteral">&quot;metric&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a> },</div>
<div class="line"><span class="lineno">   56</span>    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a1aa07e760e2d11fdff3bb701dc53241b">ROUTE_MTU</a>] = { .name = <span class="stringliteral">&quot;mtu&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a> },</div>
<div class="line"><span class="lineno">   57</span>    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4ad1cf1ff306bceafd1054a4220230b65f">ROUTE_TABLE</a>] = { .name = <span class="stringliteral">&quot;table&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   58</span>    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4ac115915919678cffc32c74e43ad9ba6d">ROUTE_VALID</a>] = { .name = <span class="stringliteral">&quot;valid&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a> },</div>
<div class="line"><span class="lineno">   59</span>    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a24310d2cc7a12c94cbc27a68e6acf36d">ROUTE_SOURCE</a>] = { .name = <span class="stringliteral">&quot;source&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   60</span>    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a4c9332236eab1857b847afa4925a2165">ROUTE_ONLINK</a>] = { .name = <span class="stringliteral">&quot;onlink&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a> },</div>
<div class="line"><span class="lineno">   61</span>    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a12c7fec5677635815e22dc50280e7c27">ROUTE_TYPE</a>] = { .name = <span class="stringliteral">&quot;type&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   62</span>    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4aa81f81dc5c8282e57ac93e8be74323ab">ROUTE_PROTO</a>] = { .name = <span class="stringliteral">&quot;proto&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   63</span>    [<a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a3a4fb4c22974d0b4b3a90fdc97b4c052">ROUTE_DISABLED</a>] = { .name = <span class="stringliteral">&quot;disabled&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a65f050be4633329d0af340d88e209df6">BLOBMSG_TYPE_BOOL</a> },</div>
<div class="line"><span class="lineno">   64</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00402">interface_ip_add_route()</a>.</p>

</div>
</div>
<a id="a63c77084c872c46bc8f0e97aba768949" name="a63c77084c872c46bc8f0e97aba768949"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63c77084c872c46bc8f0e97aba768949">&#9670;&#160;</a></span>route_attr_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct uci_blob_param_list route_attr_list</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .n_params = <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a8dcd1d54248e94bb2e9c32b18df3a3cd">__ROUTE_MAX</a>,</div>
<div class="line">    .params = <a class="code hl_variable" href="#af3a087f00893426bf2b0db806cde50b2">route_attr</a>,</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00066">66</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   66</span>                                                   {</div>
<div class="line"><span class="lineno">   67</span>    .n_params = <a class="code hl_enumvalue" href="#aaf8fd5f0e57d456151c951e0f3715fc4a8dcd1d54248e94bb2e9c32b18df3a3cd">__ROUTE_MAX</a>,</div>
<div class="line"><span class="lineno">   68</span>    .params = <a class="code hl_variable" href="#af3a087f00893426bf2b0db806cde50b2">route_attr</a>,</div>
<div class="line"><span class="lineno">   69</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d5/d65/netifd_2config_8c_source.html#l00219">config_parse_route()</a>.</p>

</div>
</div>
<a id="ae959340152a25637dbe576bb22df62d9" name="ae959340152a25637dbe576bb22df62d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae959340152a25637dbe576bb22df62d9">&#9670;&#160;</a></span>ula_prefix</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d62/interface-ip_8h.html#d9/d8c/structdevice__prefix">device_prefix</a>* ula_prefix = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00095">95</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d65/netifd_2config_8c_source.html#l00530">config_init_globals()</a>, and <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01383">interface_ip_set_ula_prefix()</a>.</p>

</div>
</div>
<a id="af9483ad15bf6568de612f45fff0b1d98" name="af9483ad15bf6568de612f45fff0b1d98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9483ad15bf6568de612f45fff0b1d98">&#9670;&#160;</a></span>valid_until_timeout</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dc/d56/uloop_8h.html#d8/d2b/structuloop__timeout">uloop_timeout</a> valid_until_timeout</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l00096">96</a> of file <a class="el" href="../../dc/df0/interface-ip_8c_source.html">interface-ip.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df0/interface-ip_8c_source.html#l01859">interface_ip_init_worker()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
