<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>zbus: /home/g41797/CLionProjects/github.com/g41797/zbus/src/libs/ubus/libubus-internal.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">zbus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_87a455bccb09a92130c26a11a880c98a.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_1e974a0feb376015fdf1a5b531ce0d1a.html">ubus</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">libubus-internal.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/dd6/libubus-internal_8h__dep__incl.png" border="0" usemap="#a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2ubus_2libubus-internal_8hdep" alt=""/></div>
<map name="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2ubus_2libubus-internal_8hdep" id="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2ubus_2libubus-internal_8hdep">
<area shape="rect" title=" " alt="" coords="768,5,1081,85"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html" title=" " alt="" coords="5,145,292,224"/>
<area shape="poly" title=" " alt="" coords="753,65,538,93,421,112,305,136,264,146,262,141,304,130,420,107,537,87,752,60"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html" title=" " alt="" coords="316,145,602,224"/>
<area shape="poly" title=" " alt="" coords="767,92,616,136,580,146,579,141,614,130,765,87"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html" title=" " alt="" coords="627,145,913,224"/>
<area shape="poly" title=" " alt="" coords="870,98,816,146,812,142,867,94"/>
<area shape="rect" href="../../d7/d0c/libubus-sub_8c.html" title=" " alt="" coords="937,145,1224,224"/>
<area shape="poly" title=" " alt="" coords="982,93,1038,142,1034,146,979,97"/>
<area shape="rect" href="../../d4/db9/libubus_8c.html" title=" " alt="" coords="1248,145,1534,224"/>
<area shape="poly" title=" " alt="" coords="1084,87,1236,130,1272,141,1270,146,1234,136,1083,92"/>
<area shape="rect" href="../../df/d03/ubus_2tests_2fuzz_2test-fuzz_8c.html" title=" " alt="" coords="1559,133,1845,236"/>
<area shape="poly" title=" " alt="" coords="1097,60,1312,87,1431,107,1546,130,1559,133,1557,139,1545,136,1430,112,1312,93,1096,65"/>
</map>
</div>
</div>
<p><a href="../../dc/d26/libubus-internal_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa817370ec1e201cfa7170662de3a30b4" id="r_aa817370ec1e201cfa7170662de3a30b4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa817370ec1e201cfa7170662de3a30b4">ubus_parse_msg</a> (struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg, size_t len)</td></tr>
<tr class="separator:aa817370ec1e201cfa7170662de3a30b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af89184a6a1d46c84beb995555a5f8422" id="r_af89184a6a1d46c84beb995555a5f8422"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af89184a6a1d46c84beb995555a5f8422">ubus_validate_hdr</a> (struct <a class="el" href="../../d5/d79/ubusmsg_8h.html#d2/d15/structubus__msghdr">ubus_msghdr</a> *hdr)</td></tr>
<tr class="separator:af89184a6a1d46c84beb995555a5f8422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28a4f671bd90dae2128c0b84f0b2a876" id="r_a28a4f671bd90dae2128c0b84f0b2a876"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a28a4f671bd90dae2128c0b84f0b2a876">ubus_handle_data</a> (struct <a class="el" href="../../dc/d56/uloop_8h.html#db/d9e/structuloop__fd">uloop_fd</a> *u, unsigned int <a class="el" href="../../d3/d91/uloop-epoll_8c.html#a0e992398f478de38db56a1146ea84e93">events</a>)</td></tr>
<tr class="separator:a28a4f671bd90dae2128c0b84f0b2a876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a313bd461102793ea3cec6dbe94b70f7b" id="r_a313bd461102793ea3cec6dbe94b70f7b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a313bd461102793ea3cec6dbe94b70f7b">ubus_send_msg</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, uint32_t seq, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg, int <a class="el" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>, uint32_t peer, int fd)</td></tr>
<tr class="separator:a313bd461102793ea3cec6dbe94b70f7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ccbe0402b209819107f90c3433b2eb0" id="r_a4ccbe0402b209819107f90c3433b2eb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ccbe0402b209819107f90c3433b2eb0">ubus_process_msg</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../db/d55/libubus_8h.html#d0/d37/structubus__msghdr__buf">ubus_msghdr_buf</a> *<a class="el" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, int fd)</td></tr>
<tr class="separator:a4ccbe0402b209819107f90c3433b2eb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cba0d855e6f3ed0fac6a0c6c41c8f49" id="r_a4cba0d855e6f3ed0fac6a0c6c41c8f49"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="../../d5/d1d/libubox_2utils_8h.html#a40f0fecd341aae3690f0dded986e423a">__hidden</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4cba0d855e6f3ed0fac6a0c6c41c8f49">ubus_start_request</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../db/d55/libubus_8h.html#dc/dca/structubus__request">ubus_request</a> *req, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg, int <a class="el" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>, uint32_t peer)</td></tr>
<tr class="separator:a4cba0d855e6f3ed0fac6a0c6c41c8f49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7da0a155290c1fd4d3b5911ced43d5a2" id="r_a7da0a155290c1fd4d3b5911ced43d5a2"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="../../d5/d1d/libubox_2utils_8h.html#a40f0fecd341aae3690f0dded986e423a">__hidden</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7da0a155290c1fd4d3b5911ced43d5a2">__ubus_start_request</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../db/d55/libubus_8h.html#dc/dca/structubus__request">ubus_request</a> *req, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg, int <a class="el" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>, uint32_t peer)</td></tr>
<tr class="separator:a7da0a155290c1fd4d3b5911ced43d5a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a180b8f0e72004ef0d6c6fda3aac0a7b0" id="r_a180b8f0e72004ef0d6c6fda3aac0a7b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a180b8f0e72004ef0d6c6fda3aac0a7b0">ubus_process_obj_msg</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../db/d55/libubus_8h.html#d0/d37/structubus__msghdr__buf">ubus_msghdr_buf</a> *<a class="el" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, int fd)</td></tr>
<tr class="separator:a180b8f0e72004ef0d6c6fda3aac0a7b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84cbd7c0f01a559e7480777fb3dbb78c" id="r_a84cbd7c0f01a559e7480777fb3dbb78c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a84cbd7c0f01a559e7480777fb3dbb78c">ubus_process_req_msg</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../db/d55/libubus_8h.html#d0/d37/structubus__msghdr__buf">ubus_msghdr_buf</a> *<a class="el" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, int fd)</td></tr>
<tr class="separator:a84cbd7c0f01a559e7480777fb3dbb78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5497c370318a5cc03dd662523915ea92" id="r_a5497c370318a5cc03dd662523915ea92"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="../../d5/d1d/libubox_2utils_8h.html#a40f0fecd341aae3690f0dded986e423a">__hidden</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5497c370318a5cc03dd662523915ea92">ubus_poll_data</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, int <a class="el" href="../../de/d89/procd_2ubus_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>)</td></tr>
<tr class="separator:a5497c370318a5cc03dd662523915ea92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8f565d46decc2d5d8ac81923ceec43fd" id="r_a8f565d46decc2d5d8ac81923ceec43fd"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d8/d3c/blob_8h.html#d3/dcb/structblob__buf">blob_buf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f565d46decc2d5d8ac81923ceec43fd">b</a></td></tr>
<tr class="separator:a8f565d46decc2d5d8ac81923ceec43fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa776919b80e5404de135b0695b6dd177" id="r_aa776919b80e5404de135b0695b6dd177"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d9/d8b/structubus__method">ubus_method</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa776919b80e5404de135b0695b6dd177">watch_method</a></td></tr>
<tr class="separator:aa776919b80e5404de135b0695b6dd177"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7da0a155290c1fd4d3b5911ced43d5a2" name="a7da0a155290c1fd4d3b5911ced43d5a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7da0a155290c1fd4d3b5911ced43d5a2">&#9670;&#160;</a></span>__ubus_start_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d5/d1d/libubox_2utils_8h.html#a40f0fecd341aae3690f0dded986e423a">__hidden</a> __ubus_start_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#dc/dca/structubus__request">ubus_request</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>peer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00053">53</a> of file <a class="el" href="../../d2/de5/libubus-req_8c_source.html">libubus-req.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>{</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordflow">if</span> (msg &amp;&amp; <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b">blob_pad_len</a>(msg) &gt; UBUS_MAX_MSGLEN)</div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>    <a class="code hl_function" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4">INIT_LIST_HEAD</a>(&amp;req-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#af864179f5cab048949a8597e6c0f3be9">list</a>);</div>
<div class="line"><span class="lineno">   61</span>    <a class="code hl_function" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4">INIT_LIST_HEAD</a>(&amp;req-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a8acfe77575ab31038269d4e78d6a73e8">pending</a>);</div>
<div class="line"><span class="lineno">   62</span>    req-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#adb280ee48aead79dd92ac93e853407af">ctx</a> = <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>;</div>
<div class="line"><span class="lineno">   63</span>    req-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a6694f3eec5b8b5a0088d592c14c05b01">peer</a> = peer;</div>
<div class="line"><span class="lineno">   64</span>    req-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a7e10abfbad58d00740e7716bb480739d">seq</a> = ++<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#ad8b17ea3e122ce40de377393533a358e">request_seq</a>;</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a313bd461102793ea3cec6dbe94b70f7b">ubus_send_msg</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a7e10abfbad58d00740e7716bb480739d">seq</a>, msg, <a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>, peer, req-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a7f379c6640df92275a94862a7e448b47">fd</a>);</div>
<div class="line"><span class="lineno">   67</span>}</div>
<div class="ttc" id="ablob_8h_html_a3071b18c2bb742e04d7622379ee8fd3b"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b">blob_pad_len</a></div><div class="ttdeci">static size_t blob_pad_len(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00118">blob.h:118</a></div></div>
<div class="ttc" id="ahotplug-dispatch_8c_html_a7c00b3b8999b2056f226d3cc35a83845"><div class="ttname"><a href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a></div><div class="ttdeci">struct ubus_context * ctx</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">hotplug-dispatch.c:42</a></div></div>
<div class="ttc" id="ajson__script_8c_html_a12c0be34061dfc832e2b49607c448229"><div class="ttname"><a href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a></div><div class="ttdeci">static const struct json_handler cmd[]</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d4c/json__script_8c_source.html#l00207">json_script.c:207</a></div></div>
<div class="ttc" id="alibubus-internal_8h_html_a313bd461102793ea3cec6dbe94b70f7b"><div class="ttname"><a href="#a313bd461102793ea3cec6dbe94b70f7b">ubus_send_msg</a></div><div class="ttdeci">int ubus_send_msg(struct ubus_context *ctx, uint32_t seq, struct blob_attr *msg, int cmd, uint32_t peer, int fd)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d80/libubus-io_8c_source.html#l00126">libubus-io.c:126</a></div></div>
<div class="ttc" id="alibubus_8h_html_a6694f3eec5b8b5a0088d592c14c05b01"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a6694f3eec5b8b5a0088d592c14c05b01">ubus_request::peer</a></div><div class="ttdeci">uint32_t peer</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00217">libubus.h:217</a></div></div>
<div class="ttc" id="alibubus_8h_html_a7e10abfbad58d00740e7716bb480739d"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a7e10abfbad58d00740e7716bb480739d">ubus_request::seq</a></div><div class="ttdeci">uint16_t seq</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00218">libubus.h:218</a></div></div>
<div class="ttc" id="alibubus_8h_html_a7f379c6640df92275a94862a7e448b47"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a7f379c6640df92275a94862a7e448b47">ubus_request::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00225">libubus.h:225</a></div></div>
<div class="ttc" id="alibubus_8h_html_a8acfe77575ab31038269d4e78d6a73e8"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a8acfe77575ab31038269d4e78d6a73e8">ubus_request::pending</a></div><div class="ttdeci">struct list_head pending</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00210">libubus.h:210</a></div></div>
<div class="ttc" id="alibubus_8h_html_ad8b17ea3e122ce40de377393533a358e"><div class="ttname"><a href="../../db/d55/libubus_8h.html#ad8b17ea3e122ce40de377393533a358e">ubus_context::request_seq</a></div><div class="ttdeci">uint16_t request_seq</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00166">libubus.h:166</a></div></div>
<div class="ttc" id="alibubus_8h_html_adb280ee48aead79dd92ac93e853407af"><div class="ttname"><a href="../../db/d55/libubus_8h.html#adb280ee48aead79dd92ac93e853407af">ubus_request::ctx</a></div><div class="ttdeci">struct ubus_context * ctx</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00227">libubus.h:227</a></div></div>
<div class="ttc" id="alibubus_8h_html_af864179f5cab048949a8597e6c0f3be9"><div class="ttname"><a href="../../db/d55/libubus_8h.html#af864179f5cab048949a8597e6c0f3be9">ubus_request::list</a></div><div class="ttdeci">struct list_head list</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00208">libubus.h:208</a></div></div>
<div class="ttc" id="alist_8h_html_aea85dd50b9129ddaa3e3c67ed55804e4"><div class="ttname"><a href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4">INIT_LIST_HEAD</a></div><div class="ttdeci">static void INIT_LIST_HEAD(struct list_head *list)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00063">list.h:63</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d3c/blob_8h_source.html#l00118">blob_pad_len()</a>, <a class="el" href="../../d4/d4c/json__script_8c_source.html#l00207">cmd</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00227">ubus_request::ctx</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00225">ubus_request::fd</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00063">INIT_LIST_HEAD()</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00208">ubus_request::list</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00217">ubus_request::peer</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00210">ubus_request::pending</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00166">ubus_context::request_seq</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00218">ubus_request::seq</a>, and <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00126">ubus_send_msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00220">ubus_invoke_async_fd()</a>, and <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00069">ubus_start_request()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d26/libubus-internal_8h_a7da0a155290c1fd4d3b5911ced43d5a2_cgraph.png" border="0" usemap="#adc/d26/libubus-internal_8h_a7da0a155290c1fd4d3b5911ced43d5a2_cgraph" alt=""/></div>
<map name="adc/d26/libubus-internal_8h_a7da0a155290c1fd4d3b5911ced43d5a2_cgraph" id="adc/d26/libubus-internal_8h_a7da0a155290c1fd4d3b5911ced43d5a2_cgraph">
<area shape="rect" title=" " alt="" coords="5,316,222,349"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1107,301,1249,335"/>
<area shape="poly" title=" " alt="" coords="222,330,556,330,767,330,940,327,1091,320,1092,325,940,332,767,335,556,335,222,335"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="271,370,439,404"/>
<area shape="poly" title=" " alt="" coords="192,347,263,364,262,369,190,353"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="270,122,440,156"/>
<area shape="poly" title=" " alt="" coords="135,313,319,164,322,168,138,317"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1297,246,1439,280"/>
<area shape="poly" title=" " alt="" coords="1238,298,1292,282,1293,287,1240,303"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1487,246,1585,280"/>
<area shape="poly" title=" " alt="" coords="1439,260,1471,260,1471,266,1439,266"/>
<area shape="poly" title=" " alt="" coords="386,119,452,86,544,48,597,30,652,16,708,7,764,3,983,3,1062,3,1125,8,1155,15,1184,27,1251,68,1290,105,1320,149,1343,193,1359,231,1354,233,1338,195,1316,151,1286,108,1248,72,1182,32,1153,21,1124,14,1062,8,983,8,764,8,709,12,653,21,598,36,546,53,454,91,388,124"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="488,152,627,185"/>
<area shape="poly" title=" " alt="" coords="441,149,473,154,473,159,440,154"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f" title=" " alt="" coords="492,94,623,128"/>
<area shape="poly" title=" " alt="" coords="440,125,476,120,477,125,441,130"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="713,152,818,185"/>
<area shape="poly" title=" " alt="" coords="628,166,698,166,698,171,628,171"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="675,209,856,243"/>
<area shape="poly" title=" " alt="" coords="622,183,688,202,686,207,620,188"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1107,178,1249,212"/>
<area shape="poly" title=" " alt="" coords="819,180,904,195,981,198,1059,195,1091,195,1091,200,1059,200,981,204,903,200,818,185"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="904,152,1059,185"/>
<area shape="poly" title=" " alt="" coords="818,166,888,166,888,171,818,171"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1107,82,1249,116"/>
<area shape="poly" title=" " alt="" coords="817,155,854,138,868,124,876,108,885,93,902,79,955,63,1010,60,1064,65,1112,75,1110,80,1063,70,1010,65,956,69,905,84,889,96,881,111,873,127,857,143,820,160"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="913,261,1050,295"/>
<area shape="poly" title=" " alt="" coords="820,178,857,194,872,206,882,217,905,240,925,252,922,256,902,244,878,220,869,209,854,199,818,183"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="932,94,1031,128"/>
<area shape="poly" title=" " alt="" coords="818,152,916,126,917,131,819,157"/>
<area shape="poly" title=" " alt="" coords="1060,176,1092,181,1092,186,1059,182"/>
<area shape="poly" title=" " alt="" coords="1031,148,1113,119,1114,124,1033,154"/>
<area shape="poly" title=" " alt="" coords="1051,289,1092,298,1091,303,1049,294"/>
<area shape="poly" title=" " alt="" coords="1050,273,1281,264,1282,269,1050,278"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#ad1aaffb83e802ad470cb77be9f56977c" title=" " alt="" coords="711,94,820,128"/>
<area shape="poly" title=" " alt="" coords="624,108,696,108,696,114,624,114"/>
</map>
</div>

</div>
</div>
<a id="a28a4f671bd90dae2128c0b84f0b2a876" name="a28a4f671bd90dae2128c0b84f0b2a876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28a4f671bd90dae2128c0b84f0b2a876">&#9670;&#160;</a></span>ubus_handle_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubus_handle_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d56/uloop_8h.html#db/d9e/structuloop__fd">uloop_fd</a> *</td>          <td class="paramname"><span class="paramname"><em>u</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>events</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00312">312</a> of file <a class="el" href="../../dc/d80/libubus-io_8c_source.html">libubus-io.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  313</span>{</div>
<div class="line"><span class="lineno">  314</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a> = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(u, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a>, <a class="code hl_variable" href="../../db/d55/libubus_8h.html#a95c5a7ee3be99fed1bc9e25b53a282fd">sock</a>);</div>
<div class="line"><span class="lineno">  315</span>    <span class="keywordtype">int</span> recv_fd = -1;</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><span class="lineno">  318</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a05cb7b02f05a8bb3f67b1812b13d1bf6">stack_depth</a>)</div>
<div class="line"><span class="lineno">  319</span>            <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a3ab068f8bcf0e831bd4d349befe55343">pending_timer</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a7b331d0a02bb53b37ae38716956c97bd">cb</a>(&amp;<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a3ab068f8bcf0e831bd4d349befe55343">pending_timer</a>);</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../dc/d80/libubus-io_8c.html#a141d1ad87ea36959b73e035bd3b3b265">get_next_msg</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, &amp;recv_fd))</div>
<div class="line"><span class="lineno">  322</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  323</span>        <a class="code hl_function" href="#a4ccbe0402b209819107f90c3433b2eb0">ubus_process_msg</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, &amp;<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a502aa3e336810f5bc200234fa3bd6df2">msgbuf</a>, recv_fd);</div>
<div class="line"><span class="lineno">  324</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d1/d08/uloop_8c.html#ae005e9aac16badef6a542ed7e70f4270">uloop_cancelling</a>() || <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a57d5f3d3f1382b70a45e320a9eb24deb">cancel_poll</a>)</div>
<div class="line"><span class="lineno">  325</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  326</span>    }</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a05cb7b02f05a8bb3f67b1812b13d1bf6">stack_depth</a>)</div>
<div class="line"><span class="lineno">  329</span>        <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a3ab068f8bcf0e831bd4d349befe55343">pending_timer</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a7b331d0a02bb53b37ae38716956c97bd">cb</a>(&amp;<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a3ab068f8bcf0e831bd4d349befe55343">pending_timer</a>);</div>
<div class="line"><span class="lineno">  330</span> </div>
<div class="line"><span class="lineno">  331</span>    <span class="keywordflow">if</span> (u-&gt;<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a0a2e642791b9398c2a113e8e95897a40">eof</a>)</div>
<div class="line"><span class="lineno">  332</span>        <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a5274257ef8245c23b253998614491950">connection_lost</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>);</div>
<div class="line"><span class="lineno">  333</span>}</div>
<div class="ttc" id="alibubus-internal_8h_html_a4ccbe0402b209819107f90c3433b2eb0"><div class="ttname"><a href="#a4ccbe0402b209819107f90c3433b2eb0">ubus_process_msg</a></div><div class="ttdeci">void ubus_process_msg(struct ubus_context *ctx, struct ubus_msghdr_buf *buf, int fd)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/db9/libubus_8c_source.html#l00093">libubus.c:93</a></div></div>
<div class="ttc" id="alibubus-io_8c_html_a141d1ad87ea36959b73e035bd3b3b265"><div class="ttname"><a href="../../dc/d80/libubus-io_8c.html#a141d1ad87ea36959b73e035bd3b3b265">get_next_msg</a></div><div class="ttdeci">static bool get_next_msg(struct ubus_context *ctx, int *recv_fd)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d80/libubus-io_8c_source.html#l00271">libubus-io.c:271</a></div></div>
<div class="ttc" id="alibubus_8h_html_a05cb7b02f05a8bb3f67b1812b13d1bf6"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a05cb7b02f05a8bb3f67b1812b13d1bf6">ubus_context::stack_depth</a></div><div class="ttdeci">int stack_depth</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00168">libubus.h:168</a></div></div>
<div class="ttc" id="alibubus_8h_html_a3ab068f8bcf0e831bd4d349befe55343"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a3ab068f8bcf0e831bd4d349befe55343">ubus_context::pending_timer</a></div><div class="ttdeci">struct uloop_timeout pending_timer</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00163">libubus.h:163</a></div></div>
<div class="ttc" id="alibubus_8h_html_a502aa3e336810f5bc200234fa3bd6df2"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a502aa3e336810f5bc200234fa3bd6df2">ubus_context::msgbuf</a></div><div class="ttdeci">struct ubus_msghdr_buf msgbuf</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00173">libubus.h:173</a></div></div>
<div class="ttc" id="alibubus_8h_html_a5274257ef8245c23b253998614491950"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a5274257ef8245c23b253998614491950">ubus_context::connection_lost</a></div><div class="ttdeci">void(* connection_lost)(struct ubus_context *ctx)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00170">libubus.h:170</a></div></div>
<div class="ttc" id="alibubus_8h_html_a57d5f3d3f1382b70a45e320a9eb24deb"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a57d5f3d3f1382b70a45e320a9eb24deb">ubus_context::cancel_poll</a></div><div class="ttdeci">bool cancel_poll</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00167">libubus.h:167</a></div></div>
<div class="ttc" id="alibubus_8h_html_a95c5a7ee3be99fed1bc9e25b53a282fd"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a95c5a7ee3be99fed1bc9e25b53a282fd">ubus_context::sock</a></div><div class="ttdeci">struct uloop_fd sock</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00162">libubus.h:162</a></div></div>
<div class="ttc" id="alibubus_8h_html_df/d18/structubus__context"><div class="ttname"><a href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00157">libubus.h:157</a></div></div>
<div class="ttc" id="alist_8h_html_af8c317a42292b61c93aae91e59118a46"><div class="ttname"><a href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a></div><div class="ttdeci">#define container_of(ptr, type, member)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00038">list.h:38</a></div></div>
<div class="ttc" id="auloop_8c_html_ae005e9aac16badef6a542ed7e70f4270"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#ae005e9aac16badef6a542ed7e70f4270">uloop_cancelling</a></div><div class="ttdeci">bool uloop_cancelling(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00653">uloop.c:653</a></div></div>
<div class="ttc" id="auloop_8h_html_a0a2e642791b9398c2a113e8e95897a40"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#a0a2e642791b9398c2a113e8e95897a40">uloop_fd::eof</a></div><div class="ttdeci">bool eof</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00066">uloop.h:66</a></div></div>
<div class="ttc" id="auloop_8h_html_a7b331d0a02bb53b37ae38716956c97bd"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#a7b331d0a02bb53b37ae38716956c97bd">uloop_timeout::cb</a></div><div class="ttdeci">uloop_timeout_handler cb</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00077">uloop.h:77</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d55/libubus_8h_source.html#l00167">ubus_context::cancel_poll</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00077">uloop_timeout::cb</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00170">ubus_context::connection_lost</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00066">uloop_fd::eof</a>, <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00271">get_next_msg()</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00173">ubus_context::msgbuf</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00163">ubus_context::pending_timer</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00162">ubus_context::sock</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00168">ubus_context::stack_depth</a>, <a class="el" href="../../d4/db9/libubus_8c_source.html#l00093">ubus_process_msg()</a>, and <a class="el" href="../../d1/d08/uloop_8c_source.html#l00653">uloop_cancelling()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/db9/libubus_8c_source.html#l00284">ubus_connect_ctx()</a>, and <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00335">ubus_poll_data()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d26/libubus-internal_8h_a28a4f671bd90dae2128c0b84f0b2a876_cgraph.png" border="0" usemap="#adc/d26/libubus-internal_8h_a28a4f671bd90dae2128c0b84f0b2a876_cgraph" alt=""/></div>
<map name="adc/d26/libubus-internal_8h_a28a4f671bd90dae2128c0b84f0b2a876_cgraph" id="adc/d26/libubus-internal_8h_a28a4f671bd90dae2128c0b84f0b2a876_cgraph">
<area shape="rect" title=" " alt="" coords="5,656,195,690"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a141d1ad87ea36959b73e035bd3b3b265" title=" " alt="" coords="1131,141,1281,175"/>
<area shape="poly" title=" " alt="" coords="138,653,1152,180,1154,184,140,658"/>
<area shape="rect" href="../../d4/db9/libubus_8c.html#a95892b50f9c08ab4ada541c7c6351a65" title=" " alt="" coords="243,656,439,690"/>
<area shape="poly" title=" " alt="" coords="195,670,227,670,227,676,195,676"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae005e9aac16badef6a542ed7e70f4270" title=" " alt="" coords="254,713,428,747"/>
<area shape="poly" title=" " alt="" coords="174,688,253,706,251,712,173,693"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a286d2863156bf7bb882339c5c74bc595" title=" " alt="" coords="1437,5,1589,39"/>
<area shape="poly" title=" " alt="" coords="1233,139,1302,98,1388,56,1427,41,1429,46,1390,61,1304,103,1235,143"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="2159,812,2257,846"/>
<area shape="poly" title=" " alt="" coords="1250,138,1315,117,1389,100,1508,83,1662,68,1741,66,1814,69,1876,80,1902,89,1923,100,1967,134,2006,173,2040,216,2071,263,2097,312,2120,363,2156,466,2181,568,2196,661,2209,796,2203,796,2191,662,2175,569,2151,468,2115,365,2092,314,2066,265,2036,219,2002,177,1963,138,1920,104,1900,93,1875,85,1813,74,1741,71,1663,73,1508,88,1389,105,1316,122,1252,143"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1970,812,2111,846"/>
<area shape="poly" title=" " alt="" coords="1282,158,1439,167,1631,187,1725,203,1809,223,1877,249,1903,264,1924,280,1949,320,1972,379,1990,450,2006,528,2028,682,2039,797,2034,797,2022,683,2000,529,1985,451,1966,380,1945,323,1920,284,1900,268,1875,254,1807,228,1723,208,1630,192,1439,172,1281,163"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a1e4704bb3543c30c9de44cd3f2616404" title=" " alt="" coords="1457,115,1570,148"/>
<area shape="poly" title=" " alt="" coords="1281,149,1441,135,1441,140,1282,154"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#af89184a6a1d46c84beb995555a5f8422" title=" " alt="" coords="1418,224,1608,258"/>
<area shape="poly" title=" " alt="" coords="1272,173,1434,217,1433,222,1271,178"/>
<area shape="poly" title=" " alt="" coords="2111,826,2143,826,2143,832,2111,832"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#ad1aaffb83e802ad470cb77be9f56977c" title=" " alt="" coords="1749,115,1858,148"/>
<area shape="poly" title=" " alt="" coords="1570,129,1734,129,1734,134,1570,134"/>
<area shape="poly" title=" " alt="" coords="1610,252,1639,267,1656,284,1665,303,1672,321,1687,339,1719,361,1749,374,1808,386,1837,391,1866,400,1895,417,1924,443,1955,485,1981,532,2000,582,2015,632,2034,725,2041,796,2035,796,2028,726,2010,633,1995,584,1976,535,1951,488,1920,447,1892,421,1864,405,1836,396,1807,391,1748,379,1716,365,1684,343,1668,324,1660,305,1652,287,1636,271,1608,257"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1732,295,1875,328"/>
<area shape="poly" title=" " alt="" coords="1593,256,1638,266,1723,288,1721,293,1637,271,1592,261"/>
<area shape="poly" title=" " alt="" coords="1852,327,1890,349,1924,380,1957,433,1983,490,2003,549,2018,608,2035,716,2041,796,2036,796,2030,717,2013,609,1998,550,1978,492,1952,435,1920,384,1887,353,1849,331"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#a5c7329da1b8abd537d9115a3433e3854" title=" " alt="" coords="780,483,1013,516"/>
<area shape="poly" title=" " alt="" coords="397,653,825,519,826,524,399,658"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a694743280c975a0104f9544d355bd492" title=" " alt="" coords="487,748,722,782"/>
<area shape="poly" title=" " alt="" coords="406,688,440,698,549,739,547,744,438,703,405,693"/>
<area shape="rect" href="../../d4/db9/libubus_8c.html#a726ab09ae98c9aac61ce08ab97501cd3" title=" " alt="" coords="513,1159,696,1192"/>
<area shape="poly" title=" " alt="" coords="426,688,441,699,457,724,476,768,521,896,597,1143,592,1145,516,898,471,770,452,726,437,703,423,692"/>
<area shape="poly" title=" " alt="" coords="937,480,1017,452,1068,440,1122,430,1179,427,1236,430,1291,443,1342,468,1356,479,1364,492,1370,520,1374,547,1380,561,1391,574,1434,605,1495,637,1570,670,1652,703,1822,761,1964,805,1963,810,1821,766,1651,708,1568,675,1493,642,1431,609,1387,577,1376,563,1369,549,1365,521,1359,494,1352,483,1340,472,1290,448,1236,435,1179,432,1123,436,1069,445,1019,457,939,485"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a1e6079c1ffa0e8f05ca64a51d7332919" title=" " alt="" coords="1441,716,1586,750"/>
<area shape="poly" title=" " alt="" coords="1002,514,1206,551,1293,570,1342,584,1373,604,1411,635,1485,703,1482,707,1407,639,1369,608,1340,589,1292,575,1205,557,1002,520"/>
<area shape="rect" href="../../dc/d8a/ubusd__proto_8c.html#aa817370ec1e201cfa7170662de3a30b4" title=" " alt="" coords="1425,867,1602,900"/>
<area shape="poly" title=" " alt="" coords="927,514,991,550,1071,584,1112,593,1149,595,1214,590,1245,589,1276,593,1308,605,1343,628,1358,644,1367,659,1373,691,1377,724,1382,742,1391,761,1434,813,1479,855,1475,859,1430,817,1387,764,1377,744,1371,725,1368,692,1362,661,1353,647,1339,632,1306,610,1275,598,1245,595,1214,596,1149,601,1111,598,1070,589,989,555,924,519"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#aa7f42f2a9db5b9c256a45de4a54a7ecb" title=" " alt="" coords="1098,316,1314,350"/>
<area shape="poly" title=" " alt="" coords="912,480,976,420,1021,387,1069,358,1083,353,1085,358,1072,363,1024,391,980,424,915,484"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#a060158036d4da29642eaed221a561ae5" title=" " alt="" coords="1102,373,1310,407"/>
<area shape="poly" title=" " alt="" coords="934,480,997,452,1070,424,1117,409,1119,414,1072,429,999,457,936,485"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#af44558372b2986540507bf56bbc0e0a8" title=" " alt="" coords="1071,483,1341,516"/>
<area shape="poly" title=" " alt="" coords="1014,497,1055,497,1055,502,1014,502"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a9a668371aa63dfedae931f7ac76de45d" title=" " alt="" coords="1692,867,1915,900"/>
<area shape="poly" title=" " alt="" coords="1602,881,1677,881,1677,886,1602,886"/>
<area shape="poly" title=" " alt="" coords="1879,863,1954,846,1955,851,1880,869"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1458,529,1569,563"/>
<area shape="poly" title=" " alt="" coords="1316,343,1343,359,1355,371,1363,384,1370,410,1375,437,1391,465,1425,495,1462,519,1459,524,1421,499,1387,468,1370,439,1365,412,1358,386,1351,375,1339,363,1313,348"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a8c7f7a7dd12329a27d64b4b9c49b8672" title=" " alt="" coords="1441,420,1586,454"/>
<area shape="poly" title=" " alt="" coords="1316,347,1342,359,1358,370,1367,382,1376,394,1390,405,1426,420,1424,425,1388,410,1372,398,1363,386,1354,374,1340,363,1314,352"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="1412,281,1615,315"/>
<area shape="poly" title=" " alt="" coords="1314,318,1396,309,1396,314,1315,323"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a08d851dae97200fe16233b21dc4c38d2" title=" " alt="" coords="1389,339,1637,396"/>
<area shape="poly" title=" " alt="" coords="1315,342,1374,349,1373,354,1314,348"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a32b9338e87ff904d1fc867f2610da6aa" title=" " alt="" coords="1737,457,1870,491"/>
<area shape="poly" title=" " alt="" coords="1587,444,1722,461,1721,466,1586,449"/>
<area shape="poly" title=" " alt="" coords="1295,405,1342,424,1357,434,1366,446,1376,456,1390,464,1432,477,1476,486,1564,494,1649,492,1721,485,1722,491,1649,498,1564,499,1475,491,1431,482,1388,469,1372,460,1362,449,1353,438,1340,429,1293,410"/>
<area shape="poly" title=" " alt="" coords="1309,515,1343,533,1361,554,1370,574,1377,595,1391,618,1435,665,1479,704,1476,708,1431,669,1387,621,1373,597,1365,576,1357,556,1339,538,1306,519"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a69f3b0b95c5310d21a18214662a9a0f4" title=" " alt="" coords="801,643,992,676"/>
<area shape="poly" title=" " alt="" coords="653,745,832,680,834,685,655,750"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#ad1560c16d4a14458fe8392ce0d7605f6" title=" " alt="" coords="792,855,1001,912"/>
<area shape="poly" title=" " alt="" coords="649,780,812,846,810,851,647,785"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e43a4d5a6872ad57fdbec2d8adcb0f9" title=" " alt="" coords="1685,1077,1922,1111"/>
<area shape="poly" title=" " alt="" coords="622,781,683,847,726,886,772,921,850,969,914,1000,982,1023,1071,1045,1150,1061,1230,1073,1392,1089,1543,1095,1670,1096,1670,1101,1543,1101,1392,1094,1230,1078,1149,1066,1070,1050,981,1028,912,1005,847,974,769,926,722,890,680,851,618,784"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a1c2ac477fb2a0663ee55d41ebe732ba0" title=" " alt="" coords="770,748,1023,782"/>
<area shape="poly" title=" " alt="" coords="723,762,755,762,755,768,723,768"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#ae48137762c4476d0ae29fdd76b3c2b1e" title=" " alt="" coords="1106,643,1306,676"/>
<area shape="poly" title=" " alt="" coords="993,657,1091,657,1091,662,993,662"/>
<area shape="poly" title=" " alt="" coords="923,911,986,978,1027,1014,1072,1045,1187,1114,1235,1140,1281,1161,1329,1177,1381,1188,1441,1195,1512,1197,1805,1197,1841,1194,1876,1186,1910,1173,1942,1157,2002,1113,2055,1061,2101,1004,2139,949,2190,858,2195,861,2144,951,2105,1008,2059,1065,2005,1117,1945,1161,1912,1178,1878,1191,1842,1199,1805,1202,1512,1202,1440,1200,1380,1194,1327,1182,1279,1166,1232,1145,1184,1119,1069,1050,1024,1018,983,981,919,914"/>
<area shape="poly" title=" " alt="" coords="924,910,951,938,986,969,1027,998,1072,1020,1111,1031,1144,1038,1203,1039,1264,1030,1341,1020,1508,1007,1638,994,1700,984,1765,967,1837,944,1921,910,1968,884,2007,854,2010,858,1970,889,1923,915,1839,949,1767,973,1701,989,1639,1000,1508,1012,1341,1025,1265,1035,1204,1044,1144,1043,1109,1037,1070,1025,1024,1003,983,974,947,942,920,914"/>
<area shape="poly" title=" " alt="" coords="1002,901,1071,910,1206,918,1341,910,1412,901,1412,906,1341,915,1206,923,1070,915,1001,907"/>
<area shape="poly" title=" " alt="" coords="945,852,1004,822,1070,794,1111,783,1147,778,1210,777,1239,776,1270,772,1303,762,1340,744,1373,716,1414,670,1488,574,1493,577,1418,673,1377,719,1342,748,1305,767,1271,777,1240,781,1210,782,1147,784,1112,789,1072,799,1006,827,947,857"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="1119,976,1293,1010"/>
<area shape="poly" title=" " alt="" coords="961,910,1072,954,1119,969,1117,974,1070,959,959,915"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ab23359a874c401f50b4a88eb154924bc" title=" " alt="" coords="1127,809,1285,843"/>
<area shape="poly" title=" " alt="" coords="1001,862,1112,841,1113,846,1002,867"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a68db1382ca9d80f68cd5b8173bb79699" title=" " alt="" coords="1120,867,1292,900"/>
<area shape="poly" title=" " alt="" coords="1001,881,1104,881,1104,886,1001,886"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a8af6cb580774621aef719d6923cb5072" title=" " alt="" coords="1101,700,1311,734"/>
<area shape="poly" title=" " alt="" coords="939,852,1021,792,1044,770,1069,751,1101,737,1104,742,1072,755,1047,774,1024,796,942,857"/>
<area shape="poly" title=" " alt="" coords="1274,806,1340,788,1447,753,1449,758,1342,793,1276,811"/>
<area shape="poly" title=" " alt="" coords="1292,865,1389,852,1545,839,1700,832,1954,826,1954,832,1700,837,1545,844,1389,857,1293,870"/>
<area shape="poly" title=" " alt="" coords="1292,870,1340,853,1354,843,1364,833,1387,808,1466,756,1469,760,1391,812,1368,836,1358,847,1342,858,1293,876"/>
<area shape="poly" title=" " alt="" coords="1292,881,1409,881,1409,886,1292,886"/>
<area shape="poly" title=" " alt="" coords="1889,1075,1920,1056,1942,1035,1961,1010,1993,957,2015,904,2029,860,2034,861,2020,906,1997,959,1966,1013,1946,1038,1923,1060,1891,1079"/>
<area shape="poly" title=" " alt="" coords="926,780,991,817,1072,853,1105,863,1104,868,1070,858,989,822,924,784"/>
<area shape="poly" title=" " alt="" coords="1009,745,1085,733,1086,738,1010,750"/>
<area shape="poly" title=" " alt="" coords="697,1166,927,1153,1204,1146,1515,1146,1578,1149,1634,1157,1731,1173,1776,1176,1821,1170,1868,1153,1920,1121,1936,1104,1953,1077,1984,1005,2010,926,2028,860,2033,862,2015,927,1989,1007,1957,1080,1940,1107,1923,1126,1871,1158,1822,1175,1776,1181,1731,1179,1634,1162,1578,1155,1514,1151,1205,1151,927,1159,697,1172"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="832,1244,961,1278"/>
<area shape="poly" title=" " alt="" coords="652,1190,771,1230,817,1242,816,1247,770,1235,651,1196"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="802,1187,991,1220"/>
<area shape="poly" title=" " alt="" coords="697,1182,786,1190,786,1196,696,1187"/>
</map>
</div>

</div>
</div>
<a id="aa817370ec1e201cfa7170662de3a30b4" name="aa817370ec1e201cfa7170662de3a30b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa817370ec1e201cfa7170662de3a30b4">&#9670;&#160;</a></span>ubus_parse_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> ** ubus_parse_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00046">46</a> of file <a class="el" href="../../dc/d80/libubus-io_8c_source.html">libubus-io.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   47</span>{</div>
<div class="line"><span class="lineno">   48</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#a9a668371aa63dfedae931f7ac76de45d">blob_parse_untrusted</a>(msg, len, <a class="code hl_variable" href="../../dc/d80/libubus-io_8c.html#a2db28f5297374cef03aaa958a92494d7">attrbuf</a>, <a class="code hl_variable" href="../../dc/d80/libubus-io_8c.html#a1e504d18c2a5be244acca4d57941e6ab">ubus_policy</a>, <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#adfb314e0974e85af94acda6d0c0d1e7eaf7242b947db1e5d0a412f7845cc1faf4">UBUS_ATTR_MAX</a>);</div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dc/d80/libubus-io_8c.html#a2db28f5297374cef03aaa958a92494d7">attrbuf</a>;</div>
<div class="line"><span class="lineno">   50</span>}</div>
<div class="ttc" id="ablob_8c_html_a9a668371aa63dfedae931f7ac76de45d"><div class="ttname"><a href="../../d4/da0/blob_8c.html#a9a668371aa63dfedae931f7ac76de45d">blob_parse_untrusted</a></div><div class="ttdeci">int blob_parse_untrusted(struct blob_attr *attr, size_t attr_len, struct blob_attr **data, const struct blob_attr_info *info, int max)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da0/blob_8c_source.html#l00272">blob.c:272</a></div></div>
<div class="ttc" id="alibubus-io_8c_html_a1e504d18c2a5be244acca4d57941e6ab"><div class="ttname"><a href="../../dc/d80/libubus-io_8c.html#a1e504d18c2a5be244acca4d57941e6ab">ubus_policy</a></div><div class="ttdeci">static const struct blob_attr_info ubus_policy[UBUS_ATTR_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d80/libubus-io_8c_source.html#l00034">libubus-io.c:34</a></div></div>
<div class="ttc" id="alibubus-io_8c_html_a2db28f5297374cef03aaa958a92494d7"><div class="ttname"><a href="../../dc/d80/libubus-io_8c.html#a2db28f5297374cef03aaa958a92494d7">attrbuf</a></div><div class="ttdeci">static struct blob_attr * attrbuf[UBUS_ATTR_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d80/libubus-io_8c_source.html#l00044">libubus-io.c:44</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_adfb314e0974e85af94acda6d0c0d1e7eaf7242b947db1e5d0a412f7845cc1faf4"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#adfb314e0974e85af94acda6d0c0d1e7eaf7242b947db1e5d0a412f7845cc1faf4">UBUS_ATTR_MAX</a></div><div class="ttdeci">@ UBUS_ATTR_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00103">ubusmsg.h:103</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00044">attrbuf</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00272">blob_parse_untrusted()</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00103">UBUS_ATTR_MAX</a>, and <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00034">ubus_policy</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d03/ubus_2tests_2fuzz_2test-fuzz_8c_source.html#l00021">_ubus_parse_msg()</a>, <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00024">req_data_cb()</a>, <a class="el" href="../../db/dda/libubus-obj_8c_source.html#l00160">ubus_add_object_cb()</a>, <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00329">ubus_get_status()</a>, <a class="el" href="../../d4/db9/libubus_8c_source.html#l00141">ubus_lookup_cb()</a>, <a class="el" href="../../d4/db9/libubus_8c_source.html#l00179">ubus_lookup_id_cb()</a>, <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00424">ubus_process_notify_status()</a>, <a class="el" href="../../db/dda/libubus-obj_8c_source.html#l00115">ubus_process_obj_msg()</a>, <a class="el" href="../../db/dda/libubus-obj_8c_source.html#l00240">ubus_remove_object_cb()</a>, and <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00560">ubusd_acl_recv()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d26/libubus-internal_8h_aa817370ec1e201cfa7170662de3a30b4_cgraph.png" border="0" usemap="#adc/d26/libubus-internal_8h_aa817370ec1e201cfa7170662de3a30b4_cgraph" alt=""/></div>
<map name="adc/d26/libubus-internal_8h_aa817370ec1e201cfa7170662de3a30b4_cgraph" id="adc/d26/libubus-internal_8h_aa817370ec1e201cfa7170662de3a30b4_cgraph">
<area shape="rect" title=" " alt="" coords="5,176,183,210"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a9a668371aa63dfedae931f7ac76de45d" title=" " alt="" coords="231,176,453,210"/>
<area shape="poly" title=" " alt="" coords="183,190,215,190,215,196,183,196"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a2040eb3393cd5881814738765e4f2c66" title=" " alt="" coords="501,135,665,168"/>
<area shape="poly" title=" " alt="" coords="444,173,485,166,486,171,444,178"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="730,229,871,263"/>
<area shape="poly" title=" " alt="" coords="454,203,715,234,714,239,453,208"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="713,5,888,39"/>
<area shape="poly" title=" " alt="" coords="601,132,649,90,712,48,722,43,724,48,715,52,652,95,604,136"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="745,63,856,96"/>
<area shape="poly" title=" " alt="" coords="634,132,712,105,731,99,732,104,714,110,635,137"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="757,120,844,154"/>
<area shape="poly" title=" " alt="" coords="665,143,742,138,742,143,666,149"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="936,203,1034,236"/>
<area shape="poly" title=" " alt="" coords="666,163,921,206,920,211,665,168"/>
<area shape="poly" title=" " alt="" coords="623,166,714,208,744,221,742,225,712,213,620,171"/>
<area shape="poly" title=" " alt="" coords="871,233,920,226,920,231,872,239"/>
</map>
</div>

</div>
</div>
<a id="a5497c370318a5cc03dd662523915ea92" name="a5497c370318a5cc03dd662523915ea92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5497c370318a5cc03dd662523915ea92">&#9670;&#160;</a></span>ubus_poll_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d5/d1d/libubox_2utils_8h.html#a40f0fecd341aae3690f0dded986e423a">__hidden</a> ubus_poll_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>timeout</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00335">335</a> of file <a class="el" href="../../dc/d80/libubus-io_8c_source.html">libubus-io.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  336</span>{</div>
<div class="line"><span class="lineno">  337</span>    <span class="keyword">struct </span>pollfd pfd = {</div>
<div class="line"><span class="lineno">  338</span>        .fd = <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a95c5a7ee3be99fed1bc9e25b53a282fd">sock</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#ad8badf8512adcf9a8819ed088bde09cc">fd</a>,</div>
<div class="line"><span class="lineno">  339</span>        .events = POLLIN | POLLERR,</div>
<div class="line"><span class="lineno">  340</span>    };</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>    <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a57d5f3d3f1382b70a45e320a9eb24deb">cancel_poll</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  343</span>    poll(&amp;pfd, 1, <a class="code hl_variable" href="../../de/d89/procd_2ubus_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> ? <a class="code hl_variable" href="../../de/d89/procd_2ubus_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> : -1);</div>
<div class="line"><span class="lineno">  344</span>    <a class="code hl_function" href="../../dc/d80/libubus-io_8c.html#aa0791c7960dffbb35e38a4f32001c331">ubus_handle_data</a>(&amp;<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a95c5a7ee3be99fed1bc9e25b53a282fd">sock</a>, <a class="code hl_define" href="../../dc/d56/uloop_8h.html#ac20cd5fed660ef784791db47283d9ebf">ULOOP_READ</a>);</div>
<div class="line"><span class="lineno">  345</span>}</div>
<div class="ttc" id="alibubus-io_8c_html_aa0791c7960dffbb35e38a4f32001c331"><div class="ttname"><a href="../../dc/d80/libubus-io_8c.html#aa0791c7960dffbb35e38a4f32001c331">ubus_handle_data</a></div><div class="ttdeci">void __hidden ubus_handle_data(struct uloop_fd *u, unsigned int events)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d80/libubus-io_8c_source.html#l00312">libubus-io.c:312</a></div></div>
<div class="ttc" id="aprocd_2ubus_8c_html_a493b57f443cc38b3d3df9c1e584d9d82"><div class="ttname"><a href="../../de/d89/procd_2ubus_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a></div><div class="ttdeci">static int timeout</div><div class="ttdef"><b>Definition</b> <a href="../../de/d89/procd_2ubus_8c_source.html#l00025">ubus.c:25</a></div></div>
<div class="ttc" id="auloop_8h_html_ac20cd5fed660ef784791db47283d9ebf"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#ac20cd5fed660ef784791db47283d9ebf">ULOOP_READ</a></div><div class="ttdeci">#define ULOOP_READ</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00047">uloop.h:47</a></div></div>
<div class="ttc" id="auloop_8h_html_ad8badf8512adcf9a8819ed088bde09cc"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#ad8badf8512adcf9a8819ed088bde09cc">uloop_fd::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00065">uloop.h:65</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d55/libubus_8h_source.html#l00167">ubus_context::cancel_poll</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00065">uloop_fd::fd</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00162">ubus_context::sock</a>, <a class="el" href="../../de/d89/procd_2ubus_8c_source.html#l00025">timeout</a>, <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00312">ubus_handle_data()</a>, and <a class="el" href="../../dc/d56/uloop_8h_source.html#l00047">ULOOP_READ</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00140">ubus_complete_request()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d26/libubus-internal_8h_a5497c370318a5cc03dd662523915ea92_cgraph.png" border="0" usemap="#adc/d26/libubus-internal_8h_a5497c370318a5cc03dd662523915ea92_cgraph" alt=""/></div>
<map name="adc/d26/libubus-internal_8h_a5497c370318a5cc03dd662523915ea92_cgraph" id="adc/d26/libubus-internal_8h_a5497c370318a5cc03dd662523915ea92_cgraph">
<area shape="rect" title=" " alt="" coords="5,359,165,393"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#aa0791c7960dffbb35e38a4f32001c331" title=" " alt="" coords="213,359,402,393"/>
<area shape="poly" title=" " alt="" coords="165,374,197,374,197,379,165,379"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a141d1ad87ea36959b73e035bd3b3b265" title=" " alt="" coords="1338,121,1488,154"/>
<area shape="poly" title=" " alt="" coords="348,356,455,313,609,257,789,202,884,178,977,159,1069,146,1161,139,1322,134,1322,139,1161,144,1069,152,978,164,885,183,791,207,611,262,457,318,350,361"/>
<area shape="rect" href="../../d4/db9/libubus_8c.html#a95892b50f9c08ab4ada541c7c6351a65" title=" " alt="" coords="450,359,646,393"/>
<area shape="poly" title=" " alt="" coords="402,374,435,374,435,379,402,379"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae005e9aac16badef6a542ed7e70f4270" title=" " alt="" coords="461,417,635,450"/>
<area shape="poly" title=" " alt="" coords="381,391,460,410,459,415,380,396"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a286d2863156bf7bb882339c5c74bc595" title=" " alt="" coords="1644,63,1797,97"/>
<area shape="poly" title=" " alt="" coords="1488,121,1629,94,1630,100,1489,126"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="2366,642,2465,676"/>
<area shape="poly" title=" " alt="" coords="1440,118,1508,80,1551,62,1596,48,1750,15,1817,5,1879,3,1939,11,1999,29,2062,60,2131,106,2194,164,2248,232,2294,306,2331,382,2361,456,2383,524,2410,626,2405,628,2378,525,2356,458,2326,384,2289,309,2244,235,2190,168,2127,110,2060,65,1997,34,1938,16,1878,9,1817,11,1751,20,1597,53,1553,67,1510,85,1442,123"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="2177,642,2318,676"/>
<area shape="poly" title=" " alt="" coords="1489,148,1597,164,1649,168,1717,168,1873,166,1952,169,2025,177,2086,191,2111,202,2131,216,2154,245,2174,290,2192,346,2208,407,2231,531,2245,627,2240,627,2226,532,2203,408,2187,347,2169,292,2149,248,2127,219,2108,207,2084,196,2024,182,1952,174,1873,172,1717,173,1649,173,1596,170,1488,153"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a1e4704bb3543c30c9de44cd3f2616404" title=" " alt="" coords="1664,121,1777,154"/>
<area shape="poly" title=" " alt="" coords="1489,135,1648,135,1648,140,1489,140"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#af89184a6a1d46c84beb995555a5f8422" title=" " alt="" coords="1625,230,1816,264"/>
<area shape="poly" title=" " alt="" coords="1455,153,1597,208,1642,223,1640,228,1595,213,1454,157"/>
<area shape="poly" title=" " alt="" coords="2319,656,2351,656,2351,662,2319,662"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#ad1aaffb83e802ad470cb77be9f56977c" title=" " alt="" coords="1956,121,2066,154"/>
<area shape="poly" title=" " alt="" coords="1778,135,1941,135,1941,140,1778,140"/>
<area shape="poly" title=" " alt="" coords="1815,262,2012,301,2092,319,2130,331,2161,364,2186,401,2206,442,2221,483,2239,563,2247,626,2242,627,2234,564,2216,485,2201,444,2181,404,2157,367,2128,336,2091,324,2011,306,1814,267"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1940,230,2082,264"/>
<area shape="poly" title=" " alt="" coords="1816,244,1924,244,1924,250,1816,250"/>
<area shape="poly" title=" " alt="" coords="2083,254,2109,265,2131,281,2164,321,2190,366,2210,414,2225,463,2243,555,2248,626,2243,626,2237,556,2220,464,2205,416,2185,368,2159,324,2127,285,2106,269,2081,259"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#a5c7329da1b8abd537d9115a3433e3854" title=" " alt="" coords="987,583,1221,617"/>
<area shape="poly" title=" " alt="" coords="615,391,647,402,763,446,876,494,1054,574,1052,579,874,498,761,451,645,407,613,396"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a694743280c975a0104f9544d355bd492" title=" " alt="" coords="694,925,930,958"/>
<area shape="poly" title=" " alt="" coords="634,392,648,402,665,431,685,483,731,629,805,909,800,911,726,631,680,484,660,433,644,406,631,396"/>
<area shape="rect" href="../../d4/db9/libubus_8c.html#a726ab09ae98c9aac61ce08ab97501cd3" title=" " alt="" coords="720,258,904,292"/>
<area shape="poly" title=" " alt="" coords="593,356,751,295,753,300,595,361"/>
<area shape="poly" title=" " alt="" coords="1221,606,1596,631,2161,654,2161,659,1596,636,1221,612"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a1e6079c1ffa0e8f05ca64a51d7332919" title=" " alt="" coords="1648,709,1793,742"/>
<area shape="poly" title=" " alt="" coords="1222,614,1378,639,1549,674,1651,701,1649,706,1548,679,1377,645,1221,619"/>
<area shape="rect" href="../../dc/d8a/ubusd__proto_8c.html#aa817370ec1e201cfa7170662de3a30b4" title=" " alt="" coords="1632,789,1809,822"/>
<area shape="poly" title=" " alt="" coords="1123,616,1188,675,1231,706,1279,732,1327,744,1414,759,1617,789,1616,794,1413,765,1326,750,1277,737,1228,711,1184,679,1120,620"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#aa7f42f2a9db5b9c256a45de4a54a7ecb" title=" " alt="" coords="1305,421,1521,454"/>
<area shape="poly" title=" " alt="" coords="1120,581,1185,523,1229,490,1277,463,1291,457,1293,462,1279,468,1232,495,1188,527,1123,585"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#a060158036d4da29642eaed221a561ae5" title=" " alt="" coords="1309,478,1517,512"/>
<area shape="poly" title=" " alt="" coords="1144,580,1277,528,1325,514,1327,519,1279,533,1146,585"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#af44558372b2986540507bf56bbc0e0a8" title=" " alt="" coords="1278,689,1548,722"/>
<area shape="poly" title=" " alt="" coords="1146,615,1279,667,1327,682,1325,687,1277,672,1144,620"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a9a668371aa63dfedae931f7ac76de45d" title=" " alt="" coords="1900,743,2122,777"/>
<area shape="poly" title=" " alt="" coords="1809,789,1884,777,1885,783,1810,794"/>
<area shape="poly" title=" " alt="" coords="2051,740,2191,680,2193,685,2053,745"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1665,587,1776,621"/>
<area shape="poly" title=" " alt="" coords="1523,451,1550,463,1566,477,1576,492,1584,506,1598,522,1636,552,1675,577,1672,581,1633,556,1594,526,1580,510,1571,494,1562,481,1547,468,1521,455"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a8c7f7a7dd12329a27d64b4b9c49b8672" title=" " alt="" coords="1648,421,1793,454"/>
<area shape="poly" title=" " alt="" coords="1522,435,1633,435,1633,440,1522,440"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="1619,478,1822,512"/>
<area shape="poly" title=" " alt="" coords="1508,452,1612,472,1611,477,1507,458"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a08d851dae97200fe16233b21dc4c38d2" title=" " alt="" coords="1596,340,1845,397"/>
<area shape="poly" title=" " alt="" coords="1491,417,1581,397,1582,402,1492,423"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a32b9338e87ff904d1fc867f2610da6aa" title=" " alt="" coords="1944,477,2078,510"/>
<area shape="poly" title=" " alt="" coords="1794,449,1930,475,1929,481,1793,454"/>
<area shape="poly" title=" " alt="" coords="1505,510,1597,522,1721,529,1844,522,1928,509,1929,514,1845,527,1721,534,1596,527,1504,515"/>
<area shape="poly" title=" " alt="" coords="1549,712,1633,717,1632,722,1548,717"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a69f3b0b95c5310d21a18214662a9a0f4" title=" " alt="" coords="1008,1175,1200,1209"/>
<area shape="poly" title=" " alt="" coords="824,958,846,998,880,1051,925,1107,951,1132,979,1154,1002,1167,1000,1171,976,1158,948,1136,921,1110,876,1054,841,1001,819,960"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#ad1560c16d4a14458fe8392ce0d7605f6" title=" " alt="" coords="1000,913,1208,970"/>
<area shape="poly" title=" " alt="" coords="930,939,984,939,984,944,930,944"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e43a4d5a6872ad57fdbec2d8adcb0f9" title=" " alt="" coords="1893,1125,2129,1158"/>
<area shape="poly" title=" " alt="" coords="852,957,928,990,1033,1031,1154,1071,1279,1103,1438,1127,1600,1140,1750,1144,1877,1144,1877,1149,1750,1150,1599,1145,1438,1132,1277,1108,1152,1076,1031,1036,926,995,850,961"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a1c2ac477fb2a0663ee55d41ebe732ba0" title=" " alt="" coords="978,855,1230,889"/>
<area shape="poly" title=" " alt="" coords="884,921,977,899,1012,891,1014,896,978,904,885,927"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#ae48137762c4476d0ae29fdd76b3c2b1e" title=" " alt="" coords="1314,1175,1513,1209"/>
<area shape="poly" title=" " alt="" coords="1200,1190,1298,1190,1298,1195,1200,1195"/>
<area shape="poly" title=" " alt="" coords="1143,968,1216,1022,1252,1045,1279,1059,1343,1078,1398,1090,1448,1095,1494,1096,1593,1089,1719,1084,2012,1084,2052,1081,2089,1071,2125,1056,2158,1037,2190,1013,2219,986,2272,924,2317,858,2354,793,2400,689,2405,691,2358,795,2322,861,2277,927,2223,989,2193,1017,2161,1041,2127,1061,2091,1076,2052,1086,2012,1090,1719,1090,1594,1095,1495,1101,1447,1100,1397,1095,1342,1084,1277,1064,1249,1050,1213,1027,1140,973"/>
<area shape="poly" title=" " alt="" coords="1208,945,1428,951,1561,952,1699,948,1833,939,1955,924,2056,901,2096,886,2128,869,2150,851,2169,830,2200,781,2222,732,2236,690,2241,691,2227,734,2205,784,2173,833,2153,855,2130,873,2098,891,2057,906,1956,929,1834,945,1699,953,1562,957,1428,957,1208,950"/>
<area shape="poly" title=" " alt="" coords="1208,942,1284,940,1370,933,1460,920,1548,899,1585,885,1621,867,1682,829,1685,834,1624,872,1587,890,1549,904,1461,926,1371,939,1284,945,1208,947"/>
<area shape="poly" title=" " alt="" coords="1207,917,1228,900,1246,872,1253,844,1253,816,1249,787,1246,759,1246,730,1255,702,1276,674,1317,643,1364,619,1413,603,1465,593,1516,587,1565,586,1650,591,1649,596,1565,591,1516,593,1465,598,1415,608,1366,624,1320,647,1280,678,1260,704,1252,731,1251,758,1255,787,1258,815,1259,845,1251,874,1232,903,1210,921"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="1326,1015,1500,1049"/>
<area shape="poly" title=" " alt="" coords="1195,968,1279,994,1331,1008,1329,1013,1277,999,1193,973"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ab23359a874c401f50b4a88eb154924bc" title=" " alt="" coords="1335,798,1492,832"/>
<area shape="poly" title=" " alt="" coords="1207,912,1228,899,1243,885,1251,870,1260,855,1277,841,1319,823,1321,828,1279,845,1264,858,1256,873,1247,888,1232,904,1210,916"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a68db1382ca9d80f68cd5b8173bb79699" title=" " alt="" coords="1327,855,1499,889"/>
<area shape="poly" title=" " alt="" coords="1208,916,1319,890,1320,896,1209,921"/>
<area shape="poly" title=" " alt="" coords="1473,795,1644,745,1646,750,1475,800"/>
<area shape="poly" title=" " alt="" coords="1500,879,1629,885,1707,885,1790,879,1877,868,1964,850,2048,823,2128,787,2158,766,2185,740,2226,687,2230,691,2189,744,2162,770,2130,792,2050,828,1965,855,1878,873,1791,885,1707,890,1629,891,1500,885"/>
<area shape="poly" title=" " alt="" coords="1499,862,1524,854,1547,842,1563,827,1571,810,1579,792,1595,774,1618,759,1643,746,1645,751,1621,763,1598,778,1583,795,1576,812,1567,830,1550,846,1526,859,1501,867"/>
<area shape="poly" title=" " alt="" coords="1499,852,1548,842,1628,824,1629,829,1549,847,1500,857"/>
<area shape="poly" title=" " alt="" coords="2027,1122,2076,1068,2103,1033,2127,995,2166,912,2198,827,2237,690,2242,692,2203,828,2171,914,2131,997,2107,1036,2080,1071,2031,1126"/>
<area shape="poly" title=" " alt="" coords="1230,870,1311,870,1311,875,1230,875"/>
<area shape="poly" title=" " alt="" coords="904,275,1429,294,1693,309,1788,317,1845,326,1933,348,2000,371,2061,406,2131,462,2167,502,2197,546,2237,626,2232,629,2192,549,2163,505,2127,466,2058,410,1998,376,1931,353,1844,331,1788,322,1693,314,1429,300,904,280"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1039,174,1169,208"/>
<area shape="poly" title=" " alt="" coords="859,255,977,216,1023,205,1025,210,978,221,861,260"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="1009,231,1199,265"/>
<area shape="poly" title=" " alt="" coords="904,264,993,256,994,261,904,269"/>
</map>
</div>

</div>
</div>
<a id="a4ccbe0402b209819107f90c3433b2eb0" name="a4ccbe0402b209819107f90c3433b2eb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ccbe0402b209819107f90c3433b2eb0">&#9670;&#160;</a></span>ubus_process_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubus_process_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d0/d37/structubus__msghdr__buf">ubus_msghdr_buf</a> *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/db9/libubus_8c_source.html#l00093">93</a> of file <a class="el" href="../../d4/db9/libubus_8c_source.html">libubus.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   94</span>{</div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordflow">switch</span>(<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;hdr.type) {</div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8a75c1163477a0eeb36ef4a9c8a29991c9">UBUS_MSG_STATUS</a>:</div>
<div class="line"><span class="lineno">   97</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8a4226ea1a95c520400890ade21a66cdd2">UBUS_MSG_DATA</a>:</div>
<div class="line"><span class="lineno">   98</span>        <a class="code hl_function" href="#a84cbd7c0f01a559e7480777fb3dbb78c">ubus_process_req_msg</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, fd);</div>
<div class="line"><span class="lineno">   99</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8a03f96e83c7128fe1cb20c24be353c827">UBUS_MSG_INVOKE</a>:</div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8aee1a642ab06e2fa071adb35548c6c01d">UBUS_MSG_UNSUBSCRIBE</a>:</div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8a8a7e35e5e742cdcc899331edcaeff4a8">UBUS_MSG_NOTIFY</a>:</div>
<div class="line"><span class="lineno">  104</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a05cb7b02f05a8bb3f67b1812b13d1bf6">stack_depth</a>) {</div>
<div class="line"><span class="lineno">  105</span>            <a class="code hl_function" href="../../d4/db9/libubus_8c.html#a726ab09ae98c9aac61ce08ab97501cd3">ubus_queue_msg</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>);</div>
<div class="line"><span class="lineno">  106</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  107</span>        }</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>        <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a05cb7b02f05a8bb3f67b1812b13d1bf6">stack_depth</a>++;</div>
<div class="line"><span class="lineno">  110</span>        <a class="code hl_function" href="#a180b8f0e72004ef0d6c6fda3aac0a7b0">ubus_process_obj_msg</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, fd);</div>
<div class="line"><span class="lineno">  111</span>        <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a05cb7b02f05a8bb3f67b1812b13d1bf6">stack_depth</a>--;</div>
<div class="line"><span class="lineno">  112</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8aba1c96579a0ee973bc752183a043c3db">UBUS_MSG_MONITOR</a>:</div>
<div class="line"><span class="lineno">  114</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a7351e83d375612b4b0530fde6ce7227a">monitor_cb</a>)</div>
<div class="line"><span class="lineno">  115</span>            <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a7351e83d375612b4b0530fde6ce7227a">monitor_cb</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;hdr.seq, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;data);</div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  117</span>    }</div>
<div class="line"><span class="lineno">  118</span>}</div>
<div class="ttc" id="alibubus-internal_8h_html_a180b8f0e72004ef0d6c6fda3aac0a7b0"><div class="ttname"><a href="#a180b8f0e72004ef0d6c6fda3aac0a7b0">ubus_process_obj_msg</a></div><div class="ttdeci">void ubus_process_obj_msg(struct ubus_context *ctx, struct ubus_msghdr_buf *buf, int fd)</div><div class="ttdef"><b>Definition</b> <a href="../../db/dda/libubus-obj_8c_source.html#l00115">libubus-obj.c:115</a></div></div>
<div class="ttc" id="alibubus-internal_8h_html_a84cbd7c0f01a559e7480777fb3dbb78c"><div class="ttname"><a href="#a84cbd7c0f01a559e7480777fb3dbb78c">ubus_process_req_msg</a></div><div class="ttdeci">void ubus_process_req_msg(struct ubus_context *ctx, struct ubus_msghdr_buf *buf, int fd)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/de5/libubus-req_8c_source.html#l00462">libubus-req.c:462</a></div></div>
<div class="ttc" id="alibubus_8c_html_a726ab09ae98c9aac61ce08ab97501cd3"><div class="ttname"><a href="../../d4/db9/libubus_8c.html#a726ab09ae98c9aac61ce08ab97501cd3">ubus_queue_msg</a></div><div class="ttdeci">static void ubus_queue_msg(struct ubus_context *ctx, struct ubus_msghdr_buf *buf)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/db9/libubus_8c_source.html#l00077">libubus.c:77</a></div></div>
<div class="ttc" id="alibubus_8h_html_a7351e83d375612b4b0530fde6ce7227a"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a7351e83d375612b4b0530fde6ce7227a">ubus_context::monitor_cb</a></div><div class="ttdeci">void(* monitor_cb)(struct ubus_context *ctx, uint32_t seq, struct blob_attr *data)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00171">libubus.h:171</a></div></div>
<div class="ttc" id="amkdev_8c_html_a024e65f7d9664cdc767f51c283fd8353"><div class="ttname"><a href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a></div><div class="ttdeci">static char buf[PATH_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d9a/mkdev_8c_source.html#l00034">mkdev.c:34</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a6992a6892cead2b516d3d2e5c28efbb8a03f96e83c7128fe1cb20c24be353c827"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8a03f96e83c7128fe1cb20c24be353c827">UBUS_MSG_INVOKE</a></div><div class="ttdeci">@ UBUS_MSG_INVOKE</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00053">ubusmsg.h:53</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a6992a6892cead2b516d3d2e5c28efbb8a4226ea1a95c520400890ade21a66cdd2"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8a4226ea1a95c520400890ade21a66cdd2">UBUS_MSG_DATA</a></div><div class="ttdeci">@ UBUS_MSG_DATA</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00044">ubusmsg.h:44</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a6992a6892cead2b516d3d2e5c28efbb8a75c1163477a0eeb36ef4a9c8a29991c9"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8a75c1163477a0eeb36ef4a9c8a29991c9">UBUS_MSG_STATUS</a></div><div class="ttdeci">@ UBUS_MSG_STATUS</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00041">ubusmsg.h:41</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a6992a6892cead2b516d3d2e5c28efbb8a8a7e35e5e742cdcc899331edcaeff4a8"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8a8a7e35e5e742cdcc899331edcaeff4a8">UBUS_MSG_NOTIFY</a></div><div class="ttdeci">@ UBUS_MSG_NOTIFY</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00071">ubusmsg.h:71</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a6992a6892cead2b516d3d2e5c28efbb8aba1c96579a0ee973bc752183a043c3db"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8aba1c96579a0ee973bc752183a043c3db">UBUS_MSG_MONITOR</a></div><div class="ttdeci">@ UBUS_MSG_MONITOR</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00073">ubusmsg.h:73</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a6992a6892cead2b516d3d2e5c28efbb8aee1a642ab06e2fa071adb35548c6c01d"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8aee1a642ab06e2fa071adb35548c6c01d">UBUS_MSG_UNSUBSCRIBE</a></div><div class="ttdeci">@ UBUS_MSG_UNSUBSCRIBE</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00064">ubusmsg.h:64</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00171">ubus_context::monitor_cb</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00168">ubus_context::stack_depth</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00044">UBUS_MSG_DATA</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00053">UBUS_MSG_INVOKE</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00073">UBUS_MSG_MONITOR</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00071">UBUS_MSG_NOTIFY</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00041">UBUS_MSG_STATUS</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00064">UBUS_MSG_UNSUBSCRIBE</a>, <a class="el" href="../../db/dda/libubus-obj_8c_source.html#l00115">ubus_process_obj_msg()</a>, <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00462">ubus_process_req_msg()</a>, and <a class="el" href="../../d4/db9/libubus_8c_source.html#l00077">ubus_queue_msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00312">ubus_handle_data()</a>, and <a class="el" href="../../d4/db9/libubus_8c_source.html#l00120">ubus_process_pending_msg()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d26/libubus-internal_8h_a4ccbe0402b209819107f90c3433b2eb0_cgraph.png" border="0" usemap="#adc/d26/libubus-internal_8h_a4ccbe0402b209819107f90c3433b2eb0_cgraph" alt=""/></div>
<map name="adc/d26/libubus-internal_8h_a4ccbe0402b209819107f90c3433b2eb0_cgraph" id="adc/d26/libubus-internal_8h_a4ccbe0402b209819107f90c3433b2eb0_cgraph">
<area shape="rect" title=" " alt="" coords="5,659,202,692"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#a5c7329da1b8abd537d9115a3433e3854" title=" " alt="" coords="828,220,1061,254"/>
<area shape="poly" title=" " alt="" coords="137,656,896,259,898,263,139,660"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a694743280c975a0104f9544d355bd492" title=" " alt="" coords="250,659,485,692"/>
<area shape="poly" title=" " alt="" coords="202,673,234,673,234,678,202,678"/>
<area shape="rect" href="../../d4/db9/libubus_8c.html#a726ab09ae98c9aac61ce08ab97501cd3" title=" " alt="" coords="276,1109,459,1143"/>
<area shape="poly" title=" " alt="" coords="117,691,351,1095,346,1097,112,694"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a1e6079c1ffa0e8f05ca64a51d7332919" title=" " alt="" coords="1490,421,1635,455"/>
<area shape="poly" title=" " alt="" coords="1062,230,1139,234,1225,247,1311,271,1353,289,1392,311,1409,328,1417,346,1425,364,1440,382,1465,399,1492,413,1489,417,1462,403,1436,385,1420,366,1413,348,1405,331,1388,315,1350,294,1310,276,1224,252,1139,240,1061,235"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="2005,676,2146,710"/>
<area shape="poly" title=" " alt="" coords="1047,217,1125,210,1214,212,1305,225,1349,237,1391,255,1408,267,1417,282,1425,297,1440,311,1473,332,1504,346,1560,363,1618,378,1650,389,1688,406,1768,451,1828,489,1958,588,2046,663,2043,667,1955,592,1825,494,1765,455,1685,411,1648,394,1616,383,1558,369,1502,351,1471,337,1436,315,1421,300,1413,284,1404,271,1389,259,1347,242,1304,230,1213,217,1126,216,1048,222"/>
<area shape="rect" href="../../dc/d8a/ubusd__proto_8c.html#aa817370ec1e201cfa7170662de3a30b4" title=" " alt="" coords="1474,649,1651,683"/>
<area shape="poly" title=" " alt="" coords="964,252,1029,311,1073,343,1121,369,1160,383,1195,389,1258,388,1289,388,1321,391,1354,401,1392,420,1429,457,1472,516,1546,634,1541,637,1468,519,1425,460,1388,424,1352,406,1320,396,1289,393,1258,393,1194,394,1158,388,1119,374,1070,347,1026,315,960,256"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#aa7f42f2a9db5b9c256a45de4a54a7ecb" title=" " alt="" coords="1147,115,1363,148"/>
<area shape="poly" title=" " alt="" coords="985,217,1119,165,1167,150,1169,155,1121,170,987,222"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#a060158036d4da29642eaed221a561ae5" title=" " alt="" coords="1458,5,1666,39"/>
<area shape="poly" title=" " alt="" coords="960,218,1026,159,1070,126,1119,100,1200,70,1285,48,1368,34,1443,26,1443,31,1369,39,1286,54,1202,75,1121,105,1073,131,1029,163,964,222"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#af44558372b2986540507bf56bbc0e0a8" title=" " alt="" coords="1120,325,1390,359"/>
<area shape="poly" title=" " alt="" coords="998,252,1189,317,1187,322,996,257"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="2194,571,2292,604"/>
<area shape="poly" title=" " alt="" coords="2103,673,2200,611,2203,615,2105,678"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a9a668371aa63dfedae931f7ac76de45d" title=" " alt="" coords="1734,649,1957,683"/>
<area shape="poly" title=" " alt="" coords="1651,664,1719,664,1719,669,1651,669"/>
<area shape="poly" title=" " alt="" coords="1957,676,1989,680,1989,686,1957,682"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1507,267,1618,300"/>
<area shape="poly" title=" " alt="" coords="1357,147,1392,165,1409,185,1417,206,1424,225,1440,244,1465,259,1492,269,1490,274,1462,264,1436,248,1419,228,1412,208,1404,188,1388,170,1354,151"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a8c7f7a7dd12329a27d64b4b9c49b8672" title=" " alt="" coords="1490,63,1635,96"/>
<area shape="poly" title=" " alt="" coords="1358,111,1474,92,1475,97,1359,117"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="1461,120,1664,154"/>
<area shape="poly" title=" " alt="" coords="1364,131,1445,132,1445,137,1364,136"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a08d851dae97200fe16233b21dc4c38d2" title=" " alt="" coords="1438,178,1686,235"/>
<area shape="poly" title=" " alt="" coords="1328,146,1429,171,1428,176,1327,152"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a32b9338e87ff904d1fc867f2610da6aa" title=" " alt="" coords="1779,35,1912,68"/>
<area shape="poly" title=" " alt="" coords="1635,70,1763,57,1763,62,1636,75"/>
<area shape="poly" title=" " alt="" coords="1667,30,1764,40,1763,46,1667,36"/>
<area shape="poly" title=" " alt="" coords="1326,357,1391,376,1501,413,1499,418,1389,381,1324,362"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a69f3b0b95c5310d21a18214662a9a0f4" title=" " alt="" coords="556,543,747,576"/>
<area shape="poly" title=" " alt="" coords="410,656,592,580,594,585,412,661"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#ad1560c16d4a14458fe8392ce0d7605f6" title=" " alt="" coords="840,594,1049,651"/>
<area shape="poly" title=" " alt="" coords="485,662,825,630,825,636,486,667"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e43a4d5a6872ad57fdbec2d8adcb0f9" title=" " alt="" coords="533,892,769,926"/>
<area shape="poly" title=" " alt="" coords="391,691,619,880,616,884,388,695"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a1c2ac477fb2a0663ee55d41ebe732ba0" title=" " alt="" coords="818,704,1071,738"/>
<area shape="poly" title=" " alt="" coords="486,682,803,707,803,712,485,687"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#ae48137762c4476d0ae29fdd76b3c2b1e" title=" " alt="" coords="845,536,1044,570"/>
<area shape="poly" title=" " alt="" coords="747,555,829,553,829,558,747,560"/>
<area shape="poly" title=" " alt="" coords="1049,592,1119,580,1356,556,1453,552,1543,554,1632,562,1727,578,1833,602,1957,634,1997,648,2033,666,2031,671,1995,653,1956,639,1832,607,1726,583,1631,567,1542,559,1453,557,1356,562,1120,585,1049,597"/>
<area shape="poly" title=" " alt="" coords="1045,591,1070,580,1094,563,1104,555,1119,548,1193,527,1269,512,1346,501,1424,494,1579,490,1729,497,1870,511,1995,530,2180,569,2178,574,1994,536,1869,517,1729,502,1579,495,1424,499,1346,506,1270,517,1194,533,1121,553,1107,559,1097,567,1073,584,1047,596"/>
<area shape="poly" title=" " alt="" coords="1049,631,1120,638,1458,659,1458,664,1119,643,1049,637"/>
<area shape="poly" title=" " alt="" coords="1048,598,1070,580,1091,547,1098,513,1096,478,1089,444,1083,410,1083,376,1093,343,1118,311,1160,281,1206,261,1256,249,1307,244,1358,244,1407,248,1492,262,1491,267,1407,253,1358,249,1308,249,1257,254,1208,266,1162,286,1121,315,1097,345,1088,377,1088,409,1094,443,1101,478,1103,513,1096,549,1074,584,1051,602"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="1168,595,1342,628"/>
<area shape="poly" title=" " alt="" coords="1049,616,1152,612,1153,618,1049,621"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ab23359a874c401f50b4a88eb154924bc" title=" " alt="" coords="1176,435,1334,468"/>
<area shape="poly" title=" " alt="" coords="1048,595,1070,580,1087,558,1093,534,1099,510,1106,497,1118,485,1138,472,1160,463,1162,468,1141,477,1121,490,1111,500,1104,512,1098,535,1092,560,1074,584,1051,599"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a68db1382ca9d80f68cd5b8173bb79699" title=" " alt="" coords="1169,704,1341,738"/>
<area shape="poly" title=" " alt="" coords="1023,649,1120,682,1171,697,1169,702,1119,687,1021,654"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a8af6cb580774621aef719d6923cb5072" title=" " alt="" coords="1150,761,1360,795"/>
<area shape="poly" title=" " alt="" coords="1010,649,1043,667,1073,690,1088,706,1097,721,1106,735,1121,748,1137,756,1134,761,1118,752,1102,738,1092,724,1084,709,1070,693,1040,672,1008,653"/>
<area shape="poly" title=" " alt="" coords="1334,445,1474,439,1474,445,1334,451"/>
<area shape="poly" title=" " alt="" coords="1291,701,1339,674,1388,639,1434,595,1476,548,1539,466,1543,470,1480,552,1438,599,1392,643,1342,679,1294,706"/>
<area shape="poly" title=" " alt="" coords="1341,715,1989,693,1989,698,1341,721"/>
<area shape="poly" title=" " alt="" coords="1341,703,1458,682,1459,687,1342,708"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a8ee872461a1786fedb0aacb2318db738" title=" " alt="" coords="1447,787,1678,820"/>
<area shape="poly" title=" " alt="" coords="1360,784,1431,790,1431,795,1360,789"/>
<area shape="poly" title=" " alt="" coords="770,898,994,887,1253,881,1563,881,1634,876,1704,862,1772,842,1837,818,1952,764,2034,716,2037,720,1954,768,1840,823,1774,847,1705,868,1634,881,1564,886,1254,886,994,892,770,904"/>
<area shape="poly" title=" " alt="" coords="707,889,817,862,982,838,1148,822,1431,805,1431,810,1148,827,983,844,818,867,709,894"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a8ba490369bdfd6feb7187c9f480fa4ac" title=" " alt="" coords="817,972,1072,1006"/>
<area shape="poly" title=" " alt="" coords="717,924,866,965,864,970,715,929"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a3f4760a6b743ec1e4ca87fb493b019db" title=" " alt="" coords="1189,921,1321,955"/>
<area shape="poly" title=" " alt="" coords="770,912,1173,932,1173,937,770,917"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="898,1029,991,1063"/>
<area shape="poly" title=" " alt="" coords="675,924,737,970,776,995,818,1016,883,1035,882,1040,816,1021,774,999,734,974,671,928"/>
<area shape="poly" title=" " alt="" coords="1051,969,1173,949,1174,954,1052,974"/>
<area shape="poly" title=" " alt="" coords="1322,952,1448,973,1527,981,1613,983,1701,979,1790,965,1876,939,1917,921,1955,900,1978,883,1997,863,2029,815,2050,766,2064,724,2069,726,2055,768,2033,818,2001,866,1981,887,1958,904,1919,926,1878,944,1791,970,1702,984,1613,989,1527,986,1448,978,1321,957"/>
<area shape="poly" title=" " alt="" coords="1273,919,1436,772,1528,691,1532,695,1440,776,1277,923"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1512,1164,1613,1198"/>
<area shape="poly" title=" " alt="" coords="992,1053,1497,1164,1495,1169,990,1059"/>
<area shape="poly" title=" " alt="" coords="1071,718,1153,718,1153,724,1071,724"/>
<area shape="poly" title=" " alt="" coords="1040,736,1145,755,1144,761,1039,741"/>
<area shape="poly" title=" " alt="" coords="460,1117,680,1105,943,1098,1563,1098,1683,1097,1732,1093,1777,1084,1820,1070,1863,1049,1907,1019,1955,979,1981,951,2003,918,2036,848,2057,780,2067,725,2073,726,2062,781,2041,850,2008,921,1985,954,1959,983,1910,1023,1865,1054,1822,1075,1779,1090,1733,1098,1683,1102,1564,1103,943,1103,680,1110,460,1122"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1190,1189,1320,1223"/>
<area shape="poly" title=" " alt="" coords="460,1127,734,1144,903,1157,1072,1174,1175,1189,1175,1195,1071,1179,902,1162,733,1149,459,1133"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="557,1217,746,1251"/>
<area shape="poly" title=" " alt="" coords="415,1141,591,1209,589,1214,413,1146"/>
<area shape="poly" title=" " alt="" coords="1320,1198,1496,1184,1496,1189,1320,1204"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="868,1304,1021,1338"/>
<area shape="poly" title=" " alt="" coords="698,1249,818,1290,854,1300,853,1305,817,1295,696,1254"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="846,1189,1043,1223"/>
<area shape="poly" title=" " alt="" coords="746,1222,830,1214,831,1220,747,1228"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="834,1247,1055,1280"/>
<area shape="poly" title=" " alt="" coords="747,1241,819,1248,819,1254,746,1246"/>
<area shape="poly" title=" " alt="" coords="1043,1204,1175,1204,1175,1209,1043,1209"/>
</map>
</div>

</div>
</div>
<a id="a180b8f0e72004ef0d6c6fda3aac0a7b0" name="a180b8f0e72004ef0d6c6fda3aac0a7b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a180b8f0e72004ef0d6c6fda3aac0a7b0">&#9670;&#160;</a></span>ubus_process_obj_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubus_process_obj_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d0/d37/structubus__msghdr__buf">ubus_msghdr_buf</a> *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/dda/libubus-obj_8c_source.html#l00115">115</a> of file <a class="el" href="../../db/dda/libubus-obj_8c_source.html">libubus-obj.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  116</span>{</div>
<div class="line"><span class="lineno">  117</span>    void (*cb)(<span class="keyword">struct </span><a class="code hl_struct" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *, <span class="keyword">struct </span><a class="code hl_struct" href="../../d5/d79/ubusmsg_8h.html#d2/d15/structubus__msghdr">ubus_msghdr</a> *,</div>
<div class="line"><span class="lineno">  118</span>           <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *, <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> **, <span class="keywordtype">int</span> fd);</div>
<div class="line"><span class="lineno">  119</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d5/d79/ubusmsg_8h.html#d2/d15/structubus__msghdr">ubus_msghdr</a> *hdr = &amp;<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;hdr;</div>
<div class="line"><span class="lineno">  120</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> **<a class="code hl_variable" href="../../dc/d80/libubus-io_8c.html#a2db28f5297374cef03aaa958a92494d7">attrbuf</a>;</div>
<div class="line"><span class="lineno">  121</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj;</div>
<div class="line"><span class="lineno">  122</span>    uint32_t objid;</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordtype">void</span> *prev_data = NULL;</div>
<div class="line"><span class="lineno">  124</span>    <a class="code hl_variable" href="../../dc/d80/libubus-io_8c.html#a2db28f5297374cef03aaa958a92494d7">attrbuf</a> = <a class="code hl_function" href="#aa817370ec1e201cfa7170662de3a30b4">ubus_parse_msg</a>(<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;data, <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01">blob_raw_len</a>(<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;data));</div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../dc/d80/libubus-io_8c.html#a2db28f5297374cef03aaa958a92494d7">attrbuf</a>[<a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#adfb314e0974e85af94acda6d0c0d1e7eab5c5cc1907fffcc505fe80a675fe936b">UBUS_ATTR_OBJID</a>])</div>
<div class="line"><span class="lineno">  126</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>    objid = <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a1e6079c1ffa0e8f05ca64a51d7332919">blob_get_u32</a>(<a class="code hl_variable" href="../../dc/d80/libubus-io_8c.html#a2db28f5297374cef03aaa958a92494d7">attrbuf</a>[<a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#adfb314e0974e85af94acda6d0c0d1e7eab5c5cc1907fffcc505fe80a675fe936b">UBUS_ATTR_OBJID</a>]);</div>
<div class="line"><span class="lineno">  129</span>    obj = <a class="code hl_define" href="../../d3/d51/avl_8h.html#a65bfca92c030dd0ea5548f23de5fc07e">avl_find_element</a>(&amp;<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a5327b9999c46f89a6b4a10b9336674c8">objects</a>, &amp;objid, obj, <a class="code hl_variable" href="../../d9/d00/ubusd__obj_8h.html#a58a06bbffe8e8937bc53fb50a7a26c96">avl</a>);</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">switch</span> (hdr-&gt;<a class="code hl_variable" href="../../d5/d79/ubusmsg_8h.html#aa62a21051bd15ec19c79fc2062c8e431">type</a>) {</div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8a03f96e83c7128fe1cb20c24be353c827">UBUS_MSG_INVOKE</a>:</div>
<div class="line"><span class="lineno">  133</span>        cb = <a class="code hl_function" href="../../db/dda/libubus-obj_8c.html#aa7f42f2a9db5b9c256a45de4a54a7ecb">ubus_process_invoke</a>;</div>
<div class="line"><span class="lineno">  134</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8aee1a642ab06e2fa071adb35548c6c01d">UBUS_MSG_UNSUBSCRIBE</a>:</div>
<div class="line"><span class="lineno">  136</span>        cb = <a class="code hl_function" href="../../db/dda/libubus-obj_8c.html#af44558372b2986540507bf56bbc0e0a8">ubus_process_unsubscribe</a>;</div>
<div class="line"><span class="lineno">  137</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8a8a7e35e5e742cdcc899331edcaeff4a8">UBUS_MSG_NOTIFY</a>:</div>
<div class="line"><span class="lineno">  139</span>        cb = <a class="code hl_function" href="../../db/dda/libubus-obj_8c.html#a060158036d4da29642eaed221a561ae5">ubus_process_notify</a>;</div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  142</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  143</span>    }</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> == &amp;<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a502aa3e336810f5bc200234fa3bd6df2">msgbuf</a>) {</div>
<div class="line"><span class="lineno">  146</span>        prev_data = <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;data;</div>
<div class="line"><span class="lineno">  147</span>        <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;data = NULL;</div>
<div class="line"><span class="lineno">  148</span>    }</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    cb(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, hdr, obj, <a class="code hl_variable" href="../../dc/d80/libubus-io_8c.html#a2db28f5297374cef03aaa958a92494d7">attrbuf</a>, fd);</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordflow">if</span> (prev_data) {</div>
<div class="line"><span class="lineno">  153</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;data)</div>
<div class="line"><span class="lineno">  154</span>            free(prev_data);</div>
<div class="line"><span class="lineno">  155</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  156</span>            <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;data = prev_data;</div>
<div class="line"><span class="lineno">  157</span>    }</div>
<div class="line"><span class="lineno">  158</span>}</div>
<div class="ttc" id="aavl_8h_html_a65bfca92c030dd0ea5548f23de5fc07e"><div class="ttname"><a href="../../d3/d51/avl_8h.html#a65bfca92c030dd0ea5548f23de5fc07e">avl_find_element</a></div><div class="ttdeci">#define avl_find_element(tree, key, element, node_element)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00240">avl.h:240</a></div></div>
<div class="ttc" id="ablob_8h_html_a1e6079c1ffa0e8f05ca64a51d7332919"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#a1e6079c1ffa0e8f05ca64a51d7332919">blob_get_u32</a></div><div class="ttdeci">static uint32_t blob_get_u32(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00139">blob.h:139</a></div></div>
<div class="ttc" id="ablob_8h_html_a2c4753820a7472bba7b999fbba79df01"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01">blob_raw_len</a></div><div class="ttdeci">static size_t blob_raw_len(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00109">blob.h:109</a></div></div>
<div class="ttc" id="ablob_8h_html_dc/dd9/structblob__attr"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a></div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00052">blob.h:52</a></div></div>
<div class="ttc" id="alibubus-internal_8h_html_aa817370ec1e201cfa7170662de3a30b4"><div class="ttname"><a href="#aa817370ec1e201cfa7170662de3a30b4">ubus_parse_msg</a></div><div class="ttdeci">struct blob_attr ** ubus_parse_msg(struct blob_attr *msg, size_t len)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d80/libubus-io_8c_source.html#l00046">libubus-io.c:46</a></div></div>
<div class="ttc" id="alibubus-obj_8c_html_a060158036d4da29642eaed221a561ae5"><div class="ttname"><a href="../../db/dda/libubus-obj_8c.html#a060158036d4da29642eaed221a561ae5">ubus_process_notify</a></div><div class="ttdeci">static void ubus_process_notify(struct ubus_context *ctx, struct ubus_msghdr *hdr, struct ubus_object *obj, struct blob_attr **attrbuf, int fd)</div><div class="ttdef"><b>Definition</b> <a href="../../db/dda/libubus-obj_8c_source.html#l00039">libubus-obj.c:39</a></div></div>
<div class="ttc" id="alibubus-obj_8c_html_aa7f42f2a9db5b9c256a45de4a54a7ecb"><div class="ttname"><a href="../../db/dda/libubus-obj_8c.html#aa7f42f2a9db5b9c256a45de4a54a7ecb">ubus_process_invoke</a></div><div class="ttdeci">static void ubus_process_invoke(struct ubus_context *ctx, struct ubus_msghdr *hdr, struct ubus_object *obj, struct blob_attr **attrbuf, int fd)</div><div class="ttdef"><b>Definition</b> <a href="../../db/dda/libubus-obj_8c_source.html#l00053">libubus-obj.c:53</a></div></div>
<div class="ttc" id="alibubus-obj_8c_html_af44558372b2986540507bf56bbc0e0a8"><div class="ttname"><a href="../../db/dda/libubus-obj_8c.html#af44558372b2986540507bf56bbc0e0a8">ubus_process_unsubscribe</a></div><div class="ttdeci">static void ubus_process_unsubscribe(struct ubus_context *ctx, struct ubus_msghdr *hdr, struct ubus_object *obj, struct blob_attr **attrbuf, int fd)</div><div class="ttdef"><b>Definition</b> <a href="../../db/dda/libubus-obj_8c_source.html#l00019">libubus-obj.c:19</a></div></div>
<div class="ttc" id="alibubus_8h_html_a5327b9999c46f89a6b4a10b9336674c8"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a5327b9999c46f89a6b4a10b9336674c8">ubus_context::objects</a></div><div class="ttdeci">struct avl_tree objects</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00159">libubus.h:159</a></div></div>
<div class="ttc" id="aubusd__obj_8h_html_a58a06bbffe8e8937bc53fb50a7a26c96"><div class="ttname"><a href="../../d9/d00/ubusd__obj_8h.html#a58a06bbffe8e8937bc53fb50a7a26c96">ubus_object::avl</a></div><div class="ttdeci">struct avl_node avl</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00127">libubus.h:127</a></div></div>
<div class="ttc" id="aubusd__obj_8h_html_d6/d75/structubus__object"><div class="ttname"><a href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00126">libubus.h:126</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_aa62a21051bd15ec19c79fc2062c8e431"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#aa62a21051bd15ec19c79fc2062c8e431">ubus_msghdr::type</a></div><div class="ttdeci">uint8_t type</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00031">ubusmsg.h:31</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_adfb314e0974e85af94acda6d0c0d1e7eab5c5cc1907fffcc505fe80a675fe936b"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#adfb314e0974e85af94acda6d0c0d1e7eab5c5cc1907fffcc505fe80a675fe936b">UBUS_ATTR_OBJID</a></div><div class="ttdeci">@ UBUS_ATTR_OBJID</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00085">ubusmsg.h:85</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_d2/d15/structubus__msghdr"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#d2/d15/structubus__msghdr">ubus_msghdr</a></div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00029">ubusmsg.h:29</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00044">attrbuf</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00127">ubus_object::avl</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00240">avl_find_element</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00139">blob_get_u32()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00109">blob_raw_len()</a>, <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00173">ubus_context::msgbuf</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00159">ubus_context::objects</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00031">ubus_msghdr::type</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00085">UBUS_ATTR_OBJID</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00053">UBUS_MSG_INVOKE</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00071">UBUS_MSG_NOTIFY</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00064">UBUS_MSG_UNSUBSCRIBE</a>, <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00046">ubus_parse_msg()</a>, <a class="el" href="../../db/dda/libubus-obj_8c_source.html#l00053">ubus_process_invoke()</a>, <a class="el" href="../../db/dda/libubus-obj_8c_source.html#l00039">ubus_process_notify()</a>, and <a class="el" href="../../db/dda/libubus-obj_8c_source.html#l00019">ubus_process_unsubscribe()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/db9/libubus_8c_source.html#l00093">ubus_process_msg()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d26/libubus-internal_8h_a180b8f0e72004ef0d6c6fda3aac0a7b0_cgraph.png" border="0" usemap="#adc/d26/libubus-internal_8h_a180b8f0e72004ef0d6c6fda3aac0a7b0_cgraph" alt=""/></div>
<map name="adc/d26/libubus-internal_8h_a180b8f0e72004ef0d6c6fda3aac0a7b0_cgraph" id="adc/d26/libubus-internal_8h_a180b8f0e72004ef0d6c6fda3aac0a7b0_cgraph">
<area shape="rect" title=" " alt="" coords="5,126,239,160"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a1e6079c1ffa0e8f05ca64a51d7332919" title=" " alt="" coords="657,15,802,49"/>
<area shape="poly" title=" " alt="" coords="139,124,200,73,241,48,286,28,332,17,379,9,474,3,564,6,641,14,641,20,564,11,474,8,380,14,333,22,288,34,243,52,203,78,142,128"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1980,421,2121,454"/>
<area shape="poly" title=" " alt="" coords="239,132,465,119,728,112,1666,112,1713,120,1784,142,1863,178,1900,200,1934,226,1972,269,2003,318,2026,366,2042,405,2037,407,2021,368,1998,321,1968,273,1930,230,1897,205,1860,182,1782,147,1712,125,1665,118,728,118,465,124,239,137"/>
<area shape="rect" href="../../dc/d8a/ubusd__proto_8c.html#aa817370ec1e201cfa7170662de3a30b4" title=" " alt="" coords="333,153,511,186"/>
<area shape="poly" title=" " alt="" coords="239,151,318,158,317,163,239,156"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#aa7f42f2a9db5b9c256a45de4a54a7ecb" title=" " alt="" coords="314,497,530,530"/>
<area shape="poly" title=" " alt="" coords="139,159,399,483,395,486,135,162"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#a060158036d4da29642eaed221a561ae5" title=" " alt="" coords="318,622,526,656"/>
<area shape="poly" title=" " alt="" coords="129,160,146,226,176,325,198,381,224,437,254,491,289,541,330,581,374,612,371,616,326,585,285,545,249,494,219,439,193,383,171,327,140,228,124,161"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#af44558372b2986540507bf56bbc0e0a8" title=" " alt="" coords="287,43,557,77"/>
<area shape="poly" title=" " alt="" coords="183,123,286,94,339,79,341,84,287,99,184,128"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="2169,394,2268,428"/>
<area shape="poly" title=" " alt="" coords="2121,424,2153,419,2154,424,2122,429"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a9a668371aa63dfedae931f7ac76de45d" title=" " alt="" coords="618,153,840,186"/>
<area shape="poly" title=" " alt="" coords="511,167,602,167,602,172,511,172"/>
<area shape="poly" title=" " alt="" coords="841,166,1213,163,1665,163,1727,171,1786,191,1841,221,1891,258,1936,298,1975,339,2030,406,2026,410,1971,342,1932,302,1888,262,1838,226,1784,196,1726,176,1665,168,1214,168,841,171"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a2040eb3393cd5881814738765e4f2c66" title=" " alt="" coords="904,287,1069,321"/>
<area shape="poly" title=" " alt="" coords="765,185,940,277,937,282,762,189"/>
<area shape="poly" title=" " alt="" coords="1069,310,1243,323,1447,330,1665,330,1712,332,1759,338,1851,359,1934,386,1999,412,1997,417,1932,391,1850,364,1759,343,1712,337,1665,335,1447,335,1242,328,1069,315"/>
<area shape="poly" title=" " alt="" coords="1050,319,1129,339,1228,358,1337,374,1447,380,1862,380,2020,387,2154,400,2154,406,2020,393,1862,386,1447,386,1336,379,1227,364,1128,344,1049,324"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="1128,203,1302,237"/>
<area shape="poly" title=" " alt="" coords="1024,285,1119,246,1137,240,1138,245,1121,251,1026,289"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1159,421,1271,454"/>
<area shape="poly" title=" " alt="" coords="1009,320,1059,359,1121,399,1148,412,1146,417,1118,404,1055,363,1006,324"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="1171,261,1259,294"/>
<area shape="poly" title=" " alt="" coords="1069,292,1155,282,1156,287,1070,297"/>
<area shape="poly" title=" " alt="" coords="522,494,605,482,905,454,1143,438,1144,444,905,459,605,487,522,499"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a8c7f7a7dd12329a27d64b4b9c49b8672" title=" " alt="" coords="657,653,802,686"/>
<area shape="poly" title=" " alt="" coords="449,529,538,593,606,638,642,651,641,656,604,643,535,597,445,533"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="628,497,831,530"/>
<area shape="poly" title=" " alt="" coords="531,511,612,511,612,516,531,516"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a08d851dae97200fe16233b21dc4c38d2" title=" " alt="" coords="605,572,853,629"/>
<area shape="poly" title=" " alt="" coords="485,529,613,565,611,570,484,534"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a32b9338e87ff904d1fc867f2610da6aa" title=" " alt="" coords="920,707,1053,741"/>
<area shape="poly" title=" " alt="" coords="803,683,905,704,904,710,802,688"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="911,497,1062,530"/>
<area shape="poly" title=" " alt="" coords="831,511,896,511,896,516,831,516"/>
<area shape="poly" title=" " alt="" coords="1032,494,1119,463,1144,455,1145,460,1121,468,1034,499"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1124,593,1306,626"/>
<area shape="poly" title=" " alt="" coords="1019,529,1066,554,1121,579,1136,585,1134,590,1119,584,1064,559,1016,533"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1130,478,1300,512"/>
<area shape="poly" title=" " alt="" coords="1062,505,1114,501,1114,506,1063,510"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1120,535,1310,569"/>
<area shape="poly" title=" " alt="" coords="1063,524,1105,531,1104,536,1062,529"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="1145,650,1285,684"/>
<area shape="poly" title=" " alt="" coords="854,608,1072,635,1130,646,1129,651,1071,640,853,614"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="901,650,1072,684"/>
<area shape="poly" title=" " alt="" coords="842,627,904,643,903,648,840,632"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1396,558,1501,592"/>
<area shape="poly" title=" " alt="" coords="1278,647,1309,637,1398,597,1401,602,1311,641,1280,652"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="1358,650,1538,684"/>
<area shape="poly" title=" " alt="" coords="1285,664,1343,664,1343,670,1285,670"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1790,421,1932,454"/>
<area shape="poly" title=" " alt="" coords="1462,556,1513,507,1547,481,1585,461,1632,445,1682,436,1774,430,1774,436,1682,441,1634,451,1587,465,1550,485,1516,511,1466,560"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1586,475,1742,509"/>
<area shape="poly" title=" " alt="" coords="1493,555,1602,513,1604,518,1495,560"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1790,478,1932,512"/>
<area shape="poly" title=" " alt="" coords="1501,564,1741,519,1774,512,1775,517,1742,524,1502,569"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1596,585,1732,618"/>
<area shape="poly" title=" " alt="" coords="1501,579,1581,589,1580,594,1501,584"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1614,642,1714,676"/>
<area shape="poly" title=" " alt="" coords="1492,590,1587,629,1601,634,1599,639,1585,633,1490,595"/>
<area shape="poly" title=" " alt="" coords="1727,472,1782,457,1784,462,1728,477"/>
<area shape="poly" title=" " alt="" coords="1742,491,1775,491,1775,496,1742,496"/>
<area shape="poly" title=" " alt="" coords="1732,582,1843,552,1931,522,1977,494,2017,463,2021,467,1980,498,1933,527,1845,557,1733,588"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1790,587,1932,621"/>
<area shape="poly" title=" " alt="" coords="1733,600,1775,600,1775,606,1733,605"/>
<area shape="poly" title=" " alt="" coords="1901,585,1930,566,1984,516,2026,465,2030,469,1988,519,1934,570,1904,589"/>
<area shape="poly" title=" " alt="" coords="1058,682,1120,694,1283,714,1447,719,1665,719,1746,716,1808,704,1865,678,1930,632,1967,594,1997,550,2020,506,2036,468,2041,470,2025,508,2002,553,1972,597,1934,636,1868,683,1810,709,1746,722,1665,724,1447,724,1282,720,1119,699,1057,687"/>
<area shape="poly" title=" " alt="" coords="1072,664,1130,664,1130,670,1072,670"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f" title=" " alt="" coords="1149,759,1281,793"/>
<area shape="poly" title=" " alt="" coords="1051,682,1073,693,1088,704,1098,716,1107,727,1121,738,1145,751,1142,755,1118,743,1103,731,1094,719,1084,708,1070,697,1049,687"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#ad1aaffb83e802ad470cb77be9f56977c" title=" " alt="" coords="1394,759,1503,793"/>
<area shape="poly" title=" " alt="" coords="1281,774,1378,774,1378,779,1281,779"/>
<area shape="poly" title=" " alt="" coords="467,654,531,677,606,696,684,709,764,716,904,722,904,727,764,722,684,714,604,702,530,682,465,659"/>
<area shape="poly" title=" " alt="" coords="557,45,641,38,641,43,557,51"/>
</map>
</div>

</div>
</div>
<a id="a84cbd7c0f01a559e7480777fb3dbb78c" name="a84cbd7c0f01a559e7480777fb3dbb78c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84cbd7c0f01a559e7480777fb3dbb78c">&#9670;&#160;</a></span>ubus_process_req_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubus_process_req_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d0/d37/structubus__msghdr__buf">ubus_msghdr_buf</a> *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00462">462</a> of file <a class="el" href="../../d2/de5/libubus-req_8c_source.html">libubus-req.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  463</span>{</div>
<div class="line"><span class="lineno">  464</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d5/d79/ubusmsg_8h.html#d2/d15/structubus__msghdr">ubus_msghdr</a> *hdr = &amp;<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>-&gt;hdr;</div>
<div class="line"><span class="lineno">  465</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../db/d55/libubus_8h.html#dc/dca/structubus__request">ubus_request</a> *req;</div>
<div class="line"><span class="lineno">  466</span>    <span class="keywordtype">int</span> <span class="keywordtype">id</span> = -1;</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>    <span class="keywordflow">switch</span>(hdr-&gt;<a class="code hl_variable" href="../../d5/d79/ubusmsg_8h.html#aa62a21051bd15ec19c79fc2062c8e431">type</a>) {</div>
<div class="line"><span class="lineno">  469</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8a75c1163477a0eeb36ef4a9c8a29991c9">UBUS_MSG_STATUS</a>:</div>
<div class="line"><span class="lineno">  470</span>        req = <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#a69f3b0b95c5310d21a18214662a9a0f4">ubus_find_request</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, hdr-&gt;<a class="code hl_variable" href="../../d5/d79/ubusmsg_8h.html#ab90f8ebaaa829b5513cbf1a31999a2af">seq</a>, hdr-&gt;<a class="code hl_variable" href="../../d5/d79/ubusmsg_8h.html#a1c055bdf82522eaacae11214ef289fca">peer</a>, &amp;<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  471</span>        <span class="keywordflow">if</span> (!req)</div>
<div class="line"><span class="lineno">  472</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  473</span> </div>
<div class="line"><span class="lineno">  474</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a7f379c6640df92275a94862a7e448b47">fd</a> &gt;= 0) {</div>
<div class="line"><span class="lineno">  475</span>            <span class="keywordflow">if</span> (req-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#af9d46f90b472c3a4d5779c7d517e22d2">fd_cb</a>)</div>
<div class="line"><span class="lineno">  476</span>                req-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#af9d46f90b472c3a4d5779c7d517e22d2">fd_cb</a>(req, <a class="code hl_variable" href="../../db/d55/libubus_8h.html#a7f379c6640df92275a94862a7e448b47">fd</a>);</div>
<div class="line"><span class="lineno">  477</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  478</span>                close(<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a7f379c6640df92275a94862a7e448b47">fd</a>);</div>
<div class="line"><span class="lineno">  479</span>        }</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>        <span class="keywordflow">if</span> (<span class="keywordtype">id</span> &gt;= 0)</div>
<div class="line"><span class="lineno">  482</span>            <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#ad1560c16d4a14458fe8392ce0d7605f6">ubus_process_notify_status</a>(req, <span class="keywordtype">id</span>, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>);</div>
<div class="line"><span class="lineno">  483</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  484</span>            <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#a1c2ac477fb2a0663ee55d41ebe732ba0">ubus_process_req_status</a>(req, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>);</div>
<div class="line"><span class="lineno">  485</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a6992a6892cead2b516d3d2e5c28efbb8a4226ea1a95c520400890ade21a66cdd2">UBUS_MSG_DATA</a>:</div>
<div class="line"><span class="lineno">  488</span>        req = <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#a69f3b0b95c5310d21a18214662a9a0f4">ubus_find_request</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, hdr-&gt;<a class="code hl_variable" href="../../d5/d79/ubusmsg_8h.html#ab90f8ebaaa829b5513cbf1a31999a2af">seq</a>, hdr-&gt;<a class="code hl_variable" href="../../d5/d79/ubusmsg_8h.html#a1c055bdf82522eaacae11214ef289fca">peer</a>, &amp;<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  489</span>        <span class="keywordflow">if</span> (req &amp;&amp; (req-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#abd40f607dc773729bb5ec8262832efbd">data_cb</a> || req-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a0854a6df9aae21088298da09ffb0bfed">raw_data_cb</a>))</div>
<div class="line"><span class="lineno">  490</span>            <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#a0e43a4d5a6872ad57fdbec2d8adcb0f9">ubus_process_req_data</a>(req, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>);</div>
<div class="line"><span class="lineno">  491</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  492</span>    }</div>
<div class="line"><span class="lineno">  493</span>}</div>
<div class="ttc" id="alibubus-req_8c_html_a0e43a4d5a6872ad57fdbec2d8adcb0f9"><div class="ttname"><a href="../../d2/de5/libubus-req_8c.html#a0e43a4d5a6872ad57fdbec2d8adcb0f9">ubus_process_req_data</a></div><div class="ttdeci">static void ubus_process_req_data(struct ubus_request *req, struct ubus_msghdr_buf *buf)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/de5/libubus-req_8c_source.html#l00353">libubus-req.c:353</a></div></div>
<div class="ttc" id="alibubus-req_8c_html_a1c2ac477fb2a0663ee55d41ebe732ba0"><div class="ttname"><a href="../../d2/de5/libubus-req_8c.html#a1c2ac477fb2a0663ee55d41ebe732ba0">ubus_process_req_status</a></div><div class="ttdeci">static int ubus_process_req_status(struct ubus_request *req, struct ubus_msghdr_buf *buf)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/de5/libubus-req_8c_source.html#l00341">libubus-req.c:341</a></div></div>
<div class="ttc" id="alibubus-req_8c_html_a69f3b0b95c5310d21a18214662a9a0f4"><div class="ttname"><a href="../../d2/de5/libubus-req_8c.html#a69f3b0b95c5310d21a18214662a9a0f4">ubus_find_request</a></div><div class="ttdeci">static struct ubus_request * ubus_find_request(struct ubus_context *ctx, uint32_t seq, uint32_t peer, int *id)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/de5/libubus-req_8c_source.html#l00398">libubus-req.c:398</a></div></div>
<div class="ttc" id="alibubus-req_8c_html_ad1560c16d4a14458fe8392ce0d7605f6"><div class="ttname"><a href="../../d2/de5/libubus-req_8c.html#ad1560c16d4a14458fe8392ce0d7605f6">ubus_process_notify_status</a></div><div class="ttdeci">static void ubus_process_notify_status(struct ubus_request *req, int id, struct ubus_msghdr_buf *buf)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/de5/libubus-req_8c_source.html#l00424">libubus-req.c:424</a></div></div>
<div class="ttc" id="alibubus_8h_html_a0854a6df9aae21088298da09ffb0bfed"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a0854a6df9aae21088298da09ffb0bfed">ubus_request::raw_data_cb</a></div><div class="ttdeci">ubus_data_handler_t raw_data_cb</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00220">libubus.h:220</a></div></div>
<div class="ttc" id="alibubus_8h_html_abd40f607dc773729bb5ec8262832efbd"><div class="ttname"><a href="../../db/d55/libubus_8h.html#abd40f607dc773729bb5ec8262832efbd">ubus_request::data_cb</a></div><div class="ttdeci">ubus_data_handler_t data_cb</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00221">libubus.h:221</a></div></div>
<div class="ttc" id="alibubus_8h_html_af9d46f90b472c3a4d5779c7d517e22d2"><div class="ttname"><a href="../../db/d55/libubus_8h.html#af9d46f90b472c3a4d5779c7d517e22d2">ubus_request::fd_cb</a></div><div class="ttdeci">ubus_fd_handler_t fd_cb</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00222">libubus.h:222</a></div></div>
<div class="ttc" id="alibubus_8h_html_dc/dca/structubus__request"><div class="ttname"><a href="../../db/d55/libubus_8h.html#dc/dca/structubus__request">ubus_request</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00207">libubus.h:207</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a1c055bdf82522eaacae11214ef289fca"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a1c055bdf82522eaacae11214ef289fca">ubus_msghdr::peer</a></div><div class="ttdeci">uint32_t peer</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00033">ubusmsg.h:33</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_ab90f8ebaaa829b5513cbf1a31999a2af"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#ab90f8ebaaa829b5513cbf1a31999a2af">ubus_msghdr::seq</a></div><div class="ttdeci">uint16_t seq</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00032">ubusmsg.h:32</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00221">ubus_request::data_cb</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00225">ubus_request::fd</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00222">ubus_request::fd_cb</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00033">ubus_msghdr::peer</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00220">ubus_request::raw_data_cb</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00032">ubus_msghdr::seq</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00031">ubus_msghdr::type</a>, <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00398">ubus_find_request()</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00044">UBUS_MSG_DATA</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00041">UBUS_MSG_STATUS</a>, <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00424">ubus_process_notify_status()</a>, <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00353">ubus_process_req_data()</a>, and <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00341">ubus_process_req_status()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/db9/libubus_8c_source.html#l00093">ubus_process_msg()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d26/libubus-internal_8h_a84cbd7c0f01a559e7480777fb3dbb78c_cgraph.png" border="0" usemap="#adc/d26/libubus-internal_8h_a84cbd7c0f01a559e7480777fb3dbb78c_cgraph" alt=""/></div>
<map name="adc/d26/libubus-internal_8h_a84cbd7c0f01a559e7480777fb3dbb78c_cgraph" id="adc/d26/libubus-internal_8h_a84cbd7c0f01a559e7480777fb3dbb78c_cgraph">
<area shape="rect" title=" " alt="" coords="5,282,241,316"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a69f3b0b95c5310d21a18214662a9a0f4" title=" " alt="" coords="311,181,503,214"/>
<area shape="poly" title=" " alt="" coords="172,279,342,217,344,222,174,284"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#ad1560c16d4a14458fe8392ce0d7605f6" title=" " alt="" coords="596,221,804,278"/>
<area shape="poly" title=" " alt="" coords="241,286,580,257,581,262,242,291"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e43a4d5a6872ad57fdbec2d8adcb0f9" title=" " alt="" coords="289,546,525,580"/>
<area shape="poly" title=" " alt="" coords="145,314,378,533,374,537,141,318"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a1c2ac477fb2a0663ee55d41ebe732ba0" title=" " alt="" coords="574,322,826,356"/>
<area shape="poly" title=" " alt="" coords="241,304,559,326,559,332,241,310"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#ae48137762c4476d0ae29fdd76b3c2b1e" title=" " alt="" coords="601,163,800,197"/>
<area shape="poly" title=" " alt="" coords="503,189,585,184,585,190,503,195"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="1895,57,2069,90"/>
<area shape="poly" title=" " alt="" coords="803,221,826,207,841,189,848,169,856,149,874,130,923,101,968,81,1010,70,1051,65,1138,67,1247,71,1525,71,1879,71,1879,76,1525,76,1247,76,1138,72,1051,71,1011,76,970,87,926,105,877,134,860,152,853,171,846,191,829,212,806,226"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1926,114,2038,148"/>
<area shape="poly" title=" " alt="" coords="801,218,826,207,849,189,859,181,874,172,975,138,1056,124,1140,121,1247,121,1525,121,1910,127,1910,132,1524,127,1247,127,1140,126,1057,129,976,143,876,177,862,185,853,193,829,212,803,223"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ab23359a874c401f50b4a88eb154924bc" title=" " alt="" coords="901,213,1059,246"/>
<area shape="poly" title=" " alt="" coords="805,239,886,234,886,239,805,245"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="2117,169,2215,202"/>
<area shape="poly" title=" " alt="" coords="803,223,825,208,838,192,844,177,848,144,852,111,859,95,874,79,920,46,963,24,1005,12,1047,8,1137,11,1247,16,1766,16,1854,11,1924,3,1958,3,1992,9,2029,21,2070,42,2100,65,2124,94,2156,153,2151,156,2119,97,2096,69,2068,46,2027,26,1991,14,1957,9,1924,9,1854,16,1766,21,1247,21,1136,16,1047,13,1006,17,965,29,923,50,877,83,864,98,857,113,853,145,849,178,842,195,829,211,806,228"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1911,281,2053,314"/>
<area shape="poly" title=" " alt="" coords="794,218,875,198,1020,184,1169,181,1317,188,1459,201,1593,218,1713,237,1897,275,1896,280,1712,243,1592,223,1459,206,1316,193,1169,187,1021,189,876,203,795,223"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a68db1382ca9d80f68cd5b8173bb79699" title=" " alt="" coords="894,322,1066,356"/>
<area shape="poly" title=" " alt="" coords="792,276,911,314,909,319,790,281"/>
<area shape="rect" href="../../dc/d8a/ubusd__proto_8c.html#aa817370ec1e201cfa7170662de3a30b4" title=" " alt="" coords="1160,270,1337,304"/>
<area shape="poly" title=" " alt="" coords="805,254,1144,277,1144,282,805,259"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a8af6cb580774621aef719d6923cb5072" title=" " alt="" coords="875,379,1085,413"/>
<area shape="poly" title=" " alt="" coords="777,276,829,307,844,323,853,338,862,352,877,366,883,370,881,375,874,370,858,356,848,341,840,326,826,312,775,281"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a1e6079c1ffa0e8f05ca64a51d7332919" title=" " alt="" coords="1176,213,1321,246"/>
<area shape="poly" title=" " alt="" coords="1059,227,1160,227,1160,232,1059,232"/>
<area shape="poly" title=" " alt="" coords="2045,278,2068,267,2105,241,2137,212,2141,215,2109,245,2070,272,2047,283"/>
<area shape="poly" title=" " alt="" coords="1007,319,1063,287,1132,255,1160,246,1162,251,1134,260,1066,292,1010,324"/>
<area shape="poly" title=" " alt="" coords="1066,334,1634,313,1896,300,1896,305,1634,319,1066,339"/>
<area shape="poly" title=" " alt="" coords="1066,320,1144,304,1145,310,1067,325"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a9a668371aa63dfedae931f7ac76de45d" title=" " alt="" coords="1412,270,1634,304"/>
<area shape="poly" title=" " alt="" coords="1338,284,1397,284,1397,289,1338,289"/>
<area shape="poly" title=" " alt="" coords="1635,287,1896,293,1896,298,1635,292"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a2040eb3393cd5881814738765e4f2c66" title=" " alt="" coords="1682,162,1847,196"/>
<area shape="poly" title=" " alt="" coords="1562,267,1710,200,1712,205,1564,272"/>
<area shape="poly" title=" " alt="" coords="1790,159,1837,129,1894,99,1906,94,1908,99,1896,104,1840,134,1792,164"/>
<area shape="poly" title=" " alt="" coords="1843,159,1911,144,1912,149,1845,164"/>
<area shape="poly" title=" " alt="" coords="1847,178,2101,182,2101,187,1847,183"/>
<area shape="poly" title=" " alt="" coords="1815,194,1848,213,1863,227,1873,241,1881,254,1896,267,1903,271,1900,276,1893,272,1877,258,1868,244,1859,231,1845,217,1813,198"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="1938,223,2026,257"/>
<area shape="poly" title=" " alt="" coords="1828,194,1924,221,1923,226,1826,199"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae1cde0f50b85945cfff23be4fc1586f4" title=" " alt="" coords="1187,437,1310,470"/>
<area shape="poly" title=" " alt="" coords="1063,411,1172,435,1171,440,1062,416"/>
<area shape="rect" href="../../da/d23/list_8h.html#a6ff0e5eee443d7b27def83827340634d" title=" " alt="" coords="1190,379,1307,413"/>
<area shape="poly" title=" " alt="" coords="1085,393,1174,393,1174,399,1085,399"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a8ee872461a1786fedb0aacb2318db738" title=" " alt="" coords="1133,603,1364,637"/>
<area shape="poly" title=" " alt="" coords="1032,411,1061,428,1087,450,1099,470,1106,488,1109,524,1113,558,1121,574,1135,590,1137,592,1134,596,1131,594,1116,577,1108,559,1104,525,1101,490,1095,472,1083,454,1058,432,1029,416"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1476,546,1570,580"/>
<area shape="poly" title=" " alt="" coords="1294,468,1466,537,1464,542,1292,473"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="1439,437,1607,470"/>
<area shape="poly" title=" " alt="" coords="1310,451,1423,451,1423,456,1310,456"/>
<area shape="poly" title=" " alt="" coords="428,578,489,627,530,653,574,672,633,690,684,701,729,706,772,707,863,702,979,697,1524,697,1566,694,1605,685,1643,671,1680,653,1748,605,1808,548,1861,486,1904,425,1963,327,1967,330,1909,428,1865,489,1812,551,1751,609,1682,658,1645,676,1607,691,1566,700,1525,703,979,703,863,707,772,712,729,711,683,706,631,695,572,677,528,657,486,632,424,582"/>
<area shape="poly" title=" " alt="" coords="525,568,1117,609,1117,614,525,573"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a8ba490369bdfd6feb7187c9f480fa4ac" title=" " alt="" coords="573,519,827,553"/>
<area shape="poly" title=" " alt="" coords="525,549,557,546,558,552,526,555"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a3f4760a6b743ec1e4ca87fb493b019db" title=" " alt="" coords="914,465,1046,498"/>
<area shape="poly" title=" " alt="" coords="448,543,506,522,572,504,659,491,746,483,898,478,898,483,746,488,659,496,574,509,508,527,450,548"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="654,629,746,662"/>
<area shape="poly" title=" " alt="" coords="470,578,640,626,638,631,469,583"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1206,546,1291,580"/>
<area shape="poly" title=" " alt="" coords="828,540,1191,557,1190,563,828,545"/>
<area shape="poly" title=" " alt="" coords="789,516,898,495,899,500,790,521"/>
<area shape="poly" title=" " alt="" coords="1292,560,1460,560,1460,565,1292,565"/>
<area shape="poly" title=" " alt="" coords="1047,489,1159,502,1307,511,1388,511,1471,506,1553,496,1634,480,1680,466,1726,449,1813,406,1888,360,1944,321,1947,326,1891,365,1815,410,1728,453,1682,471,1635,485,1554,502,1471,511,1388,516,1306,516,1159,508,1046,495"/>
<area shape="poly" title=" " alt="" coords="1021,462,1052,445,1083,423,1098,409,1107,395,1131,365,1167,335,1204,310,1207,314,1170,339,1135,369,1111,398,1102,412,1086,428,1055,449,1023,466"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="929,629,1031,662"/>
<area shape="poly" title=" " alt="" coords="747,643,914,643,914,648,747,648"/>
<area shape="poly" title=" " alt="" coords="827,336,878,336,878,341,827,341"/>
<area shape="poly" title=" " alt="" coords="786,354,880,373,879,378,785,359"/>
</map>
</div>

</div>
</div>
<a id="a313bd461102793ea3cec6dbe94b70f7b" name="a313bd461102793ea3cec6dbe94b70f7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a313bd461102793ea3cec6dbe94b70f7b">&#9670;&#160;</a></span>ubus_send_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubus_send_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>seq</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>peer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00126">126</a> of file <a class="el" href="../../dc/d80/libubus-io_8c_source.html">libubus-io.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  128</span>{</div>
<div class="line"><span class="lineno">  129</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d5/d79/ubusmsg_8h.html#d2/d15/structubus__msghdr">ubus_msghdr</a> hdr;</div>
<div class="line"><span class="lineno">  130</span>    <span class="keyword">struct </span>iovec iov[2] = {</div>
<div class="line"><span class="lineno">  131</span>        <a class="code hl_define" href="../../dc/d80/libubus-io_8c.html#a84eb6242a3904db804faf42d8821d894">STATIC_IOV</a>(hdr)</div>
<div class="line"><span class="lineno">  132</span>    };</div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>    hdr.<a class="code hl_variable" href="../../d5/d79/ubusmsg_8h.html#a91367cc87f9394a97fce7eb0400fd34a">version</a> = 0;</div>
<div class="line"><span class="lineno">  136</span>    hdr.type = <a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>;</div>
<div class="line"><span class="lineno">  137</span>    hdr.seq = <a class="code hl_define" href="../../d5/d1d/libubox_2utils_8h.html#af42a6506135fe9e671c40973bacc849f">cpu_to_be16</a>(seq);</div>
<div class="line"><span class="lineno">  138</span>    hdr.peer = <a class="code hl_define" href="../../d5/d1d/libubox_2utils_8h.html#afd3274bb70aea7cf9be403940e001cc7">cpu_to_be32</a>(peer);</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>    <span class="keywordflow">if</span> (!msg) {</div>
<div class="line"><span class="lineno">  141</span>        <a class="code hl_function" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b">blob_buf_init</a>(&amp;<a class="code hl_variable" href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a>, 0);</div>
<div class="line"><span class="lineno">  142</span>        msg = <a class="code hl_variable" href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a>.<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#af6065d74116605108b22c11e75ec669c">head</a>;</div>
<div class="line"><span class="lineno">  143</span>    }</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>    iov[1].iov_base = (<span class="keywordtype">char</span> *) msg;</div>
<div class="line"><span class="lineno">  146</span>    iov[1].iov_len = <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01">blob_raw_len</a>(msg);</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    ret = <a class="code hl_function" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f">writev_retry</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a95c5a7ee3be99fed1bc9e25b53a282fd">sock</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#ad8badf8512adcf9a8819ed088bde09cc">fd</a>, iov, <a class="code hl_define" href="../../d8/d6a/test-blobmsg-types_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a>(iov), fd);</div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><span class="lineno">  150</span>        <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a95c5a7ee3be99fed1bc9e25b53a282fd">sock</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a0a2e642791b9398c2a113e8e95897a40">eof</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordflow">if</span> (fd &gt;= 0)</div>
<div class="line"><span class="lineno">  153</span>        close(fd);</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  156</span>}</div>
<div class="ttc" id="ablob_8c_html_af8ca2237342df92c699fbb2ddb5f390b"><div class="ttname"><a href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b">blob_buf_init</a></div><div class="ttdeci">int blob_buf_init(struct blob_buf *buf, int id)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da0/blob_8c_source.html#l00091">blob.c:91</a></div></div>
<div class="ttc" id="ablob_8h_html_af6065d74116605108b22c11e75ec669c"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#af6065d74116605108b22c11e75ec669c">blob_buf::head</a></div><div class="ttdeci">struct blob_attr * head</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00065">blob.h:65</a></div></div>
<div class="ttc" id="ajshn_8c_html_a8f565d46decc2d5d8ac81923ceec43fd"><div class="ttname"><a href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a></div><div class="ttdeci">static struct blob_buf b</div><div class="ttdef"><b>Definition</b> <a href="../../d1/ddb/jshn_8c_source.html#l00040">jshn.c:40</a></div></div>
<div class="ttc" id="alibubox_2utils_8h_html_af42a6506135fe9e671c40973bacc849f"><div class="ttname"><a href="../../d5/d1d/libubox_2utils_8h.html#af42a6506135fe9e671c40973bacc849f">cpu_to_be16</a></div><div class="ttdeci">#define cpu_to_be16(x)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d1d/libubox_2utils_8h_source.html#l00164">utils.h:164</a></div></div>
<div class="ttc" id="alibubox_2utils_8h_html_afd3274bb70aea7cf9be403940e001cc7"><div class="ttname"><a href="../../d5/d1d/libubox_2utils_8h.html#afd3274bb70aea7cf9be403940e001cc7">cpu_to_be32</a></div><div class="ttdeci">#define cpu_to_be32(x)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d1d/libubox_2utils_8h_source.html#l00163">utils.h:163</a></div></div>
<div class="ttc" id="alibubus-io_8c_html_a84eb6242a3904db804faf42d8821d894"><div class="ttname"><a href="../../dc/d80/libubus-io_8c.html#a84eb6242a3904db804faf42d8821d894">STATIC_IOV</a></div><div class="ttdeci">#define STATIC_IOV(_var)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d80/libubus-io_8c_source.html#l00030">libubus-io.c:30</a></div></div>
<div class="ttc" id="alibubus-io_8c_html_a9a256a75cd053ed5d3443060e0a19a3f"><div class="ttname"><a href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f">writev_retry</a></div><div class="ttdeci">static int writev_retry(int fd, struct iovec *iov, int iov_len, int sock_fd)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d80/libubus-io_8c_source.html#l00060">libubus-io.c:60</a></div></div>
<div class="ttc" id="atest-blobmsg-types_8c_html_a6242a25f9d996f0cc4f4cdb911218b75"><div class="ttname"><a href="../../d8/d6a/test-blobmsg-types_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a></div><div class="ttdeci">#define ARRAY_SIZE(x)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d6a/test-blobmsg-types_8c_source.html#l00120">test-blobmsg-types.c:120</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a91367cc87f9394a97fce7eb0400fd34a"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a91367cc87f9394a97fce7eb0400fd34a">ubus_msghdr::version</a></div><div class="ttdeci">uint8_t version</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00030">ubusmsg.h:30</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d6a/test-blobmsg-types_8c_source.html#l00120">ARRAY_SIZE</a>, <a class="el" href="../../d1/ddb/jshn_8c_source.html#l00040">b</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00091">blob_buf_init()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00109">blob_raw_len()</a>, <a class="el" href="../../d4/d4c/json__script_8c_source.html#l00207">cmd</a>, <a class="el" href="../../d5/d1d/libubox_2utils_8h_source.html#l00164">cpu_to_be16</a>, <a class="el" href="../../d5/d1d/libubox_2utils_8h_source.html#l00163">cpu_to_be32</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00066">uloop_fd::eof</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00065">uloop_fd::fd</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00065">blob_buf::head</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00033">ubus_msghdr::peer</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00032">ubus_msghdr::seq</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00162">ubus_context::sock</a>, <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00030">STATIC_IOV</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00031">ubus_msghdr::type</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00030">ubus_msghdr::version</a>, and <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00060">writev_retry()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00053">__ubus_start_request()</a>, <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00189">ubus_complete_deferred_request()</a>, and <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00205">ubus_send_reply()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d26/libubus-internal_8h_a313bd461102793ea3cec6dbe94b70f7b_cgraph.png" border="0" usemap="#adc/d26/libubus-internal_8h_a313bd461102793ea3cec6dbe94b70f7b_cgraph" alt=""/></div>
<map name="adc/d26/libubus-internal_8h_a313bd461102793ea3cec6dbe94b70f7b_cgraph" id="adc/d26/libubus-internal_8h_a313bd461102793ea3cec6dbe94b70f7b_cgraph">
<area shape="rect" title=" " alt="" coords="5,268,176,302"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="224,199,363,232"/>
<area shape="poly" title=" " alt="" coords="141,265,226,235,228,240,143,270"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1033,211,1174,244"/>
<area shape="poly" title=" " alt="" coords="176,282,500,282,718,282,798,279,877,270,1017,245,1018,250,878,275,798,284,718,287,500,288,176,288"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f" title=" " alt="" coords="228,323,359,356"/>
<area shape="poly" title=" " alt="" coords="156,300,214,316,213,321,155,305"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="449,115,554,148"/>
<area shape="poly" title=" " alt="" coords="336,196,443,152,445,157,338,201"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="411,199,591,232"/>
<area shape="poly" title=" " alt="" coords="364,213,395,213,395,218,364,218"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="843,5,985,39"/>
<area shape="poly" title=" " alt="" coords="518,112,569,70,602,48,638,32,686,19,735,13,827,11,828,16,736,18,687,24,640,37,605,53,572,74,521,116"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="639,47,795,80"/>
<area shape="poly" title=" " alt="" coords="553,112,646,83,647,88,555,118"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="843,75,985,108"/>
<area shape="poly" title=" " alt="" coords="554,124,827,97,828,102,555,129"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="649,156,785,190"/>
<area shape="poly" title=" " alt="" coords="555,139,634,154,633,160,554,144"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="667,213,767,247"/>
<area shape="poly" title=" " alt="" coords="535,147,640,200,654,205,652,210,638,205,532,151"/>
<area shape="poly" title=" " alt="" coords="795,45,827,38,828,43,796,50"/>
<area shape="poly" title=" " alt="" coords="795,72,828,77,827,82,795,77"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="843,156,985,190"/>
<area shape="poly" title=" " alt="" coords="786,170,828,170,828,176,786,176"/>
<area shape="poly" title=" " alt="" coords="786,188,843,200,933,212,1018,219,1017,225,932,217,842,205,785,193"/>
<area shape="poly" title=" " alt="" coords="976,188,1029,203,1027,208,974,193"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1222,211,1321,244"/>
<area shape="poly" title=" " alt="" coords="1175,225,1207,225,1207,230,1175,230"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#ad1aaffb83e802ad470cb77be9f56977c" title=" " alt="" coords="447,323,556,356"/>
<area shape="poly" title=" " alt="" coords="360,337,431,337,431,342,360,342"/>
</map>
</div>

</div>
</div>
<a id="a4cba0d855e6f3ed0fac6a0c6c41c8f49" name="a4cba0d855e6f3ed0fac6a0c6c41c8f49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cba0d855e6f3ed0fac6a0c6c41c8f49">&#9670;&#160;</a></span>ubus_start_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d5/d1d/libubox_2utils_8h.html#a40f0fecd341aae3690f0dded986e423a">__hidden</a> ubus_start_request </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#dc/dca/structubus__request">ubus_request</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>peer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00069">69</a> of file <a class="el" href="../../d2/de5/libubus-req_8c_source.html">libubus-req.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   71</span>{</div>
<div class="line"><span class="lineno">   72</span>    memset(req, 0, <span class="keyword">sizeof</span>(*req));</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>    req-&gt;<a class="code hl_variable" href="../../db/d55/libubus_8h.html#a7f379c6640df92275a94862a7e448b47">fd</a> = -1;</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#a7da0a155290c1fd4d3b5911ced43d5a2">__ubus_start_request</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req, msg, <a class="code hl_variable" href="../../d4/d4c/json__script_8c.html#a12c0be34061dfc832e2b49607c448229">cmd</a>, peer);</div>
<div class="line"><span class="lineno">   77</span>}</div>
<div class="ttc" id="alibubus-req_8c_html_a7da0a155290c1fd4d3b5911ced43d5a2"><div class="ttname"><a href="../../d2/de5/libubus-req_8c.html#a7da0a155290c1fd4d3b5911ced43d5a2">__ubus_start_request</a></div><div class="ttdeci">int __hidden __ubus_start_request(struct ubus_context *ctx, struct ubus_request *req, struct blob_attr *msg, int cmd, uint32_t peer)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/de5/libubus-req_8c_source.html#l00053">libubus-req.c:53</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00053">__ubus_start_request()</a>, <a class="el" href="../../d4/d4c/json__script_8c_source.html#l00207">cmd</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, and <a class="el" href="../../db/d55/libubus_8h_source.html#l00225">ubus_request::fd</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00277">__ubus_notify_async()</a>, <a class="el" href="../../d7/d0c/libubus-sub_8c_source.html#l00103">__ubus_subscribe_request()</a>, <a class="el" href="../../db/dda/libubus-obj_8c_source.html#l00209">ubus_add_object()</a>, <a class="el" href="../../d4/db9/libubus_8c_source.html#l00161">ubus_lookup()</a>, <a class="el" href="../../d4/db9/libubus_8c_source.html#l00192">ubus_lookup_id()</a>, <a class="el" href="../../db/dda/libubus-obj_8c_source.html#l00256">ubus_remove_object()</a>, and <a class="el" href="../../d4/db9/libubus_8c_source.html#l00258">ubus_send_event()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d26/libubus-internal_8h_a4cba0d855e6f3ed0fac6a0c6c41c8f49_cgraph.png" border="0" usemap="#adc/d26/libubus-internal_8h_a4cba0d855e6f3ed0fac6a0c6c41c8f49_cgraph" alt=""/></div>
<map name="adc/d26/libubus-internal_8h_a4cba0d855e6f3ed0fac6a0c6c41c8f49_cgraph" id="adc/d26/libubus-internal_8h_a4cba0d855e6f3ed0fac6a0c6c41c8f49_cgraph">
<area shape="rect" title=" " alt="" coords="5,316,204,349"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a7da0a155290c1fd4d3b5911ced43d5a2" title=" " alt="" coords="252,316,468,349"/>
<area shape="poly" title=" " alt="" coords="204,330,236,330,236,335,204,335"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1353,301,1496,335"/>
<area shape="poly" title=" " alt="" coords="468,330,803,330,1013,330,1186,327,1338,320,1338,325,1187,332,1013,335,803,335,468,335"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="517,370,685,404"/>
<area shape="poly" title=" " alt="" coords="438,347,509,364,508,369,437,353"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="516,122,686,156"/>
<area shape="poly" title=" " alt="" coords="381,313,565,164,568,168,384,317"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1544,246,1685,280"/>
<area shape="poly" title=" " alt="" coords="1485,298,1538,282,1539,287,1486,303"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1733,246,1831,280"/>
<area shape="poly" title=" " alt="" coords="1685,260,1717,260,1717,266,1685,266"/>
<area shape="poly" title=" " alt="" coords="632,119,698,86,790,48,843,30,898,16,954,7,1010,3,1229,3,1308,3,1372,8,1401,15,1431,27,1497,68,1536,105,1567,149,1590,193,1605,231,1600,233,1585,195,1562,151,1532,108,1494,72,1428,32,1399,21,1371,14,1308,8,1229,8,1011,8,955,12,899,21,845,36,792,53,700,91,634,124"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="734,152,874,185"/>
<area shape="poly" title=" " alt="" coords="687,149,720,154,719,159,686,154"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f" title=" " alt="" coords="738,94,870,128"/>
<area shape="poly" title=" " alt="" coords="686,125,723,120,723,125,687,130"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="959,152,1065,185"/>
<area shape="poly" title=" " alt="" coords="874,166,944,166,944,171,874,171"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="922,209,1102,243"/>
<area shape="poly" title=" " alt="" coords="868,183,934,202,932,207,867,188"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1353,178,1496,212"/>
<area shape="poly" title=" " alt="" coords="1065,180,1150,195,1228,198,1305,195,1338,195,1338,200,1305,200,1228,204,1150,200,1064,185"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1150,152,1305,185"/>
<area shape="poly" title=" " alt="" coords="1065,166,1134,166,1134,171,1065,171"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1353,82,1496,116"/>
<area shape="poly" title=" " alt="" coords="1064,155,1100,138,1115,124,1123,108,1132,93,1149,79,1201,63,1257,60,1310,65,1358,75,1357,80,1309,70,1257,65,1202,69,1151,84,1136,96,1127,111,1119,127,1104,143,1066,160"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1160,261,1296,295"/>
<area shape="poly" title=" " alt="" coords="1066,178,1103,194,1119,206,1128,217,1152,240,1171,252,1169,256,1148,244,1124,220,1115,209,1101,199,1064,183"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1178,94,1277,128"/>
<area shape="poly" title=" " alt="" coords="1064,152,1162,126,1163,131,1065,157"/>
<area shape="poly" title=" " alt="" coords="1306,176,1339,181,1338,186,1305,182"/>
<area shape="poly" title=" " alt="" coords="1277,148,1359,119,1361,124,1279,154"/>
<area shape="poly" title=" " alt="" coords="1297,289,1339,298,1338,303,1296,294"/>
<area shape="poly" title=" " alt="" coords="1296,273,1528,264,1528,269,1296,278"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#ad1aaffb83e802ad470cb77be9f56977c" title=" " alt="" coords="957,94,1067,128"/>
<area shape="poly" title=" " alt="" coords="870,108,942,108,942,114,870,114"/>
</map>
</div>

</div>
</div>
<a id="af89184a6a1d46c84beb995555a5f8422" name="af89184a6a1d46c84beb995555a5f8422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af89184a6a1d46c84beb995555a5f8422">&#9670;&#160;</a></span>ubus_validate_hdr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ubus_validate_hdr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/d79/ubusmsg_8h.html#d2/d15/structubus__msghdr">ubus_msghdr</a> *</td>          <td class="paramname"><span class="paramname"><em>hdr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00224">224</a> of file <a class="el" href="../../dc/d80/libubus-io_8c_source.html">libubus-io.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  225</span>{</div>
<div class="line"><span class="lineno">  226</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a> = (<span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *) (hdr + 1);</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    <span class="keywordflow">if</span> (hdr-&gt;<a class="code hl_variable" href="../../d5/d79/ubusmsg_8h.html#a91367cc87f9394a97fce7eb0400fd34a">version</a> != 0)</div>
<div class="line"><span class="lineno">  229</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01">blob_raw_len</a>(<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>) &lt; <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>))</div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b">blob_pad_len</a>(<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>) &gt; UBUS_MAX_MSGLEN)</div>
<div class="line"><span class="lineno">  235</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  238</span>}</div>
<div class="ttc" id="ablob_8h_html_aae7cde5b300aec19a4125e96fe2a35da"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">blob_attr::data</a></div><div class="ttdeci">char data[]</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00054">blob.h:54</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d3c/blob_8h_source.html#l00118">blob_pad_len()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00109">blob_raw_len()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00054">blob_attr::data</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00030">ubus_msghdr::version</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d03/ubus_2tests_2fuzz_2test-fuzz_8c_source.html#l00013">_ubus_validate_hdr()</a>, <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00271">get_next_msg()</a>, and <a class="el" href="../../dc/d80/libubus-io_8c_source.html#l00395">ubus_reconnect()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d26/libubus-internal_8h_af89184a6a1d46c84beb995555a5f8422_cgraph.png" border="0" usemap="#adc/d26/libubus-internal_8h_af89184a6a1d46c84beb995555a5f8422_cgraph" alt=""/></div>
<map name="adc/d26/libubus-internal_8h_af89184a6a1d46c84beb995555a5f8422_cgraph" id="adc/d26/libubus-internal_8h_af89184a6a1d46c84beb995555a5f8422_cgraph">
<area shape="rect" title=" " alt="" coords="5,33,196,67"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="244,5,386,39"/>
<area shape="poly" title=" " alt="" coords="196,35,228,31,229,36,196,40"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="434,33,575,67"/>
<area shape="poly" title=" " alt="" coords="196,49,244,49,386,49,418,49,419,54,386,54,244,54,196,54"/>
<area shape="poly" title=" " alt="" coords="387,30,419,35,418,40,386,35"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="623,33,722,67"/>
<area shape="poly" title=" " alt="" coords="576,48,608,48,608,53,576,53"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8f565d46decc2d5d8ac81923ceec43fd" name="a8f565d46decc2d5d8ac81923ceec43fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f565d46decc2d5d8ac81923ceec43fd">&#9670;&#160;</a></span>b</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d3c/blob_8h.html#d3/dcb/structblob__buf">blob_buf</a> b</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d8a/ubusd__proto_8c_source.html#l00019">19</a> of file <a class="el" href="../../dc/d8a/ubusd__proto_8c_source.html">ubusd_proto.c</a>.</p>

</div>
</div>
<a id="aa776919b80e5404de135b0695b6dd177" name="aa776919b80e5404de135b0695b6dd177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa776919b80e5404de135b0695b6dd177">&#9670;&#160;</a></span>watch_method</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d9/d8b/structubus__method">ubus_method</a> watch_method</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../db/dda/libubus-obj_8c_source.html#l00019">ubus_process_unsubscribe()</a>, and <a class="el" href="../../d7/d0c/libubus-sub_8c_source.html#l00077">ubus_register_subscriber()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
