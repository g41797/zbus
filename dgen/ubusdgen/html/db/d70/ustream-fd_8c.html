<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>zbus: /home/g41797/CLionProjects/github.com/g41797/zbus/src/libs/libubox/ustream-fd.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">zbus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_87a455bccb09a92130c26a11a880c98a.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_397c898d2cf76178a72912abd1158536.html">libubox</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ustream-fd.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../da/d79/ustream_8h_source.html">ustream.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ustream-fd.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/d41/ustream-fd_8c__incl.png" border="0" usemap="#a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2libubox_2ustream-fd_8c" alt=""/></div>
<map name="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2libubox_2ustream-fd_8c" id="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2libubox_2ustream-fd_8c">
<area shape="rect" title=" " alt="" coords="80,5,370,85"/>
<area shape="rect" title=" " alt="" coords="5,133,103,167"/>
<area shape="poly" title=" " alt="" coords="161,88,95,127,92,123,158,83"/>
<area shape="rect" title=" " alt="" coords="126,133,214,167"/>
<area shape="poly" title=" " alt="" coords="206,87,188,121,183,118,201,84"/>
<area shape="rect" title=" " alt="" coords="237,133,322,167"/>
<area shape="poly" title=" " alt="" coords="248,84,266,118,261,121,243,87"/>
<area shape="rect" href="../../da/d79/ustream_8h.html" title=" " alt="" coords="346,133,461,167"/>
<area shape="poly" title=" " alt="" coords="295,83,363,123,361,127,292,88"/>
<area shape="rect" title=" " alt="" coords="294,215,393,248"/>
<area shape="poly" title=" " alt="" coords="393,169,367,204,362,201,389,166"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html" title=" " alt="" coords="417,215,507,248"/>
<area shape="poly" title=" " alt="" coords="417,166,443,201,439,204,413,169"/>
<area shape="rect" title=" " alt="" coords="114,296,231,330"/>
<area shape="poly" title=" " alt="" coords="417,248,247,294,246,289,416,243"/>
<area shape="rect" title=" " alt="" coords="256,296,383,330"/>
<area shape="poly" title=" " alt="" coords="434,251,362,291,360,286,432,246"/>
<area shape="rect" title=" " alt="" coords="458,378,565,412"/>
<area shape="poly" title=" " alt="" coords="457,250,445,287,444,309,448,329,461,349,478,366,474,370,457,352,444,331,439,309,440,286,452,248"/>
<area shape="rect" title=" " alt="" coords="459,296,551,330"/>
<area shape="poly" title=" " alt="" coords="473,248,491,281,486,284,468,250"/>
<area shape="rect" title=" " alt="" coords="575,296,669,330"/>
<area shape="poly" title=" " alt="" coords="496,246,577,287,575,292,493,251"/>
<area shape="rect" href="../../da/d23/list_8h.html" title=" " alt="" coords="693,296,759,330"/>
<area shape="poly" title=" " alt="" coords="508,243,679,293,677,298,507,248"/>
<area shape="poly" title=" " alt="" coords="693,329,570,375,568,370,692,324"/>
<area shape="rect" title=" " alt="" coords="678,378,774,412"/>
<area shape="poly" title=" " alt="" coords="729,330,729,363,723,363,723,330"/>
</map>
</div>
</div>
<p><a href="../../db/d70/ustream-fd_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a16f1933feaa2425d7811875086609290" id="r_a16f1933feaa2425d7811875086609290"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16f1933feaa2425d7811875086609290">ustream_fd_set_uloop</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s, bool write)</td></tr>
<tr class="separator:a16f1933feaa2425d7811875086609290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64ffdd9b78d6b923a98f1f82067fc6ae" id="r_a64ffdd9b78d6b923a98f1f82067fc6ae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64ffdd9b78d6b923a98f1f82067fc6ae">ustream_fd_set_read_blocked</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s)</td></tr>
<tr class="separator:a64ffdd9b78d6b923a98f1f82067fc6ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d481a5ffd124ec038012fde40d4d67c" id="r_a6d481a5ffd124ec038012fde40d4d67c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d481a5ffd124ec038012fde40d4d67c">ustream_fd_read_pending</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a> *sf, bool *more)</td></tr>
<tr class="separator:a6d481a5ffd124ec038012fde40d4d67c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a4319f10cc2c3a3f20af3fdc27e2d77" id="r_a1a4319f10cc2c3a3f20af3fdc27e2d77"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a4319f10cc2c3a3f20af3fdc27e2d77">ustream_fd_write</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s, const char *<a class="el" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, int buflen, bool more)</td></tr>
<tr class="separator:a1a4319f10cc2c3a3f20af3fdc27e2d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4192dcd29172ce7501c6b899bf2f192" id="r_ab4192dcd29172ce7501c6b899bf2f192"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4192dcd29172ce7501c6b899bf2f192">__ustream_fd_poll</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a> *sf, unsigned int <a class="el" href="../../d3/d91/uloop-epoll_8c.html#a0e992398f478de38db56a1146ea84e93">events</a>)</td></tr>
<tr class="separator:ab4192dcd29172ce7501c6b899bf2f192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f629385f1e131dcb62d6aad6ec03de7" id="r_a3f629385f1e131dcb62d6aad6ec03de7"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f629385f1e131dcb62d6aad6ec03de7">ustream_fd_poll</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s)</td></tr>
<tr class="separator:a3f629385f1e131dcb62d6aad6ec03de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ce37220303d8df1bf648645a88bd3e9" id="r_a7ce37220303d8df1bf648645a88bd3e9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ce37220303d8df1bf648645a88bd3e9">ustream_uloop_cb</a> (struct <a class="el" href="../../dc/d56/uloop_8h.html#db/d9e/structuloop__fd">uloop_fd</a> *fd, unsigned int <a class="el" href="../../d3/d91/uloop-epoll_8c.html#a0e992398f478de38db56a1146ea84e93">events</a>)</td></tr>
<tr class="separator:a7ce37220303d8df1bf648645a88bd3e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c9339ef140d0df2e16b187760e9ad6" id="r_a49c9339ef140d0df2e16b187760e9ad6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49c9339ef140d0df2e16b187760e9ad6">ustream_fd_free</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s)</td></tr>
<tr class="separator:a49c9339ef140d0df2e16b187760e9ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab157e7dbc4962e8c574302cac07d2f4a" id="r_ab157e7dbc4962e8c574302cac07d2f4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab157e7dbc4962e8c574302cac07d2f4a">ustream_fd_init</a> (struct <a class="el" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a> *sf, int fd)</td></tr>
<tr class="separator:ab157e7dbc4962e8c574302cac07d2f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab4192dcd29172ce7501c6b899bf2f192" name="ab4192dcd29172ce7501c6b899bf2f192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4192dcd29172ce7501c6b899bf2f192">&#9670;&#160;</a></span>__ustream_fd_poll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool __ustream_fd_poll </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a> *</td>          <td class="paramname"><span class="paramname"><em>sf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>events</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00116">116</a> of file <a class="el" href="../../db/d70/ustream-fd_8c_source.html">ustream-fd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  117</span>{</div>
<div class="line"><span class="lineno">  118</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s = &amp;sf-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>;</div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordtype">bool</span> more = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/d91/uloop-epoll_8c.html#a0e992398f478de38db56a1146ea84e93">events</a> &amp; <a class="code hl_define" href="../../dc/d56/uloop_8h.html#ac20cd5fed660ef784791db47283d9ebf">ULOOP_READ</a>)</div>
<div class="line"><span class="lineno">  122</span>        <a class="code hl_function" href="#a6d481a5ffd124ec038012fde40d4d67c">ustream_fd_read_pending</a>(sf, &amp;more);</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/d91/uloop-epoll_8c.html#a0e992398f478de38db56a1146ea84e93">events</a> &amp; <a class="code hl_define" href="../../dc/d56/uloop_8h.html#a9b481ffad35824d85a7109d06e7ada3f">ULOOP_WRITE</a>) {</div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordtype">bool</span> no_more = <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a7460ade35d8721c6dbac14e9cfab4b8c">ustream_write_pending</a>(s);</div>
<div class="line"><span class="lineno">  126</span>        <span class="keywordflow">if</span> (no_more)</div>
<div class="line"><span class="lineno">  127</span>            <a class="code hl_function" href="#a16f1933feaa2425d7811875086609290">ustream_fd_set_uloop</a>(s, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  128</span>    }</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>    <span class="keywordflow">if</span> (sf-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0bca51b2e8287eeab242d9aaf262afb4">fd</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#af5445431ce168406508c864521287d60">error</a> &amp;&amp; !s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#ab5a83f668de8533f03f594fd4851a8fc">write_error</a>) {</div>
<div class="line"><span class="lineno">  131</span>        <a class="code hl_function" href="../../da/d79/ustream_8h.html#add76dce88c832892b8971ab19c766aab">ustream_state_change</a>(s);</div>
<div class="line"><span class="lineno">  132</span>        s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#ab5a83f668de8533f03f594fd4851a8fc">write_error</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  133</span>        <a class="code hl_function" href="#a16f1933feaa2425d7811875086609290">ustream_fd_set_uloop</a>(s, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  134</span>    }</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>    <span class="keywordflow">return</span> more;</div>
<div class="line"><span class="lineno">  137</span>}</div>
<div class="ttc" id="auloop-epoll_8c_html_a0e992398f478de38db56a1146ea84e93"><div class="ttname"><a href="../../d3/d91/uloop-epoll_8c.html#a0e992398f478de38db56a1146ea84e93">events</a></div><div class="ttdeci">static struct epoll_event events[ULOOP_MAX_EVENTS]</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d91/uloop-epoll_8c_source.html#l00060">uloop-epoll.c:60</a></div></div>
<div class="ttc" id="auloop_8h_html_a9b481ffad35824d85a7109d06e7ada3f"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#a9b481ffad35824d85a7109d06e7ada3f">ULOOP_WRITE</a></div><div class="ttdeci">#define ULOOP_WRITE</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00048">uloop.h:48</a></div></div>
<div class="ttc" id="auloop_8h_html_ac20cd5fed660ef784791db47283d9ebf"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#ac20cd5fed660ef784791db47283d9ebf">ULOOP_READ</a></div><div class="ttdeci">#define ULOOP_READ</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00047">uloop.h:47</a></div></div>
<div class="ttc" id="auloop_8h_html_af5445431ce168406508c864521287d60"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#af5445431ce168406508c864521287d60">uloop_fd::error</a></div><div class="ttdeci">bool error</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00067">uloop.h:67</a></div></div>
<div class="ttc" id="austream-fd_8c_html_a16f1933feaa2425d7811875086609290"><div class="ttname"><a href="#a16f1933feaa2425d7811875086609290">ustream_fd_set_uloop</a></div><div class="ttdeci">static void ustream_fd_set_uloop(struct ustream *s, bool write)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d70/ustream-fd_8c_source.html#l00024">ustream-fd.c:24</a></div></div>
<div class="ttc" id="austream-fd_8c_html_a6d481a5ffd124ec038012fde40d4d67c"><div class="ttname"><a href="#a6d481a5ffd124ec038012fde40d4d67c">ustream_fd_read_pending</a></div><div class="ttdeci">static void ustream_fd_read_pending(struct ustream_fd *sf, bool *more)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d70/ustream-fd_8c_source.html#l00045">ustream-fd.c:45</a></div></div>
<div class="ttc" id="austream_8c_html_a7460ade35d8721c6dbac14e9cfab4b8c"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a7460ade35d8721c6dbac14e9cfab4b8c">ustream_write_pending</a></div><div class="ttdeci">bool ustream_write_pending(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00378">ustream.c:378</a></div></div>
<div class="ttc" id="austream_8h_html_a0bca51b2e8287eeab242d9aaf262afb4"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a0bca51b2e8287eeab242d9aaf262afb4">ustream_fd::fd</a></div><div class="ttdeci">struct uloop_fd fd</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00125">ustream.h:125</a></div></div>
<div class="ttc" id="austream_8h_html_a4243590de8945ac3666b7b8947c55b0f"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">ustream_fd::stream</a></div><div class="ttdeci">struct ustream stream</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00124">ustream.h:124</a></div></div>
<div class="ttc" id="austream_8h_html_ab5a83f668de8533f03f594fd4851a8fc"><div class="ttname"><a href="../../da/d79/ustream_8h.html#ab5a83f668de8533f03f594fd4851a8fc">ustream::write_error</a></div><div class="ttdeci">bool write_error</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00116">ustream.h:116</a></div></div>
<div class="ttc" id="austream_8h_html_add76dce88c832892b8971ab19c766aab"><div class="ttname"><a href="../../da/d79/ustream_8h.html#add76dce88c832892b8971ab19c766aab">ustream_state_change</a></div><div class="ttdeci">static void ustream_state_change(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00209">ustream.h:209</a></div></div>
<div class="ttc" id="austream_8h_html_d8/d8e/structustream"><div class="ttname"><a href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a></div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00049">ustream.h:49</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d56/uloop_8h_source.html#l00067">uloop_fd::error</a>, <a class="el" href="../../d3/d91/uloop-epoll_8c_source.html#l00060">events</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00125">ustream_fd::fd</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00047">ULOOP_READ</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00048">ULOOP_WRITE</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00045">ustream_fd_read_pending()</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00024">ustream_fd_set_uloop()</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00209">ustream_state_change()</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00378">ustream_write_pending()</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00116">ustream::write_error</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00139">ustream_fd_poll()</a>, and <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00146">ustream_uloop_cb()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d70/ustream-fd_8c_ab4192dcd29172ce7501c6b899bf2f192_cgraph.png" border="0" usemap="#adb/d70/ustream-fd_8c_ab4192dcd29172ce7501c6b899bf2f192_cgraph" alt=""/></div>
<map name="adb/d70/ustream-fd_8c_ab4192dcd29172ce7501c6b899bf2f192_cgraph" id="adb/d70/ustream-fd_8c_ab4192dcd29172ce7501c6b899bf2f192_cgraph">
<area shape="rect" title=" " alt="" coords="5,231,191,264"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a6d481a5ffd124ec038012fde40d4d67c" title=" " alt="" coords="239,177,499,211"/>
<area shape="poly" title=" " alt="" coords="187,227,265,212,266,217,188,233"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a16f1933feaa2425d7811875086609290" title=" " alt="" coords="547,63,769,96"/>
<area shape="poly" title=" " alt="" coords="121,228,173,194,238,162,312,137,388,118,531,91,532,97,390,123,313,143,240,167,176,199,124,233"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add76dce88c832892b8971ab19c766aab" title=" " alt="" coords="817,332,1047,366"/>
<area shape="poly" title=" " alt="" coords="191,256,802,330,801,336,191,261"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a7460ade35d8721c6dbac14e9cfab4b8c" title=" " alt="" coords="250,363,488,396"/>
<area shape="poly" title=" " alt="" coords="134,262,240,316,318,353,315,358,237,321,132,267"/>
<area shape="poly" title=" " alt="" coords="402,174,480,135,546,105,564,99,566,104,548,110,482,140,405,179"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa7150fd97e4c632a01ba95a19614fcd0" title=" " alt="" coords="569,120,747,154"/>
<area shape="poly" title=" " alt="" coords="457,174,554,155,555,160,458,179"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a48eb6688bc7551e8fa0f5fe45c3ff767" title=" " alt="" coords="571,177,746,211"/>
<area shape="poly" title=" " alt="" coords="500,192,555,192,555,197,500,197"/>
<area shape="poly" title=" " alt="" coords="477,209,617,238,770,278,829,300,882,323,880,328,827,305,769,283,616,243,476,214"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0" title=" " alt="" coords="860,60,1004,94"/>
<area shape="poly" title=" " alt="" coords="770,76,844,75,844,80,770,81"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#a1b6212744c4241320adc3a2170525f20" title=" " alt="" coords="1142,5,1276,39"/>
<area shape="poly" title=" " alt="" coords="1004,60,1126,36,1127,41,1005,65"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="1126,63,1292,96"/>
<area shape="poly" title=" " alt="" coords="1005,75,1110,76,1110,81,1005,80"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#ae98d2f54596aacb1f0f176d0e565e2e2" title=" " alt="" coords="1389,33,1573,67"/>
<area shape="poly" title=" " alt="" coords="1292,68,1373,59,1374,64,1293,73"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#abe443fe3f794c14f0aaa0c5f18a27ddd" title=" " alt="" coords="1372,91,1591,124"/>
<area shape="poly" title=" " alt="" coords="1293,85,1357,92,1356,97,1292,91"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a4f850d5efa8e096ca116a2b98a68bd16" title=" " alt="" coords="1101,132,1317,166"/>
<area shape="poly" title=" " alt="" coords="748,136,1086,143,1086,149,747,141"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f" title=" " alt="" coords="831,169,1033,225"/>
<area shape="poly" title=" " alt="" coords="746,192,816,193,815,198,746,198"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0ed3a1f1af94d311249c4b34b9e937d3" title=" " alt="" coords="823,249,1041,283"/>
<area shape="poly" title=" " alt="" coords="724,209,818,234,849,242,848,248,817,239,723,214"/>
<area shape="poly" title=" " alt="" coords="1011,246,1046,234,1070,222,1093,207,1160,171,1162,175,1096,211,1072,226,1048,239,1013,251"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa67ddac4c773e0d21f6626bf2371f8d2" title=" " alt="" coords="1386,212,1576,246"/>
<area shape="poly" title=" " alt="" coords="1041,254,1094,250,1370,232,1371,238,1095,255,1041,260"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a09dacab33f0a207388ab373c77fd45b3" title=" " alt="" coords="1095,265,1323,299"/>
<area shape="poly" title=" " alt="" coords="1041,270,1079,272,1079,277,1041,275"/>
<area shape="poly" title=" " alt="" coords="1298,262,1376,247,1377,252,1299,267"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="1114,332,1304,366"/>
<area shape="poly" title=" " alt="" coords="1047,346,1098,346,1098,352,1047,352"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1405,275,1557,308"/>
<area shape="poly" title=" " alt="" coords="1292,329,1389,308,1391,313,1293,334"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="1383,332,1579,366"/>
<area shape="poly" title=" " alt="" coords="1304,346,1367,346,1367,352,1304,352"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="1371,389,1591,423"/>
<area shape="poly" title=" " alt="" coords="1293,364,1383,383,1382,388,1292,369"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1639,275,1769,308"/>
<area shape="poly" title=" " alt="" coords="1550,329,1591,318,1624,310,1625,315,1592,323,1551,334"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="1665,332,1743,366"/>
<area shape="poly" title=" " alt="" coords="1580,346,1649,346,1649,352,1580,352"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1817,275,1918,308"/>
<area shape="poly" title=" " alt="" coords="1769,289,1801,289,1801,294,1769,294"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1661,389,1747,423"/>
<area shape="poly" title=" " alt="" coords="1592,404,1646,404,1646,409,1592,409"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1820,389,1915,423"/>
<area shape="poly" title=" " alt="" coords="1747,404,1805,404,1805,409,1747,409"/>
<area shape="poly" title=" " alt="" coords="488,370,802,353,802,359,488,376"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a63bfcff990b542772fd9fbc5b6e1f870" title=" " alt="" coords="567,445,749,479"/>
<area shape="poly" title=" " alt="" coords="425,394,548,432,573,438,571,444,546,437,423,400"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a90259dc27343d0ee765236e3e42302da" title=" " alt="" coords="556,388,761,422"/>
<area shape="poly" title=" " alt="" coords="488,387,540,392,540,397,488,393"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a64710c908502c6d43dc365d365e28370" title=" " alt="" coords="841,417,1023,451"/>
<area shape="poly" title=" " alt="" coords="750,450,826,442,826,448,750,455"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a3a72c25243ae144e230cc375fa016aac" title=" " alt="" coords="844,475,1020,508"/>
<area shape="poly" title=" " alt="" coords="750,469,829,478,829,483,750,475"/>
<area shape="poly" title=" " alt="" coords="744,385,831,367,832,372,745,390"/>
</map>
</div>

</div>
</div>
<a id="a49c9339ef140d0df2e16b187760e9ad6" name="a49c9339ef140d0df2e16b187760e9ad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49c9339ef140d0df2e16b187760e9ad6">&#9670;&#160;</a></span>ustream_fd_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ustream_fd_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00153">153</a> of file <a class="el" href="../../db/d70/ustream-fd_8c_source.html">ustream-fd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  154</span>{</div>
<div class="line"><span class="lineno">  155</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a> *sf = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(s, <span class="keyword">struct</span> <a class="code hl_struct" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a>, <a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>);</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c">uloop_fd_delete</a>(&amp;sf-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0bca51b2e8287eeab242d9aaf262afb4">fd</a>);</div>
<div class="line"><span class="lineno">  158</span>}</div>
<div class="ttc" id="alist_8h_html_af8c317a42292b61c93aae91e59118a46"><div class="ttname"><a href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a></div><div class="ttdeci">#define container_of(ptr, type, member)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00038">list.h:38</a></div></div>
<div class="ttc" id="auloop_8c_html_a73e0613a3dcdc677611d2fd6efdcca9c"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c">uloop_fd_delete</a></div><div class="ttdeci">int uloop_fd_delete(struct uloop_fd *fd)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00265">uloop.c:265</a></div></div>
<div class="ttc" id="austream_8h_html_dc/dcd/structustream__fd"><div class="ttname"><a href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a></div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00123">ustream.h:123</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00125">ustream_fd::fd</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, and <a class="el" href="../../d1/d08/uloop_8c_source.html#l00265">uloop_fd_delete()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00160">ustream_fd_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d70/ustream-fd_8c_a49c9339ef140d0df2e16b187760e9ad6_cgraph.png" border="0" usemap="#adb/d70/ustream-fd_8c_a49c9339ef140d0df2e16b187760e9ad6_cgraph" alt=""/></div>
<map name="adb/d70/ustream-fd_8c_a49c9339ef140d0df2e16b187760e9ad6_cgraph" id="adb/d70/ustream-fd_8c_a49c9339ef140d0df2e16b187760e9ad6_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,176,68"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="224,35,390,68"/>
<area shape="poly" title=" " alt="" coords="176,49,208,49,208,54,176,54"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#ae98d2f54596aacb1f0f176d0e565e2e2" title=" " alt="" coords="456,5,640,39"/>
<area shape="poly" title=" " alt="" coords="390,39,440,33,440,38,391,44"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#abe443fe3f794c14f0aaa0c5f18a27ddd" title=" " alt="" coords="438,63,657,96"/>
<area shape="poly" title=" " alt="" coords="391,59,423,62,422,68,390,64"/>
</map>
</div>

</div>
</div>
<a id="ab157e7dbc4962e8c574302cac07d2f4a" name="ab157e7dbc4962e8c574302cac07d2f4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab157e7dbc4962e8c574302cac07d2f4a">&#9670;&#160;</a></span>ustream_fd_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ustream_fd_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a> *</td>          <td class="paramname"><span class="paramname"><em>sf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00160">160</a> of file <a class="el" href="../../db/d70/ustream-fd_8c_source.html">ustream-fd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  161</span>{</div>
<div class="line"><span class="lineno">  162</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s = &amp;sf-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>;</div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a4fd8792e264b0d96920fc7bc741a530d">ustream_init_defaults</a>(s);</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>    sf-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0bca51b2e8287eeab242d9aaf262afb4">fd</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#ad8badf8512adcf9a8819ed088bde09cc">fd</a> = fd;</div>
<div class="line"><span class="lineno">  167</span>    sf-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0bca51b2e8287eeab242d9aaf262afb4">fd</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#ae413fa6bfe9ee31b5764d402d9795fdc">cb</a> = <a class="code hl_function" href="#a7ce37220303d8df1bf648645a88bd3e9">ustream_uloop_cb</a>;</div>
<div class="line"><span class="lineno">  168</span>    s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a38cb0201012c7bdcb8bd0f25b4d8bcdc">set_read_blocked</a> = <a class="code hl_function" href="#a64ffdd9b78d6b923a98f1f82067fc6ae">ustream_fd_set_read_blocked</a>;</div>
<div class="line"><span class="lineno">  169</span>    s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a36cba8d68c57c1a20ab3c077d21fadb7">write</a> = <a class="code hl_function" href="#a1a4319f10cc2c3a3f20af3fdc27e2d77">ustream_fd_write</a>;</div>
<div class="line"><span class="lineno">  170</span>    s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a52805da29f877d02dcae0c25b83fddce">free</a> = <a class="code hl_function" href="#a49c9339ef140d0df2e16b187760e9ad6">ustream_fd_free</a>;</div>
<div class="line"><span class="lineno">  171</span>    s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a7b9a0a6c1be8bdd56bc91035e2423aa2">poll</a> = <a class="code hl_function" href="#a3f629385f1e131dcb62d6aad6ec03de7">ustream_fd_poll</a>;</div>
<div class="line"><span class="lineno">  172</span>    <a class="code hl_function" href="#a16f1933feaa2425d7811875086609290">ustream_fd_set_uloop</a>(s, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  173</span>}</div>
<div class="ttc" id="auloop_8h_html_ad8badf8512adcf9a8819ed088bde09cc"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#ad8badf8512adcf9a8819ed088bde09cc">uloop_fd::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00065">uloop.h:65</a></div></div>
<div class="ttc" id="auloop_8h_html_ae413fa6bfe9ee31b5764d402d9795fdc"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#ae413fa6bfe9ee31b5764d402d9795fdc">uloop_fd::cb</a></div><div class="ttdeci">uloop_fd_handler cb</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00064">uloop.h:64</a></div></div>
<div class="ttc" id="austream-fd_8c_html_a1a4319f10cc2c3a3f20af3fdc27e2d77"><div class="ttname"><a href="#a1a4319f10cc2c3a3f20af3fdc27e2d77">ustream_fd_write</a></div><div class="ttdeci">static int ustream_fd_write(struct ustream *s, const char *buf, int buflen, bool more)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d70/ustream-fd_8c_source.html#l00084">ustream-fd.c:84</a></div></div>
<div class="ttc" id="austream-fd_8c_html_a3f629385f1e131dcb62d6aad6ec03de7"><div class="ttname"><a href="#a3f629385f1e131dcb62d6aad6ec03de7">ustream_fd_poll</a></div><div class="ttdeci">static bool ustream_fd_poll(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d70/ustream-fd_8c_source.html#l00139">ustream-fd.c:139</a></div></div>
<div class="ttc" id="austream-fd_8c_html_a49c9339ef140d0df2e16b187760e9ad6"><div class="ttname"><a href="#a49c9339ef140d0df2e16b187760e9ad6">ustream_fd_free</a></div><div class="ttdeci">static void ustream_fd_free(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d70/ustream-fd_8c_source.html#l00153">ustream-fd.c:153</a></div></div>
<div class="ttc" id="austream-fd_8c_html_a64ffdd9b78d6b923a98f1f82067fc6ae"><div class="ttname"><a href="#a64ffdd9b78d6b923a98f1f82067fc6ae">ustream_fd_set_read_blocked</a></div><div class="ttdeci">static void ustream_fd_set_read_blocked(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d70/ustream-fd_8c_source.html#l00040">ustream-fd.c:40</a></div></div>
<div class="ttc" id="austream-fd_8c_html_a7ce37220303d8df1bf648645a88bd3e9"><div class="ttname"><a href="#a7ce37220303d8df1bf648645a88bd3e9">ustream_uloop_cb</a></div><div class="ttdeci">static void ustream_uloop_cb(struct uloop_fd *fd, unsigned int events)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d70/ustream-fd_8c_source.html#l00146">ustream-fd.c:146</a></div></div>
<div class="ttc" id="austream_8c_html_a4fd8792e264b0d96920fc7bc741a530d"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a4fd8792e264b0d96920fc7bc741a530d">ustream_init_defaults</a></div><div class="ttdeci">void ustream_init_defaults(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00114">ustream.c:114</a></div></div>
<div class="ttc" id="austream_8h_html_a36cba8d68c57c1a20ab3c077d21fadb7"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a36cba8d68c57c1a20ab3c077d21fadb7">ustream::write</a></div><div class="ttdeci">int(* write)(struct ustream *s, const char *buf, int len, bool more)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00088">ustream.h:88</a></div></div>
<div class="ttc" id="austream_8h_html_a38cb0201012c7bdcb8bd0f25b4d8bcdc"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a38cb0201012c7bdcb8bd0f25b4d8bcdc">ustream::set_read_blocked</a></div><div class="ttdeci">void(* set_read_blocked)(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00101">ustream.h:101</a></div></div>
<div class="ttc" id="austream_8h_html_a52805da29f877d02dcae0c25b83fddce"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a52805da29f877d02dcae0c25b83fddce">ustream::free</a></div><div class="ttdeci">void(* free)(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00094">ustream.h:94</a></div></div>
<div class="ttc" id="austream_8h_html_a7b9a0a6c1be8bdd56bc91035e2423aa2"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a7b9a0a6c1be8bdd56bc91035e2423aa2">ustream::poll</a></div><div class="ttdeci">bool(* poll)(struct ustream *s)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00109">ustream.h:109</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d56/uloop_8h_source.html#l00064">uloop_fd::cb</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00065">uloop_fd::fd</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00125">ustream_fd::fd</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00094">ustream::free</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00109">ustream::poll</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00101">ustream::set_read_blocked</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00153">ustream_fd_free()</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00139">ustream_fd_poll()</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00040">ustream_fd_set_read_blocked()</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00024">ustream_fd_set_uloop()</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00084">ustream_fd_write()</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00114">ustream_init_defaults()</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00146">ustream_uloop_cb()</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00088">ustream::write</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d1d/service_8c_source.html#l00858">container_handle_console()</a>, <a class="el" href="../../d2/d28/instance_8c_source.html#l00611">instance_start()</a>, <a class="el" href="../../d1/dd7/netifd_2main_8c_source.html#l00194">netifd_start_process()</a>, <a class="el" href="../../d1/d5c/rcS_8c_source.html#l00069">q_initd_run()</a>, <a class="el" href="../../d6/d5e/ustream-example_8c_source.html#l00085">server_cb()</a>, <a class="el" href="../../dd/d93/client_8c_source.html#l00159">test_client_fd_cb()</a>, and <a class="el" href="../../da/dc0/uxc_8c_source.html#l00528">uxc_attach()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d70/ustream-fd_8c_ab157e7dbc4962e8c574302cac07d2f4a_cgraph.png" border="0" usemap="#adb/d70/ustream-fd_8c_ab157e7dbc4962e8c574302cac07d2f4a_cgraph" alt=""/></div>
<map name="adb/d70/ustream-fd_8c_ab157e7dbc4962e8c574302cac07d2f4a_cgraph" id="adb/d70/ustream-fd_8c_ab157e7dbc4962e8c574302cac07d2f4a_cgraph">
<area shape="rect" title=" " alt="" coords="5,179,169,212"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a49c9339ef140d0df2e16b187760e9ad6" title=" " alt="" coords="474,20,644,54"/>
<area shape="poly" title=" " alt="" coords="96,177,115,150,142,116,176,84,215,58,276,37,339,26,401,22,459,23,458,28,402,27,340,31,277,42,218,63,179,88,146,120,119,153,101,180"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a3f629385f1e131dcb62d6aad6ec03de7" title=" " alt="" coords="227,233,395,267"/>
<area shape="poly" title=" " alt="" coords="160,210,225,226,224,232,158,216"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a16f1933feaa2425d7811875086609290" title=" " alt="" coords="1041,123,1263,156"/>
<area shape="poly" title=" " alt="" coords="169,185,216,181,662,155,1025,141,1025,146,662,160,217,186,169,190"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a64ffdd9b78d6b923a98f1f82067fc6ae" title=" " alt="" coords="453,182,665,239"/>
<area shape="poly" title=" " alt="" coords="169,195,438,204,438,209,169,201"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a1a4319f10cc2c3a3f20af3fdc27e2d77" title=" " alt="" coords="221,73,401,107"/>
<area shape="poly" title=" " alt="" coords="117,176,216,124,246,111,248,116,218,129,119,181"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a4fd8792e264b0d96920fc7bc741a530d" title=" " alt="" coords="734,563,953,596"/>
<area shape="poly" title=" " alt="" coords="102,211,149,271,181,305,218,335,285,376,355,414,428,447,501,477,638,524,752,556,750,561,637,529,499,482,426,452,353,419,282,381,215,339,178,309,145,274,98,214"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a7ce37220303d8df1bf648645a88bd3e9" title=" " alt="" coords="217,291,405,324"/>
<area shape="poly" title=" " alt="" coords="112,211,159,244,218,277,230,282,228,287,215,282,156,248,109,215"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="1638,33,1805,67"/>
<area shape="poly" title=" " alt="" coords="645,35,1623,46,1622,52,645,40"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#ae98d2f54596aacb1f0f176d0e565e2e2" title=" " alt="" coords="1902,5,2086,39"/>
<area shape="poly" title=" " alt="" coords="1805,39,1886,31,1886,36,1805,44"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#abe443fe3f794c14f0aaa0c5f18a27ddd" title=" " alt="" coords="1884,63,2104,96"/>
<area shape="poly" title=" " alt="" coords="1805,56,1869,63,1869,69,1805,62"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#ab4192dcd29172ce7501c6b899bf2f192" title=" " alt="" coords="467,287,652,320"/>
<area shape="poly" title=" " alt="" coords="393,265,463,280,462,285,392,270"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a6d481a5ffd124ec038012fde40d4d67c" title=" " alt="" coords="713,284,974,318"/>
<area shape="poly" title=" " alt="" coords="652,300,698,300,698,305,652,305"/>
<area shape="poly" title=" " alt="" coords="641,283,823,241,910,217,973,196,996,180,1020,165,1037,159,1039,164,1023,170,999,185,975,201,912,222,824,246,642,289"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add76dce88c832892b8971ab19c766aab" title=" " alt="" coords="1330,393,1559,427"/>
<area shape="poly" title=" " alt="" coords="653,318,714,328,1038,368,1315,396,1314,401,1038,373,713,333,652,323"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a7460ade35d8721c6dbac14e9cfab4b8c" title=" " alt="" coords="725,423,962,456"/>
<area shape="poly" title=" " alt="" coords="597,318,714,376,793,413,791,418,712,381,594,323"/>
<area shape="poly" title=" " alt="" coords="941,281,972,263,983,251,989,240,995,215,1001,190,1008,177,1020,165,1026,161,1029,166,1023,170,1012,181,1006,192,1000,216,994,242,987,255,975,267,944,286"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa7150fd97e4c632a01ba95a19614fcd0" title=" " alt="" coords="1063,237,1241,271"/>
<area shape="poly" title=" " alt="" coords="959,281,1047,267,1048,273,959,286"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a48eb6688bc7551e8fa0f5fe45c3ff767" title=" " alt="" coords="1064,180,1240,214"/>
<area shape="poly" title=" " alt="" coords="926,281,972,262,986,253,996,243,1005,232,1020,222,1048,211,1050,216,1023,227,1009,236,999,246,990,257,975,267,928,286"/>
<area shape="poly" title=" " alt="" coords="975,299,1123,310,1204,322,1283,338,1344,359,1399,383,1396,388,1342,364,1281,343,1203,327,1123,316,974,305"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0" title=" " alt="" coords="1373,95,1517,128"/>
<area shape="poly" title=" " alt="" coords="1263,126,1357,117,1357,122,1264,132"/>
<area shape="poly" title=" " alt="" coords="1517,93,1627,68,1628,74,1518,98"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#a1b6212744c4241320adc3a2170525f20" title=" " alt="" coords="1654,95,1789,128"/>
<area shape="poly" title=" " alt="" coords="1517,109,1639,109,1639,114,1517,114"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a4f850d5efa8e096ca116a2b98a68bd16" title=" " alt="" coords="1613,299,1830,332"/>
<area shape="poly" title=" " alt="" coords="1228,269,1330,288,1469,302,1598,309,1598,314,1468,307,1330,293,1227,274"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f" title=" " alt="" coords="1344,163,1546,220"/>
<area shape="poly" title=" " alt="" coords="1240,193,1328,191,1328,196,1240,198"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0ed3a1f1af94d311249c4b34b9e937d3" title=" " alt="" coords="1336,244,1553,278"/>
<area shape="poly" title=" " alt="" coords="1235,212,1283,222,1351,238,1350,243,1281,227,1233,217"/>
<area shape="poly" title=" " alt="" coords="1534,276,1618,292,1617,298,1533,281"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa67ddac4c773e0d21f6626bf2371f8d2" title=" " alt="" coords="1899,244,2089,278"/>
<area shape="poly" title=" " alt="" coords="1554,258,1883,258,1883,264,1554,264"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a09dacab33f0a207388ab373c77fd45b3" title=" " alt="" coords="1607,189,1836,223"/>
<area shape="poly" title=" " alt="" coords="1533,241,1617,224,1618,229,1534,246"/>
<area shape="poly" title=" " alt="" coords="1809,221,1892,238,1891,243,1808,226"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="1627,617,1816,651"/>
<area shape="poly" title=" " alt="" coords="1540,425,1561,436,1608,474,1649,519,1682,564,1706,602,1701,605,1678,567,1645,522,1605,478,1558,440,1537,430"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1918,675,2070,708"/>
<area shape="poly" title=" " alt="" coords="1805,649,1903,670,1902,675,1804,654"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="1896,560,2092,594"/>
<area shape="poly" title=" " alt="" coords="1804,614,1895,595,1896,600,1805,619"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="1884,617,2104,651"/>
<area shape="poly" title=" " alt="" coords="1817,632,1868,632,1868,637,1817,637"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="2152,560,2281,594"/>
<area shape="poly" title=" " alt="" coords="2092,574,2136,574,2136,580,2092,580"/>
<area shape="poly" title=" " alt="" coords="963,431,1315,414,1315,419,963,436"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a63bfcff990b542772fd9fbc5b6e1f870" title=" " alt="" coords="1061,505,1243,539"/>
<area shape="poly" title=" " alt="" coords="898,454,1022,492,1051,499,1050,504,1021,497,896,460"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a90259dc27343d0ee765236e3e42302da" title=" " alt="" coords="1049,448,1255,482"/>
<area shape="poly" title=" " alt="" coords="963,447,1034,452,1033,458,962,452"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a64710c908502c6d43dc365d365e28370" title=" " alt="" coords="1354,451,1535,484"/>
<area shape="poly" title=" " alt="" coords="1243,503,1338,485,1339,490,1244,508"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a3a72c25243ae144e230cc375fa016aac" title=" " alt="" coords="1357,508,1532,542"/>
<area shape="poly" title=" " alt="" coords="1243,520,1342,521,1342,527,1243,526"/>
<area shape="poly" title=" " alt="" coords="1245,445,1335,428,1336,433,1246,450"/>
<area shape="poly" title=" " alt="" coords="666,196,973,161,1025,154,1025,160,974,166,666,202"/>
<area shape="poly" title=" " alt="" coords="402,92,974,124,1025,127,1025,132,974,129,401,97"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0021585123abbcd1c4a25ba6a7ffb599" title=" " alt="" coords="1041,563,1263,596"/>
<area shape="poly" title=" " alt="" coords="953,577,1025,577,1025,582,953,582"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aae83a7acd40d935b0e000c15f017c2fc" title=" " alt="" coords="1022,620,1282,654"/>
<area shape="poly" title=" " alt="" coords="938,594,1043,614,1042,619,937,600"/>
<area shape="poly" title=" " alt="" coords="1264,585,1331,586,1406,582,1484,571,1558,552,1622,526,1685,494,1744,458,1800,420,1896,345,1962,286,1966,290,1899,349,1803,424,1747,463,1687,499,1625,531,1560,557,1485,576,1407,587,1331,591,1263,591"/>
<area shape="poly" title=" " alt="" coords="1259,560,1281,549,1295,536,1304,522,1313,507,1328,493,1338,488,1341,493,1332,498,1317,511,1308,525,1299,540,1283,554,1261,565"/>
<area shape="poly" title=" " alt="" coords="1245,559,1341,541,1342,547,1246,565"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a133847346c9a2d708d19c8a056f728bc" title=" " alt="" coords="1336,620,1553,654"/>
<area shape="poly" title=" " alt="" coords="1283,634,1320,634,1320,640,1283,640"/>
<area shape="poly" title=" " alt="" coords="405,303,451,303,451,308,405,309"/>
</map>
</div>

</div>
</div>
<a id="a3f629385f1e131dcb62d6aad6ec03de7" name="a3f629385f1e131dcb62d6aad6ec03de7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f629385f1e131dcb62d6aad6ec03de7">&#9670;&#160;</a></span>ustream_fd_poll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ustream_fd_poll </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00139">139</a> of file <a class="el" href="../../db/d70/ustream-fd_8c_source.html">ustream-fd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  140</span>{</div>
<div class="line"><span class="lineno">  141</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a> *sf = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(s, <span class="keyword">struct</span> <a class="code hl_struct" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a>, <a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>);</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#ab4192dcd29172ce7501c6b899bf2f192">__ustream_fd_poll</a>(sf, <a class="code hl_define" href="../../dc/d56/uloop_8h.html#ac20cd5fed660ef784791db47283d9ebf">ULOOP_READ</a> | <a class="code hl_define" href="../../dc/d56/uloop_8h.html#a9b481ffad35824d85a7109d06e7ada3f">ULOOP_WRITE</a>);</div>
<div class="line"><span class="lineno">  144</span>}</div>
<div class="ttc" id="austream-fd_8c_html_ab4192dcd29172ce7501c6b899bf2f192"><div class="ttname"><a href="#ab4192dcd29172ce7501c6b899bf2f192">__ustream_fd_poll</a></div><div class="ttdeci">static bool __ustream_fd_poll(struct ustream_fd *sf, unsigned int events)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d70/ustream-fd_8c_source.html#l00116">ustream-fd.c:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00116">__ustream_fd_poll()</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00047">ULOOP_READ</a>, and <a class="el" href="../../dc/d56/uloop_8h_source.html#l00048">ULOOP_WRITE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00160">ustream_fd_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d70/ustream-fd_8c_a3f629385f1e131dcb62d6aad6ec03de7_cgraph.png" border="0" usemap="#adb/d70/ustream-fd_8c_a3f629385f1e131dcb62d6aad6ec03de7_cgraph" alt=""/></div>
<map name="adb/d70/ustream-fd_8c_a3f629385f1e131dcb62d6aad6ec03de7_cgraph" id="adb/d70/ustream-fd_8c_a3f629385f1e131dcb62d6aad6ec03de7_cgraph">
<area shape="rect" title=" " alt="" coords="5,231,173,264"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#ab4192dcd29172ce7501c6b899bf2f192" title=" " alt="" coords="221,231,406,264"/>
<area shape="poly" title=" " alt="" coords="173,245,205,245,205,250,173,250"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a6d481a5ffd124ec038012fde40d4d67c" title=" " alt="" coords="454,177,714,211"/>
<area shape="poly" title=" " alt="" coords="402,227,480,212,481,217,403,233"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a16f1933feaa2425d7811875086609290" title=" " alt="" coords="762,63,985,96"/>
<area shape="poly" title=" " alt="" coords="337,228,388,194,453,162,527,137,604,118,746,91,747,97,605,123,529,143,455,167,391,199,340,233"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add76dce88c832892b8971ab19c766aab" title=" " alt="" coords="1033,332,1262,366"/>
<area shape="poly" title=" " alt="" coords="407,256,1017,330,1017,336,406,261"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a7460ade35d8721c6dbac14e9cfab4b8c" title=" " alt="" coords="466,363,703,396"/>
<area shape="poly" title=" " alt="" coords="350,262,455,316,533,353,531,358,453,321,347,267"/>
<area shape="poly" title=" " alt="" coords="618,174,695,135,761,105,780,99,782,104,763,110,697,140,620,179"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa7150fd97e4c632a01ba95a19614fcd0" title=" " alt="" coords="784,120,963,154"/>
<area shape="poly" title=" " alt="" coords="672,174,770,155,771,160,673,179"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a48eb6688bc7551e8fa0f5fe45c3ff767" title=" " alt="" coords="786,177,961,211"/>
<area shape="poly" title=" " alt="" coords="715,192,771,192,771,197,715,197"/>
<area shape="poly" title=" " alt="" coords="692,209,833,238,985,278,1044,300,1098,323,1095,328,1042,305,984,283,831,243,691,214"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0" title=" " alt="" coords="1075,60,1220,94"/>
<area shape="poly" title=" " alt="" coords="985,76,1059,75,1060,80,985,81"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#a1b6212744c4241320adc3a2170525f20" title=" " alt="" coords="1357,5,1491,39"/>
<area shape="poly" title=" " alt="" coords="1219,60,1341,36,1342,41,1221,65"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="1341,63,1507,96"/>
<area shape="poly" title=" " alt="" coords="1220,75,1326,76,1326,81,1220,80"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#ae98d2f54596aacb1f0f176d0e565e2e2" title=" " alt="" coords="1604,33,1789,67"/>
<area shape="poly" title=" " alt="" coords="1508,68,1588,59,1589,64,1508,73"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#abe443fe3f794c14f0aaa0c5f18a27ddd" title=" " alt="" coords="1587,91,1806,124"/>
<area shape="poly" title=" " alt="" coords="1508,85,1572,92,1571,97,1508,91"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a4f850d5efa8e096ca116a2b98a68bd16" title=" " alt="" coords="1316,132,1532,166"/>
<area shape="poly" title=" " alt="" coords="963,136,1301,143,1301,149,963,141"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f" title=" " alt="" coords="1046,169,1249,225"/>
<area shape="poly" title=" " alt="" coords="962,192,1031,193,1031,198,962,198"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0ed3a1f1af94d311249c4b34b9e937d3" title=" " alt="" coords="1039,249,1256,283"/>
<area shape="poly" title=" " alt="" coords="940,209,1033,234,1064,242,1063,248,1032,239,938,214"/>
<area shape="poly" title=" " alt="" coords="1227,246,1261,234,1285,222,1309,207,1375,171,1377,175,1311,211,1288,226,1263,239,1228,251"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa67ddac4c773e0d21f6626bf2371f8d2" title=" " alt="" coords="1601,212,1792,246"/>
<area shape="poly" title=" " alt="" coords="1256,254,1310,250,1586,232,1586,238,1310,255,1256,260"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a09dacab33f0a207388ab373c77fd45b3" title=" " alt="" coords="1310,265,1538,299"/>
<area shape="poly" title=" " alt="" coords="1257,270,1294,272,1294,277,1256,275"/>
<area shape="poly" title=" " alt="" coords="1513,262,1592,247,1593,252,1514,267"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="1330,332,1519,366"/>
<area shape="poly" title=" " alt="" coords="1263,346,1314,346,1314,352,1263,352"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1620,275,1773,308"/>
<area shape="poly" title=" " alt="" coords="1507,329,1605,308,1606,313,1508,334"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="1598,332,1795,366"/>
<area shape="poly" title=" " alt="" coords="1519,346,1583,346,1583,352,1519,352"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="1586,389,1807,423"/>
<area shape="poly" title=" " alt="" coords="1508,364,1599,383,1598,388,1507,369"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1855,275,1984,308"/>
<area shape="poly" title=" " alt="" coords="1765,329,1806,318,1839,310,1841,315,1807,323,1766,334"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="1880,332,1959,366"/>
<area shape="poly" title=" " alt="" coords="1795,346,1865,346,1865,352,1795,352"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="2032,275,2133,308"/>
<area shape="poly" title=" " alt="" coords="1985,289,2016,289,2016,294,1985,294"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1877,389,1962,423"/>
<area shape="poly" title=" " alt="" coords="1807,404,1861,404,1861,409,1807,409"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="2036,389,2130,423"/>
<area shape="poly" title=" " alt="" coords="1962,404,2020,404,2020,409,1962,409"/>
<area shape="poly" title=" " alt="" coords="703,370,1017,353,1017,359,703,376"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a63bfcff990b542772fd9fbc5b6e1f870" title=" " alt="" coords="782,445,965,479"/>
<area shape="poly" title=" " alt="" coords="640,394,763,432,788,438,787,444,762,437,639,400"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a90259dc27343d0ee765236e3e42302da" title=" " alt="" coords="771,388,976,422"/>
<area shape="poly" title=" " alt="" coords="704,387,756,392,755,397,703,393"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a64710c908502c6d43dc365d365e28370" title=" " alt="" coords="1057,417,1238,451"/>
<area shape="poly" title=" " alt="" coords="965,450,1041,442,1041,448,965,455"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a3a72c25243ae144e230cc375fa016aac" title=" " alt="" coords="1060,475,1235,508"/>
<area shape="poly" title=" " alt="" coords="965,469,1045,478,1044,483,965,475"/>
<area shape="poly" title=" " alt="" coords="959,385,1046,367,1047,372,960,390"/>
</map>
</div>

</div>
</div>
<a id="a6d481a5ffd124ec038012fde40d4d67c" name="a6d481a5ffd124ec038012fde40d4d67c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d481a5ffd124ec038012fde40d4d67c">&#9670;&#160;</a></span>ustream_fd_read_pending()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ustream_fd_read_pending </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a> *</td>          <td class="paramname"><span class="paramname"><em>sf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *</td>          <td class="paramname"><span class="paramname"><em>more</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00045">45</a> of file <a class="el" href="../../db/d70/ustream-fd_8c_source.html">ustream-fd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   46</span>{</div>
<div class="line"><span class="lineno">   47</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *s = &amp;sf-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>;</div>
<div class="line"><span class="lineno">   48</span>    <span class="keywordtype">int</span> buflen = 0;</div>
<div class="line"><span class="lineno">   49</span>    ssize_t len;</div>
<div class="line"><span class="lineno">   50</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>;</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">   53</span>        <span class="keywordflow">if</span> (s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#ad79ec597a16992c722c5156d182121f0">read_blocked</a>)</div>
<div class="line"><span class="lineno">   54</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>        <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> = <a class="code hl_function" href="../../d6/d26/ustream_8c.html#a48eb6688bc7551e8fa0f5fe45c3ff767">ustream_reserve</a>(s, 1, &amp;buflen);</div>
<div class="line"><span class="lineno">   57</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>)</div>
<div class="line"><span class="lineno">   58</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>        len = read(sf-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0bca51b2e8287eeab242d9aaf262afb4">fd</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#ad8badf8512adcf9a8819ed088bde09cc">fd</a>, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, buflen);</div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordflow">if</span> (len &lt; 0) {</div>
<div class="line"><span class="lineno">   62</span>            <span class="keywordflow">if</span> (errno == EINTR)</div>
<div class="line"><span class="lineno">   63</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>            <span class="keywordflow">if</span> (errno == EAGAIN || errno == ENOTCONN)</div>
<div class="line"><span class="lineno">   66</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>            len = 0;</div>
<div class="line"><span class="lineno">   69</span>        }</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>        <span class="keywordflow">if</span> (!len) {</div>
<div class="line"><span class="lineno">   72</span>            <span class="keywordflow">if</span> (!s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0a033ab27c8b83cc83765b571e7e3a03">eof</a>)</div>
<div class="line"><span class="lineno">   73</span>                <a class="code hl_function" href="../../da/d79/ustream_8h.html#add76dce88c832892b8971ab19c766aab">ustream_state_change</a>(s);</div>
<div class="line"><span class="lineno">   74</span>            s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0a033ab27c8b83cc83765b571e7e3a03">eof</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   75</span>            <a class="code hl_function" href="#a16f1933feaa2425d7811875086609290">ustream_fd_set_uloop</a>(s, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   76</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   77</span>        }</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>        <a class="code hl_function" href="../../d6/d26/ustream_8c.html#aa7150fd97e4c632a01ba95a19614fcd0">ustream_fill_read</a>(s, len);</div>
<div class="line"><span class="lineno">   80</span>        *more = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   81</span>    } <span class="keywordflow">while</span> (1);</div>
<div class="line"><span class="lineno">   82</span>}</div>
<div class="ttc" id="amkdev_8c_html_a024e65f7d9664cdc767f51c283fd8353"><div class="ttname"><a href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a></div><div class="ttdeci">static char buf[PATH_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d9a/mkdev_8c_source.html#l00034">mkdev.c:34</a></div></div>
<div class="ttc" id="austream_8c_html_a48eb6688bc7551e8fa0f5fe45c3ff767"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#a48eb6688bc7551e8fa0f5fe45c3ff767">ustream_reserve</a></div><div class="ttdeci">char * ustream_reserve(struct ustream *s, int len, int *maxlen)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00287">ustream.c:287</a></div></div>
<div class="ttc" id="austream_8c_html_aa7150fd97e4c632a01ba95a19614fcd0"><div class="ttname"><a href="../../d6/d26/ustream_8c.html#aa7150fd97e4c632a01ba95a19614fcd0">ustream_fill_read</a></div><div class="ttdeci">void ustream_fill_read(struct ustream *s, int len)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d26/ustream_8c_source.html#l00302">ustream.c:302</a></div></div>
<div class="ttc" id="austream_8h_html_a0a033ab27c8b83cc83765b571e7e3a03"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a0a033ab27c8b83cc83765b571e7e3a03">ustream::eof</a></div><div class="ttdeci">bool eof</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00117">ustream.h:117</a></div></div>
<div class="ttc" id="austream_8h_html_ad79ec597a16992c722c5156d182121f0"><div class="ttname"><a href="../../da/d79/ustream_8h.html#ad79ec597a16992c722c5156d182121f0">ustream::read_blocked</a></div><div class="ttdeci">enum read_blocked_reason read_blocked</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00120">ustream.h:120</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00117">ustream::eof</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00065">uloop_fd::fd</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00125">ustream_fd::fd</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00120">ustream::read_blocked</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00024">ustream_fd_set_uloop()</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00302">ustream_fill_read()</a>, <a class="el" href="../../d6/d26/ustream_8c_source.html#l00287">ustream_reserve()</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00209">ustream_state_change()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00116">__ustream_fd_poll()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d70/ustream-fd_8c_a6d481a5ffd124ec038012fde40d4d67c_cgraph.png" border="0" usemap="#adb/d70/ustream-fd_8c_a6d481a5ffd124ec038012fde40d4d67c_cgraph" alt=""/></div>
<map name="adb/d70/ustream-fd_8c_a6d481a5ffd124ec038012fde40d4d67c_cgraph" id="adb/d70/ustream-fd_8c_a6d481a5ffd124ec038012fde40d4d67c_cgraph">
<area shape="rect" title=" " alt="" coords="5,149,266,183"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a16f1933feaa2425d7811875086609290" title=" " alt="" coords="317,59,540,92"/>
<area shape="poly" title=" " alt="" coords="183,146,313,102,341,94,342,99,314,107,185,151"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa7150fd97e4c632a01ba95a19614fcd0" title=" " alt="" coords="339,117,518,151"/>
<area shape="poly" title=" " alt="" coords="266,149,324,143,324,148,267,155"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a48eb6688bc7551e8fa0f5fe45c3ff767" title=" " alt="" coords="341,177,516,211"/>
<area shape="poly" title=" " alt="" coords="266,176,326,182,325,187,266,181"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add76dce88c832892b8971ab19c766aab" title=" " alt="" coords="314,269,543,303"/>
<area shape="poly" title=" " alt="" coords="180,181,372,260,370,265,178,186"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0" title=" " alt="" coords="628,57,772,91"/>
<area shape="poly" title=" " alt="" coords="540,72,612,72,612,77,540,78"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#a1b6212744c4241320adc3a2170525f20" title=" " alt="" coords="903,5,1038,39"/>
<area shape="poly" title=" " alt="" coords="772,58,887,35,888,41,773,63"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="887,63,1054,96"/>
<area shape="poly" title=" " alt="" coords="772,73,871,75,871,80,772,78"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#ae98d2f54596aacb1f0f176d0e565e2e2" title=" " alt="" coords="1150,35,1335,68"/>
<area shape="poly" title=" " alt="" coords="1054,68,1134,60,1135,65,1054,74"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#abe443fe3f794c14f0aaa0c5f18a27ddd" title=" " alt="" coords="1133,92,1352,126"/>
<area shape="poly" title=" " alt="" coords="1054,86,1118,93,1117,98,1054,91"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a4f850d5efa8e096ca116a2b98a68bd16" title=" " alt="" coords="862,131,1079,164"/>
<area shape="poly" title=" " alt="" coords="518,134,847,142,847,147,518,139"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f" title=" " alt="" coords="599,166,801,223"/>
<area shape="poly" title=" " alt="" coords="517,192,583,192,583,197,517,197"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0ed3a1f1af94d311249c4b34b9e937d3" title=" " alt="" coords="591,247,808,280"/>
<area shape="poly" title=" " alt="" coords="498,209,616,240,615,245,497,214"/>
<area shape="poly" title=" " alt="" coords="780,244,807,232,821,222,831,211,840,200,855,188,895,168,897,173,858,192,844,203,835,214,825,225,810,236,782,249"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa67ddac4c773e0d21f6626bf2371f8d2" title=" " alt="" coords="1147,219,1338,252"/>
<area shape="poly" title=" " alt="" coords="778,243,856,232,1000,225,1132,227,1132,232,1000,230,857,237,778,249"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a09dacab33f0a207388ab373c77fd45b3" title=" " alt="" coords="856,247,1085,280"/>
<area shape="poly" title=" " alt="" coords="809,261,841,261,841,266,809,266"/>
<area shape="poly" title=" " alt="" coords="1085,249,1131,244,1132,250,1085,254"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="605,332,794,366"/>
<area shape="poly" title=" " alt="" coords="505,301,609,325,608,331,504,306"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="894,304,1047,338"/>
<area shape="poly" title=" " alt="" coords="795,336,879,328,879,333,795,342"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="872,361,1069,395"/>
<area shape="poly" title=" " alt="" coords="795,356,857,363,857,369,795,362"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="860,419,1081,452"/>
<area shape="poly" title=" " alt="" coords="744,364,857,405,880,412,878,417,856,410,742,369"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1178,304,1307,338"/>
<area shape="poly" title=" " alt="" coords="1053,358,1162,335,1163,340,1054,363"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="1203,361,1282,395"/>
<area shape="poly" title=" " alt="" coords="1069,376,1187,376,1187,381,1069,381"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1400,304,1501,338"/>
<area shape="poly" title=" " alt="" coords="1308,318,1385,318,1385,324,1308,324"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1200,419,1285,452"/>
<area shape="poly" title=" " alt="" coords="1081,433,1184,433,1184,438,1081,438"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1404,419,1498,452"/>
<area shape="poly" title=" " alt="" coords="1285,433,1388,433,1388,438,1285,438"/>
</map>
</div>

</div>
</div>
<a id="a64ffdd9b78d6b923a98f1f82067fc6ae" name="a64ffdd9b78d6b923a98f1f82067fc6ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64ffdd9b78d6b923a98f1f82067fc6ae">&#9670;&#160;</a></span>ustream_fd_set_read_blocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ustream_fd_set_read_blocked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00040">40</a> of file <a class="el" href="../../db/d70/ustream-fd_8c_source.html">ustream-fd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   41</span>{</div>
<div class="line"><span class="lineno">   42</span>    <a class="code hl_function" href="#a16f1933feaa2425d7811875086609290">ustream_fd_set_uloop</a>(s, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   43</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00024">ustream_fd_set_uloop()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00160">ustream_fd_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d70/ustream-fd_8c_a64ffdd9b78d6b923a98f1f82067fc6ae_cgraph.png" border="0" usemap="#adb/d70/ustream-fd_8c_a64ffdd9b78d6b923a98f1f82067fc6ae_cgraph" alt=""/></div>
<map name="adb/d70/ustream-fd_8c_a64ffdd9b78d6b923a98f1f82067fc6ae_cgraph" id="adb/d70/ustream-fd_8c_a64ffdd9b78d6b923a98f1f82067fc6ae_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,218,80"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a16f1933feaa2425d7811875086609290" title=" " alt="" coords="266,35,488,68"/>
<area shape="poly" title=" " alt="" coords="218,49,250,49,250,54,218,54"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0" title=" " alt="" coords="536,35,680,68"/>
<area shape="poly" title=" " alt="" coords="488,49,520,49,520,54,488,54"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#a1b6212744c4241320adc3a2170525f20" title=" " alt="" coords="744,5,879,39"/>
<area shape="poly" title=" " alt="" coords="680,38,728,31,729,37,681,44"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="728,63,895,96"/>
<area shape="poly" title=" " alt="" coords="681,59,713,63,712,69,680,64"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#ae98d2f54596aacb1f0f176d0e565e2e2" title=" " alt="" coords="960,33,1145,67"/>
<area shape="poly" title=" " alt="" coords="895,67,944,61,945,66,895,72"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#abe443fe3f794c14f0aaa0c5f18a27ddd" title=" " alt="" coords="943,91,1162,124"/>
<area shape="poly" title=" " alt="" coords="895,87,928,90,927,96,895,92"/>
</map>
</div>

</div>
</div>
<a id="a16f1933feaa2425d7811875086609290" name="a16f1933feaa2425d7811875086609290"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16f1933feaa2425d7811875086609290">&#9670;&#160;</a></span>ustream_fd_set_uloop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ustream_fd_set_uloop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>write</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00024">24</a> of file <a class="el" href="../../db/d70/ustream-fd_8c_source.html">ustream-fd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   25</span>{</div>
<div class="line"><span class="lineno">   26</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a> *sf = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(s, <span class="keyword">struct</span> <a class="code hl_struct" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a>, <a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>);</div>
<div class="line"><span class="lineno">   27</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d79/ustream_8h.html#d9/dc0/structustream__buf">ustream_buf</a> *<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>;</div>
<div class="line"><span class="lineno">   28</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags = <a class="code hl_define" href="../../dc/d56/uloop_8h.html#ae0a4bba54063aede5669dbd4782ad6f5">ULOOP_EDGE_TRIGGER</a> | <a class="code hl_define" href="../../dc/d56/uloop_8h.html#a6d3da64e38b9d520ca130ef5ad552ab3">ULOOP_ERROR_CB</a>;</div>
<div class="line"><span class="lineno">   29</span> </div>
<div class="line"><span class="lineno">   30</span>    <span class="keywordflow">if</span> (!s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#ad79ec597a16992c722c5156d182121f0">read_blocked</a> &amp;&amp; !s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0a033ab27c8b83cc83765b571e7e3a03">eof</a>)</div>
<div class="line"><span class="lineno">   31</span>        flags |= <a class="code hl_define" href="../../dc/d56/uloop_8h.html#ac20cd5fed660ef784791db47283d9ebf">ULOOP_READ</a>;</div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>    <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> = s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#aa70350247646ae77f4551d297fb62fef">head</a>;</div>
<div class="line"><span class="lineno">   34</span>    <span class="keywordflow">if</span> (write || (<a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> &amp;&amp; s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a03853611acd8f4e90eec49c1e183ee87">w</a>.<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a2cb8be7b642a24ce03d0d8910b98500d">data_bytes</a> &amp;&amp; !s-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#ab5a83f668de8533f03f594fd4851a8fc">write_error</a>))</div>
<div class="line"><span class="lineno">   35</span>        flags |= <a class="code hl_define" href="../../dc/d56/uloop_8h.html#a9b481ffad35824d85a7109d06e7ada3f">ULOOP_WRITE</a>;</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0">uloop_fd_add</a>(&amp;sf-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0bca51b2e8287eeab242d9aaf262afb4">fd</a>, flags);</div>
<div class="line"><span class="lineno">   38</span>}</div>
<div class="ttc" id="auloop_8c_html_a570d5b4ff73cb373a6ca0ac54a9726a0"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0">uloop_fd_add</a></div><div class="ttdeci">int uloop_fd_add(struct uloop_fd *sock, unsigned int flags)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00235">uloop.c:235</a></div></div>
<div class="ttc" id="auloop_8h_html_a6d3da64e38b9d520ca130ef5ad552ab3"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#a6d3da64e38b9d520ca130ef5ad552ab3">ULOOP_ERROR_CB</a></div><div class="ttdeci">#define ULOOP_ERROR_CB</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00060">uloop.h:60</a></div></div>
<div class="ttc" id="auloop_8h_html_ae0a4bba54063aede5669dbd4782ad6f5"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#ae0a4bba54063aede5669dbd4782ad6f5">ULOOP_EDGE_TRIGGER</a></div><div class="ttdeci">#define ULOOP_EDGE_TRIGGER</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00049">uloop.h:49</a></div></div>
<div class="ttc" id="austream_8h_html_a03853611acd8f4e90eec49c1e183ee87"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a03853611acd8f4e90eec49c1e183ee87">ustream::w</a></div><div class="ttdeci">struct ustream_buf_list r w</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00050">ustream.h:50</a></div></div>
<div class="ttc" id="austream_8h_html_a2cb8be7b642a24ce03d0d8910b98500d"><div class="ttname"><a href="../../da/d79/ustream_8h.html#a2cb8be7b642a24ce03d0d8910b98500d">ustream_buf_list::data_bytes</a></div><div class="ttdeci">int data_bytes</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00040">ustream.h:40</a></div></div>
<div class="ttc" id="austream_8h_html_aa70350247646ae77f4551d297fb62fef"><div class="ttname"><a href="../../da/d79/ustream_8h.html#aa70350247646ae77f4551d297fb62fef">ustream_buf_list::head</a></div><div class="ttdeci">struct ustream_buf * head</div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00034">ustream.h:34</a></div></div>
<div class="ttc" id="austream_8h_html_d9/dc0/structustream__buf"><div class="ttname"><a href="../../da/d79/ustream_8h.html#d9/dc0/structustream__buf">ustream_buf</a></div><div class="ttdef"><b>Definition</b> <a href="../../da/d79/ustream_8h_source.html#l00128">ustream.h:128</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00040">ustream_buf_list::data_bytes</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00117">ustream::eof</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00125">ustream_fd::fd</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00034">ustream_buf_list::head</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00120">ustream::read_blocked</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00049">ULOOP_EDGE_TRIGGER</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00060">ULOOP_ERROR_CB</a>, <a class="el" href="../../d1/d08/uloop_8c_source.html#l00235">uloop_fd_add()</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00047">ULOOP_READ</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00048">ULOOP_WRITE</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00050">ustream::w</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00116">ustream::write_error</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00116">__ustream_fd_poll()</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00160">ustream_fd_init()</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00045">ustream_fd_read_pending()</a>, <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00040">ustream_fd_set_read_blocked()</a>, and <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00084">ustream_fd_write()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d70/ustream-fd_8c_a16f1933feaa2425d7811875086609290_cgraph.png" border="0" usemap="#adb/d70/ustream-fd_8c_a16f1933feaa2425d7811875086609290_cgraph" alt=""/></div>
<map name="adb/d70/ustream-fd_8c_a16f1933feaa2425d7811875086609290_cgraph" id="adb/d70/ustream-fd_8c_a16f1933feaa2425d7811875086609290_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,228,68"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0" title=" " alt="" coords="276,35,420,68"/>
<area shape="poly" title=" " alt="" coords="228,49,260,49,260,54,228,54"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#a1b6212744c4241320adc3a2170525f20" title=" " alt="" coords="484,5,618,39"/>
<area shape="poly" title=" " alt="" coords="420,38,468,31,469,37,421,44"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="468,63,634,96"/>
<area shape="poly" title=" " alt="" coords="421,59,453,63,452,69,420,64"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#ae98d2f54596aacb1f0f176d0e565e2e2" title=" " alt="" coords="700,33,884,67"/>
<area shape="poly" title=" " alt="" coords="634,67,684,61,685,66,635,72"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#abe443fe3f794c14f0aaa0c5f18a27ddd" title=" " alt="" coords="682,91,902,124"/>
<area shape="poly" title=" " alt="" coords="635,87,667,90,667,96,634,92"/>
</map>
</div>

</div>
</div>
<a id="a1a4319f10cc2c3a3f20af3fdc27e2d77" name="a1a4319f10cc2c3a3f20af3fdc27e2d77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a4319f10cc2c3a3f20af3fdc27e2d77">&#9670;&#160;</a></span>ustream_fd_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ustream_fd_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d79/ustream_8h.html#d8/d8e/structustream">ustream</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>buflen</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>more</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00084">84</a> of file <a class="el" href="../../db/d70/ustream-fd_8c_source.html">ustream-fd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   85</span>{</div>
<div class="line"><span class="lineno">   86</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a> *sf = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(s, <span class="keyword">struct</span> <a class="code hl_struct" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a>, <a class="code hl_variable" href="../../da/d79/ustream_8h.html#a4243590de8945ac3666b7b8947c55b0f">stream</a>);</div>
<div class="line"><span class="lineno">   87</span>    ssize_t ret = 0, len;</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">if</span> (!buflen)</div>
<div class="line"><span class="lineno">   90</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordflow">while</span> (buflen) {</div>
<div class="line"><span class="lineno">   93</span>        len = write(sf-&gt;<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0bca51b2e8287eeab242d9aaf262afb4">fd</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#ad8badf8512adcf9a8819ed088bde09cc">fd</a>, <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a>, buflen);</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordflow">if</span> (len &lt; 0) {</div>
<div class="line"><span class="lineno">   96</span>            <span class="keywordflow">if</span> (errno == EINTR)</div>
<div class="line"><span class="lineno">   97</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>            <span class="keywordflow">if</span> (errno == EAGAIN || errno == EWOULDBLOCK || errno == ENOTCONN)</div>
<div class="line"><span class="lineno">  100</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  103</span>        }</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>        ret += len;</div>
<div class="line"><span class="lineno">  106</span>        <a class="code hl_variable" href="../../d7/d9a/mkdev_8c.html#a024e65f7d9664cdc767f51c283fd8353">buf</a> += len;</div>
<div class="line"><span class="lineno">  107</span>        buflen -= len;</div>
<div class="line"><span class="lineno">  108</span>    }</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordflow">if</span> (buflen)</div>
<div class="line"><span class="lineno">  111</span>        <a class="code hl_function" href="#a16f1933feaa2425d7811875086609290">ustream_fd_set_uloop</a>(s, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  114</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d9a/mkdev_8c_source.html#l00034">buf</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00065">uloop_fd::fd</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00125">ustream_fd::fd</a>, <a class="el" href="../../da/d79/ustream_8h_source.html#l00124">ustream_fd::stream</a>, and <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00024">ustream_fd_set_uloop()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00160">ustream_fd_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d70/ustream-fd_8c_a1a4319f10cc2c3a3f20af3fdc27e2d77_cgraph.png" border="0" usemap="#adb/d70/ustream-fd_8c_a1a4319f10cc2c3a3f20af3fdc27e2d77_cgraph" alt=""/></div>
<map name="adb/d70/ustream-fd_8c_a1a4319f10cc2c3a3f20af3fdc27e2d77_cgraph" id="adb/d70/ustream-fd_8c_a1a4319f10cc2c3a3f20af3fdc27e2d77_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,186,68"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a16f1933feaa2425d7811875086609290" title=" " alt="" coords="234,35,456,68"/>
<area shape="poly" title=" " alt="" coords="186,49,218,49,218,54,186,54"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0" title=" " alt="" coords="504,35,648,68"/>
<area shape="poly" title=" " alt="" coords="456,49,488,49,488,54,456,54"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#a1b6212744c4241320adc3a2170525f20" title=" " alt="" coords="712,5,847,39"/>
<area shape="poly" title=" " alt="" coords="648,38,696,31,697,37,649,44"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="696,63,863,96"/>
<area shape="poly" title=" " alt="" coords="649,59,681,63,680,69,648,64"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#ae98d2f54596aacb1f0f176d0e565e2e2" title=" " alt="" coords="928,33,1113,67"/>
<area shape="poly" title=" " alt="" coords="863,67,912,61,913,66,863,72"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#abe443fe3f794c14f0aaa0c5f18a27ddd" title=" " alt="" coords="911,91,1130,124"/>
<area shape="poly" title=" " alt="" coords="863,87,896,90,895,96,863,92"/>
</map>
</div>

</div>
</div>
<a id="a7ce37220303d8df1bf648645a88bd3e9" name="a7ce37220303d8df1bf648645a88bd3e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ce37220303d8df1bf648645a88bd3e9">&#9670;&#160;</a></span>ustream_uloop_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ustream_uloop_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d56/uloop_8h.html#db/d9e/structuloop__fd">uloop_fd</a> *</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>events</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00146">146</a> of file <a class="el" href="../../db/d70/ustream-fd_8c_source.html">ustream-fd.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  147</span>{</div>
<div class="line"><span class="lineno">  148</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a> *sf = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(<a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0bca51b2e8287eeab242d9aaf262afb4">fd</a>, <span class="keyword">struct</span> <a class="code hl_struct" href="../../da/d79/ustream_8h.html#dc/dcd/structustream__fd">ustream_fd</a>, <a class="code hl_variable" href="../../da/d79/ustream_8h.html#a0bca51b2e8287eeab242d9aaf262afb4">fd</a>);</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    <a class="code hl_function" href="#ab4192dcd29172ce7501c6b899bf2f192">__ustream_fd_poll</a>(sf, <a class="code hl_variable" href="../../d3/d91/uloop-epoll_8c.html#a0e992398f478de38db56a1146ea84e93">events</a>);</div>
<div class="line"><span class="lineno">  151</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00116">__ustream_fd_poll()</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../d3/d91/uloop-epoll_8c_source.html#l00060">events</a>, and <a class="el" href="../../da/d79/ustream_8h_source.html#l00125">ustream_fd::fd</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/ustream-fd_8c_source.html#l00160">ustream_fd_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d70/ustream-fd_8c_a7ce37220303d8df1bf648645a88bd3e9_cgraph.png" border="0" usemap="#adb/d70/ustream-fd_8c_a7ce37220303d8df1bf648645a88bd3e9_cgraph" alt=""/></div>
<map name="adb/d70/ustream-fd_8c_a7ce37220303d8df1bf648645a88bd3e9_cgraph" id="adb/d70/ustream-fd_8c_a7ce37220303d8df1bf648645a88bd3e9_cgraph">
<area shape="rect" title=" " alt="" coords="5,231,194,264"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#ab4192dcd29172ce7501c6b899bf2f192" title=" " alt="" coords="242,231,427,264"/>
<area shape="poly" title=" " alt="" coords="194,245,226,245,226,250,194,250"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a6d481a5ffd124ec038012fde40d4d67c" title=" " alt="" coords="475,177,735,211"/>
<area shape="poly" title=" " alt="" coords="423,227,501,212,502,217,424,233"/>
<area shape="rect" href="../../db/d70/ustream-fd_8c.html#a16f1933feaa2425d7811875086609290" title=" " alt="" coords="783,63,1006,96"/>
<area shape="poly" title=" " alt="" coords="358,228,409,194,474,162,548,137,625,118,767,91,768,97,626,123,550,143,476,167,412,199,361,233"/>
<area shape="rect" href="../../da/d79/ustream_8h.html#add76dce88c832892b8971ab19c766aab" title=" " alt="" coords="1054,332,1283,366"/>
<area shape="poly" title=" " alt="" coords="428,256,1038,330,1038,336,427,261"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a7460ade35d8721c6dbac14e9cfab4b8c" title=" " alt="" coords="487,363,724,396"/>
<area shape="poly" title=" " alt="" coords="371,262,476,316,554,353,552,358,474,321,368,267"/>
<area shape="poly" title=" " alt="" coords="639,174,716,135,782,105,801,99,803,104,784,110,718,140,641,179"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa7150fd97e4c632a01ba95a19614fcd0" title=" " alt="" coords="805,120,984,154"/>
<area shape="poly" title=" " alt="" coords="693,174,791,155,792,160,694,179"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a48eb6688bc7551e8fa0f5fe45c3ff767" title=" " alt="" coords="807,177,982,211"/>
<area shape="poly" title=" " alt="" coords="736,192,792,192,792,197,736,197"/>
<area shape="poly" title=" " alt="" coords="713,209,854,238,1006,278,1065,300,1119,323,1116,328,1063,305,1005,283,852,243,712,214"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a570d5b4ff73cb373a6ca0ac54a9726a0" title=" " alt="" coords="1096,60,1241,94"/>
<area shape="poly" title=" " alt="" coords="1006,76,1080,75,1081,80,1006,81"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#a1b6212744c4241320adc3a2170525f20" title=" " alt="" coords="1378,5,1512,39"/>
<area shape="poly" title=" " alt="" coords="1240,60,1362,36,1363,41,1242,65"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a73e0613a3dcdc677611d2fd6efdcca9c" title=" " alt="" coords="1362,63,1528,96"/>
<area shape="poly" title=" " alt="" coords="1241,75,1347,76,1347,81,1241,80"/>
<area shape="rect" href="../../d3/d91/uloop-epoll_8c.html#ae98d2f54596aacb1f0f176d0e565e2e2" title=" " alt="" coords="1625,33,1810,67"/>
<area shape="poly" title=" " alt="" coords="1529,68,1609,59,1610,64,1529,73"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#abe443fe3f794c14f0aaa0c5f18a27ddd" title=" " alt="" coords="1608,91,1827,124"/>
<area shape="poly" title=" " alt="" coords="1529,85,1593,92,1592,97,1529,91"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a4f850d5efa8e096ca116a2b98a68bd16" title=" " alt="" coords="1337,132,1553,166"/>
<area shape="poly" title=" " alt="" coords="984,136,1322,143,1322,149,984,141"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a6665fc275e6233416683c9b76908a53f" title=" " alt="" coords="1067,169,1270,225"/>
<area shape="poly" title=" " alt="" coords="983,192,1052,193,1052,198,983,198"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a0ed3a1f1af94d311249c4b34b9e937d3" title=" " alt="" coords="1060,249,1277,283"/>
<area shape="poly" title=" " alt="" coords="961,209,1054,234,1085,242,1084,248,1053,239,959,214"/>
<area shape="poly" title=" " alt="" coords="1248,246,1282,234,1306,222,1330,207,1396,171,1398,175,1332,211,1309,226,1284,239,1249,251"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#aa67ddac4c773e0d21f6626bf2371f8d2" title=" " alt="" coords="1622,212,1813,246"/>
<area shape="poly" title=" " alt="" coords="1277,254,1331,250,1607,232,1607,238,1331,255,1277,260"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a09dacab33f0a207388ab373c77fd45b3" title=" " alt="" coords="1331,265,1559,299"/>
<area shape="poly" title=" " alt="" coords="1278,270,1315,272,1315,277,1277,275"/>
<area shape="poly" title=" " alt="" coords="1534,262,1613,247,1614,252,1535,267"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="1351,332,1540,366"/>
<area shape="poly" title=" " alt="" coords="1284,346,1335,346,1335,352,1284,352"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1641,275,1794,308"/>
<area shape="poly" title=" " alt="" coords="1528,329,1626,308,1627,313,1529,334"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="1619,332,1816,366"/>
<area shape="poly" title=" " alt="" coords="1540,346,1604,346,1604,352,1540,352"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="1607,389,1828,423"/>
<area shape="poly" title=" " alt="" coords="1529,364,1620,383,1619,388,1528,369"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1876,275,2005,308"/>
<area shape="poly" title=" " alt="" coords="1786,329,1827,318,1860,310,1862,315,1828,323,1787,334"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="1901,332,1980,366"/>
<area shape="poly" title=" " alt="" coords="1816,346,1886,346,1886,352,1816,352"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="2053,275,2154,308"/>
<area shape="poly" title=" " alt="" coords="2006,289,2037,289,2037,294,2006,294"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1898,389,1983,423"/>
<area shape="poly" title=" " alt="" coords="1828,404,1882,404,1882,409,1828,409"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="2057,389,2151,423"/>
<area shape="poly" title=" " alt="" coords="1983,404,2041,404,2041,409,1983,409"/>
<area shape="poly" title=" " alt="" coords="724,370,1038,353,1038,359,724,376"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a63bfcff990b542772fd9fbc5b6e1f870" title=" " alt="" coords="803,445,986,479"/>
<area shape="poly" title=" " alt="" coords="661,394,784,432,809,438,808,444,783,437,660,400"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a90259dc27343d0ee765236e3e42302da" title=" " alt="" coords="792,388,997,422"/>
<area shape="poly" title=" " alt="" coords="725,387,777,392,776,397,724,393"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a64710c908502c6d43dc365d365e28370" title=" " alt="" coords="1078,417,1259,451"/>
<area shape="poly" title=" " alt="" coords="986,450,1062,442,1062,448,986,455"/>
<area shape="rect" href="../../d6/d26/ustream_8c.html#a3a72c25243ae144e230cc375fa016aac" title=" " alt="" coords="1081,475,1256,508"/>
<area shape="poly" title=" " alt="" coords="986,469,1066,478,1065,483,986,475"/>
<area shape="poly" title=" " alt="" coords="980,385,1067,367,1068,372,981,390"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
