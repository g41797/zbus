<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>zbus: /home/g41797/CLionProjects/github.com/g41797/zbus/src/libs/ubus/ubusd_acl.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">zbus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_87a455bccb09a92130c26a11a880c98a.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_1e974a0feb376015fdf1a5b531ce0d1a.html">ubus</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ubusd_acl.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d7e/ubusd__acl_8h__dep__incl.png" border="0" usemap="#a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2ubus_2ubusd__acl_8hdep" alt=""/></div>
<map name="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2ubus_2ubusd__acl_8hdep" id="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2ubus_2ubusd__acl_8hdep">
<area shape="rect" title=" " alt="" coords="937,5,1224,85"/>
<area shape="rect" href="../../d2/dbe/ubusd_8h.html" title=" " alt="" coords="937,133,1224,213"/>
<area shape="poly" title=" " alt="" coords="1083,100,1083,133,1078,133,1078,100"/>
<area shape="rect" href="../../d9/de0/ubusd_8c.html" title=" " alt="" coords="5,261,292,340"/>
<area shape="poly" title=" " alt="" coords="922,188,634,217,469,237,305,263,292,266,292,260,304,258,468,232,633,211,921,183"/>
<area shape="rect" href="../../dd/d84/ubusd__acl_8c.html" title=" " alt="" coords="316,261,602,340"/>
<area shape="poly" title=" " alt="" coords="923,204,616,263,603,266,602,261,615,258,922,199"/>
<area shape="rect" href="../../d1/df2/ubusd__event_8c.html" title=" " alt="" coords="627,261,913,340"/>
<area shape="poly" title=" " alt="" coords="970,221,868,263,866,258,968,216"/>
<area shape="rect" href="../../dd/dd3/ubusd__main_8c.html" title=" " alt="" coords="937,261,1224,340"/>
<area shape="poly" title=" " alt="" coords="1083,228,1083,260,1078,260,1078,228"/>
<area shape="rect" href="../../db/dc5/ubusd__monitor_8c.html" title=" " alt="" coords="1248,261,1551,340"/>
<area shape="poly" title=" " alt="" coords="1195,216,1301,258,1299,263,1193,221"/>
<area shape="rect" href="../../df/d0e/ubusd__obj_8c.html" title=" " alt="" coords="1575,261,1861,340"/>
<area shape="poly" title=" " alt="" coords="1239,197,1397,225,1564,258,1575,260,1574,266,1563,263,1396,230,1239,202"/>
<area shape="rect" href="../../dc/d8a/ubusd__proto_8c.html" title=" " alt="" coords="1885,261,2172,340"/>
<area shape="poly" title=" " alt="" coords="1240,183,1535,211,1705,232,1873,258,1885,260,1885,266,1872,263,1704,237,1534,216,1239,188"/>
</map>
</div>
</div>
<p><a href="../../df/d2e/ubusd__acl_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a61ea0a2d161ca8b46ae5d3f9f722fcf5" id="r_a61ea0a2d161ca8b46ae5d3f9f722fcf5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5">ubusd_acl_type</a> { <br />
&#160;&#160;<a class="el" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5a1269cbd126dad0517cb4cf664dddebcd">UBUS_ACL_PUBLISH</a>
, <a class="el" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5aef7df738e99632fba9f693a25f7ebbec">UBUS_ACL_SUBSCRIBE</a>
, <a class="el" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5a5d16a6f4ba94075a64925fd54b4c72bc">UBUS_ACL_ACCESS</a>
, <a class="el" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5adf20e5b94341383cbb8bf447ecc27f14">UBUS_ACL_LISTEN</a>
, <br />
&#160;&#160;<a class="el" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5a5248a0993900f572b384319d9eef7e28">UBUS_ACL_SEND</a>
<br />
 }</td></tr>
<tr class="separator:a61ea0a2d161ca8b46ae5d3f9f722fcf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3c4bac46cccd1eab057aab786a08db2e" id="r_a3c4bac46cccd1eab057aab786a08db2e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c4bac46cccd1eab057aab786a08db2e">ubusd_acl_check</a> (struct <a class="el" href="../../d2/dbe/ubusd_8h.html#df/d3f/structubus__client">ubus_client</a> *cl, const char *obj, const char *method, enum <a class="el" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5">ubusd_acl_type</a> <a class="el" href="../../dd/d8f/udebug-proto_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)</td></tr>
<tr class="separator:a3c4bac46cccd1eab057aab786a08db2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2503db2a1e93952c2e32cca2857c660d" id="r_a2503db2a1e93952c2e32cca2857c660d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2503db2a1e93952c2e32cca2857c660d">ubusd_acl_init_client</a> (struct <a class="el" href="../../d2/dbe/ubusd_8h.html#df/d3f/structubus__client">ubus_client</a> *cl, int fd)</td></tr>
<tr class="separator:a2503db2a1e93952c2e32cca2857c660d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b54d3d2bf7a16054d9f166ee7ba5a92" id="r_a5b54d3d2bf7a16054d9f166ee7ba5a92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b54d3d2bf7a16054d9f166ee7ba5a92">ubusd_acl_free_client</a> (struct <a class="el" href="../../d2/dbe/ubusd_8h.html#df/d3f/structubus__client">ubus_client</a> *cl)</td></tr>
<tr class="separator:a5b54d3d2bf7a16054d9f166ee7ba5a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee4a5e1b0cb03672435025aa003573ba" id="r_aee4a5e1b0cb03672435025aa003573ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee4a5e1b0cb03672435025aa003573ba">ubusd_acl_load</a> (void)</td></tr>
<tr class="separator:aee4a5e1b0cb03672435025aa003573ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a61ea0a2d161ca8b46ae5d3f9f722fcf5" name="a61ea0a2d161ca8b46ae5d3f9f722fcf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5">&#9670;&#160;</a></span>ubusd_acl_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5">ubusd_acl_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a61ea0a2d161ca8b46ae5d3f9f722fcf5a1269cbd126dad0517cb4cf664dddebcd" name="a61ea0a2d161ca8b46ae5d3f9f722fcf5a1269cbd126dad0517cb4cf664dddebcd"></a>UBUS_ACL_PUBLISH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a61ea0a2d161ca8b46ae5d3f9f722fcf5aef7df738e99632fba9f693a25f7ebbec" name="a61ea0a2d161ca8b46ae5d3f9f722fcf5aef7df738e99632fba9f693a25f7ebbec"></a>UBUS_ACL_SUBSCRIBE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a61ea0a2d161ca8b46ae5d3f9f722fcf5a5d16a6f4ba94075a64925fd54b4c72bc" name="a61ea0a2d161ca8b46ae5d3f9f722fcf5a5d16a6f4ba94075a64925fd54b4c72bc"></a>UBUS_ACL_ACCESS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a61ea0a2d161ca8b46ae5d3f9f722fcf5adf20e5b94341383cbb8bf447ecc27f14" name="a61ea0a2d161ca8b46ae5d3f9f722fcf5adf20e5b94341383cbb8bf447ecc27f14"></a>UBUS_ACL_LISTEN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a61ea0a2d161ca8b46ae5d3f9f722fcf5a5248a0993900f572b384319d9eef7e28" name="a61ea0a2d161ca8b46ae5d3f9f722fcf5a5248a0993900f572b384319d9eef7e28"></a>UBUS_ACL_SEND&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../df/d2e/ubusd__acl_8h_source.html#l00017">17</a> of file <a class="el" href="../../df/d2e/ubusd__acl_8h_source.html">ubusd_acl.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   17</span>                    {</div>
<div class="line"><span class="lineno">   18</span>    <a class="code hl_enumvalue" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5a1269cbd126dad0517cb4cf664dddebcd">UBUS_ACL_PUBLISH</a>,</div>
<div class="line"><span class="lineno">   19</span>    <a class="code hl_enumvalue" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5aef7df738e99632fba9f693a25f7ebbec">UBUS_ACL_SUBSCRIBE</a>,</div>
<div class="line"><span class="lineno">   20</span>    <a class="code hl_enumvalue" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5a5d16a6f4ba94075a64925fd54b4c72bc">UBUS_ACL_ACCESS</a>,</div>
<div class="line"><span class="lineno">   21</span>    <a class="code hl_enumvalue" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5adf20e5b94341383cbb8bf447ecc27f14">UBUS_ACL_LISTEN</a>,</div>
<div class="line"><span class="lineno">   22</span>    <a class="code hl_enumvalue" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5a5248a0993900f572b384319d9eef7e28">UBUS_ACL_SEND</a>,</div>
<div class="line"><span class="lineno">   23</span>};</div>
<div class="ttc" id="aubusd__acl_8h_html_a61ea0a2d161ca8b46ae5d3f9f722fcf5a1269cbd126dad0517cb4cf664dddebcd"><div class="ttname"><a href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5a1269cbd126dad0517cb4cf664dddebcd">UBUS_ACL_PUBLISH</a></div><div class="ttdeci">@ UBUS_ACL_PUBLISH</div><div class="ttdef"><b>Definition</b> <a href="../../df/d2e/ubusd__acl_8h_source.html#l00018">ubusd_acl.h:18</a></div></div>
<div class="ttc" id="aubusd__acl_8h_html_a61ea0a2d161ca8b46ae5d3f9f722fcf5a5248a0993900f572b384319d9eef7e28"><div class="ttname"><a href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5a5248a0993900f572b384319d9eef7e28">UBUS_ACL_SEND</a></div><div class="ttdeci">@ UBUS_ACL_SEND</div><div class="ttdef"><b>Definition</b> <a href="../../df/d2e/ubusd__acl_8h_source.html#l00022">ubusd_acl.h:22</a></div></div>
<div class="ttc" id="aubusd__acl_8h_html_a61ea0a2d161ca8b46ae5d3f9f722fcf5a5d16a6f4ba94075a64925fd54b4c72bc"><div class="ttname"><a href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5a5d16a6f4ba94075a64925fd54b4c72bc">UBUS_ACL_ACCESS</a></div><div class="ttdeci">@ UBUS_ACL_ACCESS</div><div class="ttdef"><b>Definition</b> <a href="../../df/d2e/ubusd__acl_8h_source.html#l00020">ubusd_acl.h:20</a></div></div>
<div class="ttc" id="aubusd__acl_8h_html_a61ea0a2d161ca8b46ae5d3f9f722fcf5adf20e5b94341383cbb8bf447ecc27f14"><div class="ttname"><a href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5adf20e5b94341383cbb8bf447ecc27f14">UBUS_ACL_LISTEN</a></div><div class="ttdeci">@ UBUS_ACL_LISTEN</div><div class="ttdef"><b>Definition</b> <a href="../../df/d2e/ubusd__acl_8h_source.html#l00021">ubusd_acl.h:21</a></div></div>
<div class="ttc" id="aubusd__acl_8h_html_a61ea0a2d161ca8b46ae5d3f9f722fcf5aef7df738e99632fba9f693a25f7ebbec"><div class="ttname"><a href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5aef7df738e99632fba9f693a25f7ebbec">UBUS_ACL_SUBSCRIBE</a></div><div class="ttdeci">@ UBUS_ACL_SUBSCRIBE</div><div class="ttdef"><b>Definition</b> <a href="../../df/d2e/ubusd__acl_8h_source.html#l00019">ubusd_acl.h:19</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3c4bac46cccd1eab057aab786a08db2e" name="a3c4bac46cccd1eab057aab786a08db2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c4bac46cccd1eab057aab786a08db2e">&#9670;&#160;</a></span>ubusd_acl_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubusd_acl_check </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/dbe/ubusd_8h.html#df/d3f/structubus__client">ubus_client</a> *</td>          <td class="paramname"><span class="paramname"><em>cl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5">ubusd_acl_type</a></td>          <td class="paramname"><span class="paramname"><em>type</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00090">90</a> of file <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html">ubusd_acl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   92</span>{</div>
<div class="line"><span class="lineno">   93</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../dd/d84/ubusd__acl_8c.html#de/d5a/structubusd__acl__obj">ubusd_acl_obj</a> *acl;</div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordtype">int</span> match_len = 0;</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">if</span> (!cl || !cl-&gt;<a class="code hl_variable" href="../../d2/dbe/ubusd_8h.html#ac4d53e19bce61fa6adc90cf0402376e7">uid</a> || !obj)</div>
<div class="line"><span class="lineno">   97</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  100</span><span class="comment">     * Since this tree is sorted alphabetically, we can only expect</span></div>
<div class="line"><span class="lineno">  101</span><span class="comment">     * to find matching entries as long as the number of matching</span></div>
<div class="line"><span class="lineno">  102</span><span class="comment">     * characters between the access list string and the object path</span></div>
<div class="line"><span class="lineno">  103</span><span class="comment">     * is monotonically increasing.</span></div>
<div class="line"><span class="lineno">  104</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  105</span>    <a class="code hl_define" href="../../d3/d51/avl_8h.html#a78fce1e55fe672174caa3053a460ae56">avl_for_each_element</a>(&amp;<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a17d201d36f5fd0537301ccc92bf44126">ubusd_acls</a>, acl, <a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a29a651522100b76c6a6e3aca975d88ad">avl</a>) {</div>
<div class="line"><span class="lineno">  106</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *key = acl-&gt;<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a29a651522100b76c6a6e3aca975d88ad">avl</a>.<a class="code hl_variable" href="../../d3/d51/avl_8h.html#aa097934e0f5e3c398890a99605291b01">key</a>;</div>
<div class="line"><span class="lineno">  107</span>        <span class="keywordtype">int</span> cur_match_len;</div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordtype">bool</span> full_match;</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>        full_match = <a class="code hl_function" href="../../dc/d3c/ubus__common_8h.html#afa8a89e392860a6f7069e2b84c4806a8">ubus_strmatch_len</a>(obj, key, &amp;cur_match_len);</div>
<div class="line"><span class="lineno">  111</span>        <span class="keywordflow">if</span> (cur_match_len &lt; match_len)</div>
<div class="line"><span class="lineno">  112</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>        match_len = cur_match_len;</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">if</span> (!full_match) {</div>
<div class="line"><span class="lineno">  117</span>            <span class="keywordflow">if</span> (!acl-&gt;<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#abc11a39c7797539043e5165075e11b86">partial</a>)</div>
<div class="line"><span class="lineno">  118</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>            <span class="keywordflow">if</span> (match_len != (<span class="keywordtype">int</span>) strlen(key))</div>
<div class="line"><span class="lineno">  121</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  122</span>        }</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dd/d84/ubusd__acl_8c.html#a962648057deff2d8a4fbe6c244342dc3">ubusd_acl_match_cred</a>(cl, acl))</div>
<div class="line"><span class="lineno">  125</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../dd/d8f/udebug-proto_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>) {</div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5a1269cbd126dad0517cb4cf664dddebcd">UBUS_ACL_PUBLISH</a>:</div>
<div class="line"><span class="lineno">  129</span>            <span class="keywordflow">if</span> (acl-&gt;<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a093c25b177ba5ffbacab3980d1d152ce">publish</a>)</div>
<div class="line"><span class="lineno">  130</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  131</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5aef7df738e99632fba9f693a25f7ebbec">UBUS_ACL_SUBSCRIBE</a>:</div>
<div class="line"><span class="lineno">  134</span>            <span class="keywordflow">if</span> (acl-&gt;<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a245154f6ea8b3a9f70ca58f40f651f59">subscribe</a>)</div>
<div class="line"><span class="lineno">  135</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  136</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5adf20e5b94341383cbb8bf447ecc27f14">UBUS_ACL_LISTEN</a>:</div>
<div class="line"><span class="lineno">  139</span>            <span class="keywordflow">if</span> (acl-&gt;<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#aa10af37b43efbd4e197a543b0eeb94da">listen</a>)</div>
<div class="line"><span class="lineno">  140</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  141</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5a5248a0993900f572b384319d9eef7e28">UBUS_ACL_SEND</a>:</div>
<div class="line"><span class="lineno">  144</span>            <span class="keywordflow">if</span> (acl-&gt;<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a73f5fd04874500345cfcb1b44658b943">send</a>)</div>
<div class="line"><span class="lineno">  145</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  146</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a61ea0a2d161ca8b46ae5d3f9f722fcf5a5d16a6f4ba94075a64925fd54b4c72bc">UBUS_ACL_ACCESS</a>:</div>
<div class="line"><span class="lineno">  149</span>            <span class="keywordflow">if</span> (acl-&gt;<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a789eeac2d79aacb6e74a14133ffdae62">methods</a>) {</div>
<div class="line"><span class="lineno">  150</span>                <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *cur;</div>
<div class="line"><span class="lineno">  151</span>                <span class="keywordtype">char</span> *cur_method;</div>
<div class="line"><span class="lineno">  152</span>                <span class="keywordtype">size_t</span> rem;</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>                <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(cur, acl-&gt;<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a789eeac2d79aacb6e74a14133ffdae62">methods</a>, rem)</div>
<div class="line"><span class="lineno">  155</span>                    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(cur) == <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>) {</div>
<div class="line"><span class="lineno">  156</span>                        cur_method = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603">blobmsg_get_string</a>(cur);</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>                        <span class="keywordflow">if</span> (!strcmp(method, cur_method) || !strcmp(<span class="stringliteral">&quot;*&quot;</span>, cur_method))</div>
<div class="line"><span class="lineno">  159</span>                            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  160</span>                    }</div>
<div class="line"><span class="lineno">  161</span>            }</div>
<div class="line"><span class="lineno">  162</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  163</span>        }</div>
<div class="line"><span class="lineno">  164</span>    }</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  167</span>}</div>
<div class="ttc" id="aavl_8h_html_a78fce1e55fe672174caa3053a460ae56"><div class="ttname"><a href="../../d3/d51/avl_8h.html#a78fce1e55fe672174caa3053a460ae56">avl_for_each_element</a></div><div class="ttdeci">#define avl_for_each_element(tree, element, node_member)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00366">avl.h:366</a></div></div>
<div class="ttc" id="aavl_8h_html_aa097934e0f5e3c398890a99605291b01"><div class="ttname"><a href="../../d3/d51/avl_8h.html#aa097934e0f5e3c398890a99605291b01">avl_node::key</a></div><div class="ttdeci">const void * key</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00084">avl.h:84</a></div></div>
<div class="ttc" id="ablob_8h_html_dc/dd9/structblob__attr"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a></div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00052">blob.h:52</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a69a81065d5c7977bc26fbd093f21a132"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a></div><div class="ttdeci">#define blobmsg_for_each_attr(pos, attr, rem)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00364">blobmsg.h:364</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a6c1cc8e52e96bf9698f6b0f65ad48603"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603">blobmsg_get_string</a></div><div class="ttdeci">static char * blobmsg_get_string(struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00348">blobmsg.h:348</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a></div><div class="ttdeci">blobmsg_type</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00025">blobmsg.h:25</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a></div><div class="ttdeci">@ BLOBMSG_TYPE_STRING</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00029">blobmsg.h:29</a></div></div>
<div class="ttc" id="aubus__common_8h_html_afa8a89e392860a6f7069e2b84c4806a8"><div class="ttname"><a href="../../dc/d3c/ubus__common_8h.html#afa8a89e392860a6f7069e2b84c4806a8">ubus_strmatch_len</a></div><div class="ttdeci">static bool ubus_strmatch_len(const char *s1, const char *s2, int *len)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d3c/ubus__common_8h_source.html#l00022">ubus_common.h:22</a></div></div>
<div class="ttc" id="aubusd_8h_html_ac4d53e19bce61fa6adc90cf0402376e7"><div class="ttname"><a href="../../d2/dbe/ubusd_8h.html#ac4d53e19bce61fa6adc90cf0402376e7">ubus_client::uid</a></div><div class="ttdeci">uid_t uid</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dbe/ubusd_8h_source.html#l00055">ubusd.h:55</a></div></div>
<div class="ttc" id="aubusd__acl_8c_html_a093c25b177ba5ffbacab3980d1d152ce"><div class="ttname"><a href="../../dd/d84/ubusd__acl_8c.html#a093c25b177ba5ffbacab3980d1d152ce">ubusd_acl_obj::publish</a></div><div class="ttdeci">bool publish</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d84/ubusd__acl_8c_source.html#l00054">ubusd_acl.c:54</a></div></div>
<div class="ttc" id="aubusd__acl_8c_html_a17d201d36f5fd0537301ccc92bf44126"><div class="ttname"><a href="../../dd/d84/ubusd__acl_8c.html#a17d201d36f5fd0537301ccc92bf44126">ubusd_acls</a></div><div class="ttdeci">static struct avl_tree ubusd_acls</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d84/ubusd__acl_8c_source.html#l00073">ubusd_acl.c:73</a></div></div>
<div class="ttc" id="aubusd__acl_8c_html_a245154f6ea8b3a9f70ca58f40f651f59"><div class="ttname"><a href="../../dd/d84/ubusd__acl_8c.html#a245154f6ea8b3a9f70ca58f40f651f59">ubusd_acl_obj::subscribe</a></div><div class="ttdeci">bool subscribe</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d84/ubusd__acl_8c_source.html#l00053">ubusd_acl.c:53</a></div></div>
<div class="ttc" id="aubusd__acl_8c_html_a29a651522100b76c6a6e3aca975d88ad"><div class="ttname"><a href="../../dd/d84/ubusd__acl_8c.html#a29a651522100b76c6a6e3aca975d88ad">ubusd_acl_obj::avl</a></div><div class="ttdeci">struct avl_node avl</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d84/ubusd__acl_8c_source.html#l00042">ubusd_acl.c:42</a></div></div>
<div class="ttc" id="aubusd__acl_8c_html_a73f5fd04874500345cfcb1b44658b943"><div class="ttname"><a href="../../dd/d84/ubusd__acl_8c.html#a73f5fd04874500345cfcb1b44658b943">ubusd_acl_obj::send</a></div><div class="ttdeci">bool send</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d84/ubusd__acl_8c_source.html#l00056">ubusd_acl.c:56</a></div></div>
<div class="ttc" id="aubusd__acl_8c_html_a789eeac2d79aacb6e74a14133ffdae62"><div class="ttname"><a href="../../dd/d84/ubusd__acl_8c.html#a789eeac2d79aacb6e74a14133ffdae62">ubusd_acl_obj::methods</a></div><div class="ttdeci">struct blob_attr * methods</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d84/ubusd__acl_8c_source.html#l00050">ubusd_acl.c:50</a></div></div>
<div class="ttc" id="aubusd__acl_8c_html_a962648057deff2d8a4fbe6c244342dc3"><div class="ttname"><a href="../../dd/d84/ubusd__acl_8c.html#a962648057deff2d8a4fbe6c244342dc3">ubusd_acl_match_cred</a></div><div class="ttdeci">static int ubusd_acl_match_cred(struct ubus_client *cl, struct ubusd_acl_obj *obj)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d84/ubusd__acl_8c_source.html#l00078">ubusd_acl.c:78</a></div></div>
<div class="ttc" id="aubusd__acl_8c_html_aa10af37b43efbd4e197a543b0eeb94da"><div class="ttname"><a href="../../dd/d84/ubusd__acl_8c.html#aa10af37b43efbd4e197a543b0eeb94da">ubusd_acl_obj::listen</a></div><div class="ttdeci">bool listen</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d84/ubusd__acl_8c_source.html#l00055">ubusd_acl.c:55</a></div></div>
<div class="ttc" id="aubusd__acl_8c_html_abc11a39c7797539043e5165075e11b86"><div class="ttname"><a href="../../dd/d84/ubusd__acl_8c.html#abc11a39c7797539043e5165075e11b86">ubusd_acl_obj::partial</a></div><div class="ttdeci">bool partial</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d84/ubusd__acl_8c_source.html#l00045">ubusd_acl.c:45</a></div></div>
<div class="ttc" id="aubusd__acl_8c_html_de/d5a/structubusd__acl__obj"><div class="ttname"><a href="../../dd/d84/ubusd__acl_8c.html#de/d5a/structubusd__acl__obj">ubusd_acl_obj</a></div><div class="ttdef"><b>Definition</b> <a href="../../dd/d84/ubusd__acl_8c_source.html#l00041">ubusd_acl.c:41</a></div></div>
<div class="ttc" id="audebug-proto_8h_html_a1d127017fb298b889f4ba24752d08b8e"><div class="ttname"><a href="../../dd/d8f/udebug-proto_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a></div><div class="ttdeci">uint8_t type</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d8f/udebug-proto_8h_source.html#l00000">udebug-proto.h:0</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00042">ubusd_acl_obj::avl</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00366">avl_for_each_element</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00364">blobmsg_for_each_attr</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00348">blobmsg_get_string()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00029">BLOBMSG_TYPE_STRING</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00084">avl_node::key</a>, <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00055">ubusd_acl_obj::listen</a>, <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00050">ubusd_acl_obj::methods</a>, <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00045">ubusd_acl_obj::partial</a>, <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00054">ubusd_acl_obj::publish</a>, <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00056">ubusd_acl_obj::send</a>, <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00053">ubusd_acl_obj::subscribe</a>, <a class="el" href="../../dd/d8f/udebug-proto_8h_source.html#l00000">type</a>, <a class="el" href="../../df/d2e/ubusd__acl_8h_source.html#l00020">UBUS_ACL_ACCESS</a>, <a class="el" href="../../df/d2e/ubusd__acl_8h_source.html#l00021">UBUS_ACL_LISTEN</a>, <a class="el" href="../../df/d2e/ubusd__acl_8h_source.html#l00018">UBUS_ACL_PUBLISH</a>, <a class="el" href="../../df/d2e/ubusd__acl_8h_source.html#l00022">UBUS_ACL_SEND</a>, <a class="el" href="../../df/d2e/ubusd__acl_8h_source.html#l00019">UBUS_ACL_SUBSCRIBE</a>, <a class="el" href="../../dc/d3c/ubus__common_8h_source.html#l00022">ubus_strmatch_len()</a>, <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00078">ubusd_acl_match_cred()</a>, <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00073">ubusd_acls</a>, and <a class="el" href="../../d2/dbe/ubusd_8h_source.html#l00055">ubus_client::uid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/df2/ubusd__event_8c_source.html#l00056">ubusd_alloc_event_pattern()</a>, <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00129">ubusd_create_object()</a>, <a class="el" href="../../dc/d8a/ubusd__proto_8c_source.html#l00439">ubusd_handle_add_watch()</a>, <a class="el" href="../../dc/d8a/ubusd__proto_8c_source.html#l00324">ubusd_handle_invoke()</a>, <a class="el" href="../../d1/df2/ubusd__event_8c_source.html#l00140">ubusd_send_event()</a>, and <a class="el" href="../../dc/d8a/ubusd__proto_8c_source.html#l00160">ubusd_send_obj()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d2e/ubusd__acl_8h_a3c4bac46cccd1eab057aab786a08db2e_cgraph.png" border="0" usemap="#adf/d2e/ubusd__acl_8h_a3c4bac46cccd1eab057aab786a08db2e_cgraph" alt=""/></div>
<map name="adf/d2e/ubusd__acl_8h_a3c4bac46cccd1eab057aab786a08db2e_cgraph" id="adf/d2e/ubusd__acl_8h_a3c4bac46cccd1eab057aab786a08db2e_cgraph">
<area shape="rect" title=" " alt="" coords="5,149,183,183"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="244,92,448,126"/>
<area shape="poly" title=" " alt="" coords="171,146,253,127,254,132,172,151"/>
<area shape="rect" href="../../dc/d3c/ubus__common_8h.html#afa8a89e392860a6f7069e2b84c4806a8" title=" " alt="" coords="248,149,444,183"/>
<area shape="poly" title=" " alt="" coords="183,164,233,164,233,169,183,169"/>
<area shape="rect" href="../../dd/d84/ubusd__acl_8c.html#a962648057deff2d8a4fbe6c244342dc3" title=" " alt="" coords="231,207,461,240"/>
<area shape="poly" title=" " alt="" coords="172,181,254,200,253,205,171,186"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="509,92,660,126"/>
<area shape="poly" title=" " alt="" coords="448,106,493,106,493,112,448,112"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="748,5,859,39"/>
<area shape="poly" title=" " alt="" coords="617,89,707,48,732,39,734,44,709,53,620,94"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="713,63,894,96"/>
<area shape="poly" title=" " alt="" coords="661,96,697,91,698,96,661,101"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="718,120,889,154"/>
<area shape="poly" title=" " alt="" coords="661,116,703,121,702,127,661,121"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="708,177,899,211"/>
<area shape="poly" title=" " alt="" coords="621,124,709,164,726,170,724,175,707,169,619,129"/>
</map>
</div>

</div>
</div>
<a id="a5b54d3d2bf7a16054d9f166ee7ba5a92" name="a5b54d3d2bf7a16054d9f166ee7ba5a92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b54d3d2bf7a16054d9f166ee7ba5a92">&#9670;&#160;</a></span>ubusd_acl_free_client()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubusd_acl_free_client </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/dbe/ubusd_8h.html#df/d3f/structubus__client">ubus_client</a> *</td>          <td class="paramname"><span class="paramname"><em>cl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00209">209</a> of file <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html">ubusd_acl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  210</span>{</div>
<div class="line"><span class="lineno">  211</span>    free(cl-&gt;<a class="code hl_variable" href="../../d2/dbe/ubusd_8h.html#ab03e0d60ce0b75774cecd8912df5251f">group</a>);</div>
<div class="line"><span class="lineno">  212</span>    free(cl-&gt;<a class="code hl_variable" href="../../d2/dbe/ubusd_8h.html#a167a748100bbbf858759d59136d9790c">user</a>);</div>
<div class="line"><span class="lineno">  213</span>}</div>
<div class="ttc" id="aubusd_8h_html_a167a748100bbbf858759d59136d9790c"><div class="ttname"><a href="../../d2/dbe/ubusd_8h.html#a167a748100bbbf858759d59136d9790c">ubus_client::user</a></div><div class="ttdeci">char * user</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dbe/ubusd_8h_source.html#l00057">ubusd.h:57</a></div></div>
<div class="ttc" id="aubusd_8h_html_ab03e0d60ce0b75774cecd8912df5251f"><div class="ttname"><a href="../../d2/dbe/ubusd_8h.html#ab03e0d60ce0b75774cecd8912df5251f">ubus_client::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dbe/ubusd_8h_source.html#l00058">ubusd.h:58</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dbe/ubusd_8h_source.html#l00058">ubus_client::group</a>, and <a class="el" href="../../d2/dbe/ubusd_8h_source.html#l00057">ubus_client::user</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d8a/ubusd__proto_8c_source.html#l00600">ubusd_proto_free_client()</a>.</p>

</div>
</div>
<a id="a2503db2a1e93952c2e32cca2857c660d" name="a2503db2a1e93952c2e32cca2857c660d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2503db2a1e93952c2e32cca2857c660d">&#9670;&#160;</a></span>ubusd_acl_init_client()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubusd_acl_init_client </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/dbe/ubusd_8h.html#df/d3f/structubus__client">ubus_client</a> *</td>          <td class="paramname"><span class="paramname"><em>cl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00170">170</a> of file <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html">ubusd_acl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  171</span>{</div>
<div class="line"><span class="lineno">  172</span>    <span class="keyword">struct </span>ucred cred;</div>
<div class="line"><span class="lineno">  173</span>    <span class="keyword">struct </span>passwd *pwd;</div>
<div class="line"><span class="lineno">  174</span>    <span class="keyword">struct </span>group *group;</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span><span class="preprocessor">#ifdef SO_PEERCRED</span></div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len = <span class="keyword">sizeof</span>(<span class="keyword">struct </span>ucred);</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">if</span> (getsockopt(fd, SOL_SOCKET, SO_PEERCRED, &amp;cred, &amp;len) == -1) {</div>
<div class="line"><span class="lineno">  180</span>        <a class="code hl_define" href="../../df/df3/ulog_8h.html#ac15751a1b0b4f336453b64c070c8a981">ULOG_ERR</a>(<span class="stringliteral">&quot;Failed getsockopt(): %m\n&quot;</span>);</div>
<div class="line"><span class="lineno">  181</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  182</span>    }</div>
<div class="line"><span class="lineno">  183</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  184</span>    memset(&amp;cred, 0, <span class="keyword">sizeof</span>(cred));</div>
<div class="line"><span class="lineno">  185</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>    pwd = getpwuid(cred.uid);</div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordflow">if</span> (!pwd) {</div>
<div class="line"><span class="lineno">  189</span>        <a class="code hl_define" href="../../df/df3/ulog_8h.html#ac15751a1b0b4f336453b64c070c8a981">ULOG_ERR</a>(<span class="stringliteral">&quot;Failed getpwuid(): %m\n&quot;</span>);</div>
<div class="line"><span class="lineno">  190</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  191</span>    }</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>    group = getgrgid(cred.gid);</div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordflow">if</span> (!group) {</div>
<div class="line"><span class="lineno">  195</span>        <a class="code hl_define" href="../../df/df3/ulog_8h.html#ac15751a1b0b4f336453b64c070c8a981">ULOG_ERR</a>(<span class="stringliteral">&quot;Failed getgrgid(): %m\n&quot;</span>);</div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  197</span>    }</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>    cl-&gt;<a class="code hl_variable" href="../../d2/dbe/ubusd_8h.html#ac4d53e19bce61fa6adc90cf0402376e7">uid</a> = cred.uid;</div>
<div class="line"><span class="lineno">  200</span>    cl-&gt;<a class="code hl_variable" href="../../d2/dbe/ubusd_8h.html#a6d44414542f465c4244d0abf9e125a52">gid</a> = cred.gid;</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    cl-&gt;<a class="code hl_variable" href="../../d2/dbe/ubusd_8h.html#ab03e0d60ce0b75774cecd8912df5251f">group</a> = strdup(group-&gt;gr_name);</div>
<div class="line"><span class="lineno">  203</span>    cl-&gt;<a class="code hl_variable" href="../../d2/dbe/ubusd_8h.html#a167a748100bbbf858759d59136d9790c">user</a> = strdup(pwd-&gt;pw_name);</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  206</span>}</div>
<div class="ttc" id="aubusd_8h_html_a6d44414542f465c4244d0abf9e125a52"><div class="ttname"><a href="../../d2/dbe/ubusd_8h.html#a6d44414542f465c4244d0abf9e125a52">ubus_client::gid</a></div><div class="ttdeci">gid_t gid</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dbe/ubusd_8h_source.html#l00056">ubusd.h:56</a></div></div>
<div class="ttc" id="aulog_8h_html_ac15751a1b0b4f336453b64c070c8a981"><div class="ttname"><a href="../../df/df3/ulog_8h.html#ac15751a1b0b4f336453b64c070c8a981">ULOG_ERR</a></div><div class="ttdeci">#define ULOG_ERR(fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="../../df/df3/ulog_8h_source.html#l00044">ulog.h:44</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dbe/ubusd_8h_source.html#l00056">ubus_client::gid</a>, <a class="el" href="../../d2/dbe/ubusd_8h_source.html#l00058">ubus_client::group</a>, <a class="el" href="../../d2/dbe/ubusd_8h_source.html#l00055">ubus_client::uid</a>, <a class="el" href="../../df/df3/ulog_8h_source.html#l00044">ULOG_ERR</a>, and <a class="el" href="../../d2/dbe/ubusd_8h_source.html#l00057">ubus_client::user</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d8a/ubusd__proto_8c_source.html#l00564">ubusd_proto_new_client()</a>.</p>

</div>
</div>
<a id="aee4a5e1b0cb03672435025aa003573ba" name="aee4a5e1b0cb03672435025aa003573ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee4a5e1b0cb03672435025aa003573ba">&#9670;&#160;</a></span>ubusd_acl_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubusd_acl_load </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00445">445</a> of file <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html">ubusd_acl.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  446</span>{</div>
<div class="line"><span class="lineno">  447</span>    <span class="keyword">struct </span>stat st;</div>
<div class="line"><span class="lineno">  448</span>    glob_t gl;</div>
<div class="line"><span class="lineno">  449</span>    <span class="keywordtype">size_t</span> j;</div>
<div class="line"><span class="lineno">  450</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *suffix = <span class="stringliteral">&quot;/*.json&quot;</span>;</div>
<div class="line"><span class="lineno">  451</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a> = alloca(strlen(<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a26a981ba69867d98d31a9a1dcccc2197">ubusd_acl_dir</a>) + strlen(suffix) + 1);</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>    sprintf(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a26a981ba69867d98d31a9a1dcccc2197">ubusd_acl_dir</a>, suffix);</div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordflow">if</span> (glob(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, GLOB_NOESCAPE | GLOB_MARK, NULL, &amp;gl))</div>
<div class="line"><span class="lineno">  455</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span>    <a class="code hl_function" href="../../dd/d1d/vlist_8h.html#ac66f6ee1f1beb49157d2e737c68713ba">vlist_update</a>(&amp;ubusd_acl_files);</div>
<div class="line"><span class="lineno">  458</span>    <span class="keywordflow">for</span> (j = 0; j &lt; gl.gl_pathc; j++) {</div>
<div class="line"><span class="lineno">  459</span>        <span class="keywordflow">if</span> (stat(gl.gl_pathv[j], &amp;st) || !S_ISREG(st.st_mode))</div>
<div class="line"><span class="lineno">  460</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>        <span class="keywordflow">if</span> (st.st_uid || st.st_gid) {</div>
<div class="line"><span class="lineno">  463</span>            syslog(LOG_ERR, <span class="stringliteral">&quot;%s has wrong owner\n&quot;</span>, gl.gl_pathv[j]);</div>
<div class="line"><span class="lineno">  464</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  465</span>        }</div>
<div class="line"><span class="lineno">  466</span>        <span class="keywordflow">if</span> (st.st_mode &amp; (S_IWOTH | S_IWGRP | S_IXOTH)) {</div>
<div class="line"><span class="lineno">  467</span>            syslog(LOG_ERR, <span class="stringliteral">&quot;%s has wrong permissions\n&quot;</span>, gl.gl_pathv[j]);</div>
<div class="line"><span class="lineno">  468</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  469</span>        }</div>
<div class="line"><span class="lineno">  470</span>        <a class="code hl_function" href="../../dd/d84/ubusd__acl_8c.html#a4b15243c3f4548a3bfa98899d55a0553">ubusd_acl_load_file</a>(gl.gl_pathv[j]);</div>
<div class="line"><span class="lineno">  471</span>    }</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>    globfree(&amp;gl);</div>
<div class="line"><span class="lineno">  474</span>    <a class="code hl_function" href="../../d5/d9a/vlist_8c.html#a62a8ae640752531c644d53311b98d53a">vlist_flush</a>(&amp;ubusd_acl_files);</div>
<div class="line"><span class="lineno">  475</span>    <a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a3e045da171102f1f642670238e194c16">ubusd_acl_seq</a>++;</div>
<div class="line"><span class="lineno">  476</span>    <a class="code hl_function" href="../../d2/dbe/ubusd_8h.html#a61cd69c42b611b4f218395e2eb1a7cbd">ubusd_send_event</a>(NULL, <span class="stringliteral">&quot;ubus.acl.sequence&quot;</span>, <a class="code hl_function" href="../../dd/d84/ubusd__acl_8c.html#a64f201561c29a4fc1e771965716cd0d3">ubusd_create_sequence_event_msg</a>, NULL);</div>
<div class="line"><span class="lineno">  477</span>}</div>
<div class="ttc" id="aubusd_8h_html_a61cd69c42b611b4f218395e2eb1a7cbd"><div class="ttname"><a href="../../d2/dbe/ubusd_8h.html#a61cd69c42b611b4f218395e2eb1a7cbd">ubusd_send_event</a></div><div class="ttdeci">int ubusd_send_event(struct ubus_client *cl, const char *id, event_fill_cb fill_cb, void *cb_priv)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/df2/ubusd__event_8c_source.html#l00140">ubusd_event.c:140</a></div></div>
<div class="ttc" id="aubusd__acl_8c_html_a26a981ba69867d98d31a9a1dcccc2197"><div class="ttname"><a href="../../dd/d84/ubusd__acl_8c.html#a26a981ba69867d98d31a9a1dcccc2197">ubusd_acl_dir</a></div><div class="ttdeci">const char * ubusd_acl_dir</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d84/ubusd__acl_8c_source.html#l00071">ubusd_acl.c:71</a></div></div>
<div class="ttc" id="aubusd__acl_8c_html_a3e045da171102f1f642670238e194c16"><div class="ttname"><a href="../../dd/d84/ubusd__acl_8c.html#a3e045da171102f1f642670238e194c16">ubusd_acl_seq</a></div><div class="ttdeci">static int ubusd_acl_seq</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d84/ubusd__acl_8c_source.html#l00074">ubusd_acl.c:74</a></div></div>
<div class="ttc" id="aubusd__acl_8c_html_a4b15243c3f4548a3bfa98899d55a0553"><div class="ttname"><a href="../../dd/d84/ubusd__acl_8c.html#a4b15243c3f4548a3bfa98899d55a0553">ubusd_acl_load_file</a></div><div class="ttdeci">static int ubusd_acl_load_file(const char *filename)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d84/ubusd__acl_8c_source.html#l00418">ubusd_acl.c:418</a></div></div>
<div class="ttc" id="aubusd__acl_8c_html_a64f201561c29a4fc1e771965716cd0d3"><div class="ttname"><a href="../../dd/d84/ubusd__acl_8c.html#a64f201561c29a4fc1e771965716cd0d3">ubusd_create_sequence_event_msg</a></div><div class="ttdeci">static struct ubus_msg_buf * ubusd_create_sequence_event_msg(void *priv, const char *id)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d84/ubusd__acl_8c_source.html#l00401">ubusd_acl.c:401</a></div></div>
<div class="ttc" id="aubusd__obj_8c_html_a9ece2e576492090c46d5e3b435cef7d4"><div class="ttname"><a href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a></div><div class="ttdeci">struct avl_tree path</div><div class="ttdef"><b>Definition</b> <a href="../../df/d0e/ubusd__obj_8c_source.html#l00019">ubusd_obj.c:19</a></div></div>
<div class="ttc" id="avlist_8c_html_a62a8ae640752531c644d53311b98d53a"><div class="ttname"><a href="../../d5/d9a/vlist_8c.html#a62a8ae640752531c644d53311b98d53a">vlist_flush</a></div><div class="ttdeci">void vlist_flush(struct vlist_tree *tree)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d9a/vlist_8c_source.html#l00062">vlist.c:62</a></div></div>
<div class="ttc" id="avlist_8h_html_ac66f6ee1f1beb49157d2e737c68713ba"><div class="ttname"><a href="../../dd/d1d/vlist_8h.html#ac66f6ee1f1beb49157d2e737c68713ba">vlist_update</a></div><div class="ttdeci">static void vlist_update(struct vlist_tree *tree)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d1d/vlist_8h_source.html#l00062">vlist.h:62</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>, <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00071">ubusd_acl_dir</a>, <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00418">ubusd_acl_load_file()</a>, <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00074">ubusd_acl_seq</a>, <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00401">ubusd_create_sequence_event_msg()</a>, <a class="el" href="../../d1/df2/ubusd__event_8c_source.html#l00140">ubusd_send_event()</a>, <a class="el" href="../../d5/d9a/vlist_8c_source.html#l00062">vlist_flush()</a>, and <a class="el" href="../../dd/d1d/vlist_8h_source.html#l00062">vlist_update()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dd3/ubusd__main_8c_source.html#l00265">main()</a>, and <a class="el" href="../../dd/dd3/ubusd__main_8c_source.html#l00245">sighup_handler()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d2e/ubusd__acl_8h_aee4a5e1b0cb03672435025aa003573ba_cgraph.png" border="0" usemap="#adf/d2e/ubusd__acl_8h_aee4a5e1b0cb03672435025aa003573ba_cgraph" alt=""/></div>
<map name="adf/d2e/ubusd__acl_8h_aee4a5e1b0cb03672435025aa003573ba_cgraph" id="adf/d2e/ubusd__acl_8h_aee4a5e1b0cb03672435025aa003573ba_cgraph">
<area shape="rect" title=" " alt="" coords="5,618,168,651"/>
<area shape="rect" href="../../dd/d84/ubusd__acl_8c.html#a4b15243c3f4548a3bfa98899d55a0553" title=" " alt="" coords="238,475,437,509"/>
<area shape="poly" title=" " alt="" coords="117,615,291,515,294,519,120,619"/>
<area shape="rect" href="../../dd/d84/ubusd__acl_8c.html#a64f201561c29a4fc1e771965716cd0d3" title=" " alt="" coords="216,190,459,247"/>
<area shape="poly" title=" " alt="" coords="96,616,309,259,313,262,100,619"/>
<area shape="rect" href="../../d1/df2/ubusd__event_8c.html#a61cd69c42b611b4f218395e2eb1a7cbd" title=" " alt="" coords="240,702,435,735"/>
<area shape="poly" title=" " alt="" coords="140,649,271,694,270,699,138,655"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#a62a8ae640752531c644d53311b98d53a" title=" " alt="" coords="280,618,395,651"/>
<area shape="poly" title=" " alt="" coords="168,632,264,632,264,637,168,637"/>
<area shape="rect" href="../../dd/d1d/vlist_8h.html#ac66f6ee1f1beb49157d2e737c68713ba" title=" " alt="" coords="271,759,404,793"/>
<area shape="poly" title=" " alt="" coords="104,650,151,698,182,724,217,746,256,761,254,766,214,750,179,728,147,702,100,654"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="578,286,717,319"/>
<area shape="poly" title=" " alt="" coords="366,472,604,326,606,330,368,477"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1524,327,1665,361"/>
<area shape="poly" title=" " alt="" coords="378,472,438,450,506,431,627,411,722,404,940,405,1173,405,1263,401,1353,391,1508,362,1509,367,1354,396,1263,406,1173,411,940,411,722,409,628,416,508,436,439,455,380,477"/>
<area shape="rect" href="../../d5/d7f/blobmsg__json_8c.html#a7f16b1915ac39b6888614f5fcc0661f8" title=" " alt="" coords="507,560,788,594"/>
<area shape="poly" title=" " alt="" coords="385,507,508,547,537,554,535,559,506,552,384,512"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="564,503,732,537"/>
<area shape="poly" title=" " alt="" coords="438,498,549,508,548,514,437,504"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#ac913b1e12f698be7f0d79ed459a68cd7" title=" " alt="" coords="596,446,699,479"/>
<area shape="poly" title=" " alt="" coords="437,480,581,466,581,471,438,485"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1334,231,1439,265"/>
<area shape="poly" title=" " alt="" coords="717,287,836,271,970,260,1103,252,1318,246,1318,251,1103,258,970,265,837,276,718,293"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="851,286,1032,319"/>
<area shape="poly" title=" " alt="" coords="718,300,836,300,836,305,718,305"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1523,256,1666,290"/>
<area shape="poly" title=" " alt="" coords="1440,252,1508,260,1508,265,1439,257"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1523,132,1666,166"/>
<area shape="poly" title=" " alt="" coords="1438,231,1474,217,1516,196,1555,172,1557,177,1519,200,1476,222,1440,236"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1714,188,1812,222"/>
<area shape="poly" title=" " alt="" coords="1628,324,1664,300,1703,266,1735,232,1739,235,1706,270,1667,305,1631,329"/>
<area shape="rect" href="../../d5/d7f/blobmsg__json_8c.html#a05a8f001d9418fdd31cf08aad8dd0cca" title=" " alt="" coords="836,618,1047,651"/>
<area shape="poly" title=" " alt="" coords="738,592,837,612,836,617,737,597"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="884,560,999,594"/>
<area shape="poly" title=" " alt="" coords="700,462,745,470,790,488,806,503,815,518,823,533,838,547,871,562,868,567,835,551,819,536,810,521,802,506,787,493,744,475,699,467"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e08d7ee7d67ff58eeea30dd8a9356d1" title=" " alt="" coords="895,446,988,479"/>
<area shape="poly" title=" " alt="" coords="700,460,879,460,879,465,700,465"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="886,503,997,537"/>
<area shape="poly" title=" " alt="" coords="700,470,872,504,871,509,699,475"/>
<area shape="poly" title=" " alt="" coords="420,245,508,272,564,285,562,290,506,277,418,250"/>
<area shape="poly" title=" " alt="" coords="372,245,432,291,469,313,508,329,571,348,625,359,674,364,720,365,817,359,940,355,1173,355,1352,352,1508,346,1508,351,1352,357,1173,360,940,360,817,365,720,370,673,370,624,365,570,353,506,334,466,317,429,295,368,249"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aa980250f4a411659367b8bffaf5d6118" title=" " alt="" coords="1095,62,1249,95"/>
<area shape="poly" title=" " alt="" coords="354,188,379,153,414,113,457,75,506,47,585,21,667,7,751,3,834,6,912,14,985,27,1102,54,1101,60,984,32,912,20,833,11,751,8,668,13,586,27,508,52,460,80,418,117,384,157,359,191"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a02523c6489a895ee963d17b13582be7a" title=" " alt="" coords="860,176,1023,210"/>
<area shape="poly" title=" " alt="" coords="460,211,845,195,845,200,460,216"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac8502f265053dcc41bf8b5ea1fd2dd33" title=" " alt="" coords="566,119,730,153"/>
<area shape="poly" title=" " alt="" coords="441,187,506,169,563,155,564,160,508,174,443,192"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393" title=" " alt="" coords="553,62,743,95"/>
<area shape="poly" title=" " alt="" coords="372,188,432,144,468,122,506,104,536,94,538,99,508,109,471,127,435,149,375,192"/>
<area shape="rect" href="../../d9/de0/ubusd_8c.html#ae88c2071350154e2eed8a6844e60a9da" title=" " alt="" coords="566,228,729,262"/>
<area shape="poly" title=" " alt="" coords="460,226,551,234,550,240,459,232"/>
<area shape="poly" title=" " alt="" coords="1249,76,1357,83,1417,90,1476,101,1543,123,1541,129,1475,106,1416,96,1357,88,1249,82"/>
<area shape="poly" title=" " alt="" coords="1249,65,1338,59,1446,61,1502,67,1559,78,1615,95,1667,118,1707,145,1739,175,1735,179,1703,149,1664,122,1613,100,1558,83,1502,73,1445,66,1339,64,1250,70"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1315,174,1457,207"/>
<area shape="poly" title=" " alt="" coords="1196,94,1242,127,1298,160,1309,165,1307,170,1296,165,1239,131,1193,98"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1297,116,1475,150"/>
<area shape="poly" title=" " alt="" coords="1241,93,1303,109,1302,115,1240,99"/>
<area shape="poly" title=" " alt="" coords="1459,205,1477,217,1495,237,1503,258,1510,279,1525,301,1545,317,1541,321,1521,304,1505,282,1498,260,1490,240,1474,221,1456,210"/>
<area shape="poly" title=" " alt="" coords="999,208,1134,244,1215,262,1297,275,1347,279,1386,279,1475,275,1508,274,1508,279,1475,280,1386,284,1347,284,1297,280,1214,267,1133,250,998,213"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aee908e6de67c16a4d810d08f28ed1803" title=" " alt="" coords="1118,174,1226,207"/>
<area shape="poly" title=" " alt="" coords="1023,190,1102,189,1102,194,1023,195"/>
<area shape="poly" title=" " alt="" coords="1227,202,1319,227,1318,232,1226,208"/>
<area shape="poly" title=" " alt="" coords="1227,188,1300,188,1300,193,1227,193"/>
<area shape="poly" title=" " alt="" coords="1226,174,1305,152,1306,157,1227,179"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a055e87e50f40e8a0bffc669e2a47d1eb" title=" " alt="" coords="891,119,992,153"/>
<area shape="poly" title=" " alt="" coords="730,133,875,133,875,139,730,139"/>
<area shape="poly" title=" " alt="" coords="993,145,1103,172,1102,177,992,150"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="844,62,1039,95"/>
<area shape="poly" title=" " alt="" coords="743,76,829,76,829,81,743,81"/>
<area shape="rect" href="../../d9/de0/ubusd_8c.html#a19a646e5c3d7ddd2cb4004d68896f12a" title=" " alt="" coords="567,675,728,709"/>
<area shape="poly" title=" " alt="" coords="435,708,551,697,552,703,435,713"/>
<area shape="rect" href="../../dc/d3c/ubus__common_8h.html#afa8a89e392860a6f7069e2b84c4806a8" title=" " alt="" coords="844,730,1039,763"/>
<area shape="poly" title=" " alt="" coords="435,720,828,739,828,744,435,726"/>
<area shape="rect" href="../../dd/d84/ubusd__acl_8c.html#a3c4bac46cccd1eab057aab786a08db2e" title=" " alt="" coords="559,784,736,818"/>
<area shape="poly" title=" " alt="" coords="421,733,460,744,508,763,558,777,557,783,506,768,458,749,420,739"/>
<area shape="rect" href="../../d1/df2/ubusd__event_8c.html#a8bd3811818185692d0aba1bf4dec514b" title=" " alt="" coords="526,842,769,875"/>
<area shape="poly" title=" " alt="" coords="436,731,461,745,478,766,485,788,492,809,509,829,514,832,511,837,505,833,487,812,480,790,474,768,457,749,433,735"/>
<area shape="poly" title=" " alt="" coords="736,782,832,764,833,769,737,787"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="840,787,1043,821"/>
<area shape="poly" title=" " alt="" coords="737,799,824,800,824,806,737,805"/>
<area shape="rect" href="../../d5/d9a/vlist_8c.html#ae3f611db174c46a1558ef07aa4df0138" title=" " alt="" coords="585,618,710,651"/>
<area shape="poly" title=" " alt="" coords="395,632,569,632,569,637,395,637"/>
<area shape="poly" title=" " alt="" coords="710,620,869,589,870,594,711,625"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
