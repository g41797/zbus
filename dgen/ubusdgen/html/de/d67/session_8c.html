<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>zbus: /home/g41797/CLionProjects/github.com/g41797/zbus/src/libs/rpcd/session.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">zbus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_87a455bccb09a92130c26a11a880c98a.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_be0f2df19bf3f27ec0c95ee6f46c0514.html">rpcd</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">session.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="../../d8/d47/avl-cmp_8h_source.html">libubox/avl-cmp.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../dd/dad/blobmsg_8h_source.html">libubox/blobmsg.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d5/d1d/libubox_2utils_8h_source.html">libubox/utils.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../db/d55/libubus_8h_source.html">libubus.h</a>&gt;</code><br />
<code>#include &lt;fnmatch.h&gt;</code><br />
<code>#include &lt;glob.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d4/d2c/uci_8h_source.html">uci.h</a>&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../da/d46/session_8h_source.html">rpcd/session.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for session.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dcd/session_8c__incl.png" border="0" usemap="#a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2rpcd_2session_8c" alt=""/></div>
<map name="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2rpcd_2session_8c" id="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2rpcd_2session_8c">
<area shape="rect" title=" " alt="" coords="426,5,712,85"/>
<area shape="rect" href="../../d8/d47/avl-cmp_8h.html" title=" " alt="" coords="38,133,225,167"/>
<area shape="poly" title=" " alt="" coords="426,83,216,132,215,126,424,77"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html" title=" " alt="" coords="799,296,992,330"/>
<area shape="poly" title=" " alt="" coords="614,83,662,131,687,164,703,192,721,219,750,246,788,270,828,288,826,293,786,275,747,250,717,222,699,195,682,167,657,135,610,87"/>
<area shape="rect" href="../../d5/d1d/libubox_2utils_8h.html" title=" " alt="" coords="332,460,411,493"/>
<area shape="poly" title=" " alt="" coords="426,78,367,101,315,133,295,153,279,176,268,201,265,230,265,314,268,365,275,386,290,410,308,431,330,449,327,453,304,435,285,413,271,388,263,366,260,315,260,230,263,200,274,173,291,150,312,129,365,96,424,73"/>
<area shape="rect" href="../../db/d55/libubus_8h.html" title=" " alt="" coords="579,215,687,248"/>
<area shape="poly" title=" " alt="" coords="612,84,629,107,642,132,647,167,644,200,638,199,642,167,637,134,625,109,608,87"/>
<area shape="rect" title=" " alt="" coords="511,133,627,167"/>
<area shape="poly" title=" " alt="" coords="572,86,572,118,566,118,566,86"/>
<area shape="rect" title=" " alt="" coords="363,215,442,248"/>
<area shape="poly" title=" " alt="" coords="534,87,489,135,428,205,424,201,486,131,530,84"/>
<area shape="rect" href="../../d4/d2c/uci_8h.html" title=" " alt="" coords="785,133,851,167"/>
<area shape="poly" title=" " alt="" coords="666,83,772,127,770,132,664,88"/>
<area shape="rect" title=" " alt="" coords="466,215,555,248"/>
<area shape="poly" title=" " alt="" coords="530,87,513,109,501,134,497,167,502,200,497,200,491,167,496,132,508,107,525,84"/>
<area shape="rect" href="../../da/d46/session_8h.html" title=" " alt="" coords="1419,133,1575,167"/>
<area shape="poly" title=" " alt="" coords="713,60,1403,136,1403,141,712,65"/>
<area shape="rect" title=" " alt="" coords="846,378,945,412"/>
<area shape="poly" title=" " alt="" coords="898,330,898,363,893,363,893,330"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html" title=" " alt="" coords="593,378,673,412"/>
<area shape="poly" title=" " alt="" coords="843,333,688,380,687,374,842,328"/>
<area shape="rect" title=" " alt="" coords="579,541,687,575"/>
<area shape="poly" title=" " alt="" coords="633,413,627,460,627,493,631,526,625,526,622,493,622,460,628,412"/>
<area shape="rect" title=" " alt="" coords="637,460,727,493"/>
<area shape="poly" title=" " alt="" coords="645,411,667,445,662,448,641,414"/>
<area shape="rect" title=" " alt="" coords="5,541,98,575"/>
<area shape="poly" title=" " alt="" coords="593,402,469,420,395,437,322,462,297,478,271,496,113,543,112,538,269,491,294,474,320,457,393,432,468,415,593,397"/>
<area shape="rect" title=" " alt="" coords="752,460,845,493"/>
<area shape="poly" title=" " alt="" coords="667,410,752,450,750,455,665,415"/>
<area shape="rect" title=" " alt="" coords="869,460,954,493"/>
<area shape="poly" title=" " alt="" coords="673,405,855,456,854,462,672,410"/>
<area shape="rect" title=" " alt="" coords="977,460,1065,493"/>
<area shape="poly" title=" " alt="" coords="674,405,692,409,826,432,886,441,962,456,961,461,885,447,825,438,691,414,673,410"/>
<area shape="poly" title=" " alt="" coords="593,411,426,461,425,456,592,406"/>
<area shape="poly" title=" " alt="" coords="412,487,566,534,564,539,410,492"/>
<area shape="poly" title=" " alt="" coords="333,491,315,496,113,543,112,538,314,491,331,486"/>
<area shape="rect" title=" " alt="" coords="1543,541,1654,575"/>
<area shape="poly" title=" " alt="" coords="411,478,625,491,1041,511,1223,521,1457,539,1527,546,1527,551,1457,544,1223,527,1041,517,625,496,411,483"/>
<area shape="rect" title=" " alt="" coords="877,541,1005,575"/>
<area shape="poly" title=" " alt="" coords="411,481,862,543,861,549,411,486"/>
<area shape="rect" title=" " alt="" coords="122,541,240,575"/>
<area shape="poly" title=" " alt="" coords="334,496,234,538,232,533,332,491"/>
<area shape="rect" title=" " alt="" coords="1347,541,1444,575"/>
<area shape="poly" title=" " alt="" coords="411,478,753,501,1242,539,1332,547,1331,553,1242,544,752,506,411,483"/>
<area shape="rect" title=" " alt="" coords="263,541,344,575"/>
<area shape="poly" title=" " alt="" coords="360,496,329,531,325,528,356,492"/>
<area shape="rect" title=" " alt="" coords="367,541,555,575"/>
<area shape="poly" title=" " alt="" coords="391,492,433,529,430,533,388,496"/>
<area shape="poly" title=" " alt="" coords="687,246,828,289,827,294,685,251"/>
<area shape="poly" title=" " alt="" coords="579,249,568,251,489,263,426,268,364,277,288,299,215,327,159,356,135,374,114,397,93,425,73,461,61,494,56,526,50,525,56,492,68,459,89,422,110,393,132,370,156,351,213,322,287,294,363,271,425,263,488,258,567,246,578,243"/>
<area shape="rect" href="../../d3/d51/avl_8h.html" title=" " alt="" coords="1052,378,1192,412"/>
<area shape="poly" title=" " alt="" coords="658,246,733,295,789,328,852,349,917,364,1037,383,1036,389,916,370,850,354,786,332,731,299,655,251"/>
<area shape="rect" href="../../da/d23/list_8h.html" title=" " alt="" coords="1089,460,1155,493"/>
<area shape="poly" title=" " alt="" coords="647,247,676,282,720,327,774,373,835,409,898,431,950,439,1005,444,1074,457,1073,462,1005,450,950,445,896,436,833,414,771,377,716,331,672,286,643,250"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html" title=" " alt="" coords="300,378,464,412"/>
<area shape="poly" title=" " alt="" coords="587,251,538,272,489,299,445,333,408,369,404,365,441,329,486,294,536,267,585,246"/>
<area shape="rect" href="../../d5/d79/ubusmsg_8h.html" title=" " alt="" coords="300,296,425,330"/>
<area shape="poly" title=" " alt="" coords="579,251,432,294,431,289,578,246"/>
<area shape="rect" href="../../dc/d3c/ubus__common_8h.html" title=" " alt="" coords="499,296,673,330"/>
<area shape="poly" title=" " alt="" coords="626,250,606,284,601,281,621,247"/>
<area shape="poly" title=" " alt="" coords="1142,410,1158,429,1172,450,1178,473,1176,485,1169,495,1150,503,1109,511,982,527,703,554,702,548,982,521,1108,505,1148,498,1166,491,1171,483,1172,473,1167,453,1154,432,1138,414"/>
<area shape="rect" title=" " alt="" coords="1134,541,1230,575"/>
<area shape="poly" title=" " alt="" coords="1161,410,1190,430,1214,458,1219,477,1218,495,1204,529,1199,527,1212,494,1214,477,1209,461,1187,434,1158,414"/>
<area shape="poly" title=" " alt="" coords="1125,412,1125,444,1120,444,1120,412"/>
<area shape="poly" title=" " alt="" coords="1089,493,1077,496,976,517,874,533,703,554,702,548,873,528,975,512,1076,491,1088,487"/>
<area shape="poly" title=" " alt="" coords="1136,492,1163,527,1159,531,1132,495"/>
<area shape="poly" title=" " alt="" coords="397,410,432,450,481,491,523,515,567,533,565,538,521,520,478,496,429,454,393,414"/>
<area shape="poly" title=" " alt="" coords="300,409,221,428,180,443,142,462,103,494,73,530,69,527,99,490,139,457,178,438,219,423,299,403"/>
<area shape="poly" title=" " alt="" coords="417,410,510,450,626,491,750,522,863,542,862,548,748,527,624,496,508,455,415,415"/>
<area shape="poly" title=" " alt="" coords="300,411,212,432,177,445,155,461,149,476,149,493,163,527,158,529,144,494,143,475,151,458,174,441,210,426,299,406"/>
<area shape="poly" title=" " alt="" coords="465,400,793,427,960,443,1074,457,1074,463,960,449,793,433,464,405"/>
<area shape="rect" title=" " alt="" coords="164,460,259,493"/>
<area shape="poly" title=" " alt="" coords="349,415,261,455,258,451,347,410"/>
<area shape="poly" title=" " alt="" coords="418,328,579,375,577,380,416,333"/>
<area shape="poly" title=" " alt="" coords="314,333,264,353,207,381,150,417,99,461,77,494,63,528,58,525,72,491,95,458,147,413,205,376,262,348,312,328"/>
<area shape="poly" title=" " alt="" coords="587,331,583,378,583,411,600,473,621,526,616,528,595,475,578,412,578,378,582,330"/>
<area shape="poly" title=" " alt="" coords="852,149,968,151,1125,159,1205,167,1278,179,1340,193,1385,212,1427,245,1465,283,1497,326,1525,371,1567,458,1592,525,1587,527,1562,460,1520,374,1493,329,1461,287,1424,249,1382,217,1339,198,1277,184,1204,173,1124,165,968,156,852,154"/>
<area shape="poly" title=" " alt="" coords="852,148,958,149,1097,157,1168,165,1232,176,1285,192,1321,213,1340,235,1347,257,1347,312,1347,396,1345,420,1336,439,1323,452,1307,462,1266,478,1219,496,1170,516,1118,531,1021,550,1020,545,1116,526,1168,511,1217,491,1264,473,1304,458,1320,448,1332,436,1339,419,1342,396,1342,312,1342,258,1335,237,1318,217,1282,197,1231,181,1167,170,1097,162,957,154,852,153"/>
<area shape="poly" title=" " alt="" coords="852,148,962,150,1110,159,1184,167,1253,178,1310,193,1350,212,1375,233,1389,255,1396,280,1398,312,1398,396,1398,526,1393,526,1393,396,1393,312,1391,281,1384,257,1371,237,1347,217,1308,198,1251,183,1183,172,1109,164,962,156,852,154"/>
<area shape="poly" title=" " alt="" coords="786,168,686,211,684,206,784,163"/>
<area shape="poly" title=" " alt="" coords="785,158,646,180,458,217,457,212,645,174,784,153"/>
<area shape="poly" title=" " alt="" coords="852,132,870,136,876,141,878,150,875,159,868,165,865,161,871,156,873,150,871,144,867,140,851,137"/>
<area shape="poly" title=" " alt="" coords="785,162,571,217,569,211,784,157"/>
<area shape="rect" title=" " alt="" coords="900,215,993,248"/>
<area shape="poly" title=" " alt="" coords="845,165,909,204,906,209,843,169"/>
<area shape="rect" title=" " alt="" coords="761,215,875,248"/>
<area shape="poly" title=" " alt="" coords="821,167,821,199,816,199,816,167"/>
<area shape="poly" title=" " alt="" coords="1576,151,1621,157,1670,169,1718,187,1762,212,1788,234,1806,254,1816,279,1819,312,1819,396,1816,423,1805,448,1789,469,1768,488,1720,519,1670,540,1668,535,1718,514,1765,484,1785,466,1800,445,1811,422,1814,396,1814,312,1811,280,1802,257,1785,237,1759,217,1716,191,1668,174,1620,163,1575,157"/>
<area shape="poly" title=" " alt="" coords="1500,167,1500,312,1499,396,1496,415,1485,432,1468,448,1445,462,1388,487,1317,507,1239,524,1160,537,1021,553,1020,548,1159,531,1238,519,1316,502,1386,482,1443,457,1464,443,1481,429,1491,413,1494,396,1494,312,1494,167"/>
<area shape="poly" title=" " alt="" coords="1576,150,1640,157,1700,173,1724,186,1740,203,1748,224,1743,249,1723,296,1702,334,1679,364,1654,391,1594,438,1517,496,1483,518,1448,537,1446,532,1480,514,1514,491,1591,434,1650,387,1675,361,1697,331,1718,294,1738,248,1742,224,1736,206,1721,190,1698,178,1639,162,1575,155"/>
<area shape="poly" title=" " alt="" coords="1418,153,1320,156,1212,166,1161,174,1116,185,1081,199,1057,216,1047,233,1044,252,1046,272,1052,292,1074,332,1099,365,1095,368,1069,335,1047,294,1040,273,1038,252,1042,232,1054,213,1078,194,1115,180,1160,169,1211,161,1320,151,1418,148"/>
<area shape="poly" title=" " alt="" coords="1419,162,1233,183,1012,217,1009,218,1008,213,1011,212,1232,178,1418,156"/>
<area shape="rect" title=" " alt="" coords="1534,215,1625,248"/>
<area shape="poly" title=" " alt="" coords="1515,165,1554,202,1550,206,1512,169"/>
<area shape="rect" title=" " alt="" coords="1649,215,1729,248"/>
<area shape="poly" title=" " alt="" coords="1537,165,1637,206,1635,211,1535,170"/>
<area shape="rect" href="../../d5/dea/blobmsg__json_8h.html" title=" " alt="" coords="1067,215,1308,248"/>
<area shape="poly" title=" " alt="" coords="1435,170,1266,213,1264,208,1433,165"/>
<area shape="poly" title=" " alt="" coords="1129,251,970,294,969,289,1127,246"/>
<area shape="poly" title=" " alt="" coords="1197,248,1214,297,1227,364,1229,400,1224,435,1212,468,1190,496,1169,503,1126,510,994,526,702,554,702,548,993,521,1125,505,1168,497,1187,491,1208,465,1219,434,1224,400,1222,365,1209,298,1192,250"/>
</map>
</div>
</div>
<p><a href="../../de/d67/session_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a369266c24eacffb87046522897a570d5" id="r_a369266c24eacffb87046522897a570d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a369266c24eacffb87046522897a570d5">_GNU_SOURCE</a>&#160;&#160;&#160;/* crypt() */</td></tr>
<tr class="separator:a369266c24eacffb87046522897a570d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44bec4bd75f36d58605ebe221cea6d9e" id="r_a44bec4bd75f36d58605ebe221cea6d9e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44bec4bd75f36d58605ebe221cea6d9e">uh_foreach_matching_acl_prefix</a>(_acl,  _avl,  _obj,  _func)</td></tr>
<tr class="separator:a44bec4bd75f36d58605ebe221cea6d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae10521efbe9aecaa647e9c3cf93870d2" id="r_ae10521efbe9aecaa647e9c3cf93870d2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae10521efbe9aecaa647e9c3cf93870d2">uh_foreach_matching_acl</a>(_acl,  _avl,  _obj,  _func)</td></tr>
<tr class="separator:ae10521efbe9aecaa647e9c3cf93870d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7495a48740c9d555f7fbcb48246dbd93" id="r_a7495a48740c9d555f7fbcb48246dbd93"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="#a7495a48740c9d555f7fbcb48246dbd93adc0518217bf21b0c034513ce86612278">RPC_SN_TIMEOUT</a>
, <a class="el" href="#a7495a48740c9d555f7fbcb48246dbd93aecfdd63ed07e86e15a574255c4ed0fa3">__RPC_SN_MAX</a>
 }</td></tr>
<tr class="separator:a7495a48740c9d555f7fbcb48246dbd93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a3be2d66956bd67c0b66c32d8b30f17" id="r_a9a3be2d66956bd67c0b66c32d8b30f17"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="#a9a3be2d66956bd67c0b66c32d8b30f17aafb68c3e8acfc7f569d6d65ca53ed99b">RPC_SI_SID</a>
, <a class="el" href="#a9a3be2d66956bd67c0b66c32d8b30f17a77ef799dd14ad9effb178127fe64563a">__RPC_SI_MAX</a>
 }</td></tr>
<tr class="separator:a9a3be2d66956bd67c0b66c32d8b30f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dbb833ef0dcc466dd02ee76badaf709" id="r_a2dbb833ef0dcc466dd02ee76badaf709"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="#a2dbb833ef0dcc466dd02ee76badaf709a885b7787c057874d55330e82faabf99a">RPC_SS_SID</a>
, <a class="el" href="#a2dbb833ef0dcc466dd02ee76badaf709a5ba5da59a03918fb00f5405d1f7e284d">RPC_SS_VALUES</a>
, <a class="el" href="#a2dbb833ef0dcc466dd02ee76badaf709ac4b7bfe6ac654a6aca31acc5f4abfdc6">__RPC_SS_MAX</a>
 }</td></tr>
<tr class="separator:a2dbb833ef0dcc466dd02ee76badaf709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea33efd5e2c69d615faad5c5965510aa" id="r_aea33efd5e2c69d615faad5c5965510aa"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="#aea33efd5e2c69d615faad5c5965510aaa3308333bea2a8c95eddce951eaa3c597">RPC_SG_SID</a>
, <a class="el" href="#aea33efd5e2c69d615faad5c5965510aaaa8d6538bd45f6bdeb6c79ed7ff545e0d">RPC_SG_KEYS</a>
, <a class="el" href="#aea33efd5e2c69d615faad5c5965510aaa23c0dc51e1811437f861fd77c1062bac">__RPC_SG_MAX</a>
 }</td></tr>
<tr class="separator:aea33efd5e2c69d615faad5c5965510aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b887f38fa71033f0904f8e2330b6815" id="r_a0b887f38fa71033f0904f8e2330b6815"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="#a0b887f38fa71033f0904f8e2330b6815a516826d3b174795b30a72fde859a35d9">RPC_SA_SID</a>
, <a class="el" href="#a0b887f38fa71033f0904f8e2330b6815a82d9969369c967db453bdba7c78da8af">RPC_SA_SCOPE</a>
, <a class="el" href="#a0b887f38fa71033f0904f8e2330b6815a1a6f8f37441cf9081ea72c67e60ef63d">RPC_SA_OBJECTS</a>
, <a class="el" href="#a0b887f38fa71033f0904f8e2330b6815a37af7acec1cba488ebf34308562677f2">__RPC_SA_MAX</a>
 }</td></tr>
<tr class="separator:a0b887f38fa71033f0904f8e2330b6815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84fe57ba52f8e237004a413b27ea4db8" id="r_a84fe57ba52f8e237004a413b27ea4db8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="#a84fe57ba52f8e237004a413b27ea4db8a31a7b418b4a1ba7ab30b72277dfa755c">RPC_SP_SID</a>
, <a class="el" href="#a84fe57ba52f8e237004a413b27ea4db8a9a63e9dbf1d8323c1da1a0462634e2ca">RPC_SP_SCOPE</a>
, <a class="el" href="#a84fe57ba52f8e237004a413b27ea4db8a2d2d07eb39f912d085f60d024939df79">RPC_SP_OBJECT</a>
, <a class="el" href="#a84fe57ba52f8e237004a413b27ea4db8a134cb4b11639906131c55370ac1e5d3c">RPC_SP_FUNCTION</a>
, <br />
&#160;&#160;<a class="el" href="#a84fe57ba52f8e237004a413b27ea4db8a0419328334e17df25e7527e21dd8c02f">__RPC_SP_MAX</a>
<br />
 }</td></tr>
<tr class="separator:a84fe57ba52f8e237004a413b27ea4db8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78372742882dccd1c13323dbd66c25c5" id="r_a78372742882dccd1c13323dbd66c25c5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="#a78372742882dccd1c13323dbd66c25c5a40107bf61cfea7aeb6d49918058a36f9">RPC_DUMP_SID</a>
, <a class="el" href="#a78372742882dccd1c13323dbd66c25c5a903fdd94b3a31b264ea0abf4db273517">RPC_DUMP_TIMEOUT</a>
, <a class="el" href="#a78372742882dccd1c13323dbd66c25c5a76d5842ac4eb500fe949e1d5bc36ed3b">RPC_DUMP_EXPIRES</a>
, <a class="el" href="#a78372742882dccd1c13323dbd66c25c5a07df4283450205e00ade396b3c517293">RPC_DUMP_DATA</a>
, <br />
&#160;&#160;<a class="el" href="#a78372742882dccd1c13323dbd66c25c5a01fc1a750620f803e79261d254caecbe">__RPC_DUMP_MAX</a>
<br />
 }</td></tr>
<tr class="separator:a78372742882dccd1c13323dbd66c25c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d5492e116eebd5075f247d21fb9db26" id="r_a2d5492e116eebd5075f247d21fb9db26"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="#a2d5492e116eebd5075f247d21fb9db26ad927957e6550c480241ceffb6de312bd">RPC_L_USERNAME</a>
, <a class="el" href="#a2d5492e116eebd5075f247d21fb9db26ac913380063b5c1d34c88d83f1c19c4ab">RPC_L_PASSWORD</a>
, <a class="el" href="#a2d5492e116eebd5075f247d21fb9db26ad3a863f272e87e7dadb3d6748bc2f7c4">RPC_L_TIMEOUT</a>
, <a class="el" href="#a2d5492e116eebd5075f247d21fb9db26a65a189b79b0bb1fec878b52bd956954c">__RPC_L_MAX</a>
 }</td></tr>
<tr class="separator:a2d5492e116eebd5075f247d21fb9db26"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a968e2fddafd77ba7efbc0fa960b2d4eb" id="r_a968e2fddafd77ba7efbc0fa960b2d4eb"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a968e2fddafd77ba7efbc0fa960b2d4eb">LIST_HEAD</a> (create_callbacks)</td></tr>
<tr class="separator:a968e2fddafd77ba7efbc0fa960b2d4eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3de052fb70d454d9ea0f75dffee9390" id="r_aa3de052fb70d454d9ea0f75dffee9390"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa3de052fb70d454d9ea0f75dffee9390">LIST_HEAD</a> (destroy_callbacks)</td></tr>
<tr class="separator:aa3de052fb70d454d9ea0f75dffee9390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb30923ed65e01b2047d9d2034a1b15d" id="r_adb30923ed65e01b2047d9d2034a1b15d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb30923ed65e01b2047d9d2034a1b15d">rpc_random</a> (char *dest)</td></tr>
<tr class="separator:adb30923ed65e01b2047d9d2034a1b15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0976582c7397887dad087ddf62cacabd" id="r_a0976582c7397887dad087ddf62cacabd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0976582c7397887dad087ddf62cacabd">rpc_session_dump_data</a> (struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses, struct <a class="el" href="../../d8/d3c/blob_8h.html#d3/dcb/structblob__buf">blob_buf</a> *<a class="el" href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a>)</td></tr>
<tr class="separator:a0976582c7397887dad087ddf62cacabd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40fa1238b59f856f01058476b97d4ce9" id="r_a40fa1238b59f856f01058476b97d4ce9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40fa1238b59f856f01058476b97d4ce9">rpc_session_dump_acls</a> (struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses, struct <a class="el" href="../../d8/d3c/blob_8h.html#d3/dcb/structblob__buf">blob_buf</a> *<a class="el" href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a>)</td></tr>
<tr class="separator:a40fa1238b59f856f01058476b97d4ce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa8dccc7bffc72a3e31e4f3e14792e6d" id="r_aaa8dccc7bffc72a3e31e4f3e14792e6d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa8dccc7bffc72a3e31e4f3e14792e6d">rpc_session_to_blob</a> (struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses, bool acls)</td></tr>
<tr class="separator:aaa8dccc7bffc72a3e31e4f3e14792e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5d591f9a73009f4be53ee07d73cbf49" id="r_ae5d591f9a73009f4be53ee07d73cbf49"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae5d591f9a73009f4be53ee07d73cbf49">rpc_session_dump</a> (struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses, struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req)</td></tr>
<tr class="separator:ae5d591f9a73009f4be53ee07d73cbf49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a41226cf2bf6546acd3cb1975459c9" id="r_a15a41226cf2bf6546acd3cb1975459c9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15a41226cf2bf6546acd3cb1975459c9">rpc_touch_session</a> (struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses)</td></tr>
<tr class="separator:a15a41226cf2bf6546acd3cb1975459c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8a6b910b22f08634f041229c48633b0" id="r_af8a6b910b22f08634f041229c48633b0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af8a6b910b22f08634f041229c48633b0">rpc_session_destroy</a> (struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses)</td></tr>
<tr class="separator:af8a6b910b22f08634f041229c48633b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a942904f3bce66749528077eea3656a9e" id="r_a942904f3bce66749528077eea3656a9e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a942904f3bce66749528077eea3656a9e">rpc_session_timeout</a> (struct <a class="el" href="../../dc/d56/uloop_8h.html#d8/d2b/structuloop__timeout">uloop_timeout</a> *t)</td></tr>
<tr class="separator:a942904f3bce66749528077eea3656a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e65e993938bcd87e1a73d5120121e4e" id="r_a4e65e993938bcd87e1a73d5120121e4e"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4e65e993938bcd87e1a73d5120121e4e">rpc_session_new</a> (void)</td></tr>
<tr class="separator:a4e65e993938bcd87e1a73d5120121e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4368db4f95cd28dc11c33e44a7e8f3fe" id="r_a4368db4f95cd28dc11c33e44a7e8f3fe"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4368db4f95cd28dc11c33e44a7e8f3fe">rpc_session_create</a> (int <a class="el" href="../../de/d89/procd_2ubus_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>)</td></tr>
<tr class="separator:a4368db4f95cd28dc11c33e44a7e8f3fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a537c67da2d6dac42f8bda20e0b888f5a" id="r_a537c67da2d6dac42f8bda20e0b888f5a"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a537c67da2d6dac42f8bda20e0b888f5a">rpc_session_get</a> (const char *<a class="el" href="../../dd/d8f/udebug-proto_8h.html#abaabdc509cdaba7df9f56c6c76f3ae19">id</a>)</td></tr>
<tr class="separator:a537c67da2d6dac42f8bda20e0b888f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27f1b70de357b51fbf5bb9295b695c18" id="r_a27f1b70de357b51fbf5bb9295b695c18"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27f1b70de357b51fbf5bb9295b695c18">rpc_handle_create</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a27f1b70de357b51fbf5bb9295b695c18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ec8521cf4b4877fe2f86c26d8cff85" id="r_a04ec8521cf4b4877fe2f86c26d8cff85"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04ec8521cf4b4877fe2f86c26d8cff85">rpc_handle_list</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a04ec8521cf4b4877fe2f86c26d8cff85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6821acd43665ce9878cf066c08cc5b8e" id="r_a6821acd43665ce9878cf066c08cc5b8e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6821acd43665ce9878cf066c08cc5b8e">uh_id_len</a> (const char *str)</td></tr>
<tr class="separator:a6821acd43665ce9878cf066c08cc5b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f7993c2572c4099268c121f3fe5eab5" id="r_a8f7993c2572c4099268c121f3fe5eab5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f7993c2572c4099268c121f3fe5eab5">rpc_session_grant</a> (struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses, const char *scope, const char *object, const char *function)</td></tr>
<tr class="separator:a8f7993c2572c4099268c121f3fe5eab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a264b4df2e8ea90cf5c55fc8854dca" id="r_a54a264b4df2e8ea90cf5c55fc8854dca"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a54a264b4df2e8ea90cf5c55fc8854dca">rpc_session_revoke</a> (struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses, const char *scope, const char *object, const char *function)</td></tr>
<tr class="separator:a54a264b4df2e8ea90cf5c55fc8854dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13cfab50b5022e760fd8a6912d5e5709" id="r_a13cfab50b5022e760fd8a6912d5e5709"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13cfab50b5022e760fd8a6912d5e5709">rpc_handle_acl</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a13cfab50b5022e760fd8a6912d5e5709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f918a84b17c94f97c3eb8a91f7721b3" id="r_a4f918a84b17c94f97c3eb8a91f7721b3"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f918a84b17c94f97c3eb8a91f7721b3">rpc_session_acl_allowed</a> (struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses, const char *scope, const char *obj, const char *fun)</td></tr>
<tr class="separator:a4f918a84b17c94f97c3eb8a91f7721b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0adf54796274bf64ae28142fa89dd42f" id="r_a0adf54796274bf64ae28142fa89dd42f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0adf54796274bf64ae28142fa89dd42f">rpc_handle_access</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a0adf54796274bf64ae28142fa89dd42f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa249955e5ae81bcc548041c4055cef7e" id="r_aa249955e5ae81bcc548041c4055cef7e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa249955e5ae81bcc548041c4055cef7e">rpc_session_set</a> (struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *val)</td></tr>
<tr class="separator:aa249955e5ae81bcc548041c4055cef7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6533cf4c11da9b785a4b2426dc4708c1" id="r_a6533cf4c11da9b785a4b2426dc4708c1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6533cf4c11da9b785a4b2426dc4708c1">rpc_handle_set</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a6533cf4c11da9b785a4b2426dc4708c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64ad26085ddb0e5f6e5ee716177a49a0" id="r_a64ad26085ddb0e5f6e5ee716177a49a0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64ad26085ddb0e5f6e5ee716177a49a0">rpc_handle_get</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a64ad26085ddb0e5f6e5ee716177a49a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25375f981d9230b4459af60c1ebd2054" id="r_a25375f981d9230b4459af60c1ebd2054"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25375f981d9230b4459af60c1ebd2054">rpc_handle_unset</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a25375f981d9230b4459af60c1ebd2054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ac23013fc940ce1da004d6eadbf37ac" id="r_a8ac23013fc940ce1da004d6eadbf37ac"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ac23013fc940ce1da004d6eadbf37ac">rpc_handle_destroy</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a8ac23013fc940ce1da004d6eadbf37ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a283fa7ba72f3f3c18d80b4e76a0dd45e" id="r_a283fa7ba72f3f3c18d80b4e76a0dd45e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a283fa7ba72f3f3c18d80b4e76a0dd45e">rpc_login_test_password</a> (const char *hash, const char *password)</td></tr>
<tr class="separator:a283fa7ba72f3f3c18d80b4e76a0dd45e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a479fcd3fc3d6fd7fdfe9a1cdd6ed2805" id="r_a479fcd3fc3d6fd7fdfe9a1cdd6ed2805"><td class="memItemLeft" align="right" valign="top">static struct uci_section *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a479fcd3fc3d6fd7fdfe9a1cdd6ed2805">rpc_login_test_login</a> (struct uci_context *uci, const char *username, const char *password)</td></tr>
<tr class="separator:a479fcd3fc3d6fd7fdfe9a1cdd6ed2805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab66f25622724fa0fb71cf94b5729029" id="r_aab66f25622724fa0fb71cf94b5729029"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab66f25622724fa0fb71cf94b5729029">rpc_login_test_permission</a> (struct uci_section *s, const char *perm, const char *group)</td></tr>
<tr class="separator:aab66f25622724fa0fb71cf94b5729029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b129810ed941702e537e06f2400ad09" id="r_a0b129810ed941702e537e06f2400ad09"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b129810ed941702e537e06f2400ad09">rpc_login_setup_acl_scope</a> (struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *acl_perm, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *acl_scope)</td></tr>
<tr class="separator:a0b129810ed941702e537e06f2400ad09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab75bdbde0c1e7b4d0109da0143c96625" id="r_ab75bdbde0c1e7b4d0109da0143c96625"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab75bdbde0c1e7b4d0109da0143c96625">rpc_login_setup_acl_file</a> (struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses, struct uci_section *login, const char *<a class="el" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>)</td></tr>
<tr class="separator:ab75bdbde0c1e7b4d0109da0143c96625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a856c2fef68fa28c9590680e1f3f473eb" id="r_a856c2fef68fa28c9590680e1f3f473eb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a856c2fef68fa28c9590680e1f3f473eb">rpc_login_setup_acls</a> (struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses, struct uci_section *login)</td></tr>
<tr class="separator:a856c2fef68fa28c9590680e1f3f473eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5212206c8369e1679e9922411314cfb1" id="r_a5212206c8369e1679e9922411314cfb1"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5212206c8369e1679e9922411314cfb1">rpc_reclaim_apply_session</a> (const char *expected_username)</td></tr>
<tr class="separator:a5212206c8369e1679e9922411314cfb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a596961641959cadf3e07cc5011147c" id="r_a2a596961641959cadf3e07cc5011147c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2a596961641959cadf3e07cc5011147c">rpc_handle_login</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *obj, struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *req, const char *method, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *msg)</td></tr>
<tr class="separator:a2a596961641959cadf3e07cc5011147c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a978d20d6ff148c61baa53ddc9a1f33a2" id="r_a978d20d6ff148c61baa53ddc9a1f33a2"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a978d20d6ff148c61baa53ddc9a1f33a2">rpc_validate_sid</a> (const char *<a class="el" href="../../dd/d8f/udebug-proto_8h.html#abaabdc509cdaba7df9f56c6c76f3ae19">id</a>)</td></tr>
<tr class="separator:a978d20d6ff148c61baa53ddc9a1f33a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a595fd1f960fcebc20eef9d375a5bf6" id="r_a6a595fd1f960fcebc20eef9d375a5bf6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a595fd1f960fcebc20eef9d375a5bf6">rpc_blob_to_file</a> (const char *<a class="el" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *attr)</td></tr>
<tr class="separator:a6a595fd1f960fcebc20eef9d375a5bf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a999928b010271fb70e325adeb45d6e5b" id="r_a999928b010271fb70e325adeb45d6e5b"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a999928b010271fb70e325adeb45d6e5b">rpc_blob_from_file</a> (const char *<a class="el" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>)</td></tr>
<tr class="separator:a999928b010271fb70e325adeb45d6e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a638e465172f9d86f0ee06cbcb3f7ccdd" id="r_a638e465172f9d86f0ee06cbcb3f7ccdd"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a638e465172f9d86f0ee06cbcb3f7ccdd">rpc_session_from_blob</a> (struct uci_context *uci, struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *attr)</td></tr>
<tr class="separator:a638e465172f9d86f0ee06cbcb3f7ccdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a411259d05da2f23f6a32a0de3692ea39" id="r_a411259d05da2f23f6a32a0de3692ea39"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a411259d05da2f23f6a32a0de3692ea39">rpc_session_api_init</a> (struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *<a class="el" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>)</td></tr>
<tr class="separator:a411259d05da2f23f6a32a0de3692ea39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2361bbd15f9485ec1c79f598dd92f48" id="r_ac2361bbd15f9485ec1c79f598dd92f48"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac2361bbd15f9485ec1c79f598dd92f48">rpc_session_access</a> (const char *sid, const char *scope, const char *object, const char *function)</td></tr>
<tr class="separator:ac2361bbd15f9485ec1c79f598dd92f48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b9bb035a5633f6232a0a0f6ec4c151" id="r_a43b9bb035a5633f6232a0a0f6ec4c151"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a43b9bb035a5633f6232a0a0f6ec4c151">rpc_session_create_cb</a> (struct <a class="el" href="../../da/d46/session_8h.html#d2/d0c/structrpc__session__cb">rpc_session_cb</a> *cb)</td></tr>
<tr class="separator:a43b9bb035a5633f6232a0a0f6ec4c151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac968b549979b7bc04c07be602c56d95a" id="r_ac968b549979b7bc04c07be602c56d95a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac968b549979b7bc04c07be602c56d95a">rpc_session_destroy_cb</a> (struct <a class="el" href="../../da/d46/session_8h.html#d2/d0c/structrpc__session__cb">rpc_session_cb</a> *cb)</td></tr>
<tr class="separator:ac968b549979b7bc04c07be602c56d95a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde2b2978338930e90094dcdda33c5d3" id="r_afde2b2978338930e90094dcdda33c5d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afde2b2978338930e90094dcdda33c5d3">rpc_session_freeze</a> (void)</td></tr>
<tr class="separator:afde2b2978338930e90094dcdda33c5d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc6ba747fc8a85006bfaeddc4ea418cf" id="r_acc6ba747fc8a85006bfaeddc4ea418cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc6ba747fc8a85006bfaeddc4ea418cf">rpc_session_thaw</a> (void)</td></tr>
<tr class="separator:acc6ba747fc8a85006bfaeddc4ea418cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aba81a584ebe050715570ab74db1d30be" id="r_aba81a584ebe050715570ab74db1d30be"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d3/d51/avl_8h.html#dd/d4a/structavl__tree">avl_tree</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba81a584ebe050715570ab74db1d30be">sessions</a></td></tr>
<tr class="separator:aba81a584ebe050715570ab74db1d30be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab88af8f0f3e8ddaf6aa2623d0b84813c" id="r_ab88af8f0f3e8ddaf6aa2623d0b84813c"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d3c/blob_8h.html#d3/dcb/structblob__buf">blob_buf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a></td></tr>
<tr class="separator:ab88af8f0f3e8ddaf6aa2623d0b84813c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8c5a19913e32836ded43495a9b62610" id="r_ae8c5a19913e32836ded43495a9b62610"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8c5a19913e32836ded43495a9b62610">new_policy</a> [<a class="el" href="#a7495a48740c9d555f7fbcb48246dbd93aecfdd63ed07e86e15a574255c4ed0fa3">__RPC_SN_MAX</a>]</td></tr>
<tr class="separator:ae8c5a19913e32836ded43495a9b62610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1489ab210f37b4d0f033208fec05d712" id="r_a1489ab210f37b4d0f033208fec05d712"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1489ab210f37b4d0f033208fec05d712">sid_policy</a> [<a class="el" href="#a9a3be2d66956bd67c0b66c32d8b30f17a77ef799dd14ad9effb178127fe64563a">__RPC_SI_MAX</a>]</td></tr>
<tr class="separator:a1489ab210f37b4d0f033208fec05d712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c735acdf25c5a777e492fc85256b7a" id="r_a91c735acdf25c5a777e492fc85256b7a"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a91c735acdf25c5a777e492fc85256b7a">set_policy</a> [<a class="el" href="#a2dbb833ef0dcc466dd02ee76badaf709ac4b7bfe6ac654a6aca31acc5f4abfdc6">__RPC_SS_MAX</a>]</td></tr>
<tr class="separator:a91c735acdf25c5a777e492fc85256b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb40236fcd127dcbb509fe69b2bef01e" id="r_abb40236fcd127dcbb509fe69b2bef01e"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abb40236fcd127dcbb509fe69b2bef01e">get_policy</a> [<a class="el" href="#aea33efd5e2c69d615faad5c5965510aaa23c0dc51e1811437f861fd77c1062bac">__RPC_SG_MAX</a>]</td></tr>
<tr class="separator:abb40236fcd127dcbb509fe69b2bef01e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47810f278d213fdc913a3b3d0217c10c" id="r_a47810f278d213fdc913a3b3d0217c10c"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47810f278d213fdc913a3b3d0217c10c">acl_policy</a> [<a class="el" href="#a0b887f38fa71033f0904f8e2330b6815a37af7acec1cba488ebf34308562677f2">__RPC_SA_MAX</a>]</td></tr>
<tr class="separator:a47810f278d213fdc913a3b3d0217c10c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b034ab755e3a6aa8041dcb905bfcb6d" id="r_a9b034ab755e3a6aa8041dcb905bfcb6d"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b034ab755e3a6aa8041dcb905bfcb6d">perm_policy</a> [<a class="el" href="#a84fe57ba52f8e237004a413b27ea4db8a0419328334e17df25e7527e21dd8c02f">__RPC_SP_MAX</a>]</td></tr>
<tr class="separator:a9b034ab755e3a6aa8041dcb905bfcb6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed0170f69d5b5f75df8f438ac1303a5d" id="r_aed0170f69d5b5f75df8f438ac1303a5d"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed0170f69d5b5f75df8f438ac1303a5d">dump_policy</a> [<a class="el" href="#a78372742882dccd1c13323dbd66c25c5a01fc1a750620f803e79261d254caecbe">__RPC_DUMP_MAX</a>]</td></tr>
<tr class="separator:aed0170f69d5b5f75df8f438ac1303a5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b1bb8c17f2dd79b8ca8e6b5be4e5562" id="r_a0b1bb8c17f2dd79b8ca8e6b5be4e5562"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b1bb8c17f2dd79b8ca8e6b5be4e5562">login_policy</a> [<a class="el" href="#a2d5492e116eebd5075f247d21fb9db26a65a189b79b0bb1fec878b52bd956954c">__RPC_L_MAX</a>]</td></tr>
<tr class="separator:a0b1bb8c17f2dd79b8ca8e6b5be4e5562"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a369266c24eacffb87046522897a570d5" name="a369266c24eacffb87046522897a570d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a369266c24eacffb87046522897a570d5">&#9670;&#160;</a></span>_GNU_SOURCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _GNU_SOURCE&#160;&#160;&#160;/* crypt() */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00020">20</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>

</div>
</div>
<a id="ae10521efbe9aecaa647e9c3cf93870d2" name="ae10521efbe9aecaa647e9c3cf93870d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae10521efbe9aecaa647e9c3cf93870d2">&#9670;&#160;</a></span>uh_foreach_matching_acl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uh_foreach_matching_acl</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>_acl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>_avl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>_obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>_func</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code hl_define" href="#a44bec4bd75f36d58605ebe221cea6d9e">uh_foreach_matching_acl_prefix</a>(_acl, _avl, _obj, _func)         \</div>
<div class="line">        if (!strncmp((_acl)-&gt;<span class="keywordtype">object</span>, _obj, (_acl)-&gt;sort_len) &amp;&amp;     \</div>
<div class="line">            !fnmatch((_acl)-&gt;<span class="keywordtype">object</span>, (_obj), FNM_NOESCAPE) &amp;&amp;       \</div>
<div class="line">            !fnmatch((_acl)-&gt;function, (_func), FNM_NOESCAPE))</div>
<div class="ttc" id="asession_8c_html_a44bec4bd75f36d58605ebe221cea6d9e"><div class="ttname"><a href="#a44bec4bd75f36d58605ebe221cea6d9e">uh_foreach_matching_acl_prefix</a></div><div class="ttdeci">#define uh_foreach_matching_acl_prefix(_acl, _avl, _obj, _func)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00137">session.c:137</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00143">143</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  143</span><span class="preprocessor">#define uh_foreach_matching_acl(_acl, _avl, _obj, _func)            \</span></div>
<div class="line"><span class="lineno">  144</span><span class="preprocessor">    uh_foreach_matching_acl_prefix(_acl, _avl, _obj, _func)         \</span></div>
<div class="line"><span class="lineno">  145</span><span class="preprocessor">        if (!strncmp((_acl)-&gt;object, _obj, (_acl)-&gt;sort_len) &amp;&amp;     \</span></div>
<div class="line"><span class="lineno">  146</span><span class="preprocessor">            !fnmatch((_acl)-&gt;object, (_obj), FNM_NOESCAPE) &amp;&amp;       \</span></div>
<div class="line"><span class="lineno">  147</span><span class="preprocessor">            !fnmatch((_acl)-&gt;function, (_func), FNM_NOESCAPE))</span></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00571">rpc_session_acl_allowed()</a>.</p>

</div>
</div>
<a id="a44bec4bd75f36d58605ebe221cea6d9e" name="a44bec4bd75f36d58605ebe221cea6d9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44bec4bd75f36d58605ebe221cea6d9e">&#9670;&#160;</a></span>uh_foreach_matching_acl_prefix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uh_foreach_matching_acl_prefix</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>_acl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>_avl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>_obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>_func</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">for</span> (_acl = <a class="code hl_define" href="../../d3/d51/avl_8h.html#ad192b6c3845ad3a505b7bcb0d63dfeec">avl_find_le_element</a>(_avl, _obj, _acl, avl);         \</div>
<div class="line">         _acl;                                                      \</div>
<div class="line">         _acl = <a class="code hl_function" href="../../d3/d51/avl_8h.html#a65d0a96764dbbdc4a0a711d4f9cebe1b">avl_is_first</a>(_avl, &amp;(_acl)-&gt;avl) ? NULL :           \</div>
<div class="line">            avl_prev_element((_acl), avl))</div>
<div class="ttc" id="aavl_8h_html_a65d0a96764dbbdc4a0a711d4f9cebe1b"><div class="ttname"><a href="../../d3/d51/avl_8h.html#a65d0a96764dbbdc4a0a711d4f9cebe1b">avl_is_first</a></div><div class="ttdeci">static bool avl_is_first(struct avl_tree *tree, struct avl_node *node)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00181">avl.h:181</a></div></div>
<div class="ttc" id="aavl_8h_html_ad192b6c3845ad3a505b7bcb0d63dfeec"><div class="ttname"><a href="../../d3/d51/avl_8h.html#ad192b6c3845ad3a505b7bcb0d63dfeec">avl_find_le_element</a></div><div class="ttdeci">#define avl_find_le_element(tree, key, element, node_element)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00253">avl.h:253</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00137">137</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  137</span><span class="preprocessor">#define uh_foreach_matching_acl_prefix(_acl, _avl, _obj, _func)     \</span></div>
<div class="line"><span class="lineno">  138</span><span class="preprocessor">    for (_acl = avl_find_le_element(_avl, _obj, _acl, avl);         \</span></div>
<div class="line"><span class="lineno">  139</span><span class="preprocessor">         _acl;                                                      \</span></div>
<div class="line"><span class="lineno">  140</span><span class="preprocessor">         _acl = avl_is_first(_avl, &amp;(_acl)-&gt;avl) ? NULL :           \</span></div>
<div class="line"><span class="lineno">  141</span><span class="preprocessor">            avl_prev_element((_acl), avl))</span></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00405">rpc_session_grant()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a7495a48740c9d555f7fbcb48246dbd93" name="a7495a48740c9d555f7fbcb48246dbd93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7495a48740c9d555f7fbcb48246dbd93">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7495a48740c9d555f7fbcb48246dbd93adc0518217bf21b0c034513ce86612278" name="a7495a48740c9d555f7fbcb48246dbd93adc0518217bf21b0c034513ce86612278"></a>RPC_SN_TIMEOUT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7495a48740c9d555f7fbcb48246dbd93aecfdd63ed07e86e15a574255c4ed0fa3" name="a7495a48740c9d555f7fbcb48246dbd93aecfdd63ed07e86e15a574255c4ed0fa3"></a>__RPC_SN_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00043">43</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>     {</div>
<div class="line"><span class="lineno">   44</span>    <a class="code hl_enumvalue" href="#a7495a48740c9d555f7fbcb48246dbd93adc0518217bf21b0c034513ce86612278">RPC_SN_TIMEOUT</a>,</div>
<div class="line"><span class="lineno">   45</span>    <a class="code hl_enumvalue" href="#a7495a48740c9d555f7fbcb48246dbd93aecfdd63ed07e86e15a574255c4ed0fa3">__RPC_SN_MAX</a>,</div>
<div class="line"><span class="lineno">   46</span>};</div>
<div class="ttc" id="asession_8c_html_a7495a48740c9d555f7fbcb48246dbd93adc0518217bf21b0c034513ce86612278"><div class="ttname"><a href="#a7495a48740c9d555f7fbcb48246dbd93adc0518217bf21b0c034513ce86612278">RPC_SN_TIMEOUT</a></div><div class="ttdeci">@ RPC_SN_TIMEOUT</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00044">session.c:44</a></div></div>
<div class="ttc" id="asession_8c_html_a7495a48740c9d555f7fbcb48246dbd93aecfdd63ed07e86e15a574255c4ed0fa3"><div class="ttname"><a href="#a7495a48740c9d555f7fbcb48246dbd93aecfdd63ed07e86e15a574255c4ed0fa3">__RPC_SN_MAX</a></div><div class="ttdeci">@ __RPC_SN_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00045">session.c:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a3be2d66956bd67c0b66c32d8b30f17" name="a9a3be2d66956bd67c0b66c32d8b30f17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a3be2d66956bd67c0b66c32d8b30f17">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9a3be2d66956bd67c0b66c32d8b30f17aafb68c3e8acfc7f569d6d65ca53ed99b" name="a9a3be2d66956bd67c0b66c32d8b30f17aafb68c3e8acfc7f569d6d65ca53ed99b"></a>RPC_SI_SID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9a3be2d66956bd67c0b66c32d8b30f17a77ef799dd14ad9effb178127fe64563a" name="a9a3be2d66956bd67c0b66c32d8b30f17a77ef799dd14ad9effb178127fe64563a"></a>__RPC_SI_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00051">51</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   51</span>     {</div>
<div class="line"><span class="lineno">   52</span>    <a class="code hl_enumvalue" href="#a9a3be2d66956bd67c0b66c32d8b30f17aafb68c3e8acfc7f569d6d65ca53ed99b">RPC_SI_SID</a>,</div>
<div class="line"><span class="lineno">   53</span>    <a class="code hl_enumvalue" href="#a9a3be2d66956bd67c0b66c32d8b30f17a77ef799dd14ad9effb178127fe64563a">__RPC_SI_MAX</a>,</div>
<div class="line"><span class="lineno">   54</span>};</div>
<div class="ttc" id="asession_8c_html_a9a3be2d66956bd67c0b66c32d8b30f17a77ef799dd14ad9effb178127fe64563a"><div class="ttname"><a href="#a9a3be2d66956bd67c0b66c32d8b30f17a77ef799dd14ad9effb178127fe64563a">__RPC_SI_MAX</a></div><div class="ttdeci">@ __RPC_SI_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00053">session.c:53</a></div></div>
<div class="ttc" id="asession_8c_html_a9a3be2d66956bd67c0b66c32d8b30f17aafb68c3e8acfc7f569d6d65ca53ed99b"><div class="ttname"><a href="#a9a3be2d66956bd67c0b66c32d8b30f17aafb68c3e8acfc7f569d6d65ca53ed99b">RPC_SI_SID</a></div><div class="ttdeci">@ RPC_SI_SID</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00052">session.c:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2dbb833ef0dcc466dd02ee76badaf709" name="a2dbb833ef0dcc466dd02ee76badaf709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dbb833ef0dcc466dd02ee76badaf709">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2dbb833ef0dcc466dd02ee76badaf709a885b7787c057874d55330e82faabf99a" name="a2dbb833ef0dcc466dd02ee76badaf709a885b7787c057874d55330e82faabf99a"></a>RPC_SS_SID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2dbb833ef0dcc466dd02ee76badaf709a5ba5da59a03918fb00f5405d1f7e284d" name="a2dbb833ef0dcc466dd02ee76badaf709a5ba5da59a03918fb00f5405d1f7e284d"></a>RPC_SS_VALUES&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2dbb833ef0dcc466dd02ee76badaf709ac4b7bfe6ac654a6aca31acc5f4abfdc6" name="a2dbb833ef0dcc466dd02ee76badaf709ac4b7bfe6ac654a6aca31acc5f4abfdc6"></a>__RPC_SS_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00059">59</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   59</span>     {</div>
<div class="line"><span class="lineno">   60</span>    <a class="code hl_enumvalue" href="#a2dbb833ef0dcc466dd02ee76badaf709a885b7787c057874d55330e82faabf99a">RPC_SS_SID</a>,</div>
<div class="line"><span class="lineno">   61</span>    <a class="code hl_enumvalue" href="#a2dbb833ef0dcc466dd02ee76badaf709a5ba5da59a03918fb00f5405d1f7e284d">RPC_SS_VALUES</a>,</div>
<div class="line"><span class="lineno">   62</span>    <a class="code hl_enumvalue" href="#a2dbb833ef0dcc466dd02ee76badaf709ac4b7bfe6ac654a6aca31acc5f4abfdc6">__RPC_SS_MAX</a>,</div>
<div class="line"><span class="lineno">   63</span>};</div>
<div class="ttc" id="asession_8c_html_a2dbb833ef0dcc466dd02ee76badaf709a5ba5da59a03918fb00f5405d1f7e284d"><div class="ttname"><a href="#a2dbb833ef0dcc466dd02ee76badaf709a5ba5da59a03918fb00f5405d1f7e284d">RPC_SS_VALUES</a></div><div class="ttdeci">@ RPC_SS_VALUES</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00061">session.c:61</a></div></div>
<div class="ttc" id="asession_8c_html_a2dbb833ef0dcc466dd02ee76badaf709a885b7787c057874d55330e82faabf99a"><div class="ttname"><a href="#a2dbb833ef0dcc466dd02ee76badaf709a885b7787c057874d55330e82faabf99a">RPC_SS_SID</a></div><div class="ttdeci">@ RPC_SS_SID</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00060">session.c:60</a></div></div>
<div class="ttc" id="asession_8c_html_a2dbb833ef0dcc466dd02ee76badaf709ac4b7bfe6ac654a6aca31acc5f4abfdc6"><div class="ttname"><a href="#a2dbb833ef0dcc466dd02ee76badaf709ac4b7bfe6ac654a6aca31acc5f4abfdc6">__RPC_SS_MAX</a></div><div class="ttdeci">@ __RPC_SS_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00062">session.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aea33efd5e2c69d615faad5c5965510aa" name="aea33efd5e2c69d615faad5c5965510aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea33efd5e2c69d615faad5c5965510aa">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aea33efd5e2c69d615faad5c5965510aaa3308333bea2a8c95eddce951eaa3c597" name="aea33efd5e2c69d615faad5c5965510aaa3308333bea2a8c95eddce951eaa3c597"></a>RPC_SG_SID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aea33efd5e2c69d615faad5c5965510aaaa8d6538bd45f6bdeb6c79ed7ff545e0d" name="aea33efd5e2c69d615faad5c5965510aaaa8d6538bd45f6bdeb6c79ed7ff545e0d"></a>RPC_SG_KEYS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aea33efd5e2c69d615faad5c5965510aaa23c0dc51e1811437f861fd77c1062bac" name="aea33efd5e2c69d615faad5c5965510aaa23c0dc51e1811437f861fd77c1062bac"></a>__RPC_SG_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00069">69</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   69</span>     {</div>
<div class="line"><span class="lineno">   70</span>    <a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaa3308333bea2a8c95eddce951eaa3c597">RPC_SG_SID</a>,</div>
<div class="line"><span class="lineno">   71</span>    <a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaaa8d6538bd45f6bdeb6c79ed7ff545e0d">RPC_SG_KEYS</a>,</div>
<div class="line"><span class="lineno">   72</span>    <a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaa23c0dc51e1811437f861fd77c1062bac">__RPC_SG_MAX</a>,</div>
<div class="line"><span class="lineno">   73</span>};</div>
<div class="ttc" id="asession_8c_html_aea33efd5e2c69d615faad5c5965510aaa23c0dc51e1811437f861fd77c1062bac"><div class="ttname"><a href="#aea33efd5e2c69d615faad5c5965510aaa23c0dc51e1811437f861fd77c1062bac">__RPC_SG_MAX</a></div><div class="ttdeci">@ __RPC_SG_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00072">session.c:72</a></div></div>
<div class="ttc" id="asession_8c_html_aea33efd5e2c69d615faad5c5965510aaa3308333bea2a8c95eddce951eaa3c597"><div class="ttname"><a href="#aea33efd5e2c69d615faad5c5965510aaa3308333bea2a8c95eddce951eaa3c597">RPC_SG_SID</a></div><div class="ttdeci">@ RPC_SG_SID</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00070">session.c:70</a></div></div>
<div class="ttc" id="asession_8c_html_aea33efd5e2c69d615faad5c5965510aaaa8d6538bd45f6bdeb6c79ed7ff545e0d"><div class="ttname"><a href="#aea33efd5e2c69d615faad5c5965510aaaa8d6538bd45f6bdeb6c79ed7ff545e0d">RPC_SG_KEYS</a></div><div class="ttdeci">@ RPC_SG_KEYS</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00071">session.c:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b887f38fa71033f0904f8e2330b6815" name="a0b887f38fa71033f0904f8e2330b6815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b887f38fa71033f0904f8e2330b6815">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0b887f38fa71033f0904f8e2330b6815a516826d3b174795b30a72fde859a35d9" name="a0b887f38fa71033f0904f8e2330b6815a516826d3b174795b30a72fde859a35d9"></a>RPC_SA_SID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0b887f38fa71033f0904f8e2330b6815a82d9969369c967db453bdba7c78da8af" name="a0b887f38fa71033f0904f8e2330b6815a82d9969369c967db453bdba7c78da8af"></a>RPC_SA_SCOPE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0b887f38fa71033f0904f8e2330b6815a1a6f8f37441cf9081ea72c67e60ef63d" name="a0b887f38fa71033f0904f8e2330b6815a1a6f8f37441cf9081ea72c67e60ef63d"></a>RPC_SA_OBJECTS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0b887f38fa71033f0904f8e2330b6815a37af7acec1cba488ebf34308562677f2" name="a0b887f38fa71033f0904f8e2330b6815a37af7acec1cba488ebf34308562677f2"></a>__RPC_SA_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00079">79</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   79</span>     {</div>
<div class="line"><span class="lineno">   80</span>    <a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a516826d3b174795b30a72fde859a35d9">RPC_SA_SID</a>,</div>
<div class="line"><span class="lineno">   81</span>    <a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a82d9969369c967db453bdba7c78da8af">RPC_SA_SCOPE</a>,</div>
<div class="line"><span class="lineno">   82</span>    <a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a1a6f8f37441cf9081ea72c67e60ef63d">RPC_SA_OBJECTS</a>,</div>
<div class="line"><span class="lineno">   83</span>    <a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a37af7acec1cba488ebf34308562677f2">__RPC_SA_MAX</a>,</div>
<div class="line"><span class="lineno">   84</span>};</div>
<div class="ttc" id="asession_8c_html_a0b887f38fa71033f0904f8e2330b6815a1a6f8f37441cf9081ea72c67e60ef63d"><div class="ttname"><a href="#a0b887f38fa71033f0904f8e2330b6815a1a6f8f37441cf9081ea72c67e60ef63d">RPC_SA_OBJECTS</a></div><div class="ttdeci">@ RPC_SA_OBJECTS</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00082">session.c:82</a></div></div>
<div class="ttc" id="asession_8c_html_a0b887f38fa71033f0904f8e2330b6815a37af7acec1cba488ebf34308562677f2"><div class="ttname"><a href="#a0b887f38fa71033f0904f8e2330b6815a37af7acec1cba488ebf34308562677f2">__RPC_SA_MAX</a></div><div class="ttdeci">@ __RPC_SA_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00083">session.c:83</a></div></div>
<div class="ttc" id="asession_8c_html_a0b887f38fa71033f0904f8e2330b6815a516826d3b174795b30a72fde859a35d9"><div class="ttname"><a href="#a0b887f38fa71033f0904f8e2330b6815a516826d3b174795b30a72fde859a35d9">RPC_SA_SID</a></div><div class="ttdeci">@ RPC_SA_SID</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00080">session.c:80</a></div></div>
<div class="ttc" id="asession_8c_html_a0b887f38fa71033f0904f8e2330b6815a82d9969369c967db453bdba7c78da8af"><div class="ttname"><a href="#a0b887f38fa71033f0904f8e2330b6815a82d9969369c967db453bdba7c78da8af">RPC_SA_SCOPE</a></div><div class="ttdeci">@ RPC_SA_SCOPE</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00081">session.c:81</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84fe57ba52f8e237004a413b27ea4db8" name="a84fe57ba52f8e237004a413b27ea4db8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84fe57ba52f8e237004a413b27ea4db8">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a84fe57ba52f8e237004a413b27ea4db8a31a7b418b4a1ba7ab30b72277dfa755c" name="a84fe57ba52f8e237004a413b27ea4db8a31a7b418b4a1ba7ab30b72277dfa755c"></a>RPC_SP_SID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a84fe57ba52f8e237004a413b27ea4db8a9a63e9dbf1d8323c1da1a0462634e2ca" name="a84fe57ba52f8e237004a413b27ea4db8a9a63e9dbf1d8323c1da1a0462634e2ca"></a>RPC_SP_SCOPE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a84fe57ba52f8e237004a413b27ea4db8a2d2d07eb39f912d085f60d024939df79" name="a84fe57ba52f8e237004a413b27ea4db8a2d2d07eb39f912d085f60d024939df79"></a>RPC_SP_OBJECT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a84fe57ba52f8e237004a413b27ea4db8a134cb4b11639906131c55370ac1e5d3c" name="a84fe57ba52f8e237004a413b27ea4db8a134cb4b11639906131c55370ac1e5d3c"></a>RPC_SP_FUNCTION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a84fe57ba52f8e237004a413b27ea4db8a0419328334e17df25e7527e21dd8c02f" name="a84fe57ba52f8e237004a413b27ea4db8a0419328334e17df25e7527e21dd8c02f"></a>__RPC_SP_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00091">91</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   91</span>     {</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a31a7b418b4a1ba7ab30b72277dfa755c">RPC_SP_SID</a>,</div>
<div class="line"><span class="lineno">   93</span>    <a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a9a63e9dbf1d8323c1da1a0462634e2ca">RPC_SP_SCOPE</a>,</div>
<div class="line"><span class="lineno">   94</span>    <a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a2d2d07eb39f912d085f60d024939df79">RPC_SP_OBJECT</a>,</div>
<div class="line"><span class="lineno">   95</span>    <a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a134cb4b11639906131c55370ac1e5d3c">RPC_SP_FUNCTION</a>,</div>
<div class="line"><span class="lineno">   96</span>    <a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a0419328334e17df25e7527e21dd8c02f">__RPC_SP_MAX</a>,</div>
<div class="line"><span class="lineno">   97</span>};</div>
<div class="ttc" id="asession_8c_html_a84fe57ba52f8e237004a413b27ea4db8a0419328334e17df25e7527e21dd8c02f"><div class="ttname"><a href="#a84fe57ba52f8e237004a413b27ea4db8a0419328334e17df25e7527e21dd8c02f">__RPC_SP_MAX</a></div><div class="ttdeci">@ __RPC_SP_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00096">session.c:96</a></div></div>
<div class="ttc" id="asession_8c_html_a84fe57ba52f8e237004a413b27ea4db8a134cb4b11639906131c55370ac1e5d3c"><div class="ttname"><a href="#a84fe57ba52f8e237004a413b27ea4db8a134cb4b11639906131c55370ac1e5d3c">RPC_SP_FUNCTION</a></div><div class="ttdeci">@ RPC_SP_FUNCTION</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00095">session.c:95</a></div></div>
<div class="ttc" id="asession_8c_html_a84fe57ba52f8e237004a413b27ea4db8a2d2d07eb39f912d085f60d024939df79"><div class="ttname"><a href="#a84fe57ba52f8e237004a413b27ea4db8a2d2d07eb39f912d085f60d024939df79">RPC_SP_OBJECT</a></div><div class="ttdeci">@ RPC_SP_OBJECT</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00094">session.c:94</a></div></div>
<div class="ttc" id="asession_8c_html_a84fe57ba52f8e237004a413b27ea4db8a31a7b418b4a1ba7ab30b72277dfa755c"><div class="ttname"><a href="#a84fe57ba52f8e237004a413b27ea4db8a31a7b418b4a1ba7ab30b72277dfa755c">RPC_SP_SID</a></div><div class="ttdeci">@ RPC_SP_SID</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00092">session.c:92</a></div></div>
<div class="ttc" id="asession_8c_html_a84fe57ba52f8e237004a413b27ea4db8a9a63e9dbf1d8323c1da1a0462634e2ca"><div class="ttname"><a href="#a84fe57ba52f8e237004a413b27ea4db8a9a63e9dbf1d8323c1da1a0462634e2ca">RPC_SP_SCOPE</a></div><div class="ttdeci">@ RPC_SP_SCOPE</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00093">session.c:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a78372742882dccd1c13323dbd66c25c5" name="a78372742882dccd1c13323dbd66c25c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78372742882dccd1c13323dbd66c25c5">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a78372742882dccd1c13323dbd66c25c5a40107bf61cfea7aeb6d49918058a36f9" name="a78372742882dccd1c13323dbd66c25c5a40107bf61cfea7aeb6d49918058a36f9"></a>RPC_DUMP_SID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a78372742882dccd1c13323dbd66c25c5a903fdd94b3a31b264ea0abf4db273517" name="a78372742882dccd1c13323dbd66c25c5a903fdd94b3a31b264ea0abf4db273517"></a>RPC_DUMP_TIMEOUT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a78372742882dccd1c13323dbd66c25c5a76d5842ac4eb500fe949e1d5bc36ed3b" name="a78372742882dccd1c13323dbd66c25c5a76d5842ac4eb500fe949e1d5bc36ed3b"></a>RPC_DUMP_EXPIRES&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a78372742882dccd1c13323dbd66c25c5a07df4283450205e00ade396b3c517293" name="a78372742882dccd1c13323dbd66c25c5a07df4283450205e00ade396b3c517293"></a>RPC_DUMP_DATA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a78372742882dccd1c13323dbd66c25c5a01fc1a750620f803e79261d254caecbe" name="a78372742882dccd1c13323dbd66c25c5a01fc1a750620f803e79261d254caecbe"></a>__RPC_DUMP_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00105">105</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  105</span>     {</div>
<div class="line"><span class="lineno">  106</span>    <a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a40107bf61cfea7aeb6d49918058a36f9">RPC_DUMP_SID</a>,</div>
<div class="line"><span class="lineno">  107</span>    <a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a903fdd94b3a31b264ea0abf4db273517">RPC_DUMP_TIMEOUT</a>,</div>
<div class="line"><span class="lineno">  108</span>    <a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a76d5842ac4eb500fe949e1d5bc36ed3b">RPC_DUMP_EXPIRES</a>,</div>
<div class="line"><span class="lineno">  109</span>    <a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a07df4283450205e00ade396b3c517293">RPC_DUMP_DATA</a>,</div>
<div class="line"><span class="lineno">  110</span>    <a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a01fc1a750620f803e79261d254caecbe">__RPC_DUMP_MAX</a>,</div>
<div class="line"><span class="lineno">  111</span>};</div>
<div class="ttc" id="asession_8c_html_a78372742882dccd1c13323dbd66c25c5a01fc1a750620f803e79261d254caecbe"><div class="ttname"><a href="#a78372742882dccd1c13323dbd66c25c5a01fc1a750620f803e79261d254caecbe">__RPC_DUMP_MAX</a></div><div class="ttdeci">@ __RPC_DUMP_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00110">session.c:110</a></div></div>
<div class="ttc" id="asession_8c_html_a78372742882dccd1c13323dbd66c25c5a07df4283450205e00ade396b3c517293"><div class="ttname"><a href="#a78372742882dccd1c13323dbd66c25c5a07df4283450205e00ade396b3c517293">RPC_DUMP_DATA</a></div><div class="ttdeci">@ RPC_DUMP_DATA</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00109">session.c:109</a></div></div>
<div class="ttc" id="asession_8c_html_a78372742882dccd1c13323dbd66c25c5a40107bf61cfea7aeb6d49918058a36f9"><div class="ttname"><a href="#a78372742882dccd1c13323dbd66c25c5a40107bf61cfea7aeb6d49918058a36f9">RPC_DUMP_SID</a></div><div class="ttdeci">@ RPC_DUMP_SID</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00106">session.c:106</a></div></div>
<div class="ttc" id="asession_8c_html_a78372742882dccd1c13323dbd66c25c5a76d5842ac4eb500fe949e1d5bc36ed3b"><div class="ttname"><a href="#a78372742882dccd1c13323dbd66c25c5a76d5842ac4eb500fe949e1d5bc36ed3b">RPC_DUMP_EXPIRES</a></div><div class="ttdeci">@ RPC_DUMP_EXPIRES</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00108">session.c:108</a></div></div>
<div class="ttc" id="asession_8c_html_a78372742882dccd1c13323dbd66c25c5a903fdd94b3a31b264ea0abf4db273517"><div class="ttname"><a href="#a78372742882dccd1c13323dbd66c25c5a903fdd94b3a31b264ea0abf4db273517">RPC_DUMP_TIMEOUT</a></div><div class="ttdeci">@ RPC_DUMP_TIMEOUT</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00107">session.c:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d5492e116eebd5075f247d21fb9db26" name="a2d5492e116eebd5075f247d21fb9db26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d5492e116eebd5075f247d21fb9db26">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26ad927957e6550c480241ceffb6de312bd" name="a2d5492e116eebd5075f247d21fb9db26ad927957e6550c480241ceffb6de312bd"></a>RPC_L_USERNAME&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26ac913380063b5c1d34c88d83f1c19c4ab" name="a2d5492e116eebd5075f247d21fb9db26ac913380063b5c1d34c88d83f1c19c4ab"></a>RPC_L_PASSWORD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26ad3a863f272e87e7dadb3d6748bc2f7c4" name="a2d5492e116eebd5075f247d21fb9db26ad3a863f272e87e7dadb3d6748bc2f7c4"></a>RPC_L_TIMEOUT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26a65a189b79b0bb1fec878b52bd956954c" name="a2d5492e116eebd5075f247d21fb9db26a65a189b79b0bb1fec878b52bd956954c"></a>__RPC_L_MAX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00119">119</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  119</span>     {</div>
<div class="line"><span class="lineno">  120</span>    <a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ad927957e6550c480241ceffb6de312bd">RPC_L_USERNAME</a>,</div>
<div class="line"><span class="lineno">  121</span>    <a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ac913380063b5c1d34c88d83f1c19c4ab">RPC_L_PASSWORD</a>,</div>
<div class="line"><span class="lineno">  122</span>    <a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ad3a863f272e87e7dadb3d6748bc2f7c4">RPC_L_TIMEOUT</a>,</div>
<div class="line"><span class="lineno">  123</span>    <a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26a65a189b79b0bb1fec878b52bd956954c">__RPC_L_MAX</a>,</div>
<div class="line"><span class="lineno">  124</span>};</div>
<div class="ttc" id="asession_8c_html_a2d5492e116eebd5075f247d21fb9db26a65a189b79b0bb1fec878b52bd956954c"><div class="ttname"><a href="#a2d5492e116eebd5075f247d21fb9db26a65a189b79b0bb1fec878b52bd956954c">__RPC_L_MAX</a></div><div class="ttdeci">@ __RPC_L_MAX</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00123">session.c:123</a></div></div>
<div class="ttc" id="asession_8c_html_a2d5492e116eebd5075f247d21fb9db26ac913380063b5c1d34c88d83f1c19c4ab"><div class="ttname"><a href="#a2d5492e116eebd5075f247d21fb9db26ac913380063b5c1d34c88d83f1c19c4ab">RPC_L_PASSWORD</a></div><div class="ttdeci">@ RPC_L_PASSWORD</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00121">session.c:121</a></div></div>
<div class="ttc" id="asession_8c_html_a2d5492e116eebd5075f247d21fb9db26ad3a863f272e87e7dadb3d6748bc2f7c4"><div class="ttname"><a href="#a2d5492e116eebd5075f247d21fb9db26ad3a863f272e87e7dadb3d6748bc2f7c4">RPC_L_TIMEOUT</a></div><div class="ttdeci">@ RPC_L_TIMEOUT</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00122">session.c:122</a></div></div>
<div class="ttc" id="asession_8c_html_a2d5492e116eebd5075f247d21fb9db26ad927957e6550c480241ceffb6de312bd"><div class="ttname"><a href="#a2d5492e116eebd5075f247d21fb9db26ad927957e6550c480241ceffb6de312bd">RPC_L_USERNAME</a></div><div class="ttdeci">@ RPC_L_USERNAME</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00120">session.c:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a968e2fddafd77ba7efbc0fa960b2d4eb" name="a968e2fddafd77ba7efbc0fa960b2d4eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a968e2fddafd77ba7efbc0fa960b2d4eb">&#9670;&#160;</a></span>LIST_HEAD() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static LIST_HEAD </td>
          <td>(</td>
          <td class="paramtype">create_callbacks</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa3de052fb70d454d9ea0f75dffee9390" name="aa3de052fb70d454d9ea0f75dffee9390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3de052fb70d454d9ea0f75dffee9390">&#9670;&#160;</a></span>LIST_HEAD() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static LIST_HEAD </td>
          <td>(</td>
          <td class="paramtype">destroy_callbacks</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a999928b010271fb70e325adeb45d6e5b" name="a999928b010271fb70e325adeb45d6e5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a999928b010271fb70e325adeb45d6e5b">&#9670;&#160;</a></span>rpc_blob_from_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> * rpc_blob_from_file </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l01230">1230</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1231</span>{</div>
<div class="line"><span class="lineno"> 1232</span>    <span class="keywordtype">int</span> fd = -1, len;</div>
<div class="line"><span class="lineno"> 1233</span>    <span class="keyword">struct </span>stat s;</div>
<div class="line"><span class="lineno"> 1234</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> head, *attr = NULL;</div>
<div class="line"><span class="lineno"> 1235</span> </div>
<div class="line"><span class="lineno"> 1236</span>    <span class="keywordflow">if</span> (stat(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, &amp;s) || !S_ISREG(s.st_mode))</div>
<div class="line"><span class="lineno"> 1237</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1238</span> </div>
<div class="line"><span class="lineno"> 1239</span>    fd = open(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, O_RDONLY);</div>
<div class="line"><span class="lineno"> 1240</span> </div>
<div class="line"><span class="lineno"> 1241</span>    <span class="keywordflow">if</span> (fd &lt; 0)</div>
<div class="line"><span class="lineno"> 1242</span>        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><span class="lineno"> 1243</span> </div>
<div class="line"><span class="lineno"> 1244</span>    len = read(fd, &amp;head, <span class="keyword">sizeof</span>(head));</div>
<div class="line"><span class="lineno"> 1245</span> </div>
<div class="line"><span class="lineno"> 1246</span>    <span class="keywordflow">if</span> (len != <span class="keyword">sizeof</span>(head) || <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b">blob_pad_len</a>(&amp;head) != s.st_size)</div>
<div class="line"><span class="lineno"> 1247</span>        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><span class="lineno"> 1248</span> </div>
<div class="line"><span class="lineno"> 1249</span>    attr = calloc(1, s.st_size);</div>
<div class="line"><span class="lineno"> 1250</span> </div>
<div class="line"><span class="lineno"> 1251</span>    <span class="keywordflow">if</span> (!attr)</div>
<div class="line"><span class="lineno"> 1252</span>        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><span class="lineno"> 1253</span> </div>
<div class="line"><span class="lineno"> 1254</span>    memcpy(attr, &amp;head, <span class="keyword">sizeof</span>(head));</div>
<div class="line"><span class="lineno"> 1255</span> </div>
<div class="line"><span class="lineno"> 1256</span>    len += read(fd, (<span class="keywordtype">char</span> *)attr + <span class="keyword">sizeof</span>(head), s.st_size - <span class="keyword">sizeof</span>(head));</div>
<div class="line"><span class="lineno"> 1257</span> </div>
<div class="line"><span class="lineno"> 1258</span>    <span class="keywordflow">if</span> (len != <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b">blob_pad_len</a>(&amp;head))</div>
<div class="line"><span class="lineno"> 1259</span>        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><span class="lineno"> 1260</span> </div>
<div class="line"><span class="lineno"> 1261</span>    close(fd);</div>
<div class="line"><span class="lineno"> 1262</span> </div>
<div class="line"><span class="lineno"> 1263</span>    <span class="keywordflow">return</span> attr;</div>
<div class="line"><span class="lineno"> 1264</span> </div>
<div class="line"><span class="lineno"> 1265</span>fail:</div>
<div class="line"><span class="lineno"> 1266</span>    <span class="keywordflow">if</span> (fd &gt;= 0)</div>
<div class="line"><span class="lineno"> 1267</span>        close(fd);</div>
<div class="line"><span class="lineno"> 1268</span> </div>
<div class="line"><span class="lineno"> 1269</span>    <span class="keywordflow">if</span> (attr)</div>
<div class="line"><span class="lineno"> 1270</span>        free(attr);</div>
<div class="line"><span class="lineno"> 1271</span> </div>
<div class="line"><span class="lineno"> 1272</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1273</span>}</div>
<div class="ttc" id="ablob_8h_html_a3071b18c2bb742e04d7622379ee8fd3b"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b">blob_pad_len</a></div><div class="ttdeci">static size_t blob_pad_len(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00118">blob.h:118</a></div></div>
<div class="ttc" id="ablob_8h_html_dc/dd9/structblob__attr"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a></div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00052">blob.h:52</a></div></div>
<div class="ttc" id="aubusd__obj_8c_html_a9ece2e576492090c46d5e3b435cef7d4"><div class="ttname"><a href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a></div><div class="ttdeci">struct avl_tree path</div><div class="ttdef"><b>Definition</b> <a href="../../df/d0e/ubusd__obj_8c_source.html#l00019">ubusd_obj.c:19</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d3c/blob_8h_source.html#l00118">blob_pad_len()</a>, and <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01407">rpc_session_thaw()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a999928b010271fb70e325adeb45d6e5b_cgraph.png" border="0" usemap="#ade/d67/session_8c_a999928b010271fb70e325adeb45d6e5b_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a999928b010271fb70e325adeb45d6e5b_cgraph" id="ade/d67/session_8c_a999928b010271fb70e325adeb45d6e5b_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,195,39"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="243,5,385,39"/>
<area shape="poly" title=" " alt="" coords="195,20,227,20,227,25,195,25"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="433,5,574,39"/>
<area shape="poly" title=" " alt="" coords="385,20,417,20,417,25,385,25"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="622,5,721,39"/>
<area shape="poly" title=" " alt="" coords="575,20,607,20,607,25,575,25"/>
</map>
</div>

</div>
</div>
<a id="a6a595fd1f960fcebc20eef9d375a5bf6" name="a6a595fd1f960fcebc20eef9d375a5bf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a595fd1f960fcebc20eef9d375a5bf6">&#9670;&#160;</a></span>rpc_blob_to_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_blob_to_file </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>attr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l01207">1207</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1208</span>{</div>
<div class="line"><span class="lineno"> 1209</span>    <span class="keywordtype">int</span> fd, len;</div>
<div class="line"><span class="lineno"> 1210</span> </div>
<div class="line"><span class="lineno"> 1211</span>    fd = open(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, O_WRONLY | O_CREAT | O_EXCL, 0600);</div>
<div class="line"><span class="lineno"> 1212</span> </div>
<div class="line"><span class="lineno"> 1213</span>    <span class="keywordflow">if</span> (fd &lt; 0)</div>
<div class="line"><span class="lineno"> 1214</span>        <span class="keywordflow">return</span> fd;</div>
<div class="line"><span class="lineno"> 1215</span> </div>
<div class="line"><span class="lineno"> 1216</span>    len = write(fd, attr, <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b">blob_pad_len</a>(attr));</div>
<div class="line"><span class="lineno"> 1217</span> </div>
<div class="line"><span class="lineno"> 1218</span>    close(fd);</div>
<div class="line"><span class="lineno"> 1219</span> </div>
<div class="line"><span class="lineno"> 1220</span>    <span class="keywordflow">if</span> (len != <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b">blob_pad_len</a>(attr))</div>
<div class="line"><span class="lineno"> 1221</span>    {</div>
<div class="line"><span class="lineno"> 1222</span>        unlink(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>);</div>
<div class="line"><span class="lineno"> 1223</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1224</span>    }</div>
<div class="line"><span class="lineno"> 1225</span> </div>
<div class="line"><span class="lineno"> 1226</span>    <span class="keywordflow">return</span> len;</div>
<div class="line"><span class="lineno"> 1227</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d3c/blob_8h_source.html#l00118">blob_pad_len()</a>, and <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01387">rpc_session_freeze()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a6a595fd1f960fcebc20eef9d375a5bf6_cgraph.png" border="0" usemap="#ade/d67/session_8c_a6a595fd1f960fcebc20eef9d375a5bf6_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a6a595fd1f960fcebc20eef9d375a5bf6_cgraph" id="ade/d67/session_8c_a6a595fd1f960fcebc20eef9d375a5bf6_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,170,39"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="218,5,360,39"/>
<area shape="poly" title=" " alt="" coords="170,20,202,20,202,25,170,25"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="408,5,549,39"/>
<area shape="poly" title=" " alt="" coords="360,20,392,20,392,25,360,25"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="597,5,696,39"/>
<area shape="poly" title=" " alt="" coords="550,20,582,20,582,25,550,25"/>
</map>
</div>

</div>
</div>
<a id="a0adf54796274bf64ae28142fa89dd42f" name="a0adf54796274bf64ae28142fa89dd42f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0adf54796274bf64ae28142fa89dd42f">&#9670;&#160;</a></span>rpc_handle_access()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_handle_access </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00588">588</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  591</span>{</div>
<div class="line"><span class="lineno">  592</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno">  593</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb[<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a0419328334e17df25e7527e21dd8c02f">__RPC_SP_MAX</a>];</div>
<div class="line"><span class="lineno">  594</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *scope = <span class="stringliteral">&quot;ubus&quot;</span>;</div>
<div class="line"><span class="lineno">  595</span>    <span class="keywordtype">bool</span> allow;</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#a9b034ab755e3a6aa8041dcb905bfcb6d">perm_policy</a>, <a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a0419328334e17df25e7527e21dd8c02f">__RPC_SP_MAX</a>, tb, <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a>(msg), <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(msg));</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>    <span class="keywordflow">if</span> (!tb[<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a31a7b418b4a1ba7ab30b72277dfa755c">RPC_SP_SID</a>])</div>
<div class="line"><span class="lineno">  600</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span>    ses = <a class="code hl_function" href="#a537c67da2d6dac42f8bda20e0b888f5a">rpc_session_get</a>(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb[<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a31a7b418b4a1ba7ab30b72277dfa755c">RPC_SP_SID</a>]));</div>
<div class="line"><span class="lineno">  603</span>    <span class="keywordflow">if</span> (!ses)</div>
<div class="line"><span class="lineno">  604</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97">UBUS_STATUS_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b">blob_buf_init</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, 0);</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>    <span class="keywordflow">if</span> (tb[<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a2d2d07eb39f912d085f60d024939df79">RPC_SP_OBJECT</a>] &amp;&amp; tb[<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a134cb4b11639906131c55370ac1e5d3c">RPC_SP_FUNCTION</a>])</div>
<div class="line"><span class="lineno">  609</span>    {</div>
<div class="line"><span class="lineno">  610</span>        <span class="keywordflow">if</span> (tb[<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a9a63e9dbf1d8323c1da1a0462634e2ca">RPC_SP_SCOPE</a>])</div>
<div class="line"><span class="lineno">  611</span>            scope = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb[<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a9a63e9dbf1d8323c1da1a0462634e2ca">RPC_SP_SCOPE</a>]);</div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span>        allow = <a class="code hl_function" href="#a4f918a84b17c94f97c3eb8a91f7721b3">rpc_session_acl_allowed</a>(ses, scope,</div>
<div class="line"><span class="lineno">  614</span>                                        <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb[<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a2d2d07eb39f912d085f60d024939df79">RPC_SP_OBJECT</a>]),</div>
<div class="line"><span class="lineno">  615</span>                                        <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb[<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a134cb4b11639906131c55370ac1e5d3c">RPC_SP_FUNCTION</a>]));</div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span>        <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a381e9943751280e58fbbdf5f59f3bec2">blobmsg_add_u8</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;access&quot;</span>, allow);</div>
<div class="line"><span class="lineno">  618</span>    }</div>
<div class="line"><span class="lineno">  619</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  620</span>    {</div>
<div class="line"><span class="lineno">  621</span>        <a class="code hl_function" href="#a40fa1238b59f856f01058476b97d4ce9">rpc_session_dump_acls</a>(ses, &amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>);</div>
<div class="line"><span class="lineno">  622</span>    }</div>
<div class="line"><span class="lineno">  623</span> </div>
<div class="line"><span class="lineno">  624</span>    <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4">ubus_send_reply</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req, <a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>.<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#af6065d74116605108b22c11e75ec669c">head</a>);</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  627</span>}</div>
<div class="ttc" id="ablob_8c_html_af8ca2237342df92c699fbb2ddb5f390b"><div class="ttname"><a href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b">blob_buf_init</a></div><div class="ttdeci">int blob_buf_init(struct blob_buf *buf, int id)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da0/blob_8c_source.html#l00091">blob.c:91</a></div></div>
<div class="ttc" id="ablob_8h_html_a66e0b636bd2bbafbf8701a1e91bbf857"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a></div><div class="ttdeci">static void * blob_data(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00075">blob.h:75</a></div></div>
<div class="ttc" id="ablob_8h_html_a9921d2b89577d3344abbb66f24773e32"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a></div><div class="ttdeci">static size_t blob_len(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00100">blob.h:100</a></div></div>
<div class="ttc" id="ablob_8h_html_af6065d74116605108b22c11e75ec669c"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#af6065d74116605108b22c11e75ec669c">blob_buf::head</a></div><div class="ttdeci">struct blob_attr * head</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00065">blob.h:65</a></div></div>
<div class="ttc" id="ablobmsg_8c_html_afb56b36905412b6618a529c171e833ed"><div class="ttname"><a href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a></div><div class="ttdeci">int blobmsg_parse(const struct blobmsg_policy *policy, int policy_len, struct blob_attr **tb, void *data, unsigned int len)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg.c:166</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a381e9943751280e58fbbdf5f59f3bec2"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a381e9943751280e58fbbdf5f59f3bec2">blobmsg_add_u8</a></div><div class="ttdeci">static int blobmsg_add_u8(struct blob_buf *buf, const char *name, uint8_t val)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00208">blobmsg.h:208</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_ab788ffb2ae75d047fa39be6e79571d20"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a></div><div class="ttdeci">static void * blobmsg_data(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg.h:78</a></div></div>
<div class="ttc" id="ahotplug-dispatch_8c_html_a7c00b3b8999b2056f226d3cc35a83845"><div class="ttname"><a href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a></div><div class="ttdeci">struct ubus_context * ctx</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">hotplug-dispatch.c:42</a></div></div>
<div class="ttc" id="alibubus-req_8c_html_aab336677450493ac2229e8a2f70fa0e4"><div class="ttname"><a href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4">ubus_send_reply</a></div><div class="ttdeci">int ubus_send_reply(struct ubus_context *ctx, struct ubus_request_data *req, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/de5/libubus-req_8c_source.html#l00205">libubus-req.c:205</a></div></div>
<div class="ttc" id="asession_8c_html_a40fa1238b59f856f01058476b97d4ce9"><div class="ttname"><a href="#a40fa1238b59f856f01058476b97d4ce9">rpc_session_dump_acls</a></div><div class="ttdeci">static void rpc_session_dump_acls(struct rpc_session *ses, struct blob_buf *b)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00185">session.c:185</a></div></div>
<div class="ttc" id="asession_8c_html_a4f918a84b17c94f97c3eb8a91f7721b3"><div class="ttname"><a href="#a4f918a84b17c94f97c3eb8a91f7721b3">rpc_session_acl_allowed</a></div><div class="ttdeci">static bool rpc_session_acl_allowed(struct rpc_session *ses, const char *scope, const char *obj, const char *fun)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00571">session.c:571</a></div></div>
<div class="ttc" id="asession_8c_html_a537c67da2d6dac42f8bda20e0b888f5a"><div class="ttname"><a href="#a537c67da2d6dac42f8bda20e0b888f5a">rpc_session_get</a></div><div class="ttdeci">static struct rpc_session * rpc_session_get(const char *id)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00341">session.c:341</a></div></div>
<div class="ttc" id="asession_8c_html_a9b034ab755e3a6aa8041dcb905bfcb6d"><div class="ttname"><a href="#a9b034ab755e3a6aa8041dcb905bfcb6d">perm_policy</a></div><div class="ttdeci">static const struct blobmsg_policy perm_policy[__RPC_SP_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00098">session.c:98</a></div></div>
<div class="ttc" id="asession_8c_html_ab88af8f0f3e8ddaf6aa2623d0b84813c"><div class="ttname"><a href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a></div><div class="ttdeci">static struct blob_buf buf</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00038">session.c:38</a></div></div>
<div class="ttc" id="asession_8h_html_d6/daf/structrpc__session"><div class="ttname"><a href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a></div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00041">session.h:41</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a></div><div class="ttdeci">@ UBUS_STATUS_INVALID_ARGUMENT</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00121">ubusmsg.h:121</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97">UBUS_STATUS_NOT_FOUND</a></div><div class="ttdeci">@ UBUS_STATUS_NOT_FOUND</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00123">ubusmsg.h:123</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00096">__RPC_SP_MAX</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00091">blob_buf_init()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00075">blob_data()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00208">blobmsg_add_u8()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00038">buf</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00065">blob_buf::head</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00098">perm_policy</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00571">rpc_session_acl_allowed()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00185">rpc_session_dump_acls()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00341">rpc_session_get()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00095">RPC_SP_FUNCTION</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00094">RPC_SP_OBJECT</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00093">RPC_SP_SCOPE</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00092">RPC_SP_SID</a>, <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00205">ubus_send_reply()</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00121">UBUS_STATUS_INVALID_ARGUMENT</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00123">UBUS_STATUS_NOT_FOUND</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a0adf54796274bf64ae28142fa89dd42f_cgraph.png" border="0" usemap="#ade/d67/session_8c_a0adf54796274bf64ae28142fa89dd42f_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a0adf54796274bf64ae28142fa89dd42f_cgraph" id="ade/d67/session_8c_a0adf54796274bf64ae28142fa89dd42f_cgraph">
<area shape="rect" title=" " alt="" coords="5,850,200,883"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="829,280,968,314"/>
<area shape="poly" title=" " alt="" coords="101,849,104,768,110,711,122,646,139,579,165,513,200,451,246,398,276,372,310,350,381,315,458,292,537,278,615,272,689,271,814,281,813,286,689,277,615,277,538,283,459,297,383,320,312,355,280,376,250,402,204,455,170,516,145,581,127,648,116,711,109,769,106,850"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1847,376,1945,410"/>
<area shape="poly" title=" " alt="" coords="102,849,109,763,130,628,148,551,173,473,205,396,245,325,328,200,367,149,408,105,453,70,506,44,569,28,645,22,1449,22,1504,20,1552,14,1637,3,1677,4,1716,12,1757,30,1800,61,1818,82,1833,114,1860,197,1880,287,1892,360,1887,361,1874,288,1855,198,1828,116,1813,85,1797,64,1754,34,1715,17,1676,9,1638,9,1553,19,1504,25,1449,28,645,28,570,33,508,49,456,74,411,109,371,152,333,203,250,328,210,398,178,474,153,552,135,629,114,763,107,850"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1648,772,1759,806"/>
<area shape="poly" title=" " alt="" coords="200,871,405,883,645,889,900,889,1046,895,1235,902,1331,902,1421,897,1499,887,1559,868,1574,857,1583,844,1591,829,1607,815,1632,803,1634,807,1610,819,1596,832,1587,847,1578,861,1562,873,1500,892,1422,903,1332,907,1235,907,1046,900,900,894,645,894,404,888,200,876"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a381e9943751280e58fbbdf5f59f3bec2" title=" " alt="" coords="280,1044,459,1078"/>
<area shape="poly" title=" " alt="" coords="116,882,136,915,166,955,204,996,249,1031,267,1040,265,1045,246,1035,201,1000,162,959,132,918,111,885"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1372,824,1523,858"/>
<area shape="poly" title=" " alt="" coords="200,857,404,845,645,838,900,838,1357,838,1357,844,900,844,645,844,405,850,200,862"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="817,692,980,726"/>
<area shape="poly" title=" " alt="" coords="155,846,247,820,398,787,550,759,802,719,802,725,551,764,399,792,248,825,156,852"/>
<area shape="rect" href="../../de/d67/session_8c.html#a4f918a84b17c94f97c3eb8a91f7721b3" title=" " alt="" coords="248,1102,491,1135"/>
<area shape="poly" title=" " alt="" coords="112,883,129,925,158,981,198,1040,222,1066,249,1088,255,1092,252,1096,246,1093,218,1070,194,1043,153,984,124,927,107,885"/>
<area shape="rect" href="../../de/d67/session_8c.html#a40fa1238b59f856f01058476b97d4ce9" title=" " alt="" coords="251,987,488,1021"/>
<area shape="poly" title=" " alt="" coords="139,881,322,977,320,982,136,886"/>
<area shape="rect" href="../../de/d67/session_8c.html#a537c67da2d6dac42f8bda20e0b888f5a" title=" " alt="" coords="285,1214,454,1247"/>
<area shape="poly" title=" " alt="" coords="112,883,129,932,158,1000,199,1076,223,1112,250,1146,285,1178,322,1203,319,1208,281,1182,246,1150,219,1115,194,1078,154,1002,124,934,107,885"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="281,412,458,446"/>
<area shape="poly" title=" " alt="" coords="112,848,348,458,352,461,116,851"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1113,195,1218,229"/>
<area shape="poly" title=" " alt="" coords="953,277,1097,231,1099,236,955,282"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="1075,280,1256,314"/>
<area shape="poly" title=" " alt="" coords="969,294,1059,294,1059,300,969,300"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1632,75,1775,109"/>
<area shape="poly" title=" " alt="" coords="1183,193,1247,143,1289,118,1334,99,1407,82,1482,75,1554,75,1617,78,1617,84,1554,80,1483,80,1408,87,1336,104,1291,123,1250,147,1187,197"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1370,114,1525,147"/>
<area shape="poly" title=" " alt="" coords="1218,194,1371,150,1373,155,1219,199"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1632,156,1775,190"/>
<area shape="poly" title=" " alt="" coords="1218,205,1616,177,1617,182,1219,211"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1380,280,1516,314"/>
<area shape="poly" title=" " alt="" coords="1215,227,1336,267,1365,275,1363,280,1334,272,1214,232"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1398,223,1497,257"/>
<area shape="poly" title=" " alt="" coords="1219,214,1383,231,1382,236,1218,220"/>
<area shape="poly" title=" " alt="" coords="1526,116,1617,102,1617,107,1526,121"/>
<area shape="poly" title=" " alt="" coords="1526,141,1617,156,1617,161,1526,146"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1633,360,1774,394"/>
<area shape="poly" title=" " alt="" coords="1505,312,1633,353,1632,358,1503,317"/>
<area shape="poly" title=" " alt="" coords="1775,380,1832,385,1831,390,1774,386"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="801,930,996,963"/>
<area shape="poly" title=" " alt="" coords="460,1069,493,1087,506,1102,512,1117,516,1149,520,1178,527,1191,541,1203,595,1232,620,1239,645,1240,670,1238,695,1230,752,1203,781,1182,806,1155,828,1125,846,1094,872,1031,888,978,893,979,877,1032,851,1096,832,1128,810,1159,785,1186,755,1207,697,1235,671,1243,645,1246,620,1244,593,1237,537,1207,523,1194,515,1180,511,1149,507,1119,501,1105,489,1091,458,1074"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="1091,930,1240,963"/>
<area shape="poly" title=" " alt="" coords="996,944,1075,944,1075,949,996,949"/>
<area shape="poly" title=" " alt="" coords="1240,946,1325,947,1418,943,1502,932,1535,923,1559,912,1570,902,1577,891,1583,867,1588,841,1595,828,1607,815,1632,800,1634,805,1610,819,1600,831,1593,843,1588,868,1582,893,1574,905,1562,917,1537,928,1503,937,1419,948,1325,952,1240,952"/>
<area shape="poly" title=" " alt="" coords="1212,927,1385,861,1387,866,1214,932"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1618,830,1789,863"/>
<area shape="poly" title=" " alt="" coords="1230,961,1299,975,1383,984,1473,982,1517,975,1559,963,1595,945,1627,922,1677,873,1681,877,1630,926,1597,950,1561,968,1518,980,1473,987,1383,989,1299,980,1229,967"/>
<area shape="poly" title=" " alt="" coords="1523,823,1632,801,1633,806,1524,828"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1613,552,1794,586"/>
<area shape="poly" title=" " alt="" coords="1463,822,1674,595,1678,599,1467,826"/>
<area shape="poly" title=" " alt="" coords="1524,840,1603,842,1603,847,1524,845"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1608,715,1799,749"/>
<area shape="poly" title=" " alt="" coords="1478,822,1537,790,1607,757,1623,751,1625,756,1609,762,1539,795,1480,826"/>
<area shape="poly" title=" " alt="" coords="980,717,1044,724,1633,780,1632,786,1043,729,980,722"/>
<area shape="poly" title=" " alt="" coords="914,690,968,641,1004,615,1042,593,1116,562,1180,540,1238,525,1294,518,1351,516,1412,519,1561,534,1625,546,1624,551,1560,540,1412,525,1351,522,1295,523,1239,530,1181,545,1118,567,1045,598,1007,620,971,645,918,694"/>
<area shape="poly" title=" " alt="" coords="980,709,1593,726,1593,731,980,714"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="1404,664,1491,698"/>
<area shape="poly" title=" " alt="" coords="980,702,1388,681,1389,687,980,708"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="1044,608,1287,642"/>
<area shape="poly" title=" " alt="" coords="954,689,1094,645,1096,650,955,694"/>
<area shape="poly" title=" " alt="" coords="1173,606,1196,568,1232,518,1278,467,1305,444,1334,425,1368,409,1404,396,1479,379,1552,371,1617,370,1617,375,1553,376,1480,384,1406,401,1370,414,1336,430,1308,449,1281,471,1236,521,1201,570,1178,609"/>
<area shape="poly" title=" " alt="" coords="1191,640,1414,813,1410,817,1187,645"/>
<area shape="poly" title=" " alt="" coords="1255,640,1389,667,1388,672,1253,645"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="1361,550,1535,583"/>
<area shape="poly" title=" " alt="" coords="1249,605,1348,584,1349,590,1250,610"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="1335,607,1560,641"/>
<area shape="poly" title=" " alt="" coords="1287,622,1319,622,1319,627,1287,627"/>
<area shape="poly" title=" " alt="" coords="1543,639,1604,643,1671,640,1737,625,1768,613,1797,596,1817,579,1834,559,1861,513,1878,465,1887,424,1892,425,1883,467,1865,515,1839,562,1821,583,1800,601,1771,618,1739,631,1672,645,1604,648,1543,644"/>
<area shape="poly" title=" " alt="" coords="1546,639,1562,650,1575,663,1582,678,1587,706,1592,733,1599,746,1610,759,1634,774,1632,778,1607,763,1594,749,1587,735,1582,707,1577,679,1570,666,1559,654,1543,643"/>
<area shape="poly" title=" " alt="" coords="1529,604,1606,587,1607,592,1530,609"/>
<area shape="poly" title=" " alt="" coords="1548,639,1562,650,1578,671,1586,692,1587,735,1588,776,1595,797,1610,817,1612,818,1608,822,1606,820,1591,799,1583,777,1582,735,1581,693,1574,673,1558,654,1544,643"/>
<area shape="poly" title=" " alt="" coords="1530,639,1561,649,1617,676,1665,704,1663,709,1614,680,1559,654,1528,644"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="542,930,750,963"/>
<area shape="poly" title=" " alt="" coords="453,984,546,964,547,970,455,989"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a56794b194617d9a858dbc783dd2a0c32" title=" " alt="" coords="539,1044,753,1078"/>
<area shape="poly" title=" " alt="" coords="455,1019,547,1038,546,1043,453,1024"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14" title=" " alt="" coords="540,1102,752,1135"/>
<area shape="poly" title=" " alt="" coords="471,1019,493,1030,509,1044,517,1060,526,1074,541,1088,547,1092,544,1097,537,1093,521,1078,513,1062,504,1048,489,1034,469,1024"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a938ceeed1d840f9df7946262f1835214" title=" " alt="" coords="540,1159,753,1193"/>
<area shape="poly" title=" " alt="" coords="476,1019,493,1030,506,1044,513,1059,518,1089,522,1118,529,1132,541,1146,544,1148,540,1152,537,1150,524,1135,517,1120,513,1090,508,1061,501,1047,489,1034,473,1023"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a" title=" " alt="" coords="541,987,752,1021"/>
<area shape="poly" title=" " alt="" coords="489,1001,525,1001,525,1006,489,1006"/>
<area shape="poly" title=" " alt="" coords="751,944,786,944,786,949,751,949"/>
<area shape="rect" href="../../de/d67/session_8c.html#a15a41226cf2bf6546acd3cb1975459c9" title=" " alt="" coords="551,1268,741,1302"/>
<area shape="poly" title=" " alt="" coords="455,1244,543,1262,542,1267,454,1250"/>
<area shape="poly" title=" " alt="" coords="418,409,538,371,683,336,813,310,814,315,684,341,540,376,419,414"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e8112f19ea399af22d957f19cf6cfc7" title=" " alt="" coords="1369,440,1526,474"/>
<area shape="poly" title=" " alt="" coords="458,429,1354,452,1354,457,458,434"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="561,386,731,419"/>
<area shape="poly" title=" " alt="" coords="458,418,545,409,546,415,458,423"/>
<area shape="poly" title=" " alt="" coords="1526,443,1831,399,1832,405,1527,449"/>
<area shape="poly" title=" " alt="" coords="1487,472,1527,498,1546,516,1563,536,1578,567,1584,597,1582,653,1580,680,1582,706,1591,732,1610,759,1635,776,1632,780,1606,763,1586,735,1577,707,1575,680,1577,653,1579,598,1573,569,1558,539,1543,519,1524,502,1484,477"/>
<area shape="poly" title=" " alt="" coords="707,383,752,364,776,348,800,331,829,318,831,322,803,335,779,352,755,369,709,388"/>
<area shape="poly" title=" " alt="" coords="732,397,1335,380,1617,375,1617,381,1335,385,732,402"/>
</map>
</div>

</div>
</div>
<a id="a13cfab50b5022e760fd8a6912d5e5709" name="a13cfab50b5022e760fd8a6912d5e5709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13cfab50b5022e760fd8a6912d5e5709">&#9670;&#160;</a></span>rpc_handle_acl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_handle_acl </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00510">510</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  513</span>{</div>
<div class="line"><span class="lineno">  514</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno">  515</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb[<a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a37af7acec1cba488ebf34308562677f2">__RPC_SA_MAX</a>];</div>
<div class="line"><span class="lineno">  516</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *attr, *sattr;</div>
<div class="line"><span class="lineno">  517</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *object, *function;</div>
<div class="line"><span class="lineno">  518</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *scope = <span class="stringliteral">&quot;ubus&quot;</span>;</div>
<div class="line"><span class="lineno">  519</span>    <span class="keywordtype">int</span> rem1, rem2;</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>    int (*cb)(<span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses,</div>
<div class="line"><span class="lineno">  522</span>              <span class="keyword">const</span> <span class="keywordtype">char</span> *scope, <span class="keyword">const</span> <span class="keywordtype">char</span> *object, <span class="keyword">const</span> <span class="keywordtype">char</span> *function);</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#a47810f278d213fdc913a3b3d0217c10c">acl_policy</a>, <a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a37af7acec1cba488ebf34308562677f2">__RPC_SA_MAX</a>, tb, <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a>(msg), <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(msg));</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>    <span class="keywordflow">if</span> (!tb[<a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a516826d3b174795b30a72fde859a35d9">RPC_SA_SID</a>])</div>
<div class="line"><span class="lineno">  527</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>    ses = <a class="code hl_function" href="#a537c67da2d6dac42f8bda20e0b888f5a">rpc_session_get</a>(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb[<a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a516826d3b174795b30a72fde859a35d9">RPC_SA_SID</a>]));</div>
<div class="line"><span class="lineno">  530</span>    <span class="keywordflow">if</span> (!ses)</div>
<div class="line"><span class="lineno">  531</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97">UBUS_STATUS_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  532</span> </div>
<div class="line"><span class="lineno">  533</span>    <span class="keywordflow">if</span> (tb[<a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a82d9969369c967db453bdba7c78da8af">RPC_SA_SCOPE</a>])</div>
<div class="line"><span class="lineno">  534</span>        scope = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb[<a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a82d9969369c967db453bdba7c78da8af">RPC_SA_SCOPE</a>]);</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>    <span class="keywordflow">if</span> (!strcmp(method, <span class="stringliteral">&quot;grant&quot;</span>))</div>
<div class="line"><span class="lineno">  537</span>        cb = <a class="code hl_function" href="#a8f7993c2572c4099268c121f3fe5eab5">rpc_session_grant</a>;</div>
<div class="line"><span class="lineno">  538</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  539</span>        cb = <a class="code hl_function" href="#a54a264b4df2e8ea90cf5c55fc8854dca">rpc_session_revoke</a>;</div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span>    <span class="keywordflow">if</span> (!tb[<a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a1a6f8f37441cf9081ea72c67e60ef63d">RPC_SA_OBJECTS</a>])</div>
<div class="line"><span class="lineno">  542</span>        <span class="keywordflow">return</span> cb(ses, scope, NULL, NULL);</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>    <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(attr, tb[<a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a1a6f8f37441cf9081ea72c67e60ef63d">RPC_SA_OBJECTS</a>], rem1) {</div>
<div class="line"><span class="lineno">  545</span>        <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(attr) != <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a73b081b5b7befc2e98c585c25e9750f2">BLOBMSG_TYPE_ARRAY</a>)</div>
<div class="line"><span class="lineno">  546</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  547</span> </div>
<div class="line"><span class="lineno">  548</span>        <span class="keywordtype">object</span> = NULL;</div>
<div class="line"><span class="lineno">  549</span>        function = NULL;</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>        <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(sattr, attr, rem2) {</div>
<div class="line"><span class="lineno">  552</span>            <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(sattr) != <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>)</div>
<div class="line"><span class="lineno">  553</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>            <span class="keywordflow">if</span> (!<span class="keywordtype">object</span>)</div>
<div class="line"><span class="lineno">  556</span>                <span class="keywordtype">object</span> = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(sattr);</div>
<div class="line"><span class="lineno">  557</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!function)</div>
<div class="line"><span class="lineno">  558</span>                function = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(sattr);</div>
<div class="line"><span class="lineno">  559</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  560</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  561</span>        }</div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span>        <span class="keywordflow">if</span> (<span class="keywordtype">object</span> &amp;&amp; function)</div>
<div class="line"><span class="lineno">  564</span>            cb(ses, scope, <span class="keywordtype">object</span>, function);</div>
<div class="line"><span class="lineno">  565</span>    }</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  568</span>}</div>
<div class="ttc" id="ablobmsg_8h_html_a69a81065d5c7977bc26fbd093f21a132"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a></div><div class="ttdeci">#define blobmsg_for_each_attr(pos, attr, rem)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00364">blobmsg.h:364</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a></div><div class="ttdeci">blobmsg_type</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00025">blobmsg.h:25</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a></div><div class="ttdeci">@ BLOBMSG_TYPE_STRING</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00029">blobmsg.h:29</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9a73b081b5b7befc2e98c585c25e9750f2"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a73b081b5b7befc2e98c585c25e9750f2">BLOBMSG_TYPE_ARRAY</a></div><div class="ttdeci">@ BLOBMSG_TYPE_ARRAY</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00027">blobmsg.h:27</a></div></div>
<div class="ttc" id="asession_8c_html_a47810f278d213fdc913a3b3d0217c10c"><div class="ttname"><a href="#a47810f278d213fdc913a3b3d0217c10c">acl_policy</a></div><div class="ttdeci">static const struct blobmsg_policy acl_policy[__RPC_SA_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00085">session.c:85</a></div></div>
<div class="ttc" id="asession_8c_html_a54a264b4df2e8ea90cf5c55fc8854dca"><div class="ttname"><a href="#a54a264b4df2e8ea90cf5c55fc8854dca">rpc_session_revoke</a></div><div class="ttdeci">static int rpc_session_revoke(struct rpc_session *ses, const char *scope, const char *object, const char *function)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00456">session.c:456</a></div></div>
<div class="ttc" id="asession_8c_html_a8f7993c2572c4099268c121f3fe5eab5"><div class="ttname"><a href="#a8f7993c2572c4099268c121f3fe5eab5">rpc_session_grant</a></div><div class="ttdeci">static int rpc_session_grant(struct rpc_session *ses, const char *scope, const char *object, const char *function)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00405">session.c:405</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00083">__RPC_SA_MAX</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00085">acl_policy</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00075">blob_data()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00364">blobmsg_for_each_attr</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00027">BLOBMSG_TYPE_ARRAY</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00029">BLOBMSG_TYPE_STRING</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00082">RPC_SA_OBJECTS</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00081">RPC_SA_SCOPE</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00080">RPC_SA_SID</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00341">rpc_session_get()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00405">rpc_session_grant()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00456">rpc_session_revoke()</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00121">UBUS_STATUS_INVALID_ARGUMENT</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00123">UBUS_STATUS_NOT_FOUND</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a13cfab50b5022e760fd8a6912d5e5709_cgraph.png" border="0" usemap="#ade/d67/session_8c_a13cfab50b5022e760fd8a6912d5e5709_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a13cfab50b5022e760fd8a6912d5e5709_cgraph" id="ade/d67/session_8c_a13cfab50b5022e760fd8a6912d5e5709_cgraph">
<area shape="rect" title=" " alt="" coords="5,531,164,565"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1263,253,1374,286"/>
<area shape="poly" title=" " alt="" coords="89,530,107,480,138,408,181,322,236,232,304,145,342,106,383,72,428,44,475,22,526,8,579,3,864,3,957,6,1029,20,1097,49,1177,98,1216,130,1251,168,1302,238,1297,241,1247,171,1213,134,1173,102,1095,54,1028,25,957,12,864,8,579,8,527,13,477,27,430,48,386,76,346,110,308,149,241,235,186,325,143,410,112,482,94,531"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1050,197,1149,230"/>
<area shape="poly" title=" " alt="" coords="94,529,139,464,172,426,210,393,283,342,347,302,406,271,463,247,523,228,588,212,750,180,813,170,863,168,976,180,1036,192,1035,197,975,185,863,174,813,176,751,185,589,217,524,233,465,252,408,276,349,307,286,346,213,397,176,430,143,467,98,532"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1024,409,1175,442"/>
<area shape="poly" title=" " alt="" coords="164,559,318,578,416,585,523,588,636,584,751,573,865,553,975,520,1003,507,1029,489,1071,451,1075,455,1032,494,1005,511,977,525,866,558,752,579,636,590,523,593,416,590,318,583,164,564"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="230,407,393,441"/>
<area shape="poly" title=" " alt="" coords="116,528,264,447,266,451,118,533"/>
<area shape="rect" href="../../de/d67/session_8c.html#a537c67da2d6dac42f8bda20e0b888f5a" title=" " alt="" coords="227,611,396,645"/>
<area shape="poly" title=" " alt="" coords="135,563,248,603,246,608,134,568"/>
<area shape="rect" href="../../de/d67/session_8c.html#a8f7993c2572c4099268c121f3fe5eab5" title=" " alt="" coords="217,923,406,957"/>
<area shape="poly" title=" " alt="" coords="98,564,295,909,290,911,93,567"/>
<area shape="rect" href="../../de/d67/session_8c.html#a54a264b4df2e8ea90cf5c55fc8854dca" title=" " alt="" coords="212,1109,411,1142"/>
<area shape="poly" title=" " alt="" coords="92,565,132,733,168,851,214,968,252,1037,290,1094,286,1097,247,1040,209,970,163,852,127,734,87,566"/>
<area shape="poly" title=" " alt="" coords="1123,406,1279,293,1282,298,1126,410"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1228,354,1409,388"/>
<area shape="poly" title=" " alt="" coords="1169,405,1233,389,1234,394,1170,410"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1233,434,1403,468"/>
<area shape="poly" title=" " alt="" coords="1176,431,1218,436,1217,442,1175,437"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1223,514,1413,548"/>
<area shape="poly" title=" " alt="" coords="1138,440,1269,504,1266,509,1135,445"/>
<area shape="poly" title=" " alt="" coords="320,405,340,371,371,326,411,279,457,238,531,191,595,164,663,148,750,133,870,110,966,96,1013,95,1061,101,1115,113,1176,135,1214,155,1248,182,1298,238,1294,242,1244,186,1211,160,1174,140,1113,119,1060,106,1012,100,967,101,871,115,751,139,664,154,597,169,534,196,461,242,415,283,376,329,345,373,324,408"/>
<area shape="poly" title=" " alt="" coords="333,405,399,356,498,292,556,259,619,228,684,201,750,180,871,146,923,132,972,124,1020,122,1069,130,1120,149,1177,182,1191,194,1200,208,1206,236,1210,266,1216,281,1225,297,1249,322,1276,343,1272,347,1245,326,1221,300,1211,284,1205,267,1201,237,1195,210,1187,198,1173,186,1118,154,1068,135,1020,128,973,129,924,137,872,151,751,185,686,206,621,232,559,263,501,296,402,360,336,409"/>
<area shape="poly" title=" " alt="" coords="353,439,404,458,460,476,560,498,664,515,768,526,870,533,1058,538,1208,535,1208,540,1058,543,870,539,768,532,663,520,559,504,458,481,402,463,351,444"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="819,477,907,510"/>
<area shape="poly" title=" " alt="" coords="393,432,804,483,804,489,393,437"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="459,367,702,401"/>
<area shape="poly" title=" " alt="" coords="393,409,447,401,448,406,393,415"/>
<area shape="poly" title=" " alt="" coords="669,399,751,411,886,420,1008,423,1008,428,886,425,750,416,668,404"/>
<area shape="poly" title=" " alt="" coords="620,399,751,455,806,474,804,479,749,460,618,404"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="776,310,950,344"/>
<area shape="poly" title=" " alt="" coords="667,364,761,345,762,350,668,369"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="792,195,934,229"/>
<area shape="poly" title=" " alt="" coords="595,365,658,303,701,268,749,238,777,226,779,231,752,242,704,272,661,307,599,369"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="750,367,976,401"/>
<area shape="poly" title=" " alt="" coords="703,381,735,381,735,387,703,387"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="769,253,957,286"/>
<area shape="poly" title=" " alt="" coords="610,364,673,330,749,295,768,289,769,294,751,300,675,334,612,369"/>
<area shape="poly" title=" " alt="" coords="934,210,1034,210,1034,216,934,215"/>
<area shape="poly" title=" " alt="" coords="933,364,975,353,1247,284,1248,290,976,359,934,369"/>
<area shape="poly" title=" " alt="" coords="953,364,974,354,1072,240,1076,244,977,358,956,369"/>
<area shape="poly" title=" " alt="" coords="976,378,1212,371,1212,376,976,383"/>
<area shape="poly" title=" " alt="" coords="895,399,953,428,988,442,1024,452,1073,460,1123,463,1217,460,1218,465,1123,468,1072,465,1023,457,987,447,951,433,892,404"/>
<area shape="poly" title=" " alt="" coords="891,399,951,435,1025,470,1117,497,1208,514,1207,520,1116,502,1023,474,948,440,888,404"/>
<area shape="poly" title=" " alt="" coords="958,267,1247,267,1247,272,958,272"/>
<area shape="poly" title=" " alt="" coords="936,249,1034,226,1036,231,938,255"/>
<area shape="poly" title=" " alt="" coords="954,284,977,295,1008,317,1036,343,1079,394,1075,397,1032,347,1005,321,974,300,952,289"/>
<area shape="rect" href="../../de/d67/session_8c.html#a15a41226cf2bf6546acd3cb1975459c9" title=" " alt="" coords="486,637,676,670"/>
<area shape="poly" title=" " alt="" coords="396,633,470,640,470,646,396,639"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="768,637,958,670"/>
<area shape="poly" title=" " alt="" coords="676,651,753,651,753,656,676,656"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="538,766,624,800"/>
<area shape="poly" title=" " alt="" coords="341,920,536,805,538,810,344,925"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="526,923,636,957"/>
<area shape="poly" title=" " alt="" coords="406,937,510,937,510,943,406,943"/>
<area shape="rect" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0" title=" " alt="" coords="520,981,641,1014"/>
<area shape="poly" title=" " alt="" coords="394,955,505,979,504,984,393,960"/>
<area shape="rect" href="../../de/d67/session_8c.html#a6821acd43665ce9878cf066c08cc5b8e" title=" " alt="" coords="527,1042,635,1076"/>
<area shape="poly" title=" " alt="" coords="338,955,393,990,460,1024,513,1042,511,1047,458,1029,390,994,336,959"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="779,694,947,728"/>
<area shape="poly" title=" " alt="" coords="623,769,750,736,777,729,778,734,751,741,625,774"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="798,971,928,1005"/>
<area shape="poly" title=" " alt="" coords="637,947,783,972,782,977,636,952"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="782,751,944,785"/>
<area shape="poly" title=" " alt="" coords="595,921,658,859,701,824,749,794,766,786,769,791,752,798,704,828,661,863,599,925"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1053,889,1146,922"/>
<area shape="poly" title=" " alt="" coords="637,943,671,952,704,966,719,979,728,992,737,1005,752,1015,812,1036,863,1043,913,1036,975,1015,1005,999,1032,978,1075,933,1079,937,1036,982,1008,1004,977,1020,915,1041,863,1048,811,1041,749,1020,733,1009,724,995,715,982,701,970,669,957,635,948"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="774,809,952,842"/>
<area shape="poly" title=" " alt="" coords="610,920,673,886,749,851,768,845,769,850,751,856,675,890,612,925"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="814,1081,912,1114"/>
<area shape="poly" title=" " alt="" coords="637,940,671,949,704,966,716,977,723,989,729,1013,735,1037,752,1059,774,1074,799,1084,797,1089,772,1078,749,1063,731,1039,724,1015,718,991,711,981,701,970,670,954,635,945"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="806,1138,920,1172"/>
<area shape="poly" title=" " alt="" coords="637,938,672,947,704,966,720,986,728,1006,729,1047,731,1087,737,1106,752,1125,770,1137,791,1146,790,1151,768,1142,748,1129,733,1109,725,1088,724,1047,722,1007,715,989,701,970,670,952,636,944"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="801,890,925,924"/>
<area shape="poly" title=" " alt="" coords="636,931,786,913,786,918,637,936"/>
<area shape="poly" title=" " alt="" coords="821,972,816,962,822,952,838,947,863,945,890,947,905,953,903,958,888,952,863,950,839,952,826,957,821,962,825,970"/>
<area shape="poly" title=" " alt="" coords="946,781,977,794,1006,812,1032,833,1075,875,1072,879,1029,837,1003,816,974,798,944,786"/>
<area shape="poly" title=" " alt="" coords="821,891,816,881,822,871,838,865,863,863,890,866,905,872,903,877,888,871,863,868,839,870,826,875,821,881,825,888"/>
<area shape="poly" title=" " alt="" coords="382,1105,511,1073,512,1078,383,1110"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="524,1109,638,1142"/>
<area shape="poly" title=" " alt="" coords="412,1123,508,1123,508,1128,412,1128"/>
<area shape="rect" href="../../d3/d51/avl_8h.html#a4eb43408a7e91b1323c8e2484ae2431a" title=" " alt="" coords="511,1166,651,1200"/>
<area shape="poly" title=" " alt="" coords="394,1140,495,1162,494,1167,393,1145"/>
<area shape="rect" href="../../d3/d51/avl_8h.html#aaa94f68dd2836210b4d2841586941573" title=" " alt="" coords="524,1223,638,1257"/>
<area shape="poly" title=" " alt="" coords="338,1141,393,1176,460,1210,509,1225,507,1230,458,1214,390,1180,335,1145"/>
<area shape="poly" title=" " alt="" coords="638,1117,798,1101,799,1106,639,1122"/>
<area shape="poly" title=" " alt="" coords="639,1129,791,1145,790,1150,638,1134"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="770,1277,956,1310"/>
<area shape="poly" title=" " alt="" coords="639,1126,673,1135,704,1151,723,1173,730,1195,737,1217,752,1239,772,1255,794,1267,792,1272,769,1259,748,1243,732,1220,725,1197,718,1175,701,1155,671,1140,638,1131"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="800,1195,926,1229"/>
<area shape="poly" title=" " alt="" coords="639,1132,703,1151,728,1166,752,1182,785,1194,784,1199,749,1186,725,1171,701,1156,638,1137"/>
<area shape="poly" title=" " alt="" coords="821,1277,816,1267,822,1258,838,1252,863,1250,890,1252,905,1259,903,1264,888,1257,863,1255,839,1257,826,1262,821,1268,825,1275"/>
</map>
</div>

</div>
</div>
<a id="a27f1b70de357b51fbf5bb9295b695c18" name="a27f1b70de357b51fbf5bb9295b695c18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27f1b70de357b51fbf5bb9295b695c18">&#9670;&#160;</a></span>rpc_handle_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_handle_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00354">354</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  357</span>{</div>
<div class="line"><span class="lineno">  358</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno">  359</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb;</div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../de/d89/procd_2ubus_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> = <a class="code hl_define" href="../../da/d46/session_8h.html#ae8c0285f99d9405bb247490436371220">RPC_DEFAULT_SESSION_TIMEOUT</a>;</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#ae8c5a19913e32836ded43495a9b62610">new_policy</a>, <a class="code hl_enumvalue" href="#a7495a48740c9d555f7fbcb48246dbd93aecfdd63ed07e86e15a574255c4ed0fa3">__RPC_SN_MAX</a>, &amp;tb, <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a>(msg), <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(msg));</div>
<div class="line"><span class="lineno">  363</span>    <span class="keywordflow">if</span> (tb)</div>
<div class="line"><span class="lineno">  364</span>        <a class="code hl_variable" href="../../de/d89/procd_2ubus_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f">blobmsg_get_u32</a>(tb);</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>    ses = <a class="code hl_function" href="#a4368db4f95cd28dc11c33e44a7e8f3fe">rpc_session_create</a>(<a class="code hl_variable" href="../../de/d89/procd_2ubus_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>);</div>
<div class="line"><span class="lineno">  367</span>    <span class="keywordflow">if</span> (ses)</div>
<div class="line"><span class="lineno">  368</span>        <a class="code hl_function" href="#ae5d591f9a73009f4be53ee07d73cbf49">rpc_session_dump</a>(ses, <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req);</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  371</span>}</div>
<div class="ttc" id="ablobmsg_8h_html_a856562b4d96007d3ce1a052998451a0f"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f">blobmsg_get_u32</a></div><div class="ttdeci">static uint32_t blobmsg_get_u32(struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00293">blobmsg.h:293</a></div></div>
<div class="ttc" id="aprocd_2ubus_8c_html_a493b57f443cc38b3d3df9c1e584d9d82"><div class="ttname"><a href="../../de/d89/procd_2ubus_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a></div><div class="ttdeci">static int timeout</div><div class="ttdef"><b>Definition</b> <a href="../../de/d89/procd_2ubus_8c_source.html#l00025">ubus.c:25</a></div></div>
<div class="ttc" id="asession_8c_html_a4368db4f95cd28dc11c33e44a7e8f3fe"><div class="ttname"><a href="#a4368db4f95cd28dc11c33e44a7e8f3fe">rpc_session_create</a></div><div class="ttdeci">static struct rpc_session * rpc_session_create(int timeout)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00315">session.c:315</a></div></div>
<div class="ttc" id="asession_8c_html_ae5d591f9a73009f4be53ee07d73cbf49"><div class="ttname"><a href="#ae5d591f9a73009f4be53ee07d73cbf49">rpc_session_dump</a></div><div class="ttdeci">static void rpc_session_dump(struct rpc_session *ses, struct ubus_context *ctx, struct ubus_request_data *req)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00243">session.c:243</a></div></div>
<div class="ttc" id="asession_8c_html_ae8c5a19913e32836ded43495a9b62610"><div class="ttname"><a href="#ae8c5a19913e32836ded43495a9b62610">new_policy</a></div><div class="ttdeci">static const struct blobmsg_policy new_policy[__RPC_SN_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00047">session.c:47</a></div></div>
<div class="ttc" id="asession_8h_html_ae8c0285f99d9405bb247490436371220"><div class="ttname"><a href="../../da/d46/session_8h.html#ae8c0285f99d9405bb247490436371220">RPC_DEFAULT_SESSION_TIMEOUT</a></div><div class="ttdeci">#define RPC_DEFAULT_SESSION_TIMEOUT</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00034">session.h:34</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00045">__RPC_SN_MAX</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00075">blob_data()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00293">blobmsg_get_u32()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00047">new_policy</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00034">RPC_DEFAULT_SESSION_TIMEOUT</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00315">rpc_session_create()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00243">rpc_session_dump()</a>, and <a class="el" href="../../de/d89/procd_2ubus_8c_source.html#l00025">timeout</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a27f1b70de357b51fbf5bb9295b695c18_cgraph.png" border="0" usemap="#ade/d67/session_8c_a27f1b70de357b51fbf5bb9295b695c18_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a27f1b70de357b51fbf5bb9295b695c18_cgraph" id="ade/d67/session_8c_a27f1b70de357b51fbf5bb9295b695c18_cgraph">
<area shape="rect" title=" " alt="" coords="5,544,195,578"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1290,494,1401,527"/>
<area shape="poly" title=" " alt="" coords="195,573,385,597,496,606,606,609,891,609,1001,601,1108,581,1206,555,1283,530,1284,535,1207,560,1110,586,1001,606,891,614,606,614,495,611,384,602,195,579"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1077,178,1176,211"/>
<area shape="poly" title=" " alt="" coords="100,543,110,482,133,396,151,350,175,305,205,263,241,228,337,162,383,137,427,118,470,103,512,93,598,84,686,87,781,101,1003,144,1042,154,1078,168,1076,173,1040,159,1002,149,780,106,686,93,598,89,513,98,471,108,429,123,385,142,340,166,244,232,209,267,180,308,156,352,138,398,115,484,106,544"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f" title=" " alt="" coords="248,516,433,550"/>
<area shape="poly" title=" " alt="" coords="195,547,232,543,233,548,196,553"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="259,243,422,277"/>
<area shape="poly" title=" " alt="" coords="113,542,314,287,318,291,117,546"/>
<area shape="rect" href="../../de/d67/session_8c.html#a4368db4f95cd28dc11c33e44a7e8f3fe" title=" " alt="" coords="243,822,438,855"/>
<area shape="poly" title=" " alt="" coords="118,577,316,808,312,811,114,580"/>
<area shape="rect" href="../../de/d67/session_8c.html#ae5d591f9a73009f4be53ee07d73cbf49" title=" " alt="" coords="244,1294,437,1327"/>
<area shape="poly" title=" " alt="" coords="109,578,331,1278,326,1279,104,579"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1051,388,1202,422"/>
<area shape="poly" title=" " alt="" coords="433,529,549,523,692,510,848,489,1002,456,1041,443,1078,427,1080,431,1043,448,1003,461,849,494,693,516,549,528,434,534"/>
<area shape="poly" title=" " alt="" coords="1165,420,1203,439,1296,484,1294,489,1201,443,1162,425"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1255,230,1436,263"/>
<area shape="poly" title=" " alt="" coords="1137,386,1181,330,1213,299,1249,272,1256,268,1259,272,1251,277,1216,303,1185,334,1141,390"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1260,368,1430,402"/>
<area shape="poly" title=" " alt="" coords="1202,395,1244,392,1245,397,1203,401"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1250,287,1440,321"/>
<area shape="poly" title=" " alt="" coords="1164,385,1292,325,1294,330,1166,390"/>
<area shape="poly" title=" " alt="" coords="374,275,543,361,658,412,778,456,853,478,912,491,1051,508,1169,513,1274,511,1274,517,1168,518,1050,513,912,497,852,483,776,461,656,417,541,366,372,279"/>
<area shape="poly" title=" " alt="" coords="359,240,414,197,485,151,563,111,626,84,691,66,777,49,898,24,996,5,1043,3,1091,9,1144,23,1203,49,1228,65,1250,83,1287,128,1315,174,1334,214,1330,216,1311,177,1283,131,1246,87,1225,69,1201,54,1142,28,1090,14,1043,8,997,10,899,29,778,54,692,71,627,89,565,116,487,155,417,201,363,245"/>
<area shape="poly" title=" " alt="" coords="377,240,428,219,485,198,631,169,777,144,843,135,901,124,1003,105,1050,103,1098,110,1149,129,1204,163,1217,176,1225,190,1230,218,1234,247,1240,261,1252,274,1254,276,1251,280,1248,278,1236,263,1229,249,1225,219,1220,191,1213,179,1200,167,1146,134,1097,115,1050,108,1003,110,902,129,844,140,778,149,632,174,487,204,430,223,379,245"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="846,159,934,193"/>
<area shape="poly" title=" " alt="" coords="421,245,830,182,831,187,422,250"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="486,274,729,307"/>
<area shape="poly" title=" " alt="" coords="422,266,471,272,470,277,422,272"/>
<area shape="poly" title=" " alt="" coords="624,306,649,336,685,371,729,406,778,432,814,442,851,448,927,448,998,439,1059,424,1060,429,999,444,927,454,851,453,813,447,776,437,726,410,681,375,645,339,620,309"/>
<area shape="poly" title=" " alt="" coords="672,271,728,245,742,235,751,224,761,212,776,201,803,190,831,182,832,187,805,195,779,206,764,216,755,227,746,238,731,250,674,275"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="803,331,977,365"/>
<area shape="poly" title=" " alt="" coords="695,305,789,325,788,330,694,310"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="819,216,961,250"/>
<area shape="poly" title=" " alt="" coords="694,270,804,248,805,253,695,276"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="777,274,1003,307"/>
<area shape="poly" title=" " alt="" coords="730,288,762,288,762,293,730,293"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="796,388,984,422"/>
<area shape="poly" title=" " alt="" coords="639,305,702,340,778,375,796,381,795,386,776,379,700,345,637,310"/>
<area shape="poly" title=" " alt="" coords="960,219,1061,202,1062,207,961,224"/>
<area shape="poly" title=" " alt="" coords="988,305,1004,316,1017,331,1025,346,1029,376,1034,405,1040,419,1052,432,1135,457,1275,491,1274,497,1134,462,1049,437,1036,422,1029,407,1024,377,1020,348,1013,334,1001,320,985,310"/>
<area shape="poly" title=" " alt="" coords="973,270,1001,260,1026,245,1049,228,1072,216,1074,221,1052,233,1029,249,1004,265,975,275"/>
<area shape="poly" title=" " alt="" coords="1003,277,1239,254,1239,259,1003,282"/>
<area shape="poly" title=" " alt="" coords="975,305,1246,362,1245,367,974,310"/>
<area shape="poly" title=" " alt="" coords="1003,291,1235,298,1235,303,1003,296"/>
<area shape="poly" title=" " alt="" coords="923,420,981,449,1051,476,1109,489,1168,498,1275,506,1274,512,1168,503,1108,494,1050,481,979,454,920,425"/>
<area shape="poly" title=" " alt="" coords="982,385,1001,375,1038,341,1069,301,1093,260,1110,225,1115,227,1098,263,1074,304,1042,345,1004,379,985,390"/>
<area shape="poly" title=" " alt="" coords="985,402,1035,402,1035,408,985,408"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="553,1012,663,1046"/>
<area shape="poly" title=" " alt="" coords="367,853,572,1001,568,1005,364,858"/>
<area shape="rect" href="../../de/d67/session_8c.html#adb30923ed65e01b2047d9d2034a1b15d" title=" " alt="" coords="542,1070,674,1103"/>
<area shape="poly" title=" " alt="" coords="350,854,368,896,396,951,436,1008,461,1034,487,1056,528,1074,525,1079,485,1061,457,1038,432,1012,392,954,363,898,345,856"/>
<area shape="rect" href="../../de/d67/session_8c.html#a4e65e993938bcd87e1a73d5120121e4e" title=" " alt="" coords="520,736,696,770"/>
<area shape="poly" title=" " alt="" coords="395,818,537,773,539,778,397,823"/>
<area shape="rect" href="../../de/d67/session_8c.html#a15a41226cf2bf6546acd3cb1975459c9" title=" " alt="" coords="513,822,703,855"/>
<area shape="poly" title=" " alt="" coords="438,836,497,836,497,841,438,841"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="825,903,955,937"/>
<area shape="poly" title=" " alt="" coords="645,1009,776,953,816,939,817,944,778,958,647,1014"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="809,1012,971,1046"/>
<area shape="poly" title=" " alt="" coords="663,1026,794,1026,794,1032,663,1032"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1080,984,1173,1018"/>
<area shape="poly" title=" " alt="" coords="663,1014,777,997,840,993,890,994,1003,997,1064,998,1064,1003,1003,1002,890,999,841,999,778,1002,664,1020"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="801,1070,979,1103"/>
<area shape="poly" title=" " alt="" coords="664,1038,790,1063,788,1069,663,1043"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="841,1127,939,1161"/>
<area shape="poly" title=" " alt="" coords="664,1031,698,1040,731,1055,747,1069,756,1085,764,1100,779,1113,802,1125,826,1133,825,1138,800,1130,776,1118,760,1103,751,1088,743,1073,728,1059,696,1045,663,1037"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="833,1184,947,1218"/>
<area shape="poly" title=" " alt="" coords="664,1028,699,1037,731,1055,744,1069,751,1084,756,1114,761,1144,767,1158,779,1171,798,1183,819,1191,817,1196,795,1188,776,1175,763,1161,755,1145,751,1115,746,1086,740,1072,728,1059,697,1042,662,1033"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="828,1266,952,1299"/>
<area shape="poly" title=" " alt="" coords="664,1027,699,1036,731,1055,748,1077,757,1098,758,1141,759,1185,765,1207,779,1229,796,1244,816,1257,813,1261,793,1248,775,1232,760,1209,754,1186,753,1142,751,1099,744,1079,728,1059,697,1041,663,1032"/>
<area shape="poly" title=" " alt="" coords="848,904,843,894,849,884,865,878,890,876,917,879,932,885,930,890,915,884,890,882,866,883,853,888,848,894,852,901"/>
<area shape="poly" title=" " alt="" coords="971,1017,1064,1006,1065,1011,972,1022"/>
<area shape="poly" title=" " alt="" coords="848,1266,843,1256,849,1247,865,1241,890,1239,917,1241,932,1248,930,1253,915,1246,890,1244,866,1246,853,1251,848,1257,852,1264"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="847,707,933,741"/>
<area shape="poly" title=" " alt="" coords="696,741,831,727,831,732,697,747"/>
<area shape="rect" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0" title=" " alt="" coords="829,764,951,798"/>
<area shape="poly" title=" " alt="" coords="697,759,814,771,814,776,696,764"/>
<area shape="rect" href="../../de/d67/session_8c.html#a942904f3bce66749528077eea3656a9e" title=" " alt="" coords="785,650,995,683"/>
<area shape="poly" title=" " alt="" coords="655,733,777,692,800,685,802,690,778,697,656,738"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="795,822,985,855"/>
<area shape="poly" title=" " alt="" coords="703,836,780,836,780,841,703,841"/>
<area shape="rect" href="../../de/d67/session_8c.html#aaa8dccc7bffc72a3e31e4f3e14792e6d" title=" " alt="" coords="505,1351,710,1385"/>
<area shape="poly" title=" " alt="" coords="423,1325,511,1344,510,1350,422,1330"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="520,1294,696,1327"/>
<area shape="poly" title=" " alt="" coords="437,1308,504,1308,504,1313,437,1313"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="820,1323,960,1357"/>
<area shape="poly" title=" " alt="" coords="710,1355,804,1345,805,1351,711,1360"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="786,1380,994,1414"/>
<area shape="poly" title=" " alt="" coords="711,1376,771,1382,770,1387,710,1381"/>
<area shape="poly" title=" " alt="" coords="697,1317,805,1328,805,1334,696,1322"/>
</map>
</div>

</div>
</div>
<a id="a8ac23013fc940ce1da004d6eadbf37ac" name="a8ac23013fc940ce1da004d6eadbf37ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ac23013fc940ce1da004d6eadbf37ac">&#9670;&#160;</a></span>rpc_handle_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_handle_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00767">767</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  770</span>{</div>
<div class="line"><span class="lineno">  771</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno">  772</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb;</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#a1489ab210f37b4d0f033208fec05d712">sid_policy</a>, <a class="code hl_enumvalue" href="#a9a3be2d66956bd67c0b66c32d8b30f17a77ef799dd14ad9effb178127fe64563a">__RPC_SI_MAX</a>, &amp;tb, <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a>(msg), <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(msg));</div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span>    <span class="keywordflow">if</span> (!tb)</div>
<div class="line"><span class="lineno">  777</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">  778</span> </div>
<div class="line"><span class="lineno">  779</span>    <span class="keywordflow">if</span> (!strcmp(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603">blobmsg_get_string</a>(tb), <a class="code hl_define" href="../../da/d46/session_8h.html#ae30b5399c8ec47e9d4b891f570bed531">RPC_DEFAULT_SESSION_ID</a>))</div>
<div class="line"><span class="lineno">  780</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312aa18a040703e9965952f5c93c3e727d39">UBUS_STATUS_PERMISSION_DENIED</a>;</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>    ses = <a class="code hl_function" href="#a537c67da2d6dac42f8bda20e0b888f5a">rpc_session_get</a>(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb));</div>
<div class="line"><span class="lineno">  783</span>    <span class="keywordflow">if</span> (!ses)</div>
<div class="line"><span class="lineno">  784</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97">UBUS_STATUS_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>    <a class="code hl_function" href="#af8a6b910b22f08634f041229c48633b0">rpc_session_destroy</a>(ses);</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  789</span>}</div>
<div class="ttc" id="ablobmsg_8h_html_a6c1cc8e52e96bf9698f6b0f65ad48603"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603">blobmsg_get_string</a></div><div class="ttdeci">static char * blobmsg_get_string(struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00348">blobmsg.h:348</a></div></div>
<div class="ttc" id="asession_8c_html_a1489ab210f37b4d0f033208fec05d712"><div class="ttname"><a href="#a1489ab210f37b4d0f033208fec05d712">sid_policy</a></div><div class="ttdeci">static const struct blobmsg_policy sid_policy[__RPC_SI_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00055">session.c:55</a></div></div>
<div class="ttc" id="asession_8c_html_af8a6b910b22f08634f041229c48633b0"><div class="ttname"><a href="#af8a6b910b22f08634f041229c48633b0">rpc_session_destroy</a></div><div class="ttdeci">static void rpc_session_destroy(struct rpc_session *ses)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00259">session.c:259</a></div></div>
<div class="ttc" id="asession_8h_html_ae30b5399c8ec47e9d4b891f570bed531"><div class="ttname"><a href="../../da/d46/session_8h.html#ae30b5399c8ec47e9d4b891f570bed531">RPC_DEFAULT_SESSION_ID</a></div><div class="ttdeci">#define RPC_DEFAULT_SESSION_ID</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00035">session.h:35</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312aa18a040703e9965952f5c93c3e727d39"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312aa18a040703e9965952f5c93c3e727d39">UBUS_STATUS_PERMISSION_DENIED</a></div><div class="ttdeci">@ UBUS_STATUS_PERMISSION_DENIED</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00125">ubusmsg.h:125</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00053">__RPC_SI_MAX</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00075">blob_data()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00348">blobmsg_get_string()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00035">RPC_DEFAULT_SESSION_ID</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00259">rpc_session_destroy()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00341">rpc_session_get()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00055">sid_policy</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00121">UBUS_STATUS_INVALID_ARGUMENT</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00123">UBUS_STATUS_NOT_FOUND</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00125">UBUS_STATUS_PERMISSION_DENIED</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a8ac23013fc940ce1da004d6eadbf37ac_cgraph.png" border="0" usemap="#ade/d67/session_8c_a8ac23013fc940ce1da004d6eadbf37ac_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a8ac23013fc940ce1da004d6eadbf37ac_cgraph" id="ade/d67/session_8c_a8ac23013fc940ce1da004d6eadbf37ac_cgraph">
<area shape="rect" title=" " alt="" coords="5,259,207,293"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1379,205,1490,238"/>
<area shape="poly" title=" " alt="" coords="111,258,129,216,158,161,200,105,225,80,253,59,304,32,349,15,390,6,431,3,518,7,626,12,911,12,985,18,1058,33,1129,55,1197,82,1314,142,1398,193,1395,198,1312,146,1194,87,1127,60,1057,38,984,23,911,18,626,18,518,13,431,8,391,11,350,20,306,37,256,64,228,84,204,109,163,164,133,219,116,260"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1132,318,1230,352"/>
<area shape="poly" title=" " alt="" coords="207,279,1116,329,1116,334,207,284"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1105,259,1257,293"/>
<area shape="poly" title=" " alt="" coords="161,256,311,216,412,195,526,177,647,164,774,160,900,168,962,177,1023,190,1057,201,1090,216,1145,248,1142,253,1087,220,1055,206,1022,195,961,182,900,173,773,165,648,169,526,182,413,200,312,222,162,261"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="255,74,458,108"/>
<area shape="poly" title=" " alt="" coords="123,257,179,205,253,146,306,113,309,118,256,150,183,209,127,261"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="275,463,438,497"/>
<area shape="poly" title=" " alt="" coords="130,292,324,451,321,456,127,296"/>
<area shape="rect" href="../../de/d67/session_8c.html#af8a6b910b22f08634f041229c48633b0" title=" " alt="" coords="524,806,731,840"/>
<area shape="poly" title=" " alt="" coords="118,292,171,388,211,449,257,508,344,597,436,678,523,746,590,795,587,799,519,750,433,682,340,601,253,511,207,452,167,391,113,295"/>
<area shape="rect" href="../../de/d67/session_8c.html#a537c67da2d6dac42f8bda20e0b888f5a" title=" " alt="" coords="272,801,441,834"/>
<area shape="poly" title=" " alt="" coords="116,292,172,432,257,628,340,786,335,788,252,631,167,434,111,294"/>
<area shape="poly" title=" " alt="" coords="1256,257,1363,234,1364,239,1258,263"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1344,533,1525,566"/>
<area shape="poly" title=" " alt="" coords="1258,282,1277,291,1293,304,1312,331,1320,359,1321,386,1318,414,1315,440,1315,467,1323,493,1341,520,1342,521,1338,525,1337,523,1318,496,1310,468,1310,440,1313,413,1316,386,1315,360,1307,333,1289,307,1274,296,1256,287"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1349,338,1519,372"/>
<area shape="poly" title=" " alt="" coords="1250,291,1292,303,1373,330,1371,335,1290,308,1249,296"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1339,475,1529,509"/>
<area shape="poly" title=" " alt="" coords="1258,286,1293,303,1311,322,1321,341,1328,360,1341,383,1408,463,1404,466,1337,386,1324,363,1316,343,1307,325,1289,308,1256,291"/>
<area shape="poly" title=" " alt="" coords="458,79,577,75,720,80,797,89,874,102,951,121,1024,146,1064,167,1100,193,1157,246,1153,250,1097,197,1061,171,1022,151,949,126,873,107,796,94,720,86,577,80,458,84"/>
<area shape="poly" title=" " alt="" coords="374,461,437,404,536,326,595,286,660,248,727,215,797,190,873,172,953,163,1032,160,1110,163,1253,179,1364,201,1363,206,1252,185,1110,168,1032,165,953,168,874,177,798,195,729,220,662,253,598,290,539,330,440,408,377,465"/>
<area shape="poly" title=" " alt="" coords="374,495,429,547,466,574,507,594,564,612,624,625,745,641,868,645,988,638,1101,624,1203,606,1361,568,1362,574,1204,611,1101,629,988,643,868,650,745,647,623,630,563,617,505,599,463,578,425,551,371,499"/>
<area shape="poly" title=" " alt="" coords="397,495,449,516,507,535,649,571,762,589,877,592,1022,580,1114,567,1204,549,1358,511,1359,516,1205,554,1114,572,1023,586,877,597,762,595,648,576,505,540,447,521,395,500"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="866,537,954,570"/>
<area shape="poly" title=" " alt="" coords="438,488,851,543,851,549,437,494"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="506,422,749,456"/>
<area shape="poly" title=" " alt="" coords="438,465,497,456,498,461,438,471"/>
<area shape="poly" title=" " alt="" coords="655,419,718,384,796,350,872,327,950,308,1089,284,1090,289,951,314,874,332,798,355,721,389,658,424"/>
<area shape="poly" title=" " alt="" coords="662,454,735,493,798,523,852,539,850,544,796,528,733,498,660,459"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="823,365,997,398"/>
<area shape="poly" title=" " alt="" coords="714,419,808,399,809,405,715,424"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="839,422,981,456"/>
<area shape="poly" title=" " alt="" coords="750,436,823,436,823,442,750,442"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="797,479,1023,513"/>
<area shape="poly" title=" " alt="" coords="715,454,809,473,808,478,714,459"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="816,205,1004,238"/>
<area shape="poly" title=" " alt="" coords="650,419,873,246,876,250,653,424"/>
<area shape="poly" title=" " alt="" coords="980,424,1021,409,1035,399,1045,390,1069,370,1116,350,1118,355,1072,375,1049,394,1039,404,1024,413,982,429"/>
<area shape="poly" title=" " alt="" coords="999,476,1021,466,1036,454,1044,442,1054,429,1069,417,1101,402,1129,394,1180,389,1231,384,1259,376,1290,362,1314,343,1345,313,1406,248,1410,251,1349,317,1318,347,1292,367,1261,381,1232,389,1181,394,1130,399,1103,407,1072,421,1058,433,1049,445,1040,458,1024,470,1001,481"/>
<area shape="poly" title=" " alt="" coords="1004,477,1021,466,1032,455,1038,444,1045,420,1051,395,1069,370,1091,355,1116,345,1118,350,1094,360,1073,374,1056,397,1050,421,1043,446,1036,458,1024,470,1007,481"/>
<area shape="poly" title=" " alt="" coords="1023,505,1329,536,1328,542,1023,510"/>
<area shape="poly" title=" " alt="" coords="1004,476,1140,447,1290,407,1378,375,1379,380,1292,412,1141,452,1005,481"/>
<area shape="poly" title=" " alt="" coords="1023,493,1324,490,1324,496,1023,498"/>
<area shape="poly" title=" " alt="" coords="1005,219,1363,219,1363,224,1005,224"/>
<area shape="poly" title=" " alt="" coords="984,237,1024,255,1039,268,1049,280,1058,292,1072,303,1118,321,1116,326,1069,308,1054,296,1044,283,1035,271,1021,260,981,241"/>
<area shape="poly" title=" " alt="" coords="997,236,1090,255,1089,261,996,242"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="853,806,967,840"/>
<area shape="poly" title=" " alt="" coords="732,820,837,820,837,826,732,826"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="1071,950,1291,984"/>
<area shape="poly" title=" " alt="" coords="696,838,1071,936,1097,943,1096,948,1070,941,695,843"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="1088,721,1274,754"/>
<area shape="poly" title=" " alt="" coords="955,803,1070,763,1092,756,1094,762,1071,768,957,808"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="1132,835,1230,869"/>
<area shape="poly" title=" " alt="" coords="968,826,1117,843,1116,848,967,832"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="1118,893,1244,926"/>
<area shape="poly" title=" " alt="" coords="956,838,1071,879,1103,888,1102,893,1070,884,954,843"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="1124,778,1238,812"/>
<area shape="poly" title=" " alt="" coords="967,814,1108,800,1109,805,968,820"/>
<area shape="poly" title=" " alt="" coords="1136,722,1131,711,1137,702,1154,696,1181,694,1209,697,1226,703,1224,708,1208,702,1181,699,1155,701,1141,706,1136,712,1140,719"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="1363,590,1506,624"/>
<area shape="poly" title=" " alt="" coords="1215,718,1290,675,1313,657,1338,641,1365,627,1368,632,1340,645,1316,662,1292,680,1217,723"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="1353,723,1516,757"/>
<area shape="poly" title=" " alt="" coords="1274,736,1337,737,1337,742,1274,741"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="1585,751,1734,785"/>
<area shape="poly" title=" " alt="" coords="1253,752,1339,767,1392,771,1434,770,1529,767,1569,767,1569,772,1529,772,1434,776,1392,776,1339,772,1252,758"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="1577,694,1742,728"/>
<area shape="poly" title=" " alt="" coords="1223,718,1277,699,1339,684,1392,678,1434,676,1530,684,1562,688,1562,694,1529,690,1434,682,1392,683,1339,690,1279,704,1225,723"/>
<area shape="poly" title=" " alt="" coords="1394,724,1389,714,1395,705,1410,699,1434,697,1460,699,1474,706,1472,710,1458,704,1434,702,1412,704,1399,709,1395,715,1398,722"/>
<area shape="poly" title=" " alt="" coords="1516,748,1569,754,1569,760,1516,753"/>
<area shape="poly" title=" " alt="" coords="1516,727,1561,721,1562,726,1516,732"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1790,694,1887,728"/>
<area shape="poly" title=" " alt="" coords="1713,748,1774,728,1776,734,1715,753"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1792,751,1885,785"/>
<area shape="poly" title=" " alt="" coords="1735,766,1776,766,1776,771,1735,771"/>
<area shape="poly" title=" " alt="" coords="1742,708,1774,708,1774,714,1742,714"/>
<area shape="poly" title=" " alt="" coords="1715,726,1778,746,1776,751,1713,731"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1392,922,1477,956"/>
<area shape="poly" title=" " alt="" coords="1244,914,1377,930,1376,935,1244,919"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1612,922,1707,956"/>
<area shape="poly" title=" " alt="" coords="1477,936,1597,936,1597,942,1477,942"/>
<area shape="poly" title=" " alt="" coords="1291,952,1376,943,1376,948,1292,957"/>
<area shape="rect" href="../../de/d67/session_8c.html#a15a41226cf2bf6546acd3cb1975459c9" title=" " alt="" coords="533,934,723,968"/>
<area shape="poly" title=" " alt="" coords="394,833,579,924,577,929,392,837"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="815,1006,1005,1040"/>
<area shape="poly" title=" " alt="" coords="697,966,827,999,826,1004,696,971"/>
<area shape="poly" title=" " alt="" coords="995,1003,1080,985,1082,990,996,1008"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1105,1007,1257,1041"/>
<area shape="poly" title=" " alt="" coords="1005,1021,1089,1021,1089,1026,1005,1026"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="1083,1065,1279,1098"/>
<area shape="poly" title=" " alt="" coords="992,1038,1085,1058,1084,1063,990,1043"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1370,1065,1499,1098"/>
<area shape="poly" title=" " alt="" coords="1279,1079,1354,1079,1354,1084,1279,1084"/>
</map>
</div>

</div>
</div>
<a id="a64ad26085ddb0e5f6e5ee716177a49a0" name="a64ad26085ddb0e5f6e5ee716177a49a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64ad26085ddb0e5f6e5ee716177a49a0">&#9670;&#160;</a></span>rpc_handle_get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_handle_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00679">679</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  682</span>{</div>
<div class="line"><span class="lineno">  683</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno">  684</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#db/dfa/structrpc__session__data">rpc_session_data</a> *data;</div>
<div class="line"><span class="lineno">  685</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb[<a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaa23c0dc51e1811437f861fd77c1062bac">__RPC_SG_MAX</a>];</div>
<div class="line"><span class="lineno">  686</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *attr;</div>
<div class="line"><span class="lineno">  687</span>    <span class="keywordtype">void</span> *c;</div>
<div class="line"><span class="lineno">  688</span>    <span class="keywordtype">int</span> rem;</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#abb40236fcd127dcbb509fe69b2bef01e">get_policy</a>, <a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaa23c0dc51e1811437f861fd77c1062bac">__RPC_SG_MAX</a>, tb, <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a>(msg), <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(msg));</div>
<div class="line"><span class="lineno">  691</span> </div>
<div class="line"><span class="lineno">  692</span>    <span class="keywordflow">if</span> (!tb[<a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaa3308333bea2a8c95eddce951eaa3c597">RPC_SG_SID</a>])</div>
<div class="line"><span class="lineno">  693</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>    ses = <a class="code hl_function" href="#a537c67da2d6dac42f8bda20e0b888f5a">rpc_session_get</a>(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb[<a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaa3308333bea2a8c95eddce951eaa3c597">RPC_SG_SID</a>]));</div>
<div class="line"><span class="lineno">  696</span>    <span class="keywordflow">if</span> (!ses)</div>
<div class="line"><span class="lineno">  697</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97">UBUS_STATUS_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  698</span> </div>
<div class="line"><span class="lineno">  699</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b">blob_buf_init</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, 0);</div>
<div class="line"><span class="lineno">  700</span>    c = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a">blobmsg_open_table</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;values&quot;</span>);</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>    <span class="keywordflow">if</span> (tb[<a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaaa8d6538bd45f6bdeb6c79ed7ff545e0d">RPC_SG_KEYS</a>])</div>
<div class="line"><span class="lineno">  703</span>        <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(attr, tb[<a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaaa8d6538bd45f6bdeb6c79ed7ff545e0d">RPC_SG_KEYS</a>], rem) {</div>
<div class="line"><span class="lineno">  704</span>            <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(attr) != <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>)</div>
<div class="line"><span class="lineno">  705</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>            <a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a> = <a class="code hl_define" href="../../d3/d51/avl_8h.html#a65bfca92c030dd0ea5548f23de5fc07e">avl_find_element</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aeeb121d2bac9ac1a4c3c7fe3d2a312a7">data</a>, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(attr), <a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>, avl);</div>
<div class="line"><span class="lineno">  708</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>)</div>
<div class="line"><span class="lineno">  709</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  710</span> </div>
<div class="line"><span class="lineno">  711</span>            <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6">blobmsg_add_field</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>-&gt;attr),</div>
<div class="line"><span class="lineno">  712</span>                      <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>-&gt;attr),</div>
<div class="line"><span class="lineno">  713</span>                      <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>-&gt;attr),</div>
<div class="line"><span class="lineno">  714</span>                      <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052">blobmsg_data_len</a>(<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>-&gt;attr));</div>
<div class="line"><span class="lineno">  715</span>        }</div>
<div class="line"><span class="lineno">  716</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  717</span>        <a class="code hl_function" href="#a0976582c7397887dad087ddf62cacabd">rpc_session_dump_data</a>(ses, &amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>);</div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14">blobmsg_close_table</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, c);</div>
<div class="line"><span class="lineno">  720</span>    <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4">ubus_send_reply</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req, <a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>.<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#af6065d74116605108b22c11e75ec669c">head</a>);</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  723</span>}</div>
<div class="ttc" id="aavl_8h_html_a65bfca92c030dd0ea5548f23de5fc07e"><div class="ttname"><a href="../../d3/d51/avl_8h.html#a65bfca92c030dd0ea5548f23de5fc07e">avl_find_element</a></div><div class="ttdeci">#define avl_find_element(tree, key, element, node_element)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00240">avl.h:240</a></div></div>
<div class="ttc" id="ablob_8h_html_aae7cde5b300aec19a4125e96fe2a35da"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">blob_attr::data</a></div><div class="ttdeci">char data[]</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00054">blob.h:54</a></div></div>
<div class="ttc" id="ablobmsg_8c_html_a5bf37ab2b48095b7fb16ac11449b08f6"><div class="ttname"><a href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6">blobmsg_add_field</a></div><div class="ttdeci">int blobmsg_add_field(struct blob_buf *buf, int type, const char *name, const void *data, unsigned int len)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d30/blobmsg_8c_source.html#l00377">blobmsg.c:377</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a065ed993444c3173838a480ba4aac052"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052">blobmsg_data_len</a></div><div class="ttdeci">static size_t blobmsg_data_len(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00095">blobmsg.h:95</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a2de3b7599bec41a8c9919f780bd28f1a"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a">blobmsg_open_table</a></div><div class="ttdeci">static void * blobmsg_open_table(struct blob_buf *buf, const char *name)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00256">blobmsg.h:256</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a3252218dfc4cb4c8b54772196e8c2a14"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14">blobmsg_close_table</a></div><div class="ttdeci">static void blobmsg_close_table(struct blob_buf *buf, void *cookie)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00268">blobmsg.h:268</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a6ee526c7b55debcecad8e34e3e6108d0"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a></div><div class="ttdeci">static const char * blobmsg_name(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00062">blobmsg.h:62</a></div></div>
<div class="ttc" id="asession_8c_html_a0976582c7397887dad087ddf62cacabd"><div class="ttname"><a href="#a0976582c7397887dad087ddf62cacabd">rpc_session_dump_data</a></div><div class="ttdeci">static void rpc_session_dump_data(struct rpc_session *ses, struct blob_buf *b)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00174">session.c:174</a></div></div>
<div class="ttc" id="asession_8c_html_abb40236fcd127dcbb509fe69b2bef01e"><div class="ttname"><a href="#abb40236fcd127dcbb509fe69b2bef01e">get_policy</a></div><div class="ttdeci">static const struct blobmsg_policy get_policy[__RPC_SG_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00074">session.c:74</a></div></div>
<div class="ttc" id="asession_8h_html_aeeb121d2bac9ac1a4c3c7fe3d2a312a7"><div class="ttname"><a href="../../da/d46/session_8h.html#aeeb121d2bac9ac1a4c3c7fe3d2a312a7">rpc_session::data</a></div><div class="ttdeci">struct avl_tree data</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00046">session.h:46</a></div></div>
<div class="ttc" id="asession_8h_html_db/dfa/structrpc__session__data"><div class="ttname"><a href="../../da/d46/session_8h.html#db/dfa/structrpc__session__data">rpc_session_data</a></div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00052">session.h:52</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00072">__RPC_SG_MAX</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00240">avl_find_element</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00091">blob_buf_init()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00075">blob_data()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00377">blobmsg_add_field()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00268">blobmsg_close_table()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00095">blobmsg_data_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00364">blobmsg_for_each_attr</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00062">blobmsg_name()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00256">blobmsg_open_table()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00029">BLOBMSG_TYPE_STRING</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00038">buf</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00054">blob_attr::data</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00046">rpc_session::data</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00074">get_policy</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00065">blob_buf::head</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00174">rpc_session_dump_data()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00341">rpc_session_get()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00071">RPC_SG_KEYS</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00070">RPC_SG_SID</a>, <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00205">ubus_send_reply()</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00121">UBUS_STATUS_INVALID_ARGUMENT</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00123">UBUS_STATUS_NOT_FOUND</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a64ad26085ddb0e5f6e5ee716177a49a0_cgraph.png" border="0" usemap="#ade/d67/session_8c_a64ad26085ddb0e5f6e5ee716177a49a0_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a64ad26085ddb0e5f6e5ee716177a49a0_cgraph" id="ade/d67/session_8c_a64ad26085ddb0e5f6e5ee716177a49a0_cgraph">
<area shape="rect" title=" " alt="" coords="5,678,168,712"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="1040,47,1179,81"/>
<area shape="poly" title=" " alt="" coords="87,677,98,569,121,409,139,326,159,250,184,188,199,165,214,148,259,112,308,83,360,59,414,40,470,25,527,15,641,4,753,5,857,13,950,26,1025,41,1024,46,949,32,857,19,753,10,642,9,528,20,471,31,416,45,362,64,311,88,262,117,217,151,203,168,189,191,164,252,144,327,127,410,103,570,92,678"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1273,787,1384,821"/>
<area shape="poly" title=" " alt="" coords="168,695,458,711,822,738,1185,779,1258,790,1257,795,1185,784,822,744,458,716,168,701"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1060,319,1159,353"/>
<area shape="poly" title=" " alt="" coords="97,676,143,613,176,577,214,545,293,490,362,446,426,411,488,383,552,361,622,342,797,304,849,296,891,294,986,304,1045,315,1044,321,985,309,891,300,850,301,798,309,623,347,553,366,490,388,428,416,365,450,296,494,217,549,180,581,147,617,101,679"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="531,623,725,657"/>
<area shape="poly" title=" " alt="" coords="168,680,215,674,515,646,515,651,216,679,169,685"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1034,893,1185,926"/>
<area shape="poly" title=" " alt="" coords="97,711,113,746,139,791,174,836,194,856,217,873,267,900,319,922,374,940,430,954,544,970,658,975,767,969,868,958,956,943,1028,928,1029,933,957,948,869,963,768,975,658,980,543,976,429,959,372,945,317,927,265,905,214,877,191,860,170,840,134,794,109,749,92,713"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14" title=" " alt="" coords="231,210,443,244"/>
<area shape="poly" title=" " alt="" coords="85,677,88,602,93,550,104,491,119,429,142,369,173,311,214,261,228,250,231,254,218,265,178,314,147,371,125,431,109,492,99,550,93,603,90,678"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="797,781,986,814"/>
<area shape="poly" title=" " alt="" coords="169,704,216,711,483,744,750,776,782,780,782,786,749,781,482,749,215,716,168,710"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="547,834,709,868"/>
<area shape="poly" title=" " alt="" coords="100,710,118,738,145,771,178,802,217,827,255,842,296,853,379,865,459,867,531,863,531,868,459,872,378,871,295,858,254,847,214,832,175,807,141,774,114,741,96,713"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a" title=" " alt="" coords="231,559,443,593"/>
<area shape="poly" title=" " alt="" coords="115,675,215,620,272,596,274,601,217,625,117,680"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="256,1074,418,1108"/>
<area shape="poly" title=" " alt="" coords="96,711,138,825,174,901,218,973,260,1022,303,1062,300,1066,256,1026,214,976,169,903,133,827,91,713"/>
<area shape="rect" href="../../de/d67/session_8c.html#a0976582c7397887dad087ddf62cacabd" title=" " alt="" coords="216,783,458,817"/>
<area shape="poly" title=" " alt="" coords="117,710,163,736,217,762,255,776,253,781,215,767,161,741,115,715"/>
<area shape="rect" href="../../de/d67/session_8c.html#a537c67da2d6dac42f8bda20e0b888f5a" title=" " alt="" coords="253,1206,421,1240"/>
<area shape="poly" title=" " alt="" coords="92,712,102,781,124,886,140,945,161,1005,187,1064,218,1119,255,1161,296,1195,293,1199,251,1165,213,1122,182,1066,156,1007,135,946,118,887,97,782,87,712"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="540,154,716,188"/>
<area shape="poly" title=" " alt="" coords="87,677,99,577,124,431,142,356,162,287,186,232,200,211,214,195,251,171,292,153,335,142,380,136,467,137,544,148,544,153,467,142,380,142,336,147,294,158,254,175,217,200,204,214,191,234,167,289,147,357,130,432,105,578,92,678"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1276,159,1381,193"/>
<area shape="poly" title=" " alt="" coords="1146,79,1281,150,1279,154,1143,84"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="1238,47,1418,81"/>
<area shape="poly" title=" " alt="" coords="1180,62,1222,62,1222,67,1180,67"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1675,159,1817,193"/>
<area shape="poly" title=" " alt="" coords="1381,187,1472,203,1549,209,1626,203,1671,195,1672,200,1627,208,1549,214,1471,208,1381,192"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1471,102,1627,136"/>
<area shape="poly" title=" " alt="" coords="1381,160,1466,138,1467,143,1382,165"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1675,47,1817,81"/>
<area shape="poly" title=" " alt="" coords="1380,157,1422,135,1436,123,1444,110,1454,98,1470,87,1517,70,1566,60,1614,56,1659,55,1659,60,1614,61,1567,65,1518,75,1473,92,1458,102,1449,114,1440,127,1425,140,1382,162"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1481,269,1617,302"/>
<area shape="poly" title=" " alt="" coords="1363,191,1473,247,1497,259,1495,264,1470,252,1361,196"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1499,159,1599,193"/>
<area shape="poly" title=" " alt="" coords="1381,174,1484,174,1484,179,1381,179"/>
<area shape="poly" title=" " alt="" coords="1610,134,1671,152,1670,157,1608,139"/>
<area shape="poly" title=" " alt="" coords="1612,99,1667,83,1669,88,1613,104"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1675,349,1817,382"/>
<area shape="poly" title=" " alt="" coords="1593,300,1689,340,1687,345,1591,305"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="817,646,966,680"/>
<area shape="poly" title=" " alt="" coords="725,646,802,653,801,658,725,651"/>
<area shape="poly" title=" " alt="" coords="967,674,1071,698,1186,732,1237,754,1284,777,1281,782,1235,759,1184,737,1070,703,966,679"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aee908e6de67c16a4d810d08f28ed1803" title=" " alt="" coords="1055,479,1164,513"/>
<area shape="poly" title=" " alt="" coords="964,643,984,633,1081,523,1085,527,987,637,966,648"/>
<area shape="poly" title=" " alt="" coords="910,679,988,766,1085,879,1081,882,984,770,906,682"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1243,585,1413,618"/>
<area shape="poly" title=" " alt="" coords="966,650,1227,613,1228,618,966,655"/>
<area shape="poly" title=" " alt="" coords="1120,477,1304,205,1309,208,1124,480"/>
<area shape="poly" title=" " alt="" coords="1164,494,1283,489,1353,483,1423,472,1481,459,1525,445,1626,407,1685,386,1686,391,1628,412,1527,450,1483,464,1424,477,1354,488,1283,495,1164,499"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1239,429,1417,462"/>
<area shape="poly" title=" " alt="" coords="1163,481,1237,464,1238,469,1165,486"/>
<area shape="poly" title=" " alt="" coords="1145,890,1184,871,1277,826,1279,831,1186,876,1148,895"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1238,955,1419,989"/>
<area shape="poly" title=" " alt="" coords="1172,924,1253,948,1251,953,1170,930"/>
<area shape="poly" title=" " alt="" coords="1121,891,1304,630,1308,633,1125,894"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1233,1138,1423,1172"/>
<area shape="poly" title=" " alt="" coords="1128,925,1304,1125,1300,1129,1124,929"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aa980250f4a411659367b8bffaf5d6118" title=" " alt="" coords="814,210,969,244"/>
<area shape="poly" title=" " alt="" coords="443,224,799,224,799,230,443,230"/>
<area shape="poly" title=" " alt="" coords="965,207,1238,140,1422,91,1436,82,1445,72,1455,62,1470,54,1518,42,1567,38,1616,39,1660,44,1659,49,1615,45,1568,43,1519,47,1472,59,1458,66,1449,76,1439,86,1424,96,1240,145,966,212"/>
<area shape="poly" title=" " alt="" coords="970,232,1185,259,1329,284,1472,312,1660,347,1659,352,1471,317,1328,289,1185,264,969,237"/>
<area shape="poly" title=" " alt="" coords="947,242,987,261,1012,279,1035,298,1056,310,1053,314,1032,302,1008,283,984,265,944,247"/>
<area shape="poly" title=" " alt="" coords="970,234,1075,259,1132,279,1186,305,1223,329,1256,358,1307,414,1303,418,1252,362,1219,334,1184,309,1130,284,1074,264,968,239"/>
<area shape="poly" title=" " alt="" coords="986,796,1257,800,1257,806,986,802"/>
<area shape="poly" title=" " alt="" coords="911,778,949,741,968,717,983,691,997,659,1005,631,1011,581,1015,529,1020,500,1031,466,1057,411,1085,365,1090,367,1062,414,1036,468,1026,501,1020,530,1016,581,1010,632,1002,661,988,693,972,720,953,744,915,782"/>
<area shape="poly" title=" " alt="" coords="928,813,1062,883,1060,887,925,817"/>
<area shape="poly" title=" " alt="" coords="709,843,1257,806,1257,812,710,848"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aaac450f6a679be8a392d17c3ed8700b4" title=" " alt="" coords="514,550,742,584"/>
<area shape="poly" title=" " alt="" coords="443,570,498,568,498,574,443,575"/>
<area shape="poly" title=" " alt="" coords="654,547,729,504,838,451,902,427,969,407,1039,393,1108,388,1329,388,1505,382,1659,371,1659,376,1506,388,1330,394,1108,394,1039,398,971,412,904,432,840,456,731,509,657,552"/>
<area shape="poly" title=" " alt="" coords="681,582,750,608,798,632,814,638,812,643,796,637,748,613,679,587"/>
<area shape="poly" title=" " alt="" coords="686,547,841,504,937,482,1033,464,1131,452,1223,446,1224,451,1131,458,1034,469,938,488,843,510,687,552"/>
<area shape="poly" title=" " alt="" coords="742,566,986,574,1228,590,1227,596,986,579,742,571"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="820,589,963,622"/>
<area shape="poly" title=" " alt="" coords="743,581,805,590,804,596,742,586"/>
<area shape="poly" title=" " alt="" coords="419,1104,533,1120,676,1129,753,1128,832,1122,910,1109,985,1088,1038,1066,1089,1037,1136,1002,1180,965,1253,892,1303,832,1307,835,1257,895,1183,969,1139,1007,1091,1041,1040,1071,987,1093,911,1114,833,1127,754,1133,676,1134,532,1125,418,1110"/>
<area shape="poly" title=" " alt="" coords="391,1106,446,1121,506,1132,656,1149,850,1163,949,1165,1042,1161,1122,1151,1184,1132,1225,1106,1260,1071,1288,1034,1309,1001,1314,1004,1293,1037,1264,1075,1229,1110,1186,1137,1123,1156,1042,1167,949,1170,850,1168,656,1154,506,1137,445,1126,390,1111"/>
<area shape="poly" title=" " alt="" coords="361,1106,424,1147,464,1168,507,1183,607,1206,693,1220,770,1225,842,1224,993,1207,1185,1183,1245,1173,1246,1178,1185,1188,994,1212,843,1229,770,1230,693,1225,606,1211,505,1188,462,1173,422,1152,358,1110"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="848,1045,935,1078"/>
<area shape="poly" title=" " alt="" coords="418,1084,832,1062,833,1067,419,1089"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="506,994,749,1028"/>
<area shape="poly" title=" " alt="" coords="400,1071,548,1030,550,1035,402,1076"/>
<area shape="poly" title=" " alt="" coords="750,1008,865,997,926,987,985,972,1029,954,1069,933,1071,937,1031,959,986,977,927,992,866,1003,750,1013"/>
<area shape="poly" title=" " alt="" coords="649,991,855,822,859,827,652,995"/>
<area shape="poly" title=" " alt="" coords="719,1026,833,1048,832,1053,718,1031"/>
<area shape="poly" title=" " alt="" coords="368,780,580,663,583,667,371,785"/>
<area shape="poly" title=" " alt="" coords="367,815,429,849,467,865,507,878,575,892,644,903,784,915,913,917,1018,913,1018,919,913,922,784,920,644,908,574,897,505,883,465,870,427,853,364,820"/>
<area shape="poly" title=" " alt="" coords="459,797,782,795,782,801,459,802"/>
<area shape="poly" title=" " alt="" coords="438,815,532,831,531,837,437,820"/>
<area shape="rect" href="../../de/d67/session_8c.html#a15a41226cf2bf6546acd3cb1975459c9" title=" " alt="" coords="533,1255,723,1289"/>
<area shape="poly" title=" " alt="" coords="422,1234,518,1251,517,1256,421,1240"/>
<area shape="poly" title=" " alt="" coords="707,151,1024,80,1025,85,708,156"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e8112f19ea399af22d957f19cf6cfc7" title=" " alt="" coords="813,319,970,353"/>
<area shape="poly" title=" " alt="" coords="658,186,851,308,849,313,655,190"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="806,153,977,186"/>
<area shape="poly" title=" " alt="" coords="716,168,791,167,791,173,716,173"/>
<area shape="poly" title=" " alt="" coords="907,352,960,429,1036,524,1105,598,1178,668,1296,775,1293,779,1174,672,1102,602,1032,527,956,432,902,355"/>
<area shape="poly" title=" " alt="" coords="971,334,1045,334,1045,339,971,339"/>
<area shape="poly" title=" " alt="" coords="943,150,984,131,1008,115,1032,98,1055,86,1057,91,1035,102,1011,119,987,136,945,154"/>
</map>
</div>

</div>
</div>
<a id="a04ec8521cf4b4877fe2f86c26d8cff85" name="a04ec8521cf4b4877fe2f86c26d8cff85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04ec8521cf4b4877fe2f86c26d8cff85">&#9670;&#160;</a></span>rpc_handle_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_handle_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00374">374</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  377</span>{</div>
<div class="line"><span class="lineno">  378</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno">  379</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb;</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#a1489ab210f37b4d0f033208fec05d712">sid_policy</a>, <a class="code hl_enumvalue" href="#a9a3be2d66956bd67c0b66c32d8b30f17a77ef799dd14ad9effb178127fe64563a">__RPC_SI_MAX</a>, &amp;tb, <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a>(msg), <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(msg));</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>    <span class="keywordflow">if</span> (!tb) {</div>
<div class="line"><span class="lineno">  384</span>        <a class="code hl_define" href="../../d3/d51/avl_8h.html#a78fce1e55fe672174caa3053a460ae56">avl_for_each_element</a>(&amp;<a class="code hl_variable" href="#aba81a584ebe050715570ab74db1d30be">sessions</a>, ses, avl)</div>
<div class="line"><span class="lineno">  385</span>            <a class="code hl_function" href="#ae5d591f9a73009f4be53ee07d73cbf49">rpc_session_dump</a>(ses, <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req);</div>
<div class="line"><span class="lineno">  386</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  387</span>    }</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>    ses = <a class="code hl_function" href="#a537c67da2d6dac42f8bda20e0b888f5a">rpc_session_get</a>(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb));</div>
<div class="line"><span class="lineno">  390</span>    <span class="keywordflow">if</span> (!ses)</div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97">UBUS_STATUS_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  392</span> </div>
<div class="line"><span class="lineno">  393</span>    <a class="code hl_function" href="#ae5d591f9a73009f4be53ee07d73cbf49">rpc_session_dump</a>(ses, <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req);</div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  396</span>}</div>
<div class="ttc" id="aavl_8h_html_a78fce1e55fe672174caa3053a460ae56"><div class="ttname"><a href="../../d3/d51/avl_8h.html#a78fce1e55fe672174caa3053a460ae56">avl_for_each_element</a></div><div class="ttdeci">#define avl_for_each_element(tree, element, node_member)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00366">avl.h:366</a></div></div>
<div class="ttc" id="asession_8c_html_aba81a584ebe050715570ab74db1d30be"><div class="ttname"><a href="#aba81a584ebe050715570ab74db1d30be">sessions</a></div><div class="ttdeci">static struct avl_tree sessions</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00037">session.c:37</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00053">__RPC_SI_MAX</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00366">avl_for_each_element</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00075">blob_data()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00243">rpc_session_dump()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00341">rpc_session_get()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00037">sessions</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00055">sid_policy</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00123">UBUS_STATUS_NOT_FOUND</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a04ec8521cf4b4877fe2f86c26d8cff85_cgraph.png" border="0" usemap="#ade/d67/session_8c_a04ec8521cf4b4877fe2f86c26d8cff85_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a04ec8521cf4b4877fe2f86c26d8cff85_cgraph" id="ade/d67/session_8c_a04ec8521cf4b4877fe2f86c26d8cff85_cgraph">
<area shape="rect" title=" " alt="" coords="5,542,165,576"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1609,411,1720,445"/>
<area shape="poly" title=" " alt="" coords="145,539,226,518,327,497,440,480,554,473,847,473,1185,476,1332,471,1521,453,1593,441,1594,447,1522,459,1333,476,1185,481,847,479,554,479,440,485,328,502,227,523,147,544"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1615,647,1714,681"/>
<area shape="poly" title=" " alt="" coords="93,575,106,630,131,712,167,811,216,915,246,966,279,1015,315,1059,355,1099,399,1132,447,1157,499,1173,554,1179,1140,1179,1256,1179,1304,1176,1348,1169,1390,1157,1431,1138,1474,1109,1519,1070,1557,1027,1587,979,1610,926,1628,873,1650,772,1659,696,1664,696,1656,773,1633,874,1615,928,1591,981,1561,1031,1523,1074,1477,1114,1434,1143,1392,1162,1349,1175,1305,1181,1256,1184,1140,1184,554,1184,497,1178,445,1162,396,1136,352,1103,311,1063,274,1018,241,969,211,918,162,813,126,714,101,632,87,577"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1332,243,1483,277"/>
<area shape="poly" title=" " alt="" coords="89,541,105,491,132,417,172,330,223,237,253,192,286,149,323,109,363,74,406,45,452,22,501,8,554,3,847,3,911,5,965,10,1012,20,1055,33,1141,73,1246,130,1284,153,1321,179,1379,230,1376,234,1317,184,1282,157,1244,134,1139,78,1053,38,1011,25,964,15,910,10,847,8,554,8,502,13,454,27,408,49,366,78,327,113,291,152,257,195,227,240,176,332,137,419,110,493,94,542"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="475,215,637,249"/>
<area shape="poly" title=" " alt="" coords="105,539,211,455,377,341,512,255,515,259,380,346,214,459,109,543"/>
<area shape="rect" href="../../de/d67/session_8c.html#ae5d591f9a73009f4be53ee07d73cbf49" title=" " alt="" coords="213,623,405,657"/>
<area shape="poly" title=" " alt="" coords="135,574,247,615,245,620,133,579"/>
<area shape="rect" href="../../de/d67/session_8c.html#a537c67da2d6dac42f8bda20e0b888f5a" title=" " alt="" coords="225,1219,393,1253"/>
<area shape="poly" title=" " alt="" coords="90,576,101,698,124,885,141,983,161,1073,186,1148,200,1176,215,1198,226,1209,222,1213,211,1202,195,1179,181,1150,156,1074,135,984,119,886,95,698,85,576"/>
<area shape="poly" title=" " alt="" coords="1484,269,1523,286,1539,300,1549,314,1558,328,1571,345,1631,399,1628,403,1567,348,1554,331,1545,316,1536,303,1520,290,1482,274"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1574,186,1755,220"/>
<area shape="poly" title=" " alt="" coords="1483,241,1570,221,1572,226,1484,246"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1579,301,1750,334"/>
<area shape="poly" title=" " alt="" coords="1484,274,1572,294,1570,299,1483,279"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1569,243,1760,277"/>
<area shape="poly" title=" " alt="" coords="1483,257,1554,257,1554,263,1483,263"/>
<area shape="poly" title=" " alt="" coords="587,247,642,275,707,300,828,330,931,349,1024,358,1111,363,1292,369,1398,378,1522,395,1594,409,1593,414,1521,400,1397,383,1291,374,1110,368,1023,364,931,354,827,336,706,305,640,280,585,252"/>
<area shape="poly" title=" " alt="" coords="574,213,630,168,666,146,705,128,784,103,852,87,913,79,971,77,1092,86,1245,103,1341,116,1437,136,1595,178,1594,183,1435,141,1340,121,1245,108,1092,91,971,82,914,84,853,93,785,108,707,133,669,151,633,173,577,217"/>
<area shape="poly" title=" " alt="" coords="598,212,649,193,706,176,855,139,974,118,1032,113,1093,113,1163,119,1245,129,1339,148,1410,171,1480,199,1570,229,1591,236,1589,241,1569,235,1478,204,1408,177,1338,154,1245,135,1163,124,1093,119,1032,118,974,123,856,145,707,181,651,198,600,217"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="1095,145,1183,178"/>
<area shape="poly" title=" " alt="" coords="637,220,1079,166,1080,171,637,225"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="724,257,967,290"/>
<area shape="poly" title=" " alt="" coords="638,241,709,251,708,256,637,246"/>
<area shape="poly" title=" " alt="" coords="968,268,1316,259,1316,265,968,273"/>
<area shape="poly" title=" " alt="" coords="880,254,949,221,1032,187,1079,172,1081,177,1034,192,951,226,882,258"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="1052,202,1226,236"/>
<area shape="poly" title=" " alt="" coords="939,253,1036,235,1037,240,940,259"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1068,623,1210,657"/>
<area shape="poly" title=" " alt="" coords="858,289,924,408,975,485,1035,558,1066,587,1099,612,1096,616,1063,591,1031,562,971,488,919,410,853,292"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="1295,301,1520,334"/>
<area shape="poly" title=" " alt="" coords="968,280,1279,305,1279,310,968,286"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="1045,514,1233,548"/>
<area shape="poly" title=" " alt="" coords="868,289,1109,501,1105,505,865,293"/>
<area shape="poly" title=" " alt="" coords="1210,652,1293,664,1357,668,1407,668,1521,664,1600,663,1600,668,1521,669,1407,673,1357,673,1293,669,1209,657"/>
<area shape="poly" title=" " alt="" coords="1470,332,1522,351,1622,401,1620,406,1520,356,1469,337"/>
<area shape="poly" title=" " alt="" coords="1442,332,1483,359,1523,396,1568,456,1606,521,1635,583,1654,631,1649,633,1630,585,1601,524,1564,459,1519,399,1480,364,1439,337"/>
<area shape="poly" title=" " alt="" coords="1499,298,1520,287,1535,274,1543,259,1552,244,1568,229,1574,224,1577,229,1571,233,1556,247,1548,262,1539,277,1523,292,1502,302"/>
<area shape="poly" title=" " alt="" coords="1520,315,1564,315,1564,320,1520,320"/>
<area shape="poly" title=" " alt="" coords="1485,297,1570,278,1571,283,1487,302"/>
<area shape="poly" title=" " alt="" coords="1233,530,1371,524,1447,514,1521,497,1575,476,1623,451,1625,456,1577,481,1522,503,1448,519,1371,529,1234,536"/>
<area shape="poly" title=" " alt="" coords="1234,542,1371,568,1522,605,1612,638,1610,643,1521,611,1370,573,1233,547"/>
<area shape="poly" title=" " alt="" coords="1153,512,1196,460,1243,392,1256,362,1262,336,1270,311,1291,286,1316,271,1318,276,1295,290,1275,313,1267,337,1261,364,1247,395,1200,463,1157,515"/>
<area shape="rect" href="../../de/d67/session_8c.html#aaa8dccc7bffc72a3e31e4f3e14792e6d" title=" " alt="" coords="453,862,658,896"/>
<area shape="poly" title=" " alt="" coords="330,655,528,849,525,853,326,659"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="468,623,644,657"/>
<area shape="poly" title=" " alt="" coords="406,637,452,637,452,643,406,643"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="1069,733,1209,766"/>
<area shape="poly" title=" " alt="" coords="578,859,634,822,669,804,706,789,797,767,890,753,978,746,1053,745,1054,750,978,752,891,758,798,772,707,795,671,809,637,827,581,863"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="1035,998,1243,1032"/>
<area shape="poly" title=" " alt="" coords="575,894,630,943,667,968,707,987,786,1008,868,1020,947,1024,1019,1023,1019,1028,947,1029,867,1025,785,1014,705,992,665,972,627,947,572,898"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393" title=" " alt="" coords="750,1110,941,1144"/>
<area shape="poly" title=" " alt="" coords="566,895,584,937,614,992,655,1049,680,1075,708,1096,737,1111,734,1116,705,1101,677,1079,651,1053,609,995,579,939,561,897"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a49c8f3302820716f41cd9bdafab331fa" title=" " alt="" coords="750,1053,941,1086"/>
<area shape="poly" title=" " alt="" coords="571,894,625,961,664,999,708,1031,737,1045,734,1049,705,1036,660,1003,621,965,567,898"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14" title=" " alt="" coords="1033,889,1245,922"/>
<area shape="poly" title=" " alt="" coords="659,881,1017,897,1017,902,659,886"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a" title=" " alt="" coords="1033,790,1245,824"/>
<area shape="poly" title=" " alt="" coords="591,859,644,837,706,819,786,806,868,799,1017,798,1017,803,868,805,787,812,707,824,646,842,593,864"/>
<area shape="rect" href="../../de/d67/session_8c.html#a40fa1238b59f856f01058476b97d4ce9" title=" " alt="" coords="727,943,964,977"/>
<area shape="poly" title=" " alt="" coords="613,894,707,921,761,936,760,941,706,927,612,899"/>
<area shape="rect" href="../../de/d67/session_8c.html#a0976582c7397887dad087ddf62cacabd" title=" " alt="" coords="724,566,967,600"/>
<area shape="poly" title=" " alt="" coords="562,860,625,727,666,655,686,627,705,609,710,605,713,610,708,613,690,631,670,658,629,730,567,862"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a144dc46ccd6334bb5736232ab966e0d7" title=" " alt="" coords="706,834,985,868"/>
<area shape="poly" title=" " alt="" coords="658,866,691,863,691,868,659,871"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1355,789,1460,822"/>
<area shape="poly" title=" " alt="" coords="1209,761,1340,789,1339,794,1208,766"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="1317,731,1497,765"/>
<area shape="poly" title=" " alt="" coords="1209,746,1302,746,1302,751,1209,752"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="1310,1026,1504,1060"/>
<area shape="poly" title=" " alt="" coords="1244,1023,1295,1028,1294,1034,1243,1028"/>
<area shape="poly" title=" " alt="" coords="941,1110,1294,1057,1295,1062,941,1115"/>
<area shape="poly" title=" " alt="" coords="941,1062,1294,1045,1295,1051,941,1068"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aa980250f4a411659367b8bffaf5d6118" title=" " alt="" coords="1330,867,1484,901"/>
<area shape="poly" title=" " alt="" coords="1245,894,1314,889,1315,894,1246,900"/>
<area shape="poly" title=" " alt="" coords="1461,864,1491,850,1520,833,1558,799,1592,762,1642,693,1647,696,1596,765,1561,803,1523,837,1494,855,1463,869"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aaac450f6a679be8a392d17c3ed8700b4" title=" " alt="" coords="1293,410,1521,444"/>
<area shape="poly" title=" " alt="" coords="1230,787,1243,777,1260,757,1269,738,1275,699,1277,657,1282,633,1291,607,1336,522,1382,454,1386,457,1341,525,1295,609,1287,634,1283,658,1281,700,1274,740,1264,760,1247,781,1233,791"/>
<area shape="poly" title=" " alt="" coords="1448,407,1608,338,1610,343,1450,412"/>
<area shape="poly" title=" " alt="" coords="940,975,1030,992,1029,997,939,980"/>
<area shape="poly" title=" " alt="" coords="939,940,1029,923,1030,928,940,945"/>
<area shape="poly" title=" " alt="" coords="878,940,1090,829,1092,834,881,945"/>
<area shape="poly" title=" " alt="" coords="865,563,932,510,1034,435,1158,355,1225,318,1292,286,1316,277,1318,282,1294,290,1227,323,1161,360,1037,439,936,514,869,568"/>
<area shape="poly" title=" " alt="" coords="944,563,1029,547,1030,553,945,568"/>
<area shape="poly" title=" " alt="" coords="964,598,986,608,1002,623,1011,639,1019,653,1034,667,1063,681,1091,687,1144,686,1169,685,1195,688,1221,698,1247,718,1266,742,1276,765,1280,788,1280,811,1280,859,1284,884,1295,912,1313,941,1334,968,1377,1013,1373,1017,1330,972,1309,944,1291,915,1279,886,1274,859,1275,811,1274,788,1271,766,1261,744,1243,722,1218,703,1194,693,1169,690,1144,691,1091,692,1062,686,1031,672,1015,657,1006,641,998,626,983,613,962,602"/>
<area shape="poly" title=" " alt="" coords="645,655,707,667,1054,731,1053,737,706,672,644,660"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e8112f19ea399af22d957f19cf6cfc7" title=" " alt="" coords="1329,621,1486,654"/>
<area shape="poly" title=" " alt="" coords="577,621,632,583,668,564,706,551,783,535,844,534,985,551,1119,575,1314,615,1313,620,1118,580,984,556,844,539,783,541,707,556,670,569,635,587,580,625"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="760,623,931,657"/>
<area shape="poly" title=" " alt="" coords="644,637,745,637,745,643,644,643"/>
<area shape="poly" title=" " alt="" coords="1430,618,1520,549,1631,453,1634,457,1523,553,1433,622"/>
<area shape="poly" title=" " alt="" coords="1487,643,1600,655,1600,660,1486,648"/>
<area shape="poly" title=" " alt="" coords="931,637,1052,637,1052,643,931,643"/>
<area shape="poly" title=" " alt="" coords="932,654,986,674,1010,692,1034,711,1063,724,1060,729,1031,716,1007,696,983,678,930,659"/>
<area shape="rect" href="../../de/d67/session_8c.html#a15a41226cf2bf6546acd3cb1975459c9" title=" " alt="" coords="461,1219,651,1253"/>
<area shape="poly" title=" " alt="" coords="394,1233,445,1233,445,1239,394,1239"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="751,1219,940,1253"/>
<area shape="poly" title=" " alt="" coords="651,1233,735,1233,735,1239,651,1239"/>
</map>
</div>

</div>
</div>
<a id="a2a596961641959cadf3e07cc5011147c" name="a2a596961641959cadf3e07cc5011147c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a596961641959cadf3e07cc5011147c">&#9670;&#160;</a></span>rpc_handle_login()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_handle_login </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l01126">1126</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1129</span>{</div>
<div class="line"><span class="lineno"> 1130</span>    <span class="keyword">struct </span>uci_context *uci = NULL;</div>
<div class="line"><span class="lineno"> 1131</span>    <span class="keyword">struct </span>uci_section *login;</div>
<div class="line"><span class="lineno"> 1132</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno"> 1133</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb[<a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26a65a189b79b0bb1fec878b52bd956954c">__RPC_L_MAX</a>];</div>
<div class="line"><span class="lineno"> 1134</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../de/d89/procd_2ubus_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> = <a class="code hl_define" href="../../da/d46/session_8h.html#ae8c0285f99d9405bb247490436371220">RPC_DEFAULT_SESSION_TIMEOUT</a>;</div>
<div class="line"><span class="lineno"> 1135</span>    <span class="keywordtype">int</span> rv = 0;</div>
<div class="line"><span class="lineno"> 1136</span> </div>
<div class="line"><span class="lineno"> 1137</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#a0b1bb8c17f2dd79b8ca8e6b5be4e5562">login_policy</a>, <a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26a65a189b79b0bb1fec878b52bd956954c">__RPC_L_MAX</a>, tb, <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a>(msg), <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(msg));</div>
<div class="line"><span class="lineno"> 1138</span> </div>
<div class="line"><span class="lineno"> 1139</span>    <span class="keywordflow">if</span> (!tb[<a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ad927957e6550c480241ceffb6de312bd">RPC_L_USERNAME</a>] || !tb[<a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ac913380063b5c1d34c88d83f1c19c4ab">RPC_L_PASSWORD</a>]) {</div>
<div class="line"><span class="lineno"> 1140</span>        rv = <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno"> 1141</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 1142</span>    }</div>
<div class="line"><span class="lineno"> 1143</span> </div>
<div class="line"><span class="lineno"> 1144</span>    uci = uci_alloc_context();</div>
<div class="line"><span class="lineno"> 1145</span> </div>
<div class="line"><span class="lineno"> 1146</span>    <span class="keywordflow">if</span> (!uci) {</div>
<div class="line"><span class="lineno"> 1147</span>        rv = <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1148</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 1149</span>    }</div>
<div class="line"><span class="lineno"> 1150</span> </div>
<div class="line"><span class="lineno"> 1151</span>    login = <a class="code hl_function" href="#a479fcd3fc3d6fd7fdfe9a1cdd6ed2805">rpc_login_test_login</a>(uci, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603">blobmsg_get_string</a>(tb[<a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ad927957e6550c480241ceffb6de312bd">RPC_L_USERNAME</a>]),</div>
<div class="line"><span class="lineno"> 1152</span>                                      <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603">blobmsg_get_string</a>(tb[<a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ac913380063b5c1d34c88d83f1c19c4ab">RPC_L_PASSWORD</a>]));</div>
<div class="line"><span class="lineno"> 1153</span> </div>
<div class="line"><span class="lineno"> 1154</span>    <span class="keywordflow">if</span> (!login) {</div>
<div class="line"><span class="lineno"> 1155</span>        rv = <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312aa18a040703e9965952f5c93c3e727d39">UBUS_STATUS_PERMISSION_DENIED</a>;</div>
<div class="line"><span class="lineno"> 1156</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 1157</span>    }</div>
<div class="line"><span class="lineno"> 1158</span> </div>
<div class="line"><span class="lineno"> 1159</span>    <span class="keywordflow">if</span> (tb[<a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ad3a863f272e87e7dadb3d6748bc2f7c4">RPC_L_TIMEOUT</a>])</div>
<div class="line"><span class="lineno"> 1160</span>        <a class="code hl_variable" href="../../de/d89/procd_2ubus_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f">blobmsg_get_u32</a>(tb[<a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ad3a863f272e87e7dadb3d6748bc2f7c4">RPC_L_TIMEOUT</a>]);</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1163</span><span class="comment">     * attempt to reclaim a pending apply session, but only accept it</span></div>
<div class="line"><span class="lineno"> 1164</span><span class="comment">     * if the username matches, otherwise perform a new login</span></div>
<div class="line"><span class="lineno"> 1165</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1166</span> </div>
<div class="line"><span class="lineno"> 1167</span>    ses = <a class="code hl_function" href="#a5212206c8369e1679e9922411314cfb1">rpc_reclaim_apply_session</a>(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603">blobmsg_get_string</a>(tb[<a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ad927957e6550c480241ceffb6de312bd">RPC_L_USERNAME</a>]));</div>
<div class="line"><span class="lineno"> 1168</span> </div>
<div class="line"><span class="lineno"> 1169</span>    <span class="keywordflow">if</span> (!ses)</div>
<div class="line"><span class="lineno"> 1170</span>        ses = <a class="code hl_function" href="#a4368db4f95cd28dc11c33e44a7e8f3fe">rpc_session_create</a>(<a class="code hl_variable" href="../../de/d89/procd_2ubus_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>);</div>
<div class="line"><span class="lineno"> 1171</span> </div>
<div class="line"><span class="lineno"> 1172</span>    <span class="keywordflow">if</span> (!ses) {</div>
<div class="line"><span class="lineno"> 1173</span>        rv = <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1174</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 1175</span>    }</div>
<div class="line"><span class="lineno"> 1176</span> </div>
<div class="line"><span class="lineno"> 1177</span>    <a class="code hl_function" href="#a856c2fef68fa28c9590680e1f3f473eb">rpc_login_setup_acls</a>(ses, login);</div>
<div class="line"><span class="lineno"> 1178</span> </div>
<div class="line"><span class="lineno"> 1179</span>    <a class="code hl_function" href="#aa249955e5ae81bcc548041c4055cef7e">rpc_session_set</a>(ses, tb[<a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ad927957e6550c480241ceffb6de312bd">RPC_L_USERNAME</a>]);</div>
<div class="line"><span class="lineno"> 1180</span>    <a class="code hl_function" href="#ae5d591f9a73009f4be53ee07d73cbf49">rpc_session_dump</a>(ses, <a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req);</div>
<div class="line"><span class="lineno"> 1181</span> </div>
<div class="line"><span class="lineno"> 1182</span>out:</div>
<div class="line"><span class="lineno"> 1183</span>    <span class="keywordflow">if</span> (uci)</div>
<div class="line"><span class="lineno"> 1184</span>        uci_free_context(uci);</div>
<div class="line"><span class="lineno"> 1185</span> </div>
<div class="line"><span class="lineno"> 1186</span>    <span class="keywordflow">return</span> rv;</div>
<div class="line"><span class="lineno"> 1187</span>}</div>
<div class="ttc" id="asession_8c_html_a0b1bb8c17f2dd79b8ca8e6b5be4e5562"><div class="ttname"><a href="#a0b1bb8c17f2dd79b8ca8e6b5be4e5562">login_policy</a></div><div class="ttdeci">static const struct blobmsg_policy login_policy[__RPC_L_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00125">session.c:125</a></div></div>
<div class="ttc" id="asession_8c_html_a479fcd3fc3d6fd7fdfe9a1cdd6ed2805"><div class="ttname"><a href="#a479fcd3fc3d6fd7fdfe9a1cdd6ed2805">rpc_login_test_login</a></div><div class="ttdeci">static struct uci_section * rpc_login_test_login(struct uci_context *uci, const char *username, const char *password)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00829">session.c:829</a></div></div>
<div class="ttc" id="asession_8c_html_a5212206c8369e1679e9922411314cfb1"><div class="ttname"><a href="#a5212206c8369e1679e9922411314cfb1">rpc_reclaim_apply_session</a></div><div class="ttdeci">static struct rpc_session * rpc_reclaim_apply_session(const char *expected_username)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l01101">session.c:1101</a></div></div>
<div class="ttc" id="asession_8c_html_a856c2fef68fa28c9590680e1f3f473eb"><div class="ttname"><a href="#a856c2fef68fa28c9590680e1f3f473eb">rpc_login_setup_acls</a></div><div class="ttdeci">static void rpc_login_setup_acls(struct rpc_session *ses, struct uci_section *login)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l01086">session.c:1086</a></div></div>
<div class="ttc" id="asession_8c_html_aa249955e5ae81bcc548041c4055cef7e"><div class="ttname"><a href="#aa249955e5ae81bcc548041c4055cef7e">rpc_session_set</a></div><div class="ttdeci">static void rpc_session_set(struct rpc_session *ses, struct blob_attr *val)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00630">session.c:630</a></div></div>
<div class="ttc" id="aubusmsg_8h_html_a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5"><div class="ttname"><a href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a></div><div class="ttdeci">@ UBUS_STATUS_UNKNOWN_ERROR</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d79/ubusmsg_8h_source.html#l00128">ubusmsg.h:128</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00123">__RPC_L_MAX</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00075">blob_data()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00348">blobmsg_get_string()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00293">blobmsg_get_u32()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00125">login_policy</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00034">RPC_DEFAULT_SESSION_TIMEOUT</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00121">RPC_L_PASSWORD</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00122">RPC_L_TIMEOUT</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00120">RPC_L_USERNAME</a>, <a class="el" href="../../de/d67/session_8c_source.html#l01086">rpc_login_setup_acls()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00829">rpc_login_test_login()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l01101">rpc_reclaim_apply_session()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00315">rpc_session_create()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00243">rpc_session_dump()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00630">rpc_session_set()</a>, <a class="el" href="../../de/d89/procd_2ubus_8c_source.html#l00025">timeout</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00121">UBUS_STATUS_INVALID_ARGUMENT</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00125">UBUS_STATUS_PERMISSION_DENIED</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00128">UBUS_STATUS_UNKNOWN_ERROR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a2a596961641959cadf3e07cc5011147c_cgraph.png" border="0" usemap="#ade/d67/session_8c_a2a596961641959cadf3e07cc5011147c_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a2a596961641959cadf3e07cc5011147c_cgraph" id="ade/d67/session_8c_a2a596961641959cadf3e07cc5011147c_cgraph">
<area shape="rect" title=" " alt="" coords="5,645,183,679"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1351,431,1462,464"/>
<area shape="poly" title=" " alt="" coords="183,660,666,660,952,660,1017,654,1081,638,1142,615,1201,587,1301,526,1372,472,1375,476,1304,530,1203,592,1144,620,1082,643,1018,659,952,665,666,665,183,665"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1138,431,1237,464"/>
<area shape="poly" title=" " alt="" coords="183,643,1063,474,1123,461,1124,466,1064,479,184,648"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="566,424,769,458"/>
<area shape="poly" title=" " alt="" coords="99,644,115,605,143,556,180,506,203,484,229,467,268,448,308,435,392,419,475,415,550,420,550,425,475,421,393,424,309,440,270,453,232,471,207,488,184,510,147,559,120,608,104,646"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f" title=" " alt="" coords="271,5,456,39"/>
<area shape="poly" title=" " alt="" coords="94,644,103,564,126,439,143,367,166,294,194,221,228,153,250,122,275,93,325,47,328,51,278,97,254,125,233,156,199,223,171,295,149,369,131,440,109,564,99,645"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="282,167,445,200"/>
<area shape="poly" title=" " alt="" coords="102,644,343,213,347,215,107,646"/>
<area shape="rect" href="../../de/d67/session_8c.html#a856c2fef68fa28c9590680e1f3f473eb" title=" " alt="" coords="258,1080,469,1114"/>
<area shape="poly" title=" " alt="" coords="101,679,115,736,140,819,179,912,204,957,233,999,273,1039,317,1070,314,1074,270,1043,229,1003,200,960,174,914,135,821,110,738,96,680"/>
<area shape="rect" href="../../de/d67/session_8c.html#a479fcd3fc3d6fd7fdfe9a1cdd6ed2805" title=" " alt="" coords="262,955,465,988"/>
<area shape="poly" title=" " alt="" coords="103,679,119,724,146,784,184,850,207,881,232,908,261,930,293,946,291,951,258,934,229,912,203,884,179,853,141,787,114,726,98,680"/>
<area shape="rect" href="../../de/d67/session_8c.html#a5212206c8369e1679e9922411314cfb1" title=" " alt="" coords="231,481,496,515"/>
<area shape="poly" title=" " alt="" coords="107,643,157,588,191,558,229,532,259,518,262,523,232,536,194,562,160,592,111,647"/>
<area shape="rect" href="../../de/d67/session_8c.html#a4368db4f95cd28dc11c33e44a7e8f3fe" title=" " alt="" coords="266,864,461,898"/>
<area shape="poly" title=" " alt="" coords="118,677,331,852,328,856,115,681"/>
<area shape="rect" href="../../de/d67/session_8c.html#ae5d591f9a73009f4be53ee07d73cbf49" title=" " alt="" coords="267,1172,460,1206"/>
<area shape="poly" title=" " alt="" coords="98,679,103,757,122,874,138,940,162,1005,193,1068,233,1124,258,1147,287,1163,285,1168,255,1151,229,1128,188,1071,157,1007,133,941,116,875,98,757,93,679"/>
<area shape="rect" href="../../de/d67/session_8c.html#aa249955e5ae81bcc548041c4055cef7e" title=" " alt="" coords="280,700,447,734"/>
<area shape="poly" title=" " alt="" coords="181,677,265,694,264,700,180,682"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1112,169,1263,203"/>
<area shape="poly" title=" " alt="" coords="683,422,746,362,790,329,837,301,870,287,898,279,949,272,1000,267,1063,250,1106,231,1145,209,1148,214,1108,236,1065,255,1001,272,950,278,900,284,871,292,840,306,793,333,750,366,686,425"/>
<area shape="poly" title=" " alt="" coords="1205,202,1383,417,1379,420,1201,205"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1316,171,1497,204"/>
<area shape="poly" title=" " alt="" coords="1264,184,1300,184,1300,190,1264,189"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1321,252,1491,286"/>
<area shape="poly" title=" " alt="" coords="1235,201,1346,244,1344,249,1233,206"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1311,113,1501,147"/>
<area shape="poly" title=" " alt="" coords="1255,166,1322,149,1324,154,1257,171"/>
<area shape="poly" title=" " alt="" coords="456,11,581,6,735,12,818,20,903,34,985,55,1065,82,1094,97,1120,116,1163,156,1160,160,1117,120,1091,102,1063,87,984,60,901,40,818,26,735,17,581,12,457,16"/>
<area shape="poly" title=" " alt="" coords="413,198,491,230,589,277,694,337,745,372,792,410,807,428,815,446,823,461,840,475,904,500,972,513,1042,518,1112,515,1179,507,1241,495,1342,467,1344,472,1242,500,1180,512,1112,521,1042,523,972,519,903,505,837,479,819,465,810,448,803,431,788,413,742,376,691,342,586,282,489,235,411,203"/>
<area shape="poly" title=" " alt="" coords="415,164,531,130,692,96,783,82,876,75,971,74,1064,82,1135,96,1190,114,1243,134,1312,157,1333,163,1331,168,1310,162,1241,139,1188,119,1134,102,1063,87,971,79,877,80,783,88,693,101,533,135,417,169"/>
<area shape="poly" title=" " alt="" coords="388,164,456,123,499,103,543,86,649,58,741,41,823,34,901,35,979,43,1062,57,1264,98,1307,107,1306,112,1262,103,1061,62,978,48,901,40,824,39,742,46,651,63,545,91,501,108,458,128,391,169"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="907,97,995,131"/>
<area shape="poly" title=" " alt="" coords="444,171,891,118,892,124,445,177"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="546,207,789,240"/>
<area shape="poly" title=" " alt="" coords="445,192,530,203,530,208,445,197"/>
<area shape="poly" title=" " alt="" coords="755,203,838,192,974,183,1096,182,1096,187,974,189,839,197,755,209"/>
<area shape="poly" title=" " alt="" coords="705,204,837,148,892,129,894,134,839,153,707,208"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="864,207,1038,240"/>
<area shape="poly" title=" " alt="" coords="789,221,848,221,848,226,789,226"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="880,431,1022,464"/>
<area shape="poly" title=" " alt="" coords="685,239,774,344,840,417,867,430,864,435,837,422,770,347,681,243"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="838,316,1064,350"/>
<area shape="poly" title=" " alt="" coords="714,238,892,307,890,312,712,243"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="857,373,1045,407"/>
<area shape="poly" title=" " alt="" coords="686,239,750,298,793,332,840,360,851,365,849,370,837,365,790,336,746,303,683,243"/>
<area shape="poly" title=" " alt="" coords="1022,445,1122,445,1122,450,1022,450"/>
<area shape="poly" title=" " alt="" coords="1065,346,1162,364,1264,389,1353,422,1352,427,1262,394,1161,369,1064,351"/>
<area shape="poly" title=" " alt="" coords="1037,348,1065,358,1115,387,1157,419,1154,423,1112,392,1063,363,1035,353"/>
<area shape="poly" title=" " alt="" coords="1006,313,1063,294,1111,278,1334,207,1335,212,1112,283,1065,299,1008,318"/>
<area shape="poly" title=" " alt="" coords="1064,314,1305,280,1306,285,1065,320"/>
<area shape="poly" title=" " alt="" coords="983,313,1023,287,1062,251,1076,225,1082,201,1090,177,1110,155,1153,132,1201,119,1249,113,1295,113,1295,118,1249,119,1202,125,1155,137,1113,159,1094,179,1087,202,1081,227,1066,254,1026,291,986,318"/>
<area shape="poly" title=" " alt="" coords="1046,393,1151,402,1263,416,1336,429,1335,434,1263,421,1150,407,1046,398"/>
<area shape="poly" title=" " alt="" coords="1024,405,1124,429,1122,435,1022,410"/>
<area shape="poly" title=" " alt="" coords="1043,370,1062,360,1099,328,1129,289,1153,250,1171,216,1175,218,1158,253,1134,292,1103,331,1065,364,1046,375"/>
<area shape="rect" href="../../de/d67/session_8c.html#ab75bdbde0c1e7b4d0109da0143c96625" title=" " alt="" coords="548,1115,786,1148"/>
<area shape="poly" title=" " alt="" coords="470,1106,533,1113,532,1119,469,1112"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="878,1115,1024,1148"/>
<area shape="poly" title=" " alt="" coords="787,1129,862,1129,862,1134,787,1134"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="881,1172,1021,1206"/>
<area shape="poly" title=" " alt="" coords="755,1146,867,1169,866,1174,753,1152"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="870,757,1032,791"/>
<area shape="poly" title=" " alt="" coords="772,1112,789,1101,822,1069,851,1032,876,991,896,950,925,869,941,806,946,807,930,871,901,952,880,994,856,1035,826,1073,792,1106,775,1116"/>
<area shape="poly" title=" " alt="" coords="1032,764,1087,754,1147,737,1207,713,1261,679,1286,657,1308,632,1345,577,1373,523,1392,478,1396,480,1378,525,1349,579,1312,635,1289,660,1265,683,1210,718,1149,742,1088,759,1033,769"/>
<area shape="rect" href="../../de/d67/session_8c.html#a283fa7ba72f3f3c18d80b4e76a0dd45e" title=" " alt="" coords="544,1057,790,1091"/>
<area shape="poly" title=" " alt="" coords="417,986,602,1049,600,1054,415,991"/>
<area shape="poly" title=" " alt="" coords="617,1058,611,1048,619,1038,637,1033,667,1031,699,1033,717,1039,715,1044,698,1038,667,1036,638,1038,622,1043,617,1048,621,1056"/>
<area shape="poly" title=" " alt="" coords="456,478,559,458,560,464,457,483"/>
<area shape="rect" href="../../de/d67/session_8c.html#a537c67da2d6dac42f8bda20e0b888f5a" title=" " alt="" coords="583,481,751,515"/>
<area shape="poly" title=" " alt="" coords="496,496,568,496,568,501,496,501"/>
<area shape="rect" href="../../de/d67/session_8c.html#a15a41226cf2bf6546acd3cb1975459c9" title=" " alt="" coords="856,700,1046,734"/>
<area shape="poly" title=" " alt="" coords="699,513,792,576,863,635,923,688,919,692,860,639,789,580,696,518"/>
<area shape="poly" title=" " alt="" coords="462,884,552,886,647,883,732,873,765,865,789,853,801,842,808,829,813,801,817,772,824,757,837,743,841,740,844,744,840,747,829,760,822,773,818,802,813,831,805,845,792,858,767,870,733,879,648,889,552,891,461,889"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="612,809,722,843"/>
<area shape="poly" title=" " alt="" coords="460,861,596,836,597,841,461,866"/>
<area shape="rect" href="../../de/d67/session_8c.html#adb30923ed65e01b2047d9d2034a1b15d" title=" " alt="" coords="601,976,733,1010"/>
<area shape="poly" title=" " alt="" coords="403,896,497,940,545,962,587,975,585,980,543,967,495,945,401,901"/>
<area shape="rect" href="../../de/d67/session_8c.html#a4e65e993938bcd87e1a73d5120121e4e" title=" " alt="" coords="579,919,755,952"/>
<area shape="poly" title=" " alt="" coords="461,896,564,914,563,920,460,901"/>
<area shape="rect" href="../../de/d67/session_8c.html#aaa8dccc7bffc72a3e31e4f3e14792e6d" title=" " alt="" coords="565,1229,770,1263"/>
<area shape="poly" title=" " alt="" coords="457,1204,560,1223,559,1229,456,1209"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="579,1172,755,1206"/>
<area shape="poly" title=" " alt="" coords="460,1186,564,1186,564,1192,460,1192"/>
<area shape="poly" title=" " alt="" coords="753,1226,866,1203,867,1208,755,1231"/>
<area shape="poly" title=" " alt="" coords="756,1186,866,1186,866,1192,756,1192"/>
<area shape="poly" title=" " alt="" coords="447,729,544,744,708,759,855,767,854,773,708,764,544,749,447,735"/>
<area shape="poly" title=" " alt="" coords="405,732,545,788,598,805,596,810,543,793,403,737"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="610,700,724,734"/>
<area shape="poly" title=" " alt="" coords="447,714,594,714,594,720,447,720"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="596,591,738,624"/>
<area shape="poly" title=" " alt="" coords="412,697,603,628,605,633,414,702"/>
<area shape="poly" title=" " alt="" coords="698,588,904,470,907,475,700,592"/>
</map>
</div>

</div>
</div>
<a id="a6533cf4c11da9b785a4b2426dc4708c1" name="a6533cf4c11da9b785a4b2426dc4708c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6533cf4c11da9b785a4b2426dc4708c1">&#9670;&#160;</a></span>rpc_handle_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_handle_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00650">650</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  653</span>{</div>
<div class="line"><span class="lineno">  654</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno">  655</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb[<a class="code hl_enumvalue" href="#a2dbb833ef0dcc466dd02ee76badaf709ac4b7bfe6ac654a6aca31acc5f4abfdc6">__RPC_SS_MAX</a>];</div>
<div class="line"><span class="lineno">  656</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *attr;</div>
<div class="line"><span class="lineno">  657</span>    <span class="keywordtype">int</span> rem;</div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#a91c735acdf25c5a777e492fc85256b7a">set_policy</a>, <a class="code hl_enumvalue" href="#a2dbb833ef0dcc466dd02ee76badaf709ac4b7bfe6ac654a6aca31acc5f4abfdc6">__RPC_SS_MAX</a>, tb, <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a>(msg), <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(msg));</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>    <span class="keywordflow">if</span> (!tb[<a class="code hl_enumvalue" href="#a2dbb833ef0dcc466dd02ee76badaf709a885b7787c057874d55330e82faabf99a">RPC_SS_SID</a>] || !tb[<a class="code hl_enumvalue" href="#a2dbb833ef0dcc466dd02ee76badaf709a5ba5da59a03918fb00f5405d1f7e284d">RPC_SS_VALUES</a>])</div>
<div class="line"><span class="lineno">  662</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>    ses = <a class="code hl_function" href="#a537c67da2d6dac42f8bda20e0b888f5a">rpc_session_get</a>(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb[<a class="code hl_enumvalue" href="#a2dbb833ef0dcc466dd02ee76badaf709a885b7787c057874d55330e82faabf99a">RPC_SS_SID</a>]));</div>
<div class="line"><span class="lineno">  665</span>    <span class="keywordflow">if</span> (!ses)</div>
<div class="line"><span class="lineno">  666</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97">UBUS_STATUS_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span>    <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(attr, tb[<a class="code hl_enumvalue" href="#a2dbb833ef0dcc466dd02ee76badaf709a5ba5da59a03918fb00f5405d1f7e284d">RPC_SS_VALUES</a>], rem) {</div>
<div class="line"><span class="lineno">  669</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(attr)[0])</div>
<div class="line"><span class="lineno">  670</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>        <a class="code hl_function" href="#aa249955e5ae81bcc548041c4055cef7e">rpc_session_set</a>(ses, attr);</div>
<div class="line"><span class="lineno">  673</span>    }</div>
<div class="line"><span class="lineno">  674</span> </div>
<div class="line"><span class="lineno">  675</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  676</span>}</div>
<div class="ttc" id="asession_8c_html_a91c735acdf25c5a777e492fc85256b7a"><div class="ttname"><a href="#a91c735acdf25c5a777e492fc85256b7a">set_policy</a></div><div class="ttdeci">static const struct blobmsg_policy set_policy[__RPC_SS_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00064">session.c:64</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00062">__RPC_SS_MAX</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00075">blob_data()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00364">blobmsg_for_each_attr</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00062">blobmsg_name()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00341">rpc_session_get()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00630">rpc_session_set()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00060">RPC_SS_SID</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00061">RPC_SS_VALUES</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00064">set_policy</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00121">UBUS_STATUS_INVALID_ARGUMENT</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00123">UBUS_STATUS_NOT_FOUND</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a6533cf4c11da9b785a4b2426dc4708c1_cgraph.png" border="0" usemap="#ade/d67/session_8c_a6533cf4c11da9b785a4b2426dc4708c1_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a6533cf4c11da9b785a4b2426dc4708c1_cgraph" id="ade/d67/session_8c_a6533cf4c11da9b785a4b2426dc4708c1_cgraph">
<area shape="rect" title=" " alt="" coords="5,537,166,571"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1303,413,1414,447"/>
<area shape="poly" title=" " alt="" coords="166,551,354,547,614,534,913,508,1066,489,1214,465,1287,448,1288,453,1216,470,1066,494,914,514,615,540,354,552,166,556"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1056,404,1154,437"/>
<area shape="poly" title=" " alt="" coords="144,534,274,499,430,467,602,445,773,431,1040,419,1040,424,774,436,603,451,430,472,276,504,146,539"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1029,142,1181,176"/>
<area shape="poly" title=" " alt="" coords="84,536,86,463,91,412,101,356,116,298,139,242,171,190,212,145,302,78,346,54,388,34,430,20,471,10,555,3,641,9,734,25,947,77,980,87,1013,101,1068,131,1065,136,1010,106,979,92,946,82,733,30,641,14,555,8,472,15,431,25,390,39,348,58,305,83,215,149,175,193,144,244,121,300,106,358,96,413,91,464,89,537"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="471,592,633,625"/>
<area shape="poly" title=" " alt="" coords="167,563,214,570,455,597,455,602,213,575,166,569"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="217,160,379,193"/>
<area shape="poly" title=" " alt="" coords="94,535,277,206,282,208,99,538"/>
<area shape="rect" href="../../de/d67/session_8c.html#a537c67da2d6dac42f8bda20e0b888f5a" title=" " alt="" coords="214,888,382,921"/>
<area shape="poly" title=" " alt="" coords="100,570,281,873,276,876,95,573"/>
<area shape="rect" href="../../de/d67/session_8c.html#aa249955e5ae81bcc548041c4055cef7e" title=" " alt="" coords="215,642,381,676"/>
<area shape="poly" title=" " alt="" coords="118,569,215,621,242,633,239,638,212,626,115,573"/>
<area shape="poly" title=" " alt="" coords="1124,175,1332,400,1329,403,1120,178"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1268,86,1449,120"/>
<area shape="poly" title=" " alt="" coords="1180,140,1263,121,1265,127,1182,145"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1273,225,1443,259"/>
<area shape="poly" title=" " alt="" coords="1160,174,1291,217,1289,222,1158,179"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1263,144,1453,177"/>
<area shape="poly" title=" " alt="" coords="1181,157,1248,157,1248,163,1181,162"/>
<area shape="poly" title=" " alt="" coords="633,618,751,629,823,632,899,631,979,625,1060,613,1139,594,1214,566,1252,544,1285,516,1335,457,1339,461,1289,519,1255,548,1216,571,1140,599,1061,618,980,630,900,636,823,637,751,634,633,624"/>
<area shape="poly" title=" " alt="" coords="323,192,387,238,483,301,598,365,660,393,722,417,798,437,876,450,955,457,1033,459,1176,452,1287,439,1287,444,1176,457,1033,464,955,462,876,455,797,442,721,422,658,398,596,370,480,306,384,243,320,196"/>
<area shape="poly" title=" " alt="" coords="315,157,363,117,395,96,429,79,486,61,544,46,664,27,785,20,903,23,1015,33,1118,47,1278,80,1277,85,1117,52,1015,38,903,28,785,25,664,32,545,51,487,66,431,84,397,100,366,121,318,161"/>
<area shape="poly" title=" " alt="" coords="336,157,380,139,429,123,572,88,685,69,800,66,947,77,1036,88,1124,103,1276,137,1275,142,1123,108,1035,93,946,82,800,72,686,75,573,93,431,128,382,144,338,162"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="790,92,878,125"/>
<area shape="poly" title=" " alt="" coords="379,164,774,113,775,119,380,169"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="430,201,673,235"/>
<area shape="poly" title=" " alt="" coords="380,187,430,195,429,201,379,192"/>
<area shape="poly" title=" " alt="" coords="643,198,721,186,876,170,1013,161,1014,166,876,176,722,191,644,203"/>
<area shape="poly" title=" " alt="" coords="589,198,720,142,775,123,777,128,722,147,591,203"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="747,258,921,292"/>
<area shape="poly" title=" " alt="" coords="639,233,733,252,732,257,638,238"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="763,373,905,407"/>
<area shape="poly" title=" " alt="" coords="570,233,632,295,675,330,723,359,750,371,748,376,720,364,672,334,629,299,566,237"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="721,201,947,235"/>
<area shape="poly" title=" " alt="" coords="674,215,706,215,706,220,674,220"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="740,316,928,349"/>
<area shape="poly" title=" " alt="" coords="583,233,646,267,722,302,740,308,739,313,720,307,644,272,581,238"/>
<area shape="poly" title=" " alt="" coords="905,395,1041,411,1040,416,905,400"/>
<area shape="poly" title=" " alt="" coords="911,233,947,243,1084,292,1216,351,1315,403,1312,407,1214,356,1082,297,946,248,910,238"/>
<area shape="poly" title=" " alt="" coords="931,233,948,244,967,265,976,286,982,308,997,332,1030,365,1065,392,1062,397,1026,369,993,335,978,311,971,288,963,268,945,248,928,237"/>
<area shape="poly" title=" " alt="" coords="857,198,917,161,955,142,994,127,1059,112,1127,102,1252,96,1252,102,1127,108,1060,117,995,132,957,147,920,166,860,203"/>
<area shape="poly" title=" " alt="" coords="947,226,995,230,1258,238,1257,244,995,235,947,232"/>
<area shape="poly" title=" " alt="" coords="947,210,1076,201,1215,186,1262,178,1262,183,1215,191,1076,206,947,215"/>
<area shape="poly" title=" " alt="" coords="929,341,1065,361,1216,389,1288,407,1287,412,1214,394,1064,366,928,347"/>
<area shape="poly" title=" " alt="" coords="915,347,948,358,996,382,1042,399,1040,404,994,387,946,363,913,352"/>
<area shape="poly" title=" " alt="" coords="922,313,945,302,985,276,1022,246,1078,186,1082,190,1025,249,988,281,948,307,924,318"/>
<area shape="rect" href="../../de/d67/session_8c.html#a15a41226cf2bf6546acd3cb1975459c9" title=" " alt="" coords="457,1150,647,1184"/>
<area shape="poly" title=" " alt="" coords="313,920,362,987,432,1068,474,1106,515,1139,512,1143,471,1110,428,1072,358,991,309,924"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="739,1220,929,1253"/>
<area shape="poly" title=" " alt="" coords="624,1182,748,1213,747,1218,623,1187"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1029,1162,1181,1196"/>
<area shape="poly" title=" " alt="" coords="916,1216,1013,1196,1014,1201,917,1222"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="1007,1220,1203,1253"/>
<area shape="poly" title=" " alt="" coords="929,1234,991,1234,991,1239,929,1239"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="995,1277,1215,1311"/>
<area shape="poly" title=" " alt="" coords="917,1251,1008,1271,1007,1276,916,1257"/>
<area shape="poly" title=" " alt="" coords="381,640,455,625,456,630,382,645"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="495,1024,609,1057"/>
<area shape="poly" title=" " alt="" coords="313,675,533,1009,528,1012,308,678"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="497,812,607,845"/>
<area shape="poly" title=" " alt="" coords="327,674,514,801,511,805,324,679"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="481,482,623,516"/>
<area shape="poly" title=" " alt="" coords="325,639,509,523,512,527,328,644"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="741,1105,927,1139"/>
<area shape="poly" title=" " alt="" coords="610,1054,759,1098,757,1103,609,1059"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="785,966,883,1000"/>
<area shape="poly" title=" " alt="" coords="609,1026,769,994,770,999,610,1032"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="771,1162,897,1196"/>
<area shape="poly" title=" " alt="" coords="576,1056,639,1102,680,1127,722,1149,756,1161,755,1166,720,1154,677,1132,636,1106,572,1060"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="777,1024,891,1057"/>
<area shape="poly" title=" " alt="" coords="609,1038,762,1038,762,1043,609,1043"/>
<area shape="poly" title=" " alt="" coords="786,1106,781,1096,788,1086,806,1080,834,1078,864,1081,882,1087,880,1092,863,1086,834,1084,807,1086,791,1091,786,1096,790,1103"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="1033,1105,1177,1139"/>
<area shape="poly" title=" " alt="" coords="928,1119,1018,1119,1018,1124,928,1124"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="1023,1048,1187,1081"/>
<area shape="poly" title=" " alt="" coords="916,1102,1007,1082,1009,1088,917,1107"/>
<area shape="poly" title=" " alt="" coords="1060,1049,1055,1038,1061,1029,1078,1023,1105,1021,1133,1023,1150,1030,1148,1035,1132,1029,1105,1026,1079,1028,1065,1033,1060,1039,1064,1046"/>
<area shape="poly" title=" " alt="" coords="572,844,636,898,678,927,722,953,771,970,769,975,720,958,675,932,632,902,569,848"/>
<area shape="poly" title=" " alt="" coords="566,844,590,880,626,925,671,971,723,1010,763,1027,761,1032,720,1015,667,975,622,928,586,883,561,847"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="769,852,899,885"/>
<area shape="poly" title=" " alt="" coords="608,834,754,855,753,860,607,839"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="753,909,915,943"/>
<area shape="poly" title=" " alt="" coords="592,843,652,869,722,895,744,902,742,907,720,900,650,874,589,848"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1059,773,1151,807"/>
<area shape="poly" title=" " alt="" coords="563,810,588,778,624,740,669,702,720,674,782,654,833,649,885,656,948,674,986,691,1022,713,1078,760,1075,764,1018,717,983,695,946,679,884,661,833,654,783,660,722,679,672,707,627,744,592,782,567,813"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="745,689,923,723"/>
<area shape="poly" title=" " alt="" coords="577,809,641,770,720,731,737,725,739,730,722,736,643,775,580,813"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="772,770,896,804"/>
<area shape="poly" title=" " alt="" coords="607,818,756,796,757,801,608,823"/>
<area shape="poly" title=" " alt="" coords="786,853,781,842,788,833,806,827,834,825,864,827,882,834,880,839,863,833,834,830,807,832,791,837,786,843,790,850"/>
<area shape="poly" title=" " alt="" coords="915,907,946,895,1014,856,1070,815,1073,819,1017,861,948,900,917,912"/>
<area shape="poly" title=" " alt="" coords="786,771,781,761,788,751,806,746,834,744,864,746,882,752,880,757,863,751,834,749,807,751,791,756,786,761,790,769"/>
<area shape="poly" title=" " alt="" coords="596,479,773,410,775,415,598,484"/>
</map>
</div>

</div>
</div>
<a id="a25375f981d9230b4459af60c1ebd2054" name="a25375f981d9230b4459af60c1ebd2054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25375f981d9230b4459af60c1ebd2054">&#9670;&#160;</a></span>rpc_handle_unset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_handle_unset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00726">726</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  729</span>{</div>
<div class="line"><span class="lineno">  730</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno">  731</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#db/dfa/structrpc__session__data">rpc_session_data</a> *data, *ndata;</div>
<div class="line"><span class="lineno">  732</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb[<a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a37af7acec1cba488ebf34308562677f2">__RPC_SA_MAX</a>];</div>
<div class="line"><span class="lineno">  733</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *attr;</div>
<div class="line"><span class="lineno">  734</span>    <span class="keywordtype">int</span> rem;</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#abb40236fcd127dcbb509fe69b2bef01e">get_policy</a>, <a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaa23c0dc51e1811437f861fd77c1062bac">__RPC_SG_MAX</a>, tb, <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a>(msg), <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(msg));</div>
<div class="line"><span class="lineno">  737</span> </div>
<div class="line"><span class="lineno">  738</span>    <span class="keywordflow">if</span> (!tb[<a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaa3308333bea2a8c95eddce951eaa3c597">RPC_SG_SID</a>])</div>
<div class="line"><span class="lineno">  739</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">  740</span> </div>
<div class="line"><span class="lineno">  741</span>    ses = <a class="code hl_function" href="#a537c67da2d6dac42f8bda20e0b888f5a">rpc_session_get</a>(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb[<a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaa3308333bea2a8c95eddce951eaa3c597">RPC_SG_SID</a>]));</div>
<div class="line"><span class="lineno">  742</span>    <span class="keywordflow">if</span> (!ses)</div>
<div class="line"><span class="lineno">  743</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a50138190147e8a5a7af366614d0c4b97">UBUS_STATUS_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>    <span class="keywordflow">if</span> (!tb[<a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaaa8d6538bd45f6bdeb6c79ed7ff545e0d">RPC_SG_KEYS</a>]) {</div>
<div class="line"><span class="lineno">  746</span>        <a class="code hl_define" href="../../d3/d51/avl_8h.html#af8b3ca3843e7a4bb3bc80858f53c2ad5">avl_remove_all_elements</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aeeb121d2bac9ac1a4c3c7fe3d2a312a7">data</a>, <a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>, avl, ndata)</div>
<div class="line"><span class="lineno">  747</span>            free(<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>);</div>
<div class="line"><span class="lineno">  748</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  749</span>    }</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>    <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(attr, tb[<a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaaa8d6538bd45f6bdeb6c79ed7ff545e0d">RPC_SG_KEYS</a>], rem) {</div>
<div class="line"><span class="lineno">  752</span>        <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(attr) != <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>)</div>
<div class="line"><span class="lineno">  753</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>        <a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a> = <a class="code hl_define" href="../../d3/d51/avl_8h.html#a65bfca92c030dd0ea5548f23de5fc07e">avl_find_element</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aeeb121d2bac9ac1a4c3c7fe3d2a312a7">data</a>, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(attr), <a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>, avl);</div>
<div class="line"><span class="lineno">  756</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>)</div>
<div class="line"><span class="lineno">  757</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  758</span> </div>
<div class="line"><span class="lineno">  759</span>        <a class="code hl_function" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106">avl_delete</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aeeb121d2bac9ac1a4c3c7fe3d2a312a7">data</a>, &amp;<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>-&gt;avl);</div>
<div class="line"><span class="lineno">  760</span>        free(<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>);</div>
<div class="line"><span class="lineno">  761</span>    }</div>
<div class="line"><span class="lineno">  762</span> </div>
<div class="line"><span class="lineno">  763</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  764</span>}</div>
<div class="ttc" id="aavl_8c_html_aff86971e7141b6e9af18b7601066b106"><div class="ttname"><a href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106">avl_delete</a></div><div class="ttdeci">void avl_delete(struct avl_tree *tree, struct avl_node *node)</div><div class="ttdef"><b>Definition</b> <a href="../../df/dc2/avl_8c_source.html#l00307">avl.c:307</a></div></div>
<div class="ttc" id="aavl_8h_html_af8b3ca3843e7a4bb3bc80858f53c2ad5"><div class="ttname"><a href="../../d3/d51/avl_8h.html#af8b3ca3843e7a4bb3bc80858f53c2ad5">avl_remove_all_elements</a></div><div class="ttdeci">#define avl_remove_all_elements(tree, element, node_member, ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00545">avl.h:545</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00083">__RPC_SA_MAX</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00072">__RPC_SG_MAX</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00307">avl_delete()</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00240">avl_find_element</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00545">avl_remove_all_elements</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00075">blob_data()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00364">blobmsg_for_each_attr</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00029">BLOBMSG_TYPE_STRING</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00054">blob_attr::data</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00046">rpc_session::data</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00074">get_policy</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00341">rpc_session_get()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00071">RPC_SG_KEYS</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00070">RPC_SG_SID</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00121">UBUS_STATUS_INVALID_ARGUMENT</a>, and <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00123">UBUS_STATUS_NOT_FOUND</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a25375f981d9230b4459af60c1ebd2054_cgraph.png" border="0" usemap="#ade/d67/session_8c_a25375f981d9230b4459af60c1ebd2054_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a25375f981d9230b4459af60c1ebd2054_cgraph" id="ade/d67/session_8c_a25375f981d9230b4459af60c1ebd2054_cgraph">
<area shape="rect" title=" " alt="" coords="5,484,190,518"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="265,180,379,214"/>
<area shape="poly" title=" " alt="" coords="109,482,297,225,301,228,114,485"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1327,612,1438,646"/>
<area shape="poly" title=" " alt="" coords="190,491,368,479,574,473,859,473,928,477,998,487,1066,503,1132,522,1248,564,1335,603,1333,608,1246,569,1130,527,1065,508,997,492,928,482,859,478,574,478,368,484,190,496"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1080,724,1178,758"/>
<area shape="poly" title=" " alt="" coords="141,516,245,557,393,611,567,665,657,689,746,709,832,723,918,731,1065,738,1064,743,918,737,831,728,745,714,655,694,565,670,392,616,244,562,139,521"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1053,667,1205,701"/>
<area shape="poly" title=" " alt="" coords="190,504,341,516,536,537,754,571,864,593,971,618,1028,637,1079,658,1077,663,1026,642,970,624,863,598,753,576,536,543,340,521,190,509"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="241,859,403,893"/>
<area shape="poly" title=" " alt="" coords="110,517,163,618,240,754,301,845,297,848,235,757,158,621,105,519"/>
<area shape="rect" href="../../de/d67/session_8c.html#a537c67da2d6dac42f8bda20e0b888f5a" title=" " alt="" coords="238,396,406,430"/>
<area shape="poly" title=" " alt="" coords="142,481,262,433,264,438,144,486"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="483,123,669,157"/>
<area shape="poly" title=" " alt="" coords="379,182,483,158,484,163,380,187"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="527,180,625,214"/>
<area shape="poly" title=" " alt="" coords="380,194,511,194,511,200,380,200"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="513,238,639,271"/>
<area shape="poly" title=" " alt="" coords="380,207,498,234,497,239,379,212"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="519,42,633,75"/>
<area shape="poly" title=" " alt="" coords="336,178,385,131,417,105,453,84,503,66,504,72,455,89,420,110,388,135,340,182"/>
<area shape="poly" title=" " alt="" coords="530,124,525,114,532,104,549,98,576,96,604,99,620,105,618,110,603,104,576,102,550,103,535,108,531,114,535,121"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="786,126,930,159"/>
<area shape="poly" title=" " alt="" coords="669,138,770,139,770,144,669,143"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="776,68,940,102"/>
<area shape="poly" title=" " alt="" coords="666,120,761,101,762,106,667,125"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="1054,40,1204,74"/>
<area shape="poly" title=" " alt="" coords="630,120,664,105,696,86,710,71,718,56,727,42,744,29,785,15,828,6,871,3,915,4,997,15,1065,33,1064,38,996,21,914,9,871,8,828,11,786,20,747,34,731,45,722,59,714,74,699,90,666,110,632,125"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="1047,98,1211,131"/>
<area shape="poly" title=" " alt="" coords="653,155,721,166,800,175,886,177,970,169,1026,155,1076,135,1078,140,1027,160,971,174,886,183,800,180,720,171,652,160"/>
<area shape="poly" title=" " alt="" coords="810,69,805,59,812,49,830,44,858,42,888,44,906,50,904,55,887,49,858,47,831,49,815,54,810,59,814,67"/>
<area shape="poly" title=" " alt="" coords="940,74,1038,64,1039,69,940,79"/>
<area shape="poly" title=" " alt="" coords="940,91,1032,101,1031,107,940,97"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1334,40,1431,74"/>
<area shape="poly" title=" " alt="" coords="1204,54,1318,54,1318,60,1204,60"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1336,98,1428,131"/>
<area shape="poly" title=" " alt="" coords="1205,71,1321,98,1320,103,1203,77"/>
<area shape="poly" title=" " alt="" coords="1206,94,1317,69,1319,74,1207,100"/>
<area shape="poly" title=" " alt="" coords="1212,112,1320,112,1320,117,1212,117"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1340,263,1425,297"/>
<area shape="poly" title=" " alt="" coords="639,254,1324,275,1324,281,639,259"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1529,263,1623,297"/>
<area shape="poly" title=" " alt="" coords="1425,277,1513,277,1513,282,1425,282"/>
<area shape="poly" title=" " alt="" coords="1204,665,1311,642,1312,647,1206,670"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1292,890,1473,923"/>
<area shape="poly" title=" " alt="" coords="1206,692,1241,710,1260,730,1269,750,1276,771,1289,796,1323,839,1356,876,1352,880,1319,842,1285,798,1271,773,1264,752,1255,733,1237,714,1204,697"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1297,751,1467,785"/>
<area shape="poly" title=" " alt="" coords="1204,699,1240,709,1328,742,1326,747,1238,714,1202,704"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1287,1027,1477,1061"/>
<area shape="poly" title=" " alt="" coords="1206,689,1225,697,1241,710,1262,737,1272,764,1276,791,1275,817,1273,872,1277,902,1289,934,1318,978,1352,1014,1348,1018,1314,982,1285,937,1272,904,1268,873,1270,817,1271,791,1267,766,1257,740,1237,714,1222,702,1204,694"/>
<area shape="poly" title=" " alt="" coords="341,856,404,805,499,737,556,702,616,669,680,641,745,618,821,601,901,591,980,587,1058,587,1201,598,1311,613,1311,618,1200,603,1058,593,981,592,901,597,822,607,746,624,682,645,619,674,558,707,502,741,407,809,344,860"/>
<area shape="poly" title=" " alt="" coords="354,891,401,915,455,937,596,979,654,992,709,1000,764,1003,824,1002,970,990,1060,978,1150,961,1303,925,1304,930,1151,966,1061,983,971,996,824,1008,764,1008,708,1005,653,997,594,984,453,942,398,920,352,896"/>
<area shape="poly" title=" " alt="" coords="336,891,383,949,416,979,455,1003,561,1040,673,1066,787,1081,899,1087,1007,1086,1107,1080,1272,1061,1272,1066,1108,1085,1007,1091,899,1092,786,1086,672,1071,560,1046,453,1007,413,984,379,953,332,895"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="814,947,902,981"/>
<area shape="poly" title=" " alt="" coords="404,886,799,952,798,957,403,892"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="454,832,697,866"/>
<area shape="poly" title=" " alt="" coords="403,865,438,861,439,866,404,870"/>
<area shape="poly" title=" " alt="" coords="583,830,605,790,640,740,687,689,714,668,744,651,786,636,829,628,873,625,917,627,1000,640,1068,659,1067,664,999,645,917,632,873,630,830,633,787,641,746,655,717,672,690,693,644,743,610,793,588,833"/>
<area shape="poly" title=" " alt="" coords="610,864,683,903,746,933,800,949,798,954,744,938,681,908,608,869"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="771,775,945,809"/>
<area shape="poly" title=" " alt="" coords="662,829,756,810,757,815,663,834"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="787,832,929,866"/>
<area shape="poly" title=" " alt="" coords="698,846,771,846,771,852,698,852"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="745,890,971,923"/>
<area shape="poly" title=" " alt="" coords="663,864,757,883,756,888,662,869"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="764,666,952,699"/>
<area shape="poly" title=" " alt="" coords="605,830,813,705,816,710,607,834"/>
<area shape="poly" title=" " alt="" coords="928,835,969,819,984,808,993,798,1002,786,1017,775,1063,754,1066,759,1020,779,1006,790,997,801,987,812,972,823,930,840"/>
<area shape="poly" title=" " alt="" coords="948,887,969,876,984,863,992,849,1001,834,1017,820,1048,805,1077,796,1128,792,1179,789,1207,782,1238,768,1274,744,1307,714,1357,657,1361,660,1311,718,1277,748,1240,773,1209,787,1180,794,1128,798,1077,802,1050,810,1020,825,1005,838,997,852,988,866,972,881,951,891"/>
<area shape="poly" title=" " alt="" coords="953,887,969,876,980,865,987,853,993,828,998,801,1005,788,1017,775,1039,760,1064,750,1066,755,1042,765,1020,779,1010,791,1003,803,998,829,992,855,984,868,972,880,955,891"/>
<area shape="poly" title=" " alt="" coords="971,904,1276,904,1276,909,971,909"/>
<area shape="poly" title=" " alt="" coords="939,886,1079,854,1238,812,1316,787,1318,792,1240,817,1080,859,940,892"/>
<area shape="poly" title=" " alt="" coords="930,921,971,932,1302,1020,1301,1025,970,937,929,926"/>
<area shape="poly" title=" " alt="" coords="949,662,1018,652,1175,637,1311,629,1311,634,1176,642,1019,657,950,668"/>
<area shape="poly" title=" " alt="" coords="940,697,1065,725,1064,730,938,702"/>
<area shape="poly" title=" " alt="" coords="953,680,1037,681,1037,686,953,685"/>
<area shape="rect" href="../../de/d67/session_8c.html#a15a41226cf2bf6546acd3cb1975459c9" title=" " alt="" coords="481,382,671,415"/>
<area shape="poly" title=" " alt="" coords="406,406,465,402,465,407,407,411"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="763,354,953,387"/>
<area shape="poly" title=" " alt="" coords="671,386,747,379,748,384,672,392"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1053,347,1205,381"/>
<area shape="poly" title=" " alt="" coords="953,365,1037,363,1037,369,953,371"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="1031,404,1227,438"/>
<area shape="poly" title=" " alt="" coords="952,385,1021,398,1020,403,951,390"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="1019,290,1239,323"/>
<area shape="poly" title=" " alt="" coords="932,350,1039,325,1040,330,933,355"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1318,432,1447,466"/>
<area shape="poly" title=" " alt="" coords="1228,429,1302,438,1301,443,1227,435"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="1343,375,1421,409"/>
<area shape="poly" title=" " alt="" coords="1227,407,1327,395,1328,401,1228,412"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1525,432,1627,466"/>
<area shape="poly" title=" " alt="" coords="1447,446,1510,446,1510,452,1447,452"/>
<area shape="poly" title=" " alt="" coords="1239,292,1324,283,1324,288,1240,297"/>
</map>
</div>

</div>
</div>
<a id="ab75bdbde0c1e7b4d0109da0143c96625" name="ab75bdbde0c1e7b4d0109da0143c96625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab75bdbde0c1e7b4d0109da0143c96625">&#9670;&#160;</a></span>rpc_login_setup_acl_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_login_setup_acl_file </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *</td>          <td class="paramname"><span class="paramname"><em>ses</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct uci_section *</td>          <td class="paramname"><span class="paramname"><em>login</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l01015">1015</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1017</span>{</div>
<div class="line"><span class="lineno"> 1018</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#d3/dcb/structblob__buf">blob_buf</a> acl = { 0 };</div>
<div class="line"><span class="lineno"> 1019</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *acl_group, *acl_perm, *acl_scope;</div>
<div class="line"><span class="lineno"> 1020</span>    <span class="keywordtype">int</span> rem, rem2, rem3;</div>
<div class="line"><span class="lineno"> 1021</span> </div>
<div class="line"><span class="lineno"> 1022</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b">blob_buf_init</a>(&amp;acl, 0);</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d5/d7f/blobmsg__json_8c.html#a7f16b1915ac39b6888614f5fcc0661f8">blobmsg_add_json_from_file</a>(&amp;acl, <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>)) {</div>
<div class="line"><span class="lineno"> 1025</span>        fprintf(stderr, <span class="stringliteral">&quot;Failed to parse %s\n&quot;</span>, <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>);</div>
<div class="line"><span class="lineno"> 1026</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 1027</span>    }</div>
<div class="line"><span class="lineno"> 1028</span> </div>
<div class="line"><span class="lineno"> 1029</span>    <span class="comment">/* Iterate access groups in toplevel object */</span></div>
<div class="line"><span class="lineno"> 1030</span>    <a class="code hl_define" href="../../d8/d3c/blob_8h.html#a8fb6ba6961254b03a770851a6b569d28">blob_for_each_attr</a>(acl_group, acl.<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#af6065d74116605108b22c11e75ec669c">head</a>, rem) {</div>
<div class="line"><span class="lineno"> 1031</span>        <span class="comment">/* Iterate permission objects in each access group object */</span></div>
<div class="line"><span class="lineno"> 1032</span>        <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(acl_perm, acl_group, rem2) {</div>
<div class="line"><span class="lineno"> 1033</span>            <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(acl_perm) != <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a32115da5d02a4fba2b0ddad9f3ff82a7">BLOBMSG_TYPE_TABLE</a>)</div>
<div class="line"><span class="lineno"> 1034</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1035</span> </div>
<div class="line"><span class="lineno"> 1036</span>            <span class="comment">/* Only &quot;read&quot; and &quot;write&quot; permissions are defined */</span></div>
<div class="line"><span class="lineno"> 1037</span>            <span class="keywordflow">if</span> (strcmp(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(acl_perm), <span class="stringliteral">&quot;read&quot;</span>) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1038</span>                strcmp(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(acl_perm), <span class="stringliteral">&quot;write&quot;</span>))</div>
<div class="line"><span class="lineno"> 1039</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1040</span> </div>
<div class="line"><span class="lineno"> 1041</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1042</span><span class="comment">             * Check if the current user context specifies the current</span></div>
<div class="line"><span class="lineno"> 1043</span><span class="comment">             * &quot;read&quot; or &quot;write&quot; permission in the given access group.</span></div>
<div class="line"><span class="lineno"> 1044</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno"> 1045</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="#aab66f25622724fa0fb71cf94b5729029">rpc_login_test_permission</a>(login, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(acl_perm),</div>
<div class="line"><span class="lineno"> 1046</span>                                                  <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(acl_group)))</div>
<div class="line"><span class="lineno"> 1047</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1048</span> </div>
<div class="line"><span class="lineno"> 1049</span>            <span class="comment">/* Iterate scope objects within the permission object */</span></div>
<div class="line"><span class="lineno"> 1050</span>            <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(acl_scope, acl_perm, rem3) {</div>
<div class="line"><span class="lineno"> 1051</span>                <span class="comment">/* Setup the scopes of the access group */</span></div>
<div class="line"><span class="lineno"> 1052</span>                <a class="code hl_function" href="#a0b129810ed941702e537e06f2400ad09">rpc_login_setup_acl_scope</a>(ses, acl_perm, acl_scope);</div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1055</span><span class="comment">                 * Add the access group itself as object to the &quot;access-group&quot;</span></div>
<div class="line"><span class="lineno"> 1056</span><span class="comment">                 * meta scope and the the permission level (&quot;read&quot; or &quot;write&quot;)</span></div>
<div class="line"><span class="lineno"> 1057</span><span class="comment">                 * as function, so</span></div>
<div class="line"><span class="lineno"> 1058</span><span class="comment">                 *  &quot;&lt;group&gt;&quot;: {</span></div>
<div class="line"><span class="lineno"> 1059</span><span class="comment">                 *      &quot;&lt;permission&gt;&quot;: {</span></div>
<div class="line"><span class="lineno"> 1060</span><span class="comment">                 *          &quot;&lt;scope&gt;&quot;: ...</span></div>
<div class="line"><span class="lineno"> 1061</span><span class="comment">                 *      }</span></div>
<div class="line"><span class="lineno"> 1062</span><span class="comment">                 *  }</span></div>
<div class="line"><span class="lineno"> 1063</span><span class="comment">                 * becomes</span></div>
<div class="line"><span class="lineno"> 1064</span><span class="comment">                 *  &quot;access-group&quot;: {</span></div>
<div class="line"><span class="lineno"> 1065</span><span class="comment">                 *      &quot;&lt;group&gt;&quot;: [</span></div>
<div class="line"><span class="lineno"> 1066</span><span class="comment">                 *          &quot;&lt;permission&gt;&quot;</span></div>
<div class="line"><span class="lineno"> 1067</span><span class="comment">                 *      ]</span></div>
<div class="line"><span class="lineno"> 1068</span><span class="comment">                 *  }</span></div>
<div class="line"><span class="lineno"> 1069</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno"> 1070</span><span class="comment">                 * This allows session clients to easily query the allowed</span></div>
<div class="line"><span class="lineno"> 1071</span><span class="comment">                 * access groups without having to test access of each single</span></div>
<div class="line"><span class="lineno"> 1072</span><span class="comment">                 * &lt;scope&gt;/&lt;object&gt;/&lt;function&gt; tuple defined in a group.</span></div>
<div class="line"><span class="lineno"> 1073</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno"> 1074</span>                <a class="code hl_function" href="#a8f7993c2572c4099268c121f3fe5eab5">rpc_session_grant</a>(ses, <span class="stringliteral">&quot;access-group&quot;</span>,</div>
<div class="line"><span class="lineno"> 1075</span>                                       <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(acl_group),</div>
<div class="line"><span class="lineno"> 1076</span>                                       <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(acl_perm));</div>
<div class="line"><span class="lineno"> 1077</span>            }</div>
<div class="line"><span class="lineno"> 1078</span>        }</div>
<div class="line"><span class="lineno"> 1079</span>    }</div>
<div class="line"><span class="lineno"> 1080</span> </div>
<div class="line"><span class="lineno"> 1081</span>out:</div>
<div class="line"><span class="lineno"> 1082</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59">blob_buf_free</a>(&amp;acl);</div>
<div class="line"><span class="lineno"> 1083</span>}</div>
<div class="ttc" id="ablob_8c_html_a58d1b624b96aa768608f45d390cc0d59"><div class="ttname"><a href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59">blob_buf_free</a></div><div class="ttdeci">void blob_buf_free(struct blob_buf *buf)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/da0/blob_8c_source.html#l00104">blob.c:104</a></div></div>
<div class="ttc" id="ablob_8h_html_a8fb6ba6961254b03a770851a6b569d28"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#a8fb6ba6961254b03a770851a6b569d28">blob_for_each_attr</a></div><div class="ttdeci">#define blob_for_each_attr(pos, attr, rem)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00251">blob.h:251</a></div></div>
<div class="ttc" id="ablob_8h_html_d3/dcb/structblob__buf"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#d3/dcb/structblob__buf">blob_buf</a></div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00064">blob.h:64</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9a32115da5d02a4fba2b0ddad9f3ff82a7"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a32115da5d02a4fba2b0ddad9f3ff82a7">BLOBMSG_TYPE_TABLE</a></div><div class="ttdeci">@ BLOBMSG_TYPE_TABLE</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00028">blobmsg.h:28</a></div></div>
<div class="ttc" id="ablobmsg__json_8c_html_a7f16b1915ac39b6888614f5fcc0661f8"><div class="ttname"><a href="../../d5/d7f/blobmsg__json_8c.html#a7f16b1915ac39b6888614f5fcc0661f8">blobmsg_add_json_from_file</a></div><div class="ttdeci">bool blobmsg_add_json_from_file(struct blob_buf *b, const char *file)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d7f/blobmsg__json_8c_source.html#l00107">blobmsg_json.c:107</a></div></div>
<div class="ttc" id="asession_8c_html_a0b129810ed941702e537e06f2400ad09"><div class="ttname"><a href="#a0b129810ed941702e537e06f2400ad09">rpc_login_setup_acl_scope</a></div><div class="ttdeci">static void rpc_login_setup_acl_scope(struct rpc_session *ses, struct blob_attr *acl_perm, struct blob_attr *acl_scope)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00958">session.c:958</a></div></div>
<div class="ttc" id="asession_8c_html_aab66f25622724fa0fb71cf94b5729029"><div class="ttname"><a href="#aab66f25622724fa0fb71cf94b5729029">rpc_login_test_permission</a></div><div class="ttdeci">static bool rpc_login_test_permission(struct uci_section *s, const char *perm, const char *group)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00900">session.c:900</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/da0/blob_8c_source.html#l00104">blob_buf_free()</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00091">blob_buf_init()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00251">blob_for_each_attr</a>, <a class="el" href="../../d5/d7f/blobmsg__json_8c_source.html#l00107">blobmsg_add_json_from_file()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00364">blobmsg_for_each_attr</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00062">blobmsg_name()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00028">BLOBMSG_TYPE_TABLE</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00065">blob_buf::head</a>, <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00958">rpc_login_setup_acl_scope()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00900">rpc_login_test_permission()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00405">rpc_session_grant()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01086">rpc_login_setup_acls()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_ab75bdbde0c1e7b4d0109da0143c96625_cgraph.png" border="0" usemap="#ade/d67/session_8c_ab75bdbde0c1e7b4d0109da0143c96625_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_ab75bdbde0c1e7b4d0109da0143c96625_cgraph" id="ade/d67/session_8c_ab75bdbde0c1e7b4d0109da0143c96625_cgraph">
<area shape="rect" title=" " alt="" coords="5,327,244,360"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="359,157,506,191"/>
<area shape="poly" title=" " alt="" coords="138,325,200,263,243,228,291,200,343,182,345,187,293,205,246,233,204,267,142,328"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="363,215,502,248"/>
<area shape="poly" title=" " alt="" coords="153,324,215,290,291,257,347,242,348,247,293,262,217,295,155,328"/>
<area shape="rect" href="../../d5/d7f/blobmsg__json_8c.html#a7f16b1915ac39b6888614f5fcc0661f8" title=" " alt="" coords="292,272,573,306"/>
<area shape="poly" title=" " alt="" coords="223,323,318,306,319,312,224,329"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="645,329,807,363"/>
<area shape="poly" title=" " alt="" coords="244,341,630,343,630,348,244,347"/>
<area shape="rect" href="../../de/d67/session_8c.html#a0b129810ed941702e537e06f2400ad09" title=" " alt="" coords="332,381,533,437"/>
<area shape="poly" title=" " alt="" coords="208,358,317,382,316,387,207,364"/>
<area shape="rect" href="../../de/d67/session_8c.html#a8f7993c2572c4099268c121f3fe5eab5" title=" " alt="" coords="632,587,820,620"/>
<area shape="poly" title=" " alt="" coords="148,359,211,403,251,427,293,446,334,460,369,467,433,471,496,475,533,483,574,497,608,514,641,534,695,574,692,579,638,538,606,518,572,502,531,488,496,480,432,476,369,472,332,465,291,451,248,431,208,408,145,363"/>
<area shape="rect" href="../../de/d67/session_8c.html#aab66f25622724fa0fb71cf94b5729029" title=" " alt="" coords="303,536,562,570"/>
<area shape="poly" title=" " alt="" coords="143,359,206,421,248,458,293,491,329,511,367,527,365,532,327,516,290,495,244,462,202,425,139,363"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="674,131,779,164"/>
<area shape="poly" title=" " alt="" coords="502,217,572,201,668,168,670,173,574,206,503,222"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="636,215,816,248"/>
<area shape="poly" title=" " alt="" coords="502,229,621,229,621,234,502,234"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1156,5,1298,39"/>
<area shape="poly" title=" " alt="" coords="742,128,798,78,837,53,878,33,945,16,1014,8,1081,6,1140,9,1140,14,1081,12,1015,13,946,21,880,38,839,57,802,83,745,132"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="907,48,1062,82"/>
<area shape="poly" title=" " alt="" coords="778,128,914,84,916,89,780,133"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1156,87,1298,120"/>
<area shape="poly" title=" " alt="" coords="779,140,1140,108,1140,114,780,146"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="916,157,1053,191"/>
<area shape="poly" title=" " alt="" coords="780,150,901,163,901,168,779,156"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="935,215,1034,248"/>
<area shape="poly" title=" " alt="" coords="773,162,880,201,920,213,919,218,879,206,771,167"/>
<area shape="poly" title=" " alt="" coords="1062,49,1140,35,1140,40,1063,54"/>
<area shape="poly" title=" " alt="" coords="1063,75,1140,87,1140,92,1062,80"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1156,151,1298,184"/>
<area shape="poly" title=" " alt="" coords="1053,170,1140,167,1140,173,1053,175"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1364,179,1505,212"/>
<area shape="poly" title=" " alt="" coords="1054,184,1138,194,1227,197,1316,194,1348,194,1349,199,1316,199,1227,202,1137,199,1053,189"/>
<area shape="poly" title=" " alt="" coords="1299,174,1349,181,1348,187,1298,180"/>
<area shape="rect" href="../../d5/d7f/blobmsg__json_8c.html#a05a8f001d9418fdd31cf08aad8dd0cca" title=" " alt="" coords="621,272,831,306"/>
<area shape="poly" title=" " alt="" coords="573,286,605,286,605,292,573,292"/>
<area shape="rect" href="../../d5/d7f/blobmsg__json_8c.html#a2ade37d9874e44a8462fb27351e11e22" title=" " alt="" coords="879,272,1090,306"/>
<area shape="poly" title=" " alt="" coords="832,286,863,286,863,292,832,292"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="929,329,1040,363"/>
<area shape="poly" title=" " alt="" coords="808,344,913,344,913,349,808,349"/>
<area shape="poly" title=" " alt="" coords="533,385,629,364,630,369,534,390"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="651,392,802,426"/>
<area shape="poly" title=" " alt="" coords="533,406,635,406,635,412,533,412"/>
<area shape="poly" title=" " alt="" coords="535,434,574,453,613,481,649,513,704,573,700,577,645,517,610,485,572,458,532,439"/>
<area shape="poly" title=" " alt="" coords="798,389,913,361,914,366,799,394"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="894,387,1075,420"/>
<area shape="poly" title=" " alt="" coords="802,405,878,403,878,408,803,410"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="899,444,1070,478"/>
<area shape="poly" title=" " alt="" coords="803,421,884,438,883,443,802,427"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="889,501,1080,535"/>
<area shape="poly" title=" " alt="" coords="756,424,813,456,880,488,897,494,895,499,878,493,810,461,754,428"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="941,559,1028,592"/>
<area shape="poly" title=" " alt="" coords="821,591,926,579,926,584,821,596"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="929,616,1040,650"/>
<area shape="poly" title=" " alt="" coords="821,612,914,622,913,628,821,617"/>
<area shape="rect" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0" title=" " alt="" coords="924,673,1045,707"/>
<area shape="poly" title=" " alt="" coords="770,618,880,660,910,669,908,674,878,665,768,623"/>
<area shape="rect" href="../../de/d67/session_8c.html#a6821acd43665ce9878cf066c08cc5b8e" title=" " alt="" coords="930,731,1039,764"/>
<area shape="poly" title=" " alt="" coords="747,619,804,668,841,694,880,717,916,731,914,736,878,722,838,699,800,672,743,623"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="1143,395,1311,428"/>
<area shape="poly" title=" " alt="" coords="1028,570,1059,562,1088,545,1099,533,1106,520,1111,493,1117,466,1124,451,1136,438,1139,435,1143,439,1140,441,1128,454,1122,467,1117,494,1111,522,1104,536,1091,550,1061,567,1029,575"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="1162,476,1292,510"/>
<area shape="poly" title=" " alt="" coords="1039,624,1065,616,1088,603,1104,583,1111,562,1119,540,1136,519,1146,512,1149,516,1139,523,1123,543,1116,564,1109,586,1091,607,1067,621,1041,629"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="1146,533,1308,567"/>
<area shape="poly" title=" " alt="" coords="1039,617,1089,602,1168,571,1170,576,1091,607,1041,622"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1389,560,1481,594"/>
<area shape="poly" title=" " alt="" coords="1040,623,1373,582,1373,587,1041,629"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="1138,643,1316,676"/>
<area shape="poly" title=" " alt="" coords="1041,636,1122,645,1122,651,1040,642"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="1178,700,1276,734"/>
<area shape="poly" title=" " alt="" coords="1041,642,1091,658,1115,672,1139,686,1164,696,1162,701,1136,691,1112,677,1089,663,1039,647"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="1170,757,1284,791"/>
<area shape="poly" title=" " alt="" coords="1041,637,1067,645,1091,659,1109,680,1116,702,1123,724,1139,744,1157,755,1154,760,1136,748,1118,726,1111,704,1105,683,1088,663,1065,650,1039,642"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="1165,839,1289,872"/>
<area shape="poly" title=" " alt="" coords="1041,635,1068,643,1091,659,1106,677,1114,694,1119,730,1122,765,1128,783,1140,802,1171,829,1168,833,1136,805,1123,785,1117,766,1114,730,1109,696,1102,679,1088,663,1065,648,1039,640"/>
<area shape="poly" title=" " alt="" coords="1189,477,1185,467,1191,457,1205,451,1227,449,1251,452,1264,458,1262,463,1249,457,1227,455,1206,457,1194,461,1191,467,1194,475"/>
<area shape="poly" title=" " alt="" coords="1309,558,1373,566,1373,572,1308,563"/>
<area shape="poly" title=" " alt="" coords="1189,839,1185,829,1191,820,1205,814,1227,812,1251,814,1264,821,1262,826,1249,820,1227,817,1206,819,1194,824,1191,830,1194,837"/>
<area shape="poly" title=" " alt="" coords="380,537,375,527,382,517,402,511,432,509,465,512,484,518,482,523,464,517,432,515,403,517,385,522,380,527,385,534"/>
</map>
</div>

</div>
</div>
<a id="a0b129810ed941702e537e06f2400ad09" name="a0b129810ed941702e537e06f2400ad09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b129810ed941702e537e06f2400ad09">&#9670;&#160;</a></span>rpc_login_setup_acl_scope()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_login_setup_acl_scope </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *</td>          <td class="paramname"><span class="paramname"><em>ses</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>acl_perm</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>acl_scope</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00958">958</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  961</span>{</div>
<div class="line"><span class="lineno">  962</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a45e778edbb6adc829b5d04402b5675a2">acl_obj</a>, *acl_func;</div>
<div class="line"><span class="lineno">  963</span>    <span class="keywordtype">int</span> rem, rem2;</div>
<div class="line"><span class="lineno">  964</span> </div>
<div class="line"><span class="lineno">  965</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  966</span><span class="comment">     * Parse ACL scopes in table notation.</span></div>
<div class="line"><span class="lineno">  967</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">  968</span><span class="comment">     *  &quot;&lt;scope&gt;&quot;: {</span></div>
<div class="line"><span class="lineno">  969</span><span class="comment">     *      &quot;&lt;object&gt;&quot;: [</span></div>
<div class="line"><span class="lineno">  970</span><span class="comment">     *          &quot;&lt;function&gt;&quot;,</span></div>
<div class="line"><span class="lineno">  971</span><span class="comment">     *          &quot;&lt;function&gt;&quot;,</span></div>
<div class="line"><span class="lineno">  972</span><span class="comment">     *          ...</span></div>
<div class="line"><span class="lineno">  973</span><span class="comment">     *      ]</span></div>
<div class="line"><span class="lineno">  974</span><span class="comment">     *  }</span></div>
<div class="line"><span class="lineno">  975</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  976</span>    <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(acl_scope) == <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a32115da5d02a4fba2b0ddad9f3ff82a7">BLOBMSG_TYPE_TABLE</a>) {</div>
<div class="line"><span class="lineno">  977</span>        <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a45e778edbb6adc829b5d04402b5675a2">acl_obj</a>, acl_scope, rem) {</div>
<div class="line"><span class="lineno">  978</span>            <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a45e778edbb6adc829b5d04402b5675a2">acl_obj</a>) != <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a73b081b5b7befc2e98c585c25e9750f2">BLOBMSG_TYPE_ARRAY</a>)</div>
<div class="line"><span class="lineno">  979</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  980</span> </div>
<div class="line"><span class="lineno">  981</span>            <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(acl_func, <a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a45e778edbb6adc829b5d04402b5675a2">acl_obj</a>, rem2) {</div>
<div class="line"><span class="lineno">  982</span>                <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(acl_func) != <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>)</div>
<div class="line"><span class="lineno">  983</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  984</span> </div>
<div class="line"><span class="lineno">  985</span>                <a class="code hl_function" href="#a8f7993c2572c4099268c121f3fe5eab5">rpc_session_grant</a>(ses, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(acl_scope),</div>
<div class="line"><span class="lineno">  986</span>                                       <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a45e778edbb6adc829b5d04402b5675a2">acl_obj</a>),</div>
<div class="line"><span class="lineno">  987</span>                                       <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(acl_func));</div>
<div class="line"><span class="lineno">  988</span>            }</div>
<div class="line"><span class="lineno">  989</span>        }</div>
<div class="line"><span class="lineno">  990</span>    }</div>
<div class="line"><span class="lineno">  991</span> </div>
<div class="line"><span class="lineno">  992</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  993</span><span class="comment">     * Parse ACL scopes in array notation. The permission (&quot;read&quot; or &quot;write&quot;)</span></div>
<div class="line"><span class="lineno">  994</span><span class="comment">     * will be used as function name for each object.</span></div>
<div class="line"><span class="lineno">  995</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">  996</span><span class="comment">     *  &quot;&lt;scope&gt;&quot;: [</span></div>
<div class="line"><span class="lineno">  997</span><span class="comment">     *      &quot;&lt;object&gt;&quot;,</span></div>
<div class="line"><span class="lineno">  998</span><span class="comment">     *      &quot;&lt;object&gt;&quot;,</span></div>
<div class="line"><span class="lineno">  999</span><span class="comment">     *      ...</span></div>
<div class="line"><span class="lineno"> 1000</span><span class="comment">     *  ]</span></div>
<div class="line"><span class="lineno"> 1001</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1002</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(acl_scope) == <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a73b081b5b7befc2e98c585c25e9750f2">BLOBMSG_TYPE_ARRAY</a>) {</div>
<div class="line"><span class="lineno"> 1003</span>        <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a45e778edbb6adc829b5d04402b5675a2">acl_obj</a>, acl_scope, rem) {</div>
<div class="line"><span class="lineno"> 1004</span>            <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a45e778edbb6adc829b5d04402b5675a2">acl_obj</a>) != <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>)</div>
<div class="line"><span class="lineno"> 1005</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>            <a class="code hl_function" href="#a8f7993c2572c4099268c121f3fe5eab5">rpc_session_grant</a>(ses, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(acl_scope),</div>
<div class="line"><span class="lineno"> 1008</span>                                   <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(<a class="code hl_variable" href="../../dd/d84/ubusd__acl_8c.html#a45e778edbb6adc829b5d04402b5675a2">acl_obj</a>),</div>
<div class="line"><span class="lineno"> 1009</span>                                   <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(acl_perm));</div>
<div class="line"><span class="lineno"> 1010</span>        }</div>
<div class="line"><span class="lineno"> 1011</span>    }</div>
<div class="line"><span class="lineno"> 1012</span>}</div>
<div class="ttc" id="aubusd__acl_8c_html_a45e778edbb6adc829b5d04402b5675a2"><div class="ttname"><a href="../../dd/d84/ubusd__acl_8c.html#a45e778edbb6adc829b5d04402b5675a2">acl_obj</a></div><div class="ttdeci">static struct ubus_object * acl_obj</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d84/ubusd__acl_8c_source.html#l00075">ubusd_acl.c:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d84/ubusd__acl_8c_source.html#l00075">acl_obj</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00364">blobmsg_for_each_attr</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00062">blobmsg_name()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00027">BLOBMSG_TYPE_ARRAY</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00029">BLOBMSG_TYPE_STRING</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00028">BLOBMSG_TYPE_TABLE</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00405">rpc_session_grant()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01015">rpc_login_setup_acl_file()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a0b129810ed941702e537e06f2400ad09_cgraph.png" border="0" usemap="#ade/d67/session_8c_a0b129810ed941702e537e06f2400ad09_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a0b129810ed941702e537e06f2400ad09_cgraph" id="ade/d67/session_8c_a0b129810ed941702e537e06f2400ad09_cgraph">
<area shape="rect" title=" " alt="" coords="5,94,207,151"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="273,105,425,139"/>
<area shape="poly" title=" " alt="" coords="207,120,258,120,258,125,207,125"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="268,20,430,54"/>
<area shape="poly" title=" " alt="" coords="188,91,283,57,285,62,190,96"/>
<area shape="rect" href="../../de/d67/session_8c.html#a8f7993c2572c4099268c121f3fe5eab5" title=" " alt="" coords="255,292,443,326"/>
<area shape="poly" title=" " alt="" coords="146,149,315,280,312,285,143,153"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="531,5,642,39"/>
<area shape="poly" title=" " alt="" coords="379,102,430,75,490,48,515,39,517,44,492,53,432,80,381,107"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="496,63,677,96"/>
<area shape="poly" title=" " alt="" coords="425,106,480,96,481,101,426,111"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="501,120,671,154"/>
<area shape="poly" title=" " alt="" coords="425,124,485,128,485,133,425,130"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="491,177,681,211"/>
<area shape="poly" title=" " alt="" coords="406,137,492,164,513,170,511,175,490,169,405,142"/>
<area shape="poly" title=" " alt="" coords="430,29,515,24,515,29,430,34"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="543,235,629,268"/>
<area shape="poly" title=" " alt="" coords="421,289,527,263,529,268,422,294"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="531,292,641,326"/>
<area shape="poly" title=" " alt="" coords="444,306,515,306,515,312,444,312"/>
<area shape="rect" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0" title=" " alt="" coords="526,349,647,383"/>
<area shape="poly" title=" " alt="" coords="422,324,511,345,510,351,421,329"/>
<area shape="rect" href="../../de/d67/session_8c.html#a6821acd43665ce9878cf066c08cc5b8e" title=" " alt="" coords="532,407,640,440"/>
<area shape="poly" title=" " alt="" coords="375,324,428,358,492,393,518,403,516,408,490,398,425,363,373,328"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="734,55,903,88"/>
<area shape="poly" title=" " alt="" coords="629,245,656,236,680,221,692,207,699,192,703,161,707,130,714,113,727,98,730,95,734,99,731,101,719,116,712,131,708,162,704,194,696,210,683,226,658,241,631,250"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="753,332,884,366"/>
<area shape="poly" title=" " alt="" coords="642,316,739,332,738,338,641,321"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="737,441,900,475"/>
<area shape="poly" title=" " alt="" coords="643,315,664,323,683,335,701,356,708,378,715,399,731,420,747,432,744,436,727,424,710,402,703,380,696,359,680,339,661,328,641,320"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="992,441,1084,475"/>
<area shape="poly" title=" " alt="" coords="643,318,683,334,698,345,707,356,717,366,730,376,831,405,977,441,976,447,829,411,728,381,713,370,703,359,694,349,680,339,641,323"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="729,499,908,532"/>
<area shape="poly" title=" " alt="" coords="643,313,664,322,683,335,698,354,706,374,708,412,711,449,717,467,731,486,733,487,729,491,727,489,713,470,705,450,703,412,700,375,693,357,679,339,662,326,641,318"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="769,112,868,146"/>
<area shape="poly" title=" " alt="" coords="641,299,662,291,680,279,692,264,699,249,703,219,707,187,714,171,728,155,754,139,756,143,731,159,719,174,712,188,708,219,704,251,696,267,683,283,664,296,643,304"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="761,169,876,203"/>
<area shape="poly" title=" " alt="" coords="641,297,680,279,695,263,703,246,711,229,728,212,746,202,748,206,731,216,716,232,708,249,699,266,683,283,643,302"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="757,251,880,284"/>
<area shape="poly" title=" " alt="" coords="641,296,741,279,742,284,642,302"/>
<area shape="poly" title=" " alt="" coords="779,333,775,323,781,313,795,307,819,305,843,308,857,314,855,319,842,313,818,311,797,313,784,317,780,323,784,331"/>
<area shape="poly" title=" " alt="" coords="900,456,976,456,976,461,900,461"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1168,469,1269,503"/>
<area shape="poly" title=" " alt="" coords="1085,463,1153,473,1152,479,1084,468"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="973,499,1103,532"/>
<area shape="poly" title=" " alt="" coords="908,513,958,513,958,518,908,518"/>
<area shape="poly" title=" " alt="" coords="1103,502,1152,494,1153,499,1103,508"/>
<area shape="poly" title=" " alt="" coords="779,251,775,241,781,232,795,226,819,224,843,226,857,233,855,238,842,232,818,229,797,231,784,236,780,242,784,249"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="963,223,1113,256"/>
<area shape="poly" title=" " alt="" coords="880,257,948,248,948,254,881,262"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="956,280,1120,314"/>
<area shape="poly" title=" " alt="" coords="881,273,940,281,939,286,880,278"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1170,280,1267,314"/>
<area shape="poly" title=" " alt="" coords="1094,254,1156,274,1154,279,1092,259"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1173,223,1265,256"/>
<area shape="poly" title=" " alt="" coords="1113,237,1157,237,1157,242,1113,242"/>
<area shape="poly" title=" " alt="" coords="1120,294,1155,294,1155,300,1120,300"/>
<area shape="poly" title=" " alt="" coords="1092,277,1157,256,1159,261,1094,282"/>
</map>
</div>

</div>
</div>
<a id="a856c2fef68fa28c9590680e1f3f473eb" name="a856c2fef68fa28c9590680e1f3f473eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a856c2fef68fa28c9590680e1f3f473eb">&#9670;&#160;</a></span>rpc_login_setup_acls()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_login_setup_acls </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *</td>          <td class="paramname"><span class="paramname"><em>ses</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct uci_section *</td>          <td class="paramname"><span class="paramname"><em>login</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l01086">1086</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1087</span>{</div>
<div class="line"><span class="lineno"> 1088</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 1089</span>    glob_t gl;</div>
<div class="line"><span class="lineno"> 1090</span> </div>
<div class="line"><span class="lineno"> 1091</span>    <span class="keywordflow">if</span> (glob(<a class="code hl_define" href="../../da/d46/session_8h.html#a4bb5c0c2474ae529c6d3ef7dea224543">RPC_SESSION_ACL_DIR</a> <span class="stringliteral">&quot;/*.json&quot;</span>, 0, NULL, &amp;gl))</div>
<div class="line"><span class="lineno"> 1092</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span>    <span class="keywordflow">for</span> (i = 0; i &lt; gl.gl_pathc; i++)</div>
<div class="line"><span class="lineno"> 1095</span>        <a class="code hl_function" href="#ab75bdbde0c1e7b4d0109da0143c96625">rpc_login_setup_acl_file</a>(ses, login, gl.gl_pathv[i]);</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span>    globfree(&amp;gl);</div>
<div class="line"><span class="lineno"> 1098</span>}</div>
<div class="ttc" id="asession_8c_html_ab75bdbde0c1e7b4d0109da0143c96625"><div class="ttname"><a href="#ab75bdbde0c1e7b4d0109da0143c96625">rpc_login_setup_acl_file</a></div><div class="ttdeci">static void rpc_login_setup_acl_file(struct rpc_session *ses, struct uci_section *login, const char *path)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l01015">session.c:1015</a></div></div>
<div class="ttc" id="asession_8h_html_a4bb5c0c2474ae529c6d3ef7dea224543"><div class="ttname"><a href="../../da/d46/session_8h.html#a4bb5c0c2474ae529c6d3ef7dea224543">RPC_SESSION_ACL_DIR</a></div><div class="ttdeci">#define RPC_SESSION_ACL_DIR</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00037">session.h:37</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l01015">rpc_login_setup_acl_file()</a>, and <a class="el" href="../../da/d46/session_8h_source.html#l00037">RPC_SESSION_ACL_DIR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01126">rpc_handle_login()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01276">rpc_session_from_blob()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a856c2fef68fa28c9590680e1f3f473eb_cgraph.png" border="0" usemap="#ade/d67/session_8c_a856c2fef68fa28c9590680e1f3f473eb_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a856c2fef68fa28c9590680e1f3f473eb_cgraph" id="ade/d67/session_8c_a856c2fef68fa28c9590680e1f3f473eb_cgraph">
<area shape="rect" title=" " alt="" coords="5,325,217,359"/>
<area shape="rect" href="../../de/d67/session_8c.html#ab75bdbde0c1e7b4d0109da0143c96625" title=" " alt="" coords="265,325,503,359"/>
<area shape="poly" title=" " alt="" coords="217,340,249,340,249,345,217,345"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a58d1b624b96aa768608f45d390cc0d59" title=" " alt="" coords="619,156,765,190"/>
<area shape="poly" title=" " alt="" coords="398,323,459,261,502,227,550,198,602,181,604,186,552,203,505,231,463,265,402,327"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="622,213,761,247"/>
<area shape="poly" title=" " alt="" coords="412,322,474,289,550,256,606,241,608,246,552,261,477,293,415,327"/>
<area shape="rect" href="../../d5/d7f/blobmsg__json_8c.html#a7f16b1915ac39b6888614f5fcc0661f8" title=" " alt="" coords="551,271,832,304"/>
<area shape="poly" title=" " alt="" coords="482,322,578,305,579,310,483,327"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="904,328,1067,362"/>
<area shape="poly" title=" " alt="" coords="504,340,889,342,889,347,503,345"/>
<area shape="rect" href="../../de/d67/session_8c.html#a0b129810ed941702e537e06f2400ad09" title=" " alt="" coords="591,379,792,436"/>
<area shape="poly" title=" " alt="" coords="467,357,576,380,575,386,466,362"/>
<area shape="rect" href="../../de/d67/session_8c.html#a8f7993c2572c4099268c121f3fe5eab5" title=" " alt="" coords="891,585,1080,619"/>
<area shape="poly" title=" " alt="" coords="408,357,470,402,510,425,552,445,593,458,629,465,692,469,756,474,792,481,833,496,868,512,901,532,955,573,952,577,898,537,865,517,831,501,791,487,755,479,692,475,628,471,592,464,550,450,508,430,467,406,405,362"/>
<area shape="rect" href="../../de/d67/session_8c.html#aab66f25622724fa0fb71cf94b5729029" title=" " alt="" coords="562,535,821,568"/>
<area shape="poly" title=" " alt="" coords="403,357,465,420,507,456,552,489,589,509,626,526,624,531,586,514,550,494,504,461,461,424,399,361"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="933,129,1038,163"/>
<area shape="poly" title=" " alt="" coords="761,216,832,200,927,167,929,172,833,205,762,221"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="895,213,1076,247"/>
<area shape="poly" title=" " alt="" coords="762,228,880,228,880,233,762,233"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1415,5,1557,39"/>
<area shape="poly" title=" " alt="" coords="1001,127,1058,77,1096,51,1138,32,1205,15,1274,7,1340,6,1400,9,1399,14,1340,11,1274,12,1206,20,1140,37,1099,56,1061,81,1005,131"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1166,47,1322,80"/>
<area shape="poly" title=" " alt="" coords="1038,127,1173,83,1175,88,1039,132"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1415,75,1557,108"/>
<area shape="poly" title=" " alt="" coords="1038,138,1399,98,1400,104,1039,143"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1176,156,1312,190"/>
<area shape="poly" title=" " alt="" coords="1039,149,1161,162,1160,167,1038,154"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1194,213,1294,247"/>
<area shape="poly" title=" " alt="" coords="1032,161,1139,200,1180,211,1178,217,1138,205,1030,166"/>
<area shape="poly" title=" " alt="" coords="1321,48,1399,34,1400,40,1322,53"/>
<area shape="poly" title=" " alt="" coords="1322,70,1400,79,1399,84,1321,75"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1415,156,1557,190"/>
<area shape="poly" title=" " alt="" coords="1313,170,1400,170,1400,176,1313,176"/>
<area shape="rect" href="../../d5/d7f/blobmsg__json_8c.html#a05a8f001d9418fdd31cf08aad8dd0cca" title=" " alt="" coords="880,271,1091,304"/>
<area shape="poly" title=" " alt="" coords="833,285,865,285,865,290,833,290"/>
<area shape="rect" href="../../d5/d7f/blobmsg__json_8c.html#a2ade37d9874e44a8462fb27351e11e22" title=" " alt="" coords="1139,271,1349,304"/>
<area shape="poly" title=" " alt="" coords="1091,285,1123,285,1123,290,1091,290"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1188,328,1300,362"/>
<area shape="poly" title=" " alt="" coords="1067,342,1173,342,1173,348,1067,348"/>
<area shape="poly" title=" " alt="" coords="792,383,888,363,890,368,793,389"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="910,391,1061,424"/>
<area shape="poly" title=" " alt="" coords="793,405,894,405,894,410,793,410"/>
<area shape="poly" title=" " alt="" coords="794,432,834,452,873,480,908,512,964,572,960,575,905,515,869,484,831,456,792,437"/>
<area shape="poly" title=" " alt="" coords="1057,387,1172,359,1174,364,1059,393"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1153,385,1335,419"/>
<area shape="poly" title=" " alt="" coords="1062,403,1137,402,1137,407,1062,409"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1159,443,1329,476"/>
<area shape="poly" title=" " alt="" coords="1062,420,1144,437,1143,442,1061,425"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1149,500,1339,534"/>
<area shape="poly" title=" " alt="" coords="1016,422,1072,454,1140,486,1156,492,1155,497,1138,491,1069,459,1013,427"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="1201,557,1287,591"/>
<area shape="poly" title=" " alt="" coords="1080,589,1185,578,1185,583,1081,595"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="1189,615,1299,648"/>
<area shape="poly" title=" " alt="" coords="1081,610,1173,621,1173,626,1080,616"/>
<area shape="rect" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0" title=" " alt="" coords="1183,672,1305,706"/>
<area shape="poly" title=" " alt="" coords="1029,617,1140,658,1169,667,1168,672,1138,663,1027,622"/>
<area shape="rect" href="../../de/d67/session_8c.html#a6821acd43665ce9878cf066c08cc5b8e" title=" " alt="" coords="1190,729,1298,763"/>
<area shape="poly" title=" " alt="" coords="1006,617,1063,666,1100,693,1140,716,1175,729,1174,734,1138,721,1097,697,1060,670,1003,621"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="1402,393,1570,427"/>
<area shape="poly" title=" " alt="" coords="1287,569,1319,560,1347,544,1359,532,1365,519,1371,492,1376,464,1383,450,1395,436,1398,433,1402,438,1399,440,1388,453,1381,466,1376,493,1370,521,1363,535,1351,548,1321,565,1288,574"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="1421,475,1551,508"/>
<area shape="poly" title=" " alt="" coords="1299,623,1324,614,1347,601,1364,582,1371,561,1378,539,1395,518,1406,510,1409,515,1399,521,1383,542,1376,563,1368,584,1351,606,1326,619,1300,628"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="1405,532,1567,566"/>
<area shape="poly" title=" " alt="" coords="1299,616,1348,601,1427,570,1429,575,1350,606,1300,621"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1623,560,1716,594"/>
<area shape="poly" title=" " alt="" coords="1299,622,1608,582,1608,587,1300,627"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="1397,641,1575,675"/>
<area shape="poly" title=" " alt="" coords="1300,635,1382,644,1381,649,1299,640"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="1437,699,1535,732"/>
<area shape="poly" title=" " alt="" coords="1300,641,1350,657,1374,671,1398,685,1423,695,1421,700,1396,690,1372,676,1348,662,1299,646"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="1429,756,1543,790"/>
<area shape="poly" title=" " alt="" coords="1300,635,1326,644,1351,657,1369,679,1376,701,1382,722,1399,743,1416,754,1413,758,1395,747,1378,725,1371,703,1364,682,1347,662,1324,648,1299,640"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="1425,837,1548,871"/>
<area shape="poly" title=" " alt="" coords="1300,633,1327,642,1351,658,1366,675,1374,693,1378,728,1381,764,1387,782,1399,800,1431,827,1427,831,1395,804,1382,784,1376,765,1373,729,1369,695,1361,678,1347,661,1325,647,1298,638"/>
<area shape="poly" title=" " alt="" coords="1453,475,1449,465,1454,456,1467,450,1486,448,1507,451,1519,457,1517,462,1506,456,1486,453,1468,455,1458,460,1454,466,1458,473"/>
<area shape="poly" title=" " alt="" coords="1568,559,1608,565,1607,570,1567,564"/>
<area shape="poly" title=" " alt="" coords="1453,838,1449,828,1454,819,1467,813,1486,811,1507,813,1519,820,1517,824,1506,818,1486,816,1468,818,1458,823,1454,828,1458,836"/>
<area shape="poly" title=" " alt="" coords="640,536,634,525,642,516,661,510,692,508,725,510,743,517,742,522,724,516,692,513,662,515,645,520,639,526,644,533"/>
</map>
</div>

</div>
</div>
<a id="a479fcd3fc3d6fd7fdfe9a1cdd6ed2805" name="a479fcd3fc3d6fd7fdfe9a1cdd6ed2805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a479fcd3fc3d6fd7fdfe9a1cdd6ed2805">&#9670;&#160;</a></span>rpc_login_test_login()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct uci_section * rpc_login_test_login </td>
          <td>(</td>
          <td class="paramtype">struct uci_context *</td>          <td class="paramname"><span class="paramname"><em>uci</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>username</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>password</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00829">829</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  831</span>{</div>
<div class="line"><span class="lineno">  832</span>    <span class="keyword">struct </span>uci_package *p = NULL;</div>
<div class="line"><span class="lineno">  833</span>    <span class="keyword">struct </span>uci_section *s;</div>
<div class="line"><span class="lineno">  834</span>    <span class="keyword">struct </span>uci_element *e;</div>
<div class="line"><span class="lineno">  835</span>    <span class="keyword">struct </span>uci_ptr ptr = { .package = <span class="stringliteral">&quot;rpcd&quot;</span> };</div>
<div class="line"><span class="lineno">  836</span> </div>
<div class="line"><span class="lineno">  837</span>    <span class="keywordflow">if</span> (!uci_lookup_ptr(uci, &amp;ptr, NULL, <span class="keyword">false</span>) &amp;&amp; ptr.p) {</div>
<div class="line"><span class="lineno">  838</span>        uci_unload(uci, ptr.p);</div>
<div class="line"><span class="lineno">  839</span>        ptr.flags = 0;</div>
<div class="line"><span class="lineno">  840</span>        ptr.p = NULL;</div>
<div class="line"><span class="lineno">  841</span>    }</div>
<div class="line"><span class="lineno">  842</span> </div>
<div class="line"><span class="lineno">  843</span>    uci_load(uci, ptr.package, &amp;p);</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>    <span class="keywordflow">if</span> (!p)</div>
<div class="line"><span class="lineno">  846</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  847</span> </div>
<div class="line"><span class="lineno">  848</span>    uci_foreach_element(&amp;p-&gt;sections, e)</div>
<div class="line"><span class="lineno">  849</span>    {</div>
<div class="line"><span class="lineno">  850</span>        s = uci_to_section(e);</div>
<div class="line"><span class="lineno">  851</span> </div>
<div class="line"><span class="lineno">  852</span>        <span class="keywordflow">if</span> (strcmp(s-&gt;type, <span class="stringliteral">&quot;login&quot;</span>))</div>
<div class="line"><span class="lineno">  853</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>        ptr.section = s-&gt;e.name;</div>
<div class="line"><span class="lineno">  856</span>        ptr.s = NULL;</div>
<div class="line"><span class="lineno">  857</span> </div>
<div class="line"><span class="lineno">  858</span>        <span class="comment">/* test for matching username */</span></div>
<div class="line"><span class="lineno">  859</span>        ptr.option = <span class="stringliteral">&quot;username&quot;</span>;</div>
<div class="line"><span class="lineno">  860</span>        ptr.o = NULL;</div>
<div class="line"><span class="lineno">  861</span> </div>
<div class="line"><span class="lineno">  862</span>        <span class="keywordflow">if</span> (uci_lookup_ptr(uci, &amp;ptr, NULL, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno">  863</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  864</span> </div>
<div class="line"><span class="lineno">  865</span>        <span class="keywordflow">if</span> (!ptr.o)</div>
<div class="line"><span class="lineno">  866</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  867</span> </div>
<div class="line"><span class="lineno">  868</span>        <span class="keywordflow">if</span> (ptr.o-&gt;type != UCI_TYPE_STRING)</div>
<div class="line"><span class="lineno">  869</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  870</span> </div>
<div class="line"><span class="lineno">  871</span>        <span class="keywordflow">if</span> (strcmp(ptr.o-&gt;v.string, username))</div>
<div class="line"><span class="lineno">  872</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>        <span class="comment">/* If password is NULL, we&#39;re restoring ACLs for an existing session,</span></div>
<div class="line"><span class="lineno">  875</span><span class="comment">         * in this case do not check the password again. */</span></div>
<div class="line"><span class="lineno">  876</span>        <span class="keywordflow">if</span> (!password)</div>
<div class="line"><span class="lineno">  877</span>            <span class="keywordflow">return</span> ptr.s;</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span>        <span class="comment">/* test for matching password */</span></div>
<div class="line"><span class="lineno">  880</span>        ptr.option = <span class="stringliteral">&quot;password&quot;</span>;</div>
<div class="line"><span class="lineno">  881</span>        ptr.o = NULL;</div>
<div class="line"><span class="lineno">  882</span> </div>
<div class="line"><span class="lineno">  883</span>        <span class="keywordflow">if</span> (uci_lookup_ptr(uci, &amp;ptr, NULL, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno">  884</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  885</span> </div>
<div class="line"><span class="lineno">  886</span>        <span class="keywordflow">if</span> (!ptr.o)</div>
<div class="line"><span class="lineno">  887</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  888</span> </div>
<div class="line"><span class="lineno">  889</span>        <span class="keywordflow">if</span> (ptr.o-&gt;type != UCI_TYPE_STRING)</div>
<div class="line"><span class="lineno">  890</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  891</span> </div>
<div class="line"><span class="lineno">  892</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="#a283fa7ba72f3f3c18d80b4e76a0dd45e">rpc_login_test_password</a>(ptr.o-&gt;v.string, password))</div>
<div class="line"><span class="lineno">  893</span>            <span class="keywordflow">return</span> ptr.s;</div>
<div class="line"><span class="lineno">  894</span>    }</div>
<div class="line"><span class="lineno">  895</span> </div>
<div class="line"><span class="lineno">  896</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  897</span>}</div>
<div class="ttc" id="asession_8c_html_a283fa7ba72f3f3c18d80b4e76a0dd45e"><div class="ttname"><a href="#a283fa7ba72f3f3c18d80b4e76a0dd45e">rpc_login_test_password</a></div><div class="ttdeci">static bool rpc_login_test_password(const char *hash, const char *password)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00793">session.c:793</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00793">rpc_login_test_password()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01126">rpc_handle_login()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01276">rpc_session_from_blob()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a479fcd3fc3d6fd7fdfe9a1cdd6ed2805_cgraph.png" border="0" usemap="#ade/d67/session_8c_a479fcd3fc3d6fd7fdfe9a1cdd6ed2805_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a479fcd3fc3d6fd7fdfe9a1cdd6ed2805_cgraph" id="ade/d67/session_8c_a479fcd3fc3d6fd7fdfe9a1cdd6ed2805_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,209,63"/>
<area shape="rect" href="../../de/d67/session_8c.html#a283fa7ba72f3f3c18d80b4e76a0dd45e" title=" " alt="" coords="257,29,503,63"/>
<area shape="poly" title=" " alt="" coords="209,44,241,44,241,49,209,49"/>
<area shape="poly" title=" " alt="" coords="331,30,326,20,333,10,351,5,380,3,411,5,428,11,426,16,409,10,380,8,352,10,336,15,331,20,336,28"/>
</map>
</div>

</div>
</div>
<a id="a283fa7ba72f3f3c18d80b4e76a0dd45e" name="a283fa7ba72f3f3c18d80b4e76a0dd45e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a283fa7ba72f3f3c18d80b4e76a0dd45e">&#9670;&#160;</a></span>rpc_login_test_password()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool rpc_login_test_password </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>hash</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>password</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00793">793</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  794</span>{</div>
<div class="line"><span class="lineno">  795</span>    <span class="keywordtype">char</span> *crypt_hash;</div>
<div class="line"><span class="lineno">  796</span> </div>
<div class="line"><span class="lineno">  797</span>    <span class="comment">/* password is not set */</span></div>
<div class="line"><span class="lineno">  798</span>    <span class="keywordflow">if</span> (!hash || !*hash)</div>
<div class="line"><span class="lineno">  799</span>    {</div>
<div class="line"><span class="lineno">  800</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  801</span>    }</div>
<div class="line"><span class="lineno">  802</span> </div>
<div class="line"><span class="lineno">  803</span>    <span class="comment">/* password hash refers to shadow/passwd */</span></div>
<div class="line"><span class="lineno">  804</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncmp(hash, <span class="stringliteral">&quot;$p$&quot;</span>, 3))</div>
<div class="line"><span class="lineno">  805</span>    {</div>
<div class="line"><span class="lineno">  806</span><span class="preprocessor">#ifdef HAVE_SHADOW</span></div>
<div class="line"><span class="lineno">  807</span>        <span class="keyword">struct </span>spwd *sp = getspnam(hash + 3);</div>
<div class="line"><span class="lineno">  808</span> </div>
<div class="line"><span class="lineno">  809</span>        <span class="keywordflow">if</span> (!sp)</div>
<div class="line"><span class="lineno">  810</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a283fa7ba72f3f3c18d80b4e76a0dd45e">rpc_login_test_password</a>(sp-&gt;sp_pwdp, password);</div>
<div class="line"><span class="lineno">  813</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  814</span>        <span class="keyword">struct </span>passwd *pw = getpwnam(hash + 3);</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>        <span class="keywordflow">if</span> (!pw)</div>
<div class="line"><span class="lineno">  817</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  818</span> </div>
<div class="line"><span class="lineno">  819</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a283fa7ba72f3f3c18d80b4e76a0dd45e">rpc_login_test_password</a>(pw-&gt;pw_passwd, password);</div>
<div class="line"><span class="lineno">  820</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  821</span>    }</div>
<div class="line"><span class="lineno">  822</span> </div>
<div class="line"><span class="lineno">  823</span>    crypt_hash = crypt(password, hash);</div>
<div class="line"><span class="lineno">  824</span> </div>
<div class="line"><span class="lineno">  825</span>    <span class="keywordflow">return</span> (crypt_hash &amp;&amp; !strcmp(crypt_hash, hash));</div>
<div class="line"><span class="lineno">  826</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00793">rpc_login_test_password()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00829">rpc_login_test_login()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00793">rpc_login_test_password()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a283fa7ba72f3f3c18d80b4e76a0dd45e_cgraph.png" border="0" usemap="#ade/d67/session_8c_a283fa7ba72f3f3c18d80b4e76a0dd45e_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a283fa7ba72f3f3c18d80b4e76a0dd45e_cgraph" id="ade/d67/session_8c_a283fa7ba72f3f3c18d80b4e76a0dd45e_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,252,63"/>
<area shape="poly" title=" " alt="" coords="84,30,80,20,86,11,103,5,129,3,156,5,172,11,170,16,155,10,128,8,104,10,89,15,85,20,89,28"/>
</map>
</div>

</div>
</div>
<a id="aab66f25622724fa0fb71cf94b5729029" name="aab66f25622724fa0fb71cf94b5729029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab66f25622724fa0fb71cf94b5729029">&#9670;&#160;</a></span>rpc_login_test_permission()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool rpc_login_test_permission </td>
          <td>(</td>
          <td class="paramtype">struct uci_section *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>perm</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>group</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00900">900</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  902</span>{</div>
<div class="line"><span class="lineno">  903</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno">  904</span>    <span class="keyword">struct </span>uci_option *o;</div>
<div class="line"><span class="lineno">  905</span>    <span class="keyword">struct </span>uci_element *e, *l;</div>
<div class="line"><span class="lineno">  906</span> </div>
<div class="line"><span class="lineno">  907</span>    <span class="comment">/* If the login section is not provided, we&#39;re setting up acls for the</span></div>
<div class="line"><span class="lineno">  908</span><span class="comment">     * default session, in this case uncondionally allow access to the</span></div>
<div class="line"><span class="lineno">  909</span><span class="comment">     * &quot;unauthenticated&quot; access group */</span></div>
<div class="line"><span class="lineno">  910</span>    <span class="keywordflow">if</span> (!s) {</div>
<div class="line"><span class="lineno">  911</span>        <span class="keywordflow">return</span> !strcmp(group, <span class="stringliteral">&quot;unauthenticated&quot;</span>);</div>
<div class="line"><span class="lineno">  912</span>    }</div>
<div class="line"><span class="lineno">  913</span> </div>
<div class="line"><span class="lineno">  914</span>    uci_foreach_element(&amp;s-&gt;options, e)</div>
<div class="line"><span class="lineno">  915</span>    {</div>
<div class="line"><span class="lineno">  916</span>        o = uci_to_option(e);</div>
<div class="line"><span class="lineno">  917</span> </div>
<div class="line"><span class="lineno">  918</span>        <span class="keywordflow">if</span> (o-&gt;type != UCI_TYPE_LIST)</div>
<div class="line"><span class="lineno">  919</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  920</span> </div>
<div class="line"><span class="lineno">  921</span>        <span class="keywordflow">if</span> (strcmp(o-&gt;e.name, perm))</div>
<div class="line"><span class="lineno">  922</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  923</span> </div>
<div class="line"><span class="lineno">  924</span>        <span class="comment">/* Match negative expressions first. If a negative expression matches</span></div>
<div class="line"><span class="lineno">  925</span><span class="comment">         * the current group name then deny access. */</span></div>
<div class="line"><span class="lineno">  926</span>        uci_foreach_element(&amp;o-&gt;v.list, l) {</div>
<div class="line"><span class="lineno">  927</span>            p = l-&gt;name;</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>            <span class="keywordflow">if</span> (!p || *p != <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><span class="lineno">  930</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>            <span class="keywordflow">while</span> (isspace(*++p));</div>
<div class="line"><span class="lineno">  933</span> </div>
<div class="line"><span class="lineno">  934</span>            <span class="keywordflow">if</span> (!*p)</div>
<div class="line"><span class="lineno">  935</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  936</span> </div>
<div class="line"><span class="lineno">  937</span>            <span class="keywordflow">if</span> (!fnmatch(p, group, 0))</div>
<div class="line"><span class="lineno">  938</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  939</span>        }</div>
<div class="line"><span class="lineno">  940</span> </div>
<div class="line"><span class="lineno">  941</span>        uci_foreach_element(&amp;o-&gt;v.list, l) {</div>
<div class="line"><span class="lineno">  942</span>            <span class="keywordflow">if</span> (!l-&gt;name || !*l-&gt;name || *l-&gt;name == <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><span class="lineno">  943</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  944</span> </div>
<div class="line"><span class="lineno">  945</span>            <span class="keywordflow">if</span> (!fnmatch(l-&gt;name, group, 0))</div>
<div class="line"><span class="lineno">  946</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  947</span>        }</div>
<div class="line"><span class="lineno">  948</span>    }</div>
<div class="line"><span class="lineno">  949</span> </div>
<div class="line"><span class="lineno">  950</span>    <span class="comment">/* make sure that write permission implies read permission */</span></div>
<div class="line"><span class="lineno">  951</span>    <span class="keywordflow">if</span> (!strcmp(perm, <span class="stringliteral">&quot;read&quot;</span>))</div>
<div class="line"><span class="lineno">  952</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#aab66f25622724fa0fb71cf94b5729029">rpc_login_test_permission</a>(s, <span class="stringliteral">&quot;write&quot;</span>, group);</div>
<div class="line"><span class="lineno">  953</span> </div>
<div class="line"><span class="lineno">  954</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  955</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00900">rpc_login_test_permission()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01015">rpc_login_setup_acl_file()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00900">rpc_login_test_permission()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_aab66f25622724fa0fb71cf94b5729029_cgraph.png" border="0" usemap="#ade/d67/session_8c_aab66f25622724fa0fb71cf94b5729029_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_aab66f25622724fa0fb71cf94b5729029_cgraph" id="ade/d67/session_8c_aab66f25622724fa0fb71cf94b5729029_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,265,63"/>
<area shape="poly" title=" " alt="" coords="89,30,84,20,91,11,108,5,135,3,164,5,181,11,179,16,163,10,135,8,109,10,94,15,89,20,93,28"/>
</map>
</div>

</div>
</div>
<a id="adb30923ed65e01b2047d9d2034a1b15d" name="adb30923ed65e01b2047d9d2034a1b15d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb30923ed65e01b2047d9d2034a1b15d">&#9670;&#160;</a></span>rpc_random()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_random </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>dest</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00150">150</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  151</span>{</div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>[16] = { 0 };</div>
<div class="line"><span class="lineno">  153</span>    FILE *f;</div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>    f = fopen(<span class="stringliteral">&quot;/dev/urandom&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">if</span> (!f)</div>
<div class="line"><span class="lineno">  159</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    ret = fread(<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, 1, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>), f);</div>
<div class="line"><span class="lineno">  162</span>    fclose(f);</div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">for</span> (i = 0; i &lt; <span class="keyword">sizeof</span>(<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>); i++)</div>
<div class="line"><span class="lineno">  168</span>        sprintf(dest + (i&lt;&lt;1), <span class="stringliteral">&quot;%02x&quot;</span>, <a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>[i]);</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  171</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00038">buf</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00315">rpc_session_create()</a>.</p>

</div>
</div>
<a id="a5212206c8369e1679e9922411314cfb1" name="a5212206c8369e1679e9922411314cfb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5212206c8369e1679e9922411314cfb1">&#9670;&#160;</a></span>rpc_reclaim_apply_session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> * rpc_reclaim_apply_session </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>expected_username</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l01101">1101</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1102</span>{</div>
<div class="line"><span class="lineno"> 1103</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#db/dfa/structrpc__session__data">rpc_session_data</a> *username;</div>
<div class="line"><span class="lineno"> 1104</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno"> 1105</span> </div>
<div class="line"><span class="lineno"> 1106</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../da/d46/session_8h.html#aebf970f401cc066199050c251169c6b7">apply_sid</a>[0])</div>
<div class="line"><span class="lineno"> 1107</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1108</span> </div>
<div class="line"><span class="lineno"> 1109</span>    ses = <a class="code hl_function" href="#a537c67da2d6dac42f8bda20e0b888f5a">rpc_session_get</a>(<a class="code hl_variable" href="../../da/d46/session_8h.html#aebf970f401cc066199050c251169c6b7">apply_sid</a>);</div>
<div class="line"><span class="lineno"> 1110</span> </div>
<div class="line"><span class="lineno"> 1111</span>    <span class="keywordflow">if</span> (!ses)</div>
<div class="line"><span class="lineno"> 1112</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1113</span> </div>
<div class="line"><span class="lineno"> 1114</span>    username = <a class="code hl_define" href="../../d3/d51/avl_8h.html#a65bfca92c030dd0ea5548f23de5fc07e">avl_find_element</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aeeb121d2bac9ac1a4c3c7fe3d2a312a7">data</a>, <span class="stringliteral">&quot;username&quot;</span>, username, <a class="code hl_variable" href="../../da/d46/session_8h.html#a1c0637409779a09f9608ea4862060536">avl</a>);</div>
<div class="line"><span class="lineno"> 1115</span> </div>
<div class="line"><span class="lineno"> 1116</span>    <span class="keywordflow">if</span> (!username || <a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(username-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#af61cae6edb31f71b2baf68f0b77ada5e">attr</a>) != <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>)</div>
<div class="line"><span class="lineno"> 1117</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1118</span> </div>
<div class="line"><span class="lineno"> 1119</span>    <span class="keywordflow">if</span> (strcmp(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603">blobmsg_get_string</a>(username-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#af61cae6edb31f71b2baf68f0b77ada5e">attr</a>), expected_username))</div>
<div class="line"><span class="lineno"> 1120</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1121</span> </div>
<div class="line"><span class="lineno"> 1122</span>    <span class="keywordflow">return</span> ses;</div>
<div class="line"><span class="lineno"> 1123</span>}</div>
<div class="ttc" id="asession_8h_html_a1c0637409779a09f9608ea4862060536"><div class="ttname"><a href="../../da/d46/session_8h.html#a1c0637409779a09f9608ea4862060536">rpc_session::avl</a></div><div class="ttdeci">struct avl_node avl</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00042">session.h:42</a></div></div>
<div class="ttc" id="asession_8h_html_aebf970f401cc066199050c251169c6b7"><div class="ttname"><a href="../../da/d46/session_8h.html#aebf970f401cc066199050c251169c6b7">apply_sid</a></div><div class="ttdeci">char apply_sid[RPC_SID_LEN+1]</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dad/uci_8c_source.html#l00034">uci.c:34</a></div></div>
<div class="ttc" id="asession_8h_html_af61cae6edb31f71b2baf68f0b77ada5e"><div class="ttname"><a href="../../da/d46/session_8h.html#af61cae6edb31f71b2baf68f0b77ada5e">rpc_session_data::attr</a></div><div class="ttdeci">struct blob_attr attr[]</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00054">session.h:54</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/dad/uci_8c_source.html#l00034">apply_sid</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00054">rpc_session_data::attr</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00042">rpc_session::avl</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00240">avl_find_element</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00348">blobmsg_get_string()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00029">BLOBMSG_TYPE_STRING</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00046">rpc_session::data</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00341">rpc_session_get()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01126">rpc_handle_login()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a5212206c8369e1679e9922411314cfb1_cgraph.png" border="0" usemap="#ade/d67/session_8c_a5212206c8369e1679e9922411314cfb1_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a5212206c8369e1679e9922411314cfb1_cgraph" id="ade/d67/session_8c_a5212206c8369e1679e9922411314cfb1_cgraph">
<area shape="rect" title=" " alt="" coords="5,171,271,204"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="319,127,522,160"/>
<area shape="poly" title=" " alt="" coords="250,167,303,159,304,164,251,173"/>
<area shape="rect" href="../../de/d67/session_8c.html#a537c67da2d6dac42f8bda20e0b888f5a" title=" " alt="" coords="336,199,505,232"/>
<area shape="poly" title=" " alt="" coords="271,198,321,203,320,208,271,203"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="590,120,741,154"/>
<area shape="poly" title=" " alt="" coords="523,138,574,137,574,142,523,143"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="848,5,959,39"/>
<area shape="poly" title=" " alt="" coords="689,117,742,83,807,48,832,38,834,43,809,53,745,87,692,122"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="813,63,994,96"/>
<area shape="poly" title=" " alt="" coords="737,117,815,98,816,103,738,122"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="818,120,989,154"/>
<area shape="poly" title=" " alt="" coords="741,134,803,134,803,140,741,140"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="808,177,999,211"/>
<area shape="poly" title=" " alt="" coords="738,152,816,170,815,176,737,157"/>
<area shape="rect" href="../../de/d67/session_8c.html#a15a41226cf2bf6546acd3cb1975459c9" title=" " alt="" coords="570,227,760,260"/>
<area shape="poly" title=" " alt="" coords="505,222,555,228,554,233,505,228"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="809,235,998,268"/>
<area shape="poly" title=" " alt="" coords="761,244,793,245,793,250,761,249"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1081,177,1233,211"/>
<area shape="poly" title=" " alt="" coords="980,231,1065,212,1066,217,982,237"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="1059,235,1255,268"/>
<area shape="poly" title=" " alt="" coords="999,249,1043,249,1043,254,999,254"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="1047,292,1267,326"/>
<area shape="poly" title=" " alt="" coords="982,266,1065,285,1064,291,980,272"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1315,177,1444,211"/>
<area shape="poly" title=" " alt="" coords="1225,232,1266,221,1300,212,1301,217,1268,226,1227,237"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="1341,235,1419,268"/>
<area shape="poly" title=" " alt="" coords="1255,249,1325,249,1325,254,1255,254"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1492,177,1594,211"/>
<area shape="poly" title=" " alt="" coords="1445,192,1477,192,1477,197,1445,197"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1337,292,1422,326"/>
<area shape="poly" title=" " alt="" coords="1268,306,1321,306,1321,312,1268,312"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1496,292,1590,326"/>
<area shape="poly" title=" " alt="" coords="1423,306,1481,306,1481,312,1423,312"/>
</map>
</div>

</div>
</div>
<a id="ac2361bbd15f9485ec1c79f598dd92f48" name="ac2361bbd15f9485ec1c79f598dd92f48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2361bbd15f9485ec1c79f598dd92f48">&#9670;&#160;</a></span>rpc_session_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rpc_session_access </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>sid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>scope</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>object</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>function</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l01364">1364</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1366</span>{</div>
<div class="line"><span class="lineno"> 1367</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses = <a class="code hl_function" href="#a537c67da2d6dac42f8bda20e0b888f5a">rpc_session_get</a>(sid);</div>
<div class="line"><span class="lineno"> 1368</span> </div>
<div class="line"><span class="lineno"> 1369</span>    <span class="keywordflow">if</span> (!ses)</div>
<div class="line"><span class="lineno"> 1370</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1371</span> </div>
<div class="line"><span class="lineno"> 1372</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a4f918a84b17c94f97c3eb8a91f7721b3">rpc_session_acl_allowed</a>(ses, scope, <span class="keywordtype">object</span>, function);</div>
<div class="line"><span class="lineno"> 1373</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00571">rpc_session_acl_allowed()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00341">rpc_session_get()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/dad/uci_8c_source.html#l01481">rpc_uci_apply_access()</a>, <a class="el" href="../../d4/dad/uci_8c_source.html#l01225">rpc_uci_changes()</a>, <a class="el" href="../../d4/dad/uci_8c_source.html#l00311">rpc_uci_read_access()</a>, and <a class="el" href="../../d4/dad/uci_8c_source.html#l00328">rpc_uci_write_access()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_ac2361bbd15f9485ec1c79f598dd92f48_cgraph.png" border="0" usemap="#ade/d67/session_8c_ac2361bbd15f9485ec1c79f598dd92f48_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_ac2361bbd15f9485ec1c79f598dd92f48_cgraph" id="ade/d67/session_8c_ac2361bbd15f9485ec1c79f598dd92f48_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,206,68"/>
<area shape="rect" href="../../de/d67/session_8c.html#a4f918a84b17c94f97c3eb8a91f7721b3" title=" " alt="" coords="254,5,497,39"/>
<area shape="poly" title=" " alt="" coords="206,38,238,34,238,40,207,43"/>
<area shape="rect" href="../../de/d67/session_8c.html#a537c67da2d6dac42f8bda20e0b888f5a" title=" " alt="" coords="291,63,460,96"/>
<area shape="poly" title=" " alt="" coords="207,59,276,67,276,72,206,65"/>
<area shape="rect" href="../../de/d67/session_8c.html#a15a41226cf2bf6546acd3cb1975459c9" title=" " alt="" coords="545,63,735,96"/>
<area shape="poly" title=" " alt="" coords="460,77,529,77,529,82,460,82"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="783,63,973,96"/>
<area shape="poly" title=" " alt="" coords="736,77,768,77,768,82,736,82"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1055,5,1207,39"/>
<area shape="poly" title=" " alt="" coords="955,59,1039,40,1040,45,956,65"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="1033,63,1229,96"/>
<area shape="poly" title=" " alt="" coords="973,77,1017,77,1017,82,973,82"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="1021,120,1241,154"/>
<area shape="poly" title=" " alt="" coords="956,94,1039,113,1038,119,955,100"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1289,5,1418,39"/>
<area shape="poly" title=" " alt="" coords="1199,60,1240,49,1274,40,1275,45,1242,54,1201,65"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="1315,63,1393,96"/>
<area shape="poly" title=" " alt="" coords="1229,77,1299,77,1299,82,1229,82"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1466,5,1568,39"/>
<area shape="poly" title=" " alt="" coords="1419,20,1451,20,1451,25,1419,25"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1311,120,1396,154"/>
<area shape="poly" title=" " alt="" coords="1242,134,1295,134,1295,140,1242,140"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1470,120,1564,154"/>
<area shape="poly" title=" " alt="" coords="1397,134,1455,134,1455,140,1397,140"/>
</map>
</div>

</div>
</div>
<a id="a4f918a84b17c94f97c3eb8a91f7721b3" name="a4f918a84b17c94f97c3eb8a91f7721b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f918a84b17c94f97c3eb8a91f7721b3">&#9670;&#160;</a></span>rpc_session_acl_allowed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool rpc_session_acl_allowed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *</td>          <td class="paramname"><span class="paramname"><em>ses</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>scope</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>fun</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00571">571</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  573</span>{</div>
<div class="line"><span class="lineno">  574</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d3/d73/structrpc__session__acl">rpc_session_acl</a> *acl;</div>
<div class="line"><span class="lineno">  575</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#de/dcc/structrpc__session__acl__scope">rpc_session_acl_scope</a> *acl_scope;</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>    acl_scope = <a class="code hl_define" href="../../d3/d51/avl_8h.html#a65bfca92c030dd0ea5548f23de5fc07e">avl_find_element</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a5c17aa340017659115f58073025296a6">acls</a>, scope, acl_scope, <a class="code hl_variable" href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">avl</a>);</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>    <span class="keywordflow">if</span> (acl_scope) {</div>
<div class="line"><span class="lineno">  580</span>        <a class="code hl_define" href="#ae10521efbe9aecaa647e9c3cf93870d2">uh_foreach_matching_acl</a>(acl, &amp;acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa68919d297c23b76e3d05f20e54362c6">acls</a>, obj, fun)</div>
<div class="line"><span class="lineno">  581</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  582</span>    }</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  585</span>}</div>
<div class="ttc" id="asession_8c_html_ae10521efbe9aecaa647e9c3cf93870d2"><div class="ttname"><a href="#ae10521efbe9aecaa647e9c3cf93870d2">uh_foreach_matching_acl</a></div><div class="ttdeci">#define uh_foreach_matching_acl(_acl, _avl, _obj, _func)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00143">session.c:143</a></div></div>
<div class="ttc" id="asession_8h_html_a5c17aa340017659115f58073025296a6"><div class="ttname"><a href="../../da/d46/session_8h.html#a5c17aa340017659115f58073025296a6">rpc_session::acls</a></div><div class="ttdeci">struct avl_tree acls</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00047">session.h:47</a></div></div>
<div class="ttc" id="asession_8h_html_a8052b133ffa1ac8e229fad1c3a8c916a"><div class="ttname"><a href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">rpc_session_acl_scope::avl</a></div><div class="ttdeci">struct avl_node avl</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00058">session.h:58</a></div></div>
<div class="ttc" id="asession_8h_html_aa68919d297c23b76e3d05f20e54362c6"><div class="ttname"><a href="../../da/d46/session_8h.html#aa68919d297c23b76e3d05f20e54362c6">rpc_session_acl_scope::acls</a></div><div class="ttdeci">struct avl_tree acls</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00059">session.h:59</a></div></div>
<div class="ttc" id="asession_8h_html_d3/d73/structrpc__session__acl"><div class="ttname"><a href="../../da/d46/session_8h.html#d3/d73/structrpc__session__acl">rpc_session_acl</a></div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00062">session.h:62</a></div></div>
<div class="ttc" id="asession_8h_html_de/dcc/structrpc__session__acl__scope"><div class="ttname"><a href="../../da/d46/session_8h.html#de/dcc/structrpc__session__acl__scope">rpc_session_acl_scope</a></div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00057">session.h:57</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00047">rpc_session::acls</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00059">rpc_session_acl_scope::acls</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00058">rpc_session_acl_scope::avl</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00240">avl_find_element</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00143">uh_foreach_matching_acl</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00588">rpc_handle_access()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01364">rpc_session_access()</a>.</p>

</div>
</div>
<a id="a411259d05da2f23f6a32a0de3692ea39" name="a411259d05da2f23f6a32a0de3692ea39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a411259d05da2f23f6a32a0de3692ea39">&#9670;&#160;</a></span>rpc_session_api_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rpc_session_api_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l01323">1323</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1324</span>{</div>
<div class="line"><span class="lineno"> 1325</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno"> 1326</span> </div>
<div class="line"><span class="lineno"> 1327</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d00/ubusd__obj_8h.html#d9/d8b/structubus__method">ubus_method</a> session_methods[] = {</div>
<div class="line"><span class="lineno"> 1328</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;create&quot;</span>,  <a class="code hl_function" href="#a27f1b70de357b51fbf5bb9295b695c18">rpc_handle_create</a>,  <a class="code hl_variable" href="#ae8c5a19913e32836ded43495a9b62610">new_policy</a>),</div>
<div class="line"><span class="lineno"> 1329</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;list&quot;</span>,    <a class="code hl_function" href="#a04ec8521cf4b4877fe2f86c26d8cff85">rpc_handle_list</a>,    <a class="code hl_variable" href="#a1489ab210f37b4d0f033208fec05d712">sid_policy</a>),</div>
<div class="line"><span class="lineno"> 1330</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;grant&quot;</span>,   <a class="code hl_function" href="#a13cfab50b5022e760fd8a6912d5e5709">rpc_handle_acl</a>,     <a class="code hl_variable" href="#a47810f278d213fdc913a3b3d0217c10c">acl_policy</a>),</div>
<div class="line"><span class="lineno"> 1331</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;revoke&quot;</span>,  <a class="code hl_function" href="#a13cfab50b5022e760fd8a6912d5e5709">rpc_handle_acl</a>,     <a class="code hl_variable" href="#a47810f278d213fdc913a3b3d0217c10c">acl_policy</a>),</div>
<div class="line"><span class="lineno"> 1332</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;access&quot;</span>,  <a class="code hl_function" href="#a0adf54796274bf64ae28142fa89dd42f">rpc_handle_access</a>,  <a class="code hl_variable" href="#a9b034ab755e3a6aa8041dcb905bfcb6d">perm_policy</a>),</div>
<div class="line"><span class="lineno"> 1333</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;set&quot;</span>,     <a class="code hl_function" href="#a6533cf4c11da9b785a4b2426dc4708c1">rpc_handle_set</a>,     <a class="code hl_variable" href="#a91c735acdf25c5a777e492fc85256b7a">set_policy</a>),</div>
<div class="line"><span class="lineno"> 1334</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;get&quot;</span>,     <a class="code hl_function" href="#a64ad26085ddb0e5f6e5ee716177a49a0">rpc_handle_get</a>,     <a class="code hl_variable" href="#abb40236fcd127dcbb509fe69b2bef01e">get_policy</a>),</div>
<div class="line"><span class="lineno"> 1335</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;unset&quot;</span>,   <a class="code hl_function" href="#a25375f981d9230b4459af60c1ebd2054">rpc_handle_unset</a>,   <a class="code hl_variable" href="#abb40236fcd127dcbb509fe69b2bef01e">get_policy</a>),</div>
<div class="line"><span class="lineno"> 1336</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;destroy&quot;</span>, <a class="code hl_function" href="#a8ac23013fc940ce1da004d6eadbf37ac">rpc_handle_destroy</a>, <a class="code hl_variable" href="#a1489ab210f37b4d0f033208fec05d712">sid_policy</a>),</div>
<div class="line"><span class="lineno"> 1337</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a>(<span class="stringliteral">&quot;login&quot;</span>,   <a class="code hl_function" href="#a2a596961641959cadf3e07cc5011147c">rpc_handle_login</a>,   <a class="code hl_variable" href="#a0b1bb8c17f2dd79b8ca8e6b5be4e5562">login_policy</a>),</div>
<div class="line"><span class="lineno"> 1338</span>    };</div>
<div class="line"><span class="lineno"> 1339</span> </div>
<div class="line"><span class="lineno"> 1340</span>    <span class="keyword">static</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d00/ubusd__obj_8h.html#d4/d66/structubus__object__type">ubus_object_type</a> session_type =</div>
<div class="line"><span class="lineno"> 1341</span>        <a class="code hl_define" href="../../db/d55/libubus_8h.html#a2537aa13909031a58e3d881d6670d68d">UBUS_OBJECT_TYPE</a>(<span class="stringliteral">&quot;rpcd-plugin-session&quot;</span>, session_methods);</div>
<div class="line"><span class="lineno"> 1342</span> </div>
<div class="line"><span class="lineno"> 1343</span>    <span class="keyword">static</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a> obj = {</div>
<div class="line"><span class="lineno"> 1344</span>        .name = <span class="stringliteral">&quot;session&quot;</span>,</div>
<div class="line"><span class="lineno"> 1345</span>        .type = &amp;session_type,</div>
<div class="line"><span class="lineno"> 1346</span>        .<a class="code hl_variable" href="../../d9/d00/ubusd__obj_8h.html#a73400f69761b61903631e803f69dda5d">methods</a> = session_methods,</div>
<div class="line"><span class="lineno"> 1347</span>        .n_methods = <a class="code hl_define" href="../../d8/d6a/test-blobmsg-types_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a>(session_methods),</div>
<div class="line"><span class="lineno"> 1348</span>    };</div>
<div class="line"><span class="lineno"> 1349</span> </div>
<div class="line"><span class="lineno"> 1350</span>    <a class="code hl_function" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d">avl_init</a>(&amp;<a class="code hl_variable" href="#aba81a584ebe050715570ab74db1d30be">sessions</a>, <a class="code hl_function" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0">avl_strcmp</a>, <span class="keyword">false</span>, NULL);</div>
<div class="line"><span class="lineno"> 1351</span> </div>
<div class="line"><span class="lineno"> 1352</span>    <span class="comment">/* setup the default session */</span></div>
<div class="line"><span class="lineno"> 1353</span>    ses = <a class="code hl_function" href="#a4e65e993938bcd87e1a73d5120121e4e">rpc_session_new</a>();</div>
<div class="line"><span class="lineno"> 1354</span> </div>
<div class="line"><span class="lineno"> 1355</span>    <span class="keywordflow">if</span> (ses) {</div>
<div class="line"><span class="lineno"> 1356</span>        strcpy(ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a2eddeba0d0ae2a4d3bdc691415f8d5f6">id</a>, <a class="code hl_define" href="../../da/d46/session_8h.html#ae30b5399c8ec47e9d4b891f570bed531">RPC_DEFAULT_SESSION_ID</a>);</div>
<div class="line"><span class="lineno"> 1357</span>        <a class="code hl_function" href="#a856c2fef68fa28c9590680e1f3f473eb">rpc_login_setup_acls</a>(ses, NULL);</div>
<div class="line"><span class="lineno"> 1358</span>        <a class="code hl_function" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2">avl_insert</a>(&amp;<a class="code hl_variable" href="#aba81a584ebe050715570ab74db1d30be">sessions</a>, &amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a1c0637409779a09f9608ea4862060536">avl</a>);</div>
<div class="line"><span class="lineno"> 1359</span>    }</div>
<div class="line"><span class="lineno"> 1360</span> </div>
<div class="line"><span class="lineno"> 1361</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../db/dda/libubus-obj_8c.html#a91976fc505121a3ddd2c4456e730401c">ubus_add_object</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, &amp;obj);</div>
<div class="line"><span class="lineno"> 1362</span>}</div>
<div class="ttc" id="aavl-cmp_8c_html_ae22a4fecfc8234279efe5ce4f38838f0"><div class="ttname"><a href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0">avl_strcmp</a></div><div class="ttdeci">int avl_strcmp(const void *k1, const void *k2, void *ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d66/avl-cmp_8c_source.html#l00026">avl-cmp.c:26</a></div></div>
<div class="ttc" id="aavl_8c_html_ab9041e08938920d5ae722e2d57dc20e2"><div class="ttname"><a href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2">avl_insert</a></div><div class="ttdeci">int avl_insert(struct avl_tree *tree, struct avl_node *new)</div><div class="ttdef"><b>Definition</b> <a href="../../df/dc2/avl_8c_source.html#l00220">avl.c:220</a></div></div>
<div class="ttc" id="aavl_8c_html_af44d4960ede7f23f071bf00e360bc23d"><div class="ttname"><a href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d">avl_init</a></div><div class="ttdeci">void avl_init(struct avl_tree *tree, avl_tree_comp comp, bool allow_dups, void *ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../df/dc2/avl_8c_source.html#l00092">avl.c:92</a></div></div>
<div class="ttc" id="alibubus-obj_8c_html_a91976fc505121a3ddd2c4456e730401c"><div class="ttname"><a href="../../db/dda/libubus-obj_8c.html#a91976fc505121a3ddd2c4456e730401c">ubus_add_object</a></div><div class="ttdeci">int ubus_add_object(struct ubus_context *ctx, struct ubus_object *obj)</div><div class="ttdef"><b>Definition</b> <a href="../../db/dda/libubus-obj_8c_source.html#l00209">libubus-obj.c:209</a></div></div>
<div class="ttc" id="alibubus_8h_html_a2537aa13909031a58e3d881d6670d68d"><div class="ttname"><a href="../../db/d55/libubus_8h.html#a2537aa13909031a58e3d881d6670d68d">UBUS_OBJECT_TYPE</a></div><div class="ttdeci">#define UBUS_OBJECT_TYPE(_name, _methods)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00068">libubus.h:68</a></div></div>
<div class="ttc" id="alibubus_8h_html_aac021711c90050abc4c65261f9799687"><div class="ttname"><a href="../../db/d55/libubus_8h.html#aac021711c90050abc4c65261f9799687">UBUS_METHOD</a></div><div class="ttdeci">#define UBUS_METHOD(_name, _handler, _policy)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00086">libubus.h:86</a></div></div>
<div class="ttc" id="asession_8c_html_a04ec8521cf4b4877fe2f86c26d8cff85"><div class="ttname"><a href="#a04ec8521cf4b4877fe2f86c26d8cff85">rpc_handle_list</a></div><div class="ttdeci">static int rpc_handle_list(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00374">session.c:374</a></div></div>
<div class="ttc" id="asession_8c_html_a0adf54796274bf64ae28142fa89dd42f"><div class="ttname"><a href="#a0adf54796274bf64ae28142fa89dd42f">rpc_handle_access</a></div><div class="ttdeci">static int rpc_handle_access(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00588">session.c:588</a></div></div>
<div class="ttc" id="asession_8c_html_a13cfab50b5022e760fd8a6912d5e5709"><div class="ttname"><a href="#a13cfab50b5022e760fd8a6912d5e5709">rpc_handle_acl</a></div><div class="ttdeci">static int rpc_handle_acl(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00510">session.c:510</a></div></div>
<div class="ttc" id="asession_8c_html_a25375f981d9230b4459af60c1ebd2054"><div class="ttname"><a href="#a25375f981d9230b4459af60c1ebd2054">rpc_handle_unset</a></div><div class="ttdeci">static int rpc_handle_unset(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00726">session.c:726</a></div></div>
<div class="ttc" id="asession_8c_html_a27f1b70de357b51fbf5bb9295b695c18"><div class="ttname"><a href="#a27f1b70de357b51fbf5bb9295b695c18">rpc_handle_create</a></div><div class="ttdeci">static int rpc_handle_create(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00354">session.c:354</a></div></div>
<div class="ttc" id="asession_8c_html_a2a596961641959cadf3e07cc5011147c"><div class="ttname"><a href="#a2a596961641959cadf3e07cc5011147c">rpc_handle_login</a></div><div class="ttdeci">static int rpc_handle_login(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l01126">session.c:1126</a></div></div>
<div class="ttc" id="asession_8c_html_a4e65e993938bcd87e1a73d5120121e4e"><div class="ttname"><a href="#a4e65e993938bcd87e1a73d5120121e4e">rpc_session_new</a></div><div class="ttdeci">static struct rpc_session * rpc_session_new(void)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00295">session.c:295</a></div></div>
<div class="ttc" id="asession_8c_html_a64ad26085ddb0e5f6e5ee716177a49a0"><div class="ttname"><a href="#a64ad26085ddb0e5f6e5ee716177a49a0">rpc_handle_get</a></div><div class="ttdeci">static int rpc_handle_get(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00679">session.c:679</a></div></div>
<div class="ttc" id="asession_8c_html_a6533cf4c11da9b785a4b2426dc4708c1"><div class="ttname"><a href="#a6533cf4c11da9b785a4b2426dc4708c1">rpc_handle_set</a></div><div class="ttdeci">static int rpc_handle_set(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00650">session.c:650</a></div></div>
<div class="ttc" id="asession_8c_html_a8ac23013fc940ce1da004d6eadbf37ac"><div class="ttname"><a href="#a8ac23013fc940ce1da004d6eadbf37ac">rpc_handle_destroy</a></div><div class="ttdeci">static int rpc_handle_destroy(struct ubus_context *ctx, struct ubus_object *obj, struct ubus_request_data *req, const char *method, struct blob_attr *msg)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00767">session.c:767</a></div></div>
<div class="ttc" id="asession_8h_html_a2eddeba0d0ae2a4d3bdc691415f8d5f6"><div class="ttname"><a href="../../da/d46/session_8h.html#a2eddeba0d0ae2a4d3bdc691415f8d5f6">rpc_session::id</a></div><div class="ttdeci">char id[RPC_SID_LEN+1]</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00043">session.h:43</a></div></div>
<div class="ttc" id="atest-blobmsg-types_8c_html_a6242a25f9d996f0cc4f4cdb911218b75"><div class="ttname"><a href="../../d8/d6a/test-blobmsg-types_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a></div><div class="ttdeci">#define ARRAY_SIZE(x)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d6a/test-blobmsg-types_8c_source.html#l00120">test-blobmsg-types.c:120</a></div></div>
<div class="ttc" id="aubusd__obj_8h_html_a73400f69761b61903631e803f69dda5d"><div class="ttname"><a href="../../d9/d00/ubusd__obj_8h.html#a73400f69761b61903631e803f69dda5d">ubus_object_type::methods</a></div><div class="ttdeci">const struct ubus_method * methods</div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00122">libubus.h:122</a></div></div>
<div class="ttc" id="aubusd__obj_8h_html_d4/d66/structubus__object__type"><div class="ttname"><a href="../../d9/d00/ubusd__obj_8h.html#d4/d66/structubus__object__type">ubus_object_type</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00118">libubus.h:118</a></div></div>
<div class="ttc" id="aubusd__obj_8h_html_d6/d75/structubus__object"><div class="ttname"><a href="../../d9/d00/ubusd__obj_8h.html#d6/d75/structubus__object">ubus_object</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00126">libubus.h:126</a></div></div>
<div class="ttc" id="aubusd__obj_8h_html_d9/d8b/structubus__method"><div class="ttname"><a href="../../d9/d00/ubusd__obj_8h.html#d9/d8b/structubus__method">ubus_method</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/d55/libubus_8h_source.html#l00108">libubus.h:108</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00085">acl_policy</a>, <a class="el" href="../../d8/d6a/test-blobmsg-types_8c_source.html#l00120">ARRAY_SIZE</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00042">rpc_session::avl</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00092">avl_init()</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00220">avl_insert()</a>, <a class="el" href="../../d2/d66/avl-cmp_8c_source.html#l00026">avl_strcmp()</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00074">get_policy</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00043">rpc_session::id</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00125">login_policy</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00122">ubus_object_type::methods</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00047">new_policy</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00098">perm_policy</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00035">RPC_DEFAULT_SESSION_ID</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00588">rpc_handle_access()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00510">rpc_handle_acl()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00354">rpc_handle_create()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00767">rpc_handle_destroy()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00679">rpc_handle_get()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00374">rpc_handle_list()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l01126">rpc_handle_login()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00650">rpc_handle_set()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00726">rpc_handle_unset()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l01086">rpc_login_setup_acls()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00295">rpc_session_new()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00037">sessions</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00064">set_policy</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00055">sid_policy</a>, <a class="el" href="../../db/dda/libubus-obj_8c_source.html#l00209">ubus_add_object()</a>, <a class="el" href="../../db/d55/libubus_8h_source.html#l00086">UBUS_METHOD</a>, and <a class="el" href="../../db/d55/libubus_8h_source.html#l00068">UBUS_OBJECT_TYPE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/ddd/rpcd_2main_8c_source.html#l00069">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a411259d05da2f23f6a32a0de3692ea39_cgraph.png" border="0" usemap="#ade/d67/session_8c_a411259d05da2f23f6a32a0de3692ea39_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a411259d05da2f23f6a32a0de3692ea39_cgraph" id="ade/d67/session_8c_a411259d05da2f23f6a32a0de3692ea39_cgraph">
<area shape="rect" title=" " alt="" coords="5,869,210,903"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="825,57,911,91"/>
<area shape="poly" title=" " alt="" coords="107,869,114,718,123,604,136,480,156,356,181,242,197,192,214,149,234,114,256,88,287,64,320,45,355,30,392,18,469,5,548,4,624,10,696,22,811,52,809,57,695,27,624,15,548,9,470,11,394,23,357,35,322,50,290,69,260,92,238,117,219,152,202,194,186,243,161,357,142,481,128,605,119,718,112,869"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="813,249,923,283"/>
<area shape="poly" title=" " alt="" coords="107,869,115,791,138,675,157,610,182,545,215,482,256,426,283,398,314,373,381,332,454,302,531,281,606,268,678,261,797,259,797,264,678,266,607,273,532,286,456,307,383,337,317,377,287,401,260,429,219,485,187,547,162,612,143,676,120,792,112,869"/>
<area shape="rect" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0" title=" " alt="" coords="807,140,929,174"/>
<area shape="poly" title=" " alt="" coords="107,869,113,782,135,646,153,569,179,491,213,416,255,346,310,280,336,257,363,238,425,209,506,180,580,161,657,151,729,148,792,149,792,154,729,153,657,156,581,166,508,185,427,213,366,243,339,261,314,284,260,349,218,418,184,493,159,571,140,647,119,782,112,869"/>
<area shape="rect" href="../../de/d67/session_8c.html#a0adf54796274bf64ae28142fa89dd42f" title=" " alt="" coords="261,633,456,667"/>
<area shape="poly" title=" " alt="" coords="125,867,326,676,330,680,129,871"/>
<area shape="rect" href="../../de/d67/session_8c.html#a13cfab50b5022e760fd8a6912d5e5709" title=" " alt="" coords="279,812,438,846"/>
<area shape="poly" title=" " alt="" coords="184,866,266,847,267,852,185,871"/>
<area shape="rect" href="../../de/d67/session_8c.html#a27f1b70de357b51fbf5bb9295b695c18" title=" " alt="" coords="264,1156,453,1190"/>
<area shape="poly" title=" " alt="" coords="116,903,133,951,162,1016,204,1084,230,1116,259,1143,263,1146,260,1150,256,1147,226,1119,199,1087,157,1018,128,952,111,904"/>
<area shape="rect" href="../../de/d67/session_8c.html#a8ac23013fc940ce1da004d6eadbf37ac" title=" " alt="" coords="258,1099,459,1132"/>
<area shape="poly" title=" " alt="" coords="119,902,139,940,169,990,210,1041,233,1065,259,1085,265,1089,262,1093,256,1090,230,1069,206,1045,165,993,134,943,114,904"/>
<area shape="rect" href="../../de/d67/session_8c.html#a64ad26085ddb0e5f6e5ee716177a49a0" title=" " alt="" coords="277,869,440,903"/>
<area shape="poly" title=" " alt="" coords="210,884,261,884,261,889,210,889"/>
<area shape="rect" href="../../de/d67/session_8c.html#a04ec8521cf4b4877fe2f86c26d8cff85" title=" " alt="" coords="279,927,438,960"/>
<area shape="poly" title=" " alt="" coords="185,901,267,920,266,925,184,906"/>
<area shape="rect" href="../../de/d67/session_8c.html#a2a596961641959cadf3e07cc5011147c" title=" " alt="" coords="270,1213,447,1247"/>
<area shape="poly" title=" " alt="" coords="114,903,128,960,154,1041,173,1084,197,1127,226,1166,259,1200,263,1203,259,1207,256,1204,222,1169,193,1129,169,1086,149,1043,122,962,109,904"/>
<area shape="rect" href="../../de/d67/session_8c.html#a856c2fef68fa28c9590680e1f3f473eb" title=" " alt="" coords="523,1435,734,1468"/>
<area shape="poly" title=" " alt="" coords="114,903,127,967,153,1061,172,1112,196,1164,225,1213,260,1258,291,1289,327,1317,404,1365,481,1401,551,1427,549,1432,479,1406,401,1370,324,1322,288,1293,256,1261,221,1216,192,1166,168,1114,148,1062,122,969,109,904"/>
<area shape="rect" href="../../de/d67/session_8c.html#a6533cf4c11da9b785a4b2426dc4708c1" title=" " alt="" coords="278,984,439,1018"/>
<area shape="poly" title=" " alt="" coords="136,901,191,936,259,970,273,976,271,981,257,975,188,941,133,906"/>
<area shape="rect" href="../../de/d67/session_8c.html#a25375f981d9230b4459af60c1ebd2054" title=" " alt="" coords="266,1041,451,1075"/>
<area shape="poly" title=" " alt="" coords="124,902,179,964,217,998,259,1028,268,1033,265,1037,256,1032,213,1003,175,967,120,905"/>
<area shape="rect" href="../../de/d67/session_8c.html#a4e65e993938bcd87e1a73d5120121e4e" title=" " alt="" coords="541,85,717,119"/>
<area shape="poly" title=" " alt="" coords="107,869,116,726,140,503,160,387,185,280,217,194,235,161,256,136,285,114,318,98,353,86,390,79,463,75,530,80,530,85,463,80,390,84,355,92,320,103,288,119,259,140,240,164,221,196,190,282,165,388,146,504,121,726,112,869"/>
<area shape="rect" href="../../db/dda/libubus-obj_8c.html#a91976fc505121a3ddd2c4456e730401c" title=" " alt="" coords="270,440,447,474"/>
<area shape="poly" title=" " alt="" coords="116,867,255,620,336,485,341,488,260,622,121,870"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="991,12,1159,46"/>
<area shape="poly" title=" " alt="" coords="911,62,980,47,981,52,912,67"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="1010,289,1140,323"/>
<area shape="poly" title=" " alt="" coords="924,274,995,288,994,293,923,279"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="994,347,1156,380"/>
<area shape="poly" title=" " alt="" coords="896,281,938,307,987,333,1000,339,998,343,985,338,935,312,893,286"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1212,375,1304,408"/>
<area shape="poly" title=" " alt="" coords="881,282,898,308,921,339,951,368,987,390,1040,406,1095,411,1149,409,1196,403,1197,408,1149,414,1095,417,1039,411,985,395,948,372,917,342,893,311,876,285"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="986,456,1164,490"/>
<area shape="poly" title=" " alt="" coords="879,282,919,355,950,398,987,435,1005,447,1002,451,984,439,946,401,915,358,875,285"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="1026,69,1124,103"/>
<area shape="poly" title=" " alt="" coords="883,247,936,185,948,164,956,146,966,129,984,112,1010,98,1012,103,987,116,971,133,961,149,953,167,940,188,887,251"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="1018,127,1132,160"/>
<area shape="poly" title=" " alt="" coords="885,247,928,208,984,169,1002,161,1004,166,987,174,931,212,888,251"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="1013,208,1137,242"/>
<area shape="poly" title=" " alt="" coords="923,253,997,238,998,243,924,258"/>
<area shape="poly" title=" " alt="" coords="1041,290,1038,280,1043,271,1055,265,1075,263,1096,265,1108,272,1105,276,1094,270,1075,268,1057,270,1046,275,1043,280,1046,288"/>
<area shape="poly" title=" " alt="" coords="1157,373,1197,380,1196,385,1156,379"/>
<area shape="poly" title=" " alt="" coords="1041,209,1038,199,1043,189,1055,184,1075,181,1096,184,1108,190,1105,195,1094,189,1075,187,1057,189,1046,193,1043,199,1046,207"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="798,552,938,586"/>
<area shape="poly" title=" " alt="" coords="380,631,435,594,470,577,506,564,578,550,651,546,721,548,783,553,782,559,721,553,652,551,579,556,508,569,472,582,438,599,383,635"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="812,1123,924,1156"/>
<area shape="poly" title=" " alt="" coords="456,641,538,639,625,642,701,652,730,661,752,674,776,705,797,752,816,811,831,876,854,1007,866,1107,861,1108,848,1008,826,877,810,812,792,754,772,708,749,678,728,666,700,657,625,647,538,645,456,647"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="580,1065,678,1099"/>
<area shape="poly" title=" " alt="" coords="376,666,418,722,442,759,461,799,472,829,477,856,480,904,485,950,494,974,509,1001,539,1032,575,1056,572,1060,536,1036,505,1004,489,976,480,951,474,904,472,857,467,830,457,801,437,762,414,725,372,669"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a381e9943751280e58fbbdf5f59f3bec2" title=" " alt="" coords="540,469,718,503"/>
<area shape="poly" title=" " alt="" coords="373,631,428,577,465,546,506,520,536,506,538,511,508,525,468,551,431,581,377,635"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="553,956,704,990"/>
<area shape="poly" title=" " alt="" coords="376,666,417,723,461,798,475,841,478,878,485,910,494,926,509,943,540,961,537,966,505,947,490,930,480,912,473,878,469,842,457,801,413,726,371,669"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="548,1123,710,1156"/>
<area shape="poly" title=" " alt="" coords="377,666,420,722,443,759,462,799,474,846,477,889,469,966,466,1002,469,1037,482,1073,509,1110,534,1127,531,1132,505,1113,477,1075,464,1038,461,1002,464,966,472,889,469,847,456,800,438,762,416,725,373,669"/>
<area shape="rect" href="../../de/d67/session_8c.html#a4f918a84b17c94f97c3eb8a91f7721b3" title=" " alt="" coords="507,355,750,388"/>
<area shape="poly" title=" " alt="" coords="368,632,457,485,468,459,476,438,486,417,505,398,510,394,513,398,509,402,490,420,481,440,473,461,461,487,373,634"/>
<area shape="rect" href="../../de/d67/session_8c.html#a40fa1238b59f856f01058476b97d4ce9" title=" " alt="" coords="510,412,747,446"/>
<area shape="poly" title=" " alt="" coords="365,632,385,595,415,546,456,497,480,474,506,455,512,451,515,455,508,459,483,478,460,500,420,549,389,597,370,634"/>
<area shape="rect" href="../../de/d67/session_8c.html#a537c67da2d6dac42f8bda20e0b888f5a" title=" " alt="" coords="545,899,713,932"/>
<area shape="poly" title=" " alt="" coords="379,666,601,886,597,889,375,670"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="541,579,717,612"/>
<area shape="poly" title=" " alt="" coords="445,630,527,613,528,619,446,635"/>
<area shape="poly" title=" " alt="" coords="706,986,752,1007,782,1030,809,1056,850,1108,846,1112,805,1060,778,1034,749,1011,704,991"/>
<area shape="poly" title=" " alt="" coords="710,1137,797,1137,797,1142,710,1142"/>
<area shape="poly" title=" " alt="" coords="717,583,782,576,783,581,718,588"/>
<area shape="poly" title=" " alt="" coords="429,809,501,798,586,795,630,799,673,809,714,824,752,845,782,872,806,904,825,939,840,976,859,1048,867,1107,862,1107,854,1049,835,978,820,941,801,907,778,876,749,850,712,828,671,814,629,805,586,800,502,803,429,814"/>
<area shape="poly" title=" " alt="" coords="440,841,461,855,476,873,484,891,489,927,492,963,498,981,509,1001,540,1031,576,1055,573,1060,537,1036,505,1004,493,983,486,964,483,927,479,893,471,876,457,859,437,845"/>
<area shape="poly" title=" " alt="" coords="439,842,461,855,479,877,485,900,492,922,509,943,539,959,536,963,505,947,487,925,480,902,474,880,457,859,437,847"/>
<area shape="poly" title=" " alt="" coords="439,839,461,855,483,888,491,921,490,953,485,985,480,1017,479,1048,488,1079,509,1110,535,1127,532,1131,505,1113,483,1081,474,1049,475,1017,480,984,485,953,485,921,478,890,457,859,436,844"/>
<area shape="poly" title=" " alt="" coords="424,844,460,854,566,890,564,895,458,859,423,849"/>
<area shape="rect" href="../../de/d67/session_8c.html#a8f7993c2572c4099268c121f3fe5eab5" title=" " alt="" coords="535,195,723,228"/>
<area shape="poly" title=" " alt="" coords="373,810,416,754,438,717,457,679,471,629,477,586,476,509,475,472,477,432,486,389,505,341,523,310,545,282,591,237,594,241,549,286,527,313,509,343,491,391,482,433,480,472,482,509,483,587,476,631,461,681,443,720,420,757,377,813"/>
<area shape="rect" href="../../de/d67/session_8c.html#a54a264b4df2e8ea90cf5c55fc8854dca" title=" " alt="" coords="529,688,728,722"/>
<area shape="poly" title=" " alt="" coords="383,809,438,774,506,738,543,724,545,729,508,743,441,779,386,814"/>
<area shape="poly" title=" " alt="" coords="659,192,822,97,825,102,661,196"/>
<area shape="poly" title=" " alt="" coords="706,226,798,248,797,253,705,232"/>
<area shape="poly" title=" " alt="" coords="705,192,791,172,793,177,706,197"/>
<area shape="poly" title=" " alt="" coords="445,1188,461,1199,473,1213,480,1227,484,1256,489,1283,496,1295,509,1305,541,1324,571,1337,599,1344,627,1346,655,1342,684,1334,749,1305,786,1278,815,1242,838,1204,853,1170,858,1172,842,1206,820,1245,789,1282,752,1310,686,1339,656,1348,627,1351,598,1349,569,1342,538,1329,505,1310,492,1298,484,1285,479,1257,474,1229,468,1216,457,1203,442,1193"/>
<area shape="poly" title=" " alt="" coords="432,1153,458,1143,481,1125,506,1108,563,1089,565,1095,508,1113,484,1130,460,1147,434,1158"/>
<area shape="poly" title=" " alt="" coords="453,1159,531,1149,532,1154,454,1164"/>
<area shape="poly" title=" " alt="" coords="446,1131,461,1142,474,1157,480,1173,484,1206,488,1236,495,1249,509,1261,540,1280,570,1293,598,1299,625,1300,653,1296,682,1288,749,1261,780,1243,807,1219,847,1168,851,1171,811,1223,783,1247,752,1266,684,1293,654,1301,625,1305,597,1304,568,1298,538,1285,505,1266,491,1252,483,1237,479,1206,475,1175,469,1160,457,1146,442,1135"/>
<area shape="poly" title=" " alt="" coords="459,1100,563,1087,564,1093,460,1106"/>
<area shape="poly" title=" " alt="" coords="432,1096,458,1085,482,1069,505,1051,587,996,590,1001,509,1055,485,1074,460,1090,434,1101"/>
<area shape="poly" title=" " alt="" coords="460,1122,532,1128,532,1134,459,1127"/>
<area shape="poly" title=" " alt="" coords="443,1096,457,1086,471,1069,477,1051,480,1015,483,978,490,960,505,942,529,926,532,931,509,946,495,962,488,979,485,1015,483,1052,475,1071,461,1089,446,1100"/>
<area shape="poly" title=" " alt="" coords="425,866,458,856,544,829,613,809,676,782,710,761,749,732,781,701,809,665,849,598,854,601,813,668,785,704,752,736,713,765,679,787,614,814,546,834,460,861,427,871"/>
<area shape="poly" title=" " alt="" coords="415,866,487,850,575,842,621,843,667,850,711,863,752,884,779,906,801,932,820,962,835,993,855,1055,865,1107,860,1108,850,1056,830,995,815,964,797,935,775,910,749,888,709,868,665,855,620,849,575,847,488,856,416,871"/>
<area shape="poly" title=" " alt="" coords="441,900,461,912,479,934,487,955,494,977,509,1000,544,1031,581,1055,578,1060,540,1035,505,1004,489,980,482,957,475,936,457,916,439,905"/>
<area shape="poly" title=" " alt="" coords="432,901,460,912,484,928,508,942,539,953,537,958,506,947,481,932,458,917,430,906"/>
<area shape="poly" title=" " alt="" coords="442,898,461,912,479,938,487,963,487,989,485,1014,483,1038,484,1063,491,1086,509,1110,534,1126,531,1131,505,1113,487,1089,479,1064,477,1038,480,1013,482,988,481,964,474,940,457,916,438,903"/>
<area shape="poly" title=" " alt="" coords="440,892,529,902,529,907,440,898"/>
<area shape="poly" title=" " alt="" coords="438,870,457,856,474,835,482,813,485,792,484,770,485,724,491,700,505,674,536,642,572,618,575,622,539,646,509,677,496,702,490,725,489,770,490,792,487,815,478,837,461,860,441,874"/>
<area shape="poly" title=" " alt="" coords="432,958,460,969,484,985,508,1000,543,1012,574,1019,630,1024,685,1029,716,1037,751,1050,799,1079,839,1110,836,1114,796,1083,749,1055,714,1042,684,1034,629,1029,574,1024,542,1017,506,1005,481,989,458,974,430,963"/>
<area shape="poly" title=" " alt="" coords="439,957,461,969,478,988,486,1008,493,1026,509,1044,536,1060,565,1070,564,1075,533,1064,505,1048,488,1029,481,1010,473,991,457,974,437,962"/>
<area shape="poly" title=" " alt="" coords="439,950,538,960,537,966,438,955"/>
<area shape="poly" title=" " alt="" coords="440,956,461,970,475,987,482,1006,485,1042,488,1077,495,1093,509,1110,534,1125,532,1130,505,1114,491,1096,483,1078,480,1042,477,1007,470,990,457,974,437,960"/>
<area shape="poly" title=" " alt="" coords="438,933,529,923,529,928,439,938"/>
<area shape="poly" title=" " alt="" coords="375,1246,429,1301,466,1329,508,1350,576,1374,632,1385,659,1384,687,1379,716,1368,749,1351,772,1334,792,1313,823,1265,845,1214,857,1171,862,1173,850,1216,828,1267,796,1317,775,1338,752,1355,718,1373,688,1384,660,1390,632,1390,574,1379,506,1355,463,1334,425,1305,371,1249"/>
<area shape="poly" title=" " alt="" coords="441,1210,457,1200,474,1178,480,1155,487,1131,494,1119,505,1108,533,1093,564,1084,565,1089,535,1098,509,1112,498,1123,492,1133,485,1157,479,1181,461,1204,444,1215"/>
<area shape="poly" title=" " alt="" coords="424,1210,458,1200,568,1160,570,1165,460,1205,425,1215"/>
<area shape="poly" title=" " alt="" coords="380,1245,419,1285,461,1335,475,1358,483,1378,491,1396,509,1413,528,1426,525,1430,505,1418,487,1399,478,1380,470,1361,457,1338,415,1289,376,1249"/>
<area shape="poly" title=" " alt="" coords="440,1013,461,1027,475,1045,482,1064,484,1101,486,1137,494,1152,509,1167,545,1186,584,1197,625,1201,667,1199,748,1183,814,1160,816,1165,749,1188,668,1205,625,1206,583,1203,543,1191,505,1171,489,1155,481,1138,478,1102,477,1065,470,1048,457,1031,437,1018"/>
<area shape="poly" title=" " alt="" coords="425,1016,460,1026,508,1044,565,1062,564,1067,506,1049,458,1031,423,1021"/>
<area shape="poly" title=" " alt="" coords="439,990,537,980,538,985,439,995"/>
<area shape="poly" title=" " alt="" coords="440,1015,461,1027,478,1048,485,1070,492,1090,509,1109,534,1123,531,1128,505,1114,487,1093,480,1071,474,1051,457,1031,438,1019"/>
<area shape="poly" title=" " alt="" coords="430,981,458,970,482,956,506,941,529,933,531,938,508,946,484,960,460,975,431,986"/>
<area shape="poly" title=" " alt="" coords="446,1073,461,1084,474,1101,481,1118,484,1152,487,1184,495,1198,509,1211,540,1229,569,1240,596,1245,623,1245,680,1232,749,1210,795,1190,834,1164,837,1169,797,1195,751,1215,682,1237,623,1250,596,1250,567,1246,538,1234,505,1215,490,1201,482,1185,478,1152,476,1119,469,1103,457,1088,443,1078"/>
<area shape="poly" title=" " alt="" coords="451,1064,565,1074,564,1079,451,1069"/>
<area shape="poly" title=" " alt="" coords="423,1038,458,1028,563,993,565,998,460,1033,424,1043"/>
<area shape="poly" title=" " alt="" coords="430,1073,460,1084,484,1097,508,1109,533,1117,531,1122,506,1114,482,1101,458,1089,428,1078"/>
<area shape="poly" title=" " alt="" coords="441,1039,457,1028,474,1008,480,986,487,963,505,942,529,928,531,933,509,946,492,966,485,987,478,1010,461,1032,443,1043"/>
<area shape="poly" title=" " alt="" coords="717,89,809,78,810,84,718,95"/>
<area shape="poly" title=" " alt="" coords="706,117,793,137,791,142,705,122"/>
<area shape="poly" title=" " alt="" coords="372,438,427,386,464,360,506,340,575,317,632,305,660,306,688,311,719,322,752,340,777,359,798,382,830,435,852,490,864,536,858,538,846,491,826,437,794,385,773,363,749,344,716,327,687,316,659,311,633,311,576,322,508,345,467,364,430,390,376,442"/>
</map>
</div>

</div>
</div>
<a id="a4368db4f95cd28dc11c33e44a7e8f3fe" name="a4368db4f95cd28dc11c33e44a7e8f3fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4368db4f95cd28dc11c33e44a7e8f3fe">&#9670;&#160;</a></span>rpc_session_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> * rpc_session_create </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>timeout</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00315">315</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  316</span>{</div>
<div class="line"><span class="lineno">  317</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno">  318</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d2/d0c/structrpc__session__cb">rpc_session_cb</a> *<a class="code hl_variable" href="../../da/d46/session_8h.html#a8dbedff0a73d9e8236a890e2c6728355">cb</a>;</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>    ses = <a class="code hl_function" href="#a4e65e993938bcd87e1a73d5120121e4e">rpc_session_new</a>();</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordflow">if</span> (!ses)</div>
<div class="line"><span class="lineno">  323</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#adb30923ed65e01b2047d9d2034a1b15d">rpc_random</a>(ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a2eddeba0d0ae2a4d3bdc691415f8d5f6">id</a>))</div>
<div class="line"><span class="lineno">  326</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>    ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa16d4621e81aca679fdb27610c5b2e1d">timeout</a> = <a class="code hl_variable" href="../../de/d89/procd_2ubus_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>;</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>    <a class="code hl_function" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2">avl_insert</a>(&amp;<a class="code hl_variable" href="#aba81a584ebe050715570ab74db1d30be">sessions</a>, &amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a1c0637409779a09f9608ea4862060536">avl</a>);</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    <a class="code hl_function" href="#a15a41226cf2bf6546acd3cb1975459c9">rpc_touch_session</a>(ses);</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>    <a class="code hl_define" href="../../da/d23/list_8h.html#a6b4019bb70de70adc3caddbe3a024c27">list_for_each_entry</a>(<a class="code hl_variable" href="../../da/d46/session_8h.html#a8dbedff0a73d9e8236a890e2c6728355">cb</a>, &amp;create_callbacks, <a class="code hl_variable" href="../../da/d46/session_8h.html#a8039cd85cfa01b465c683f6f1e3cc5cf">list</a>)</div>
<div class="line"><span class="lineno">  335</span>        <a class="code hl_variable" href="../../da/d46/session_8h.html#a8dbedff0a73d9e8236a890e2c6728355">cb</a>-&gt;cb(ses, <a class="code hl_variable" href="../../da/d46/session_8h.html#a8dbedff0a73d9e8236a890e2c6728355">cb</a>-&gt;priv);</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">return</span> ses;</div>
<div class="line"><span class="lineno">  338</span>}</div>
<div class="ttc" id="alist_8h_html_a6b4019bb70de70adc3caddbe3a024c27"><div class="ttname"><a href="../../da/d23/list_8h.html#a6b4019bb70de70adc3caddbe3a024c27">list_for_each_entry</a></div><div class="ttdeci">#define list_for_each_entry(p, h, field)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00132">list.h:132</a></div></div>
<div class="ttc" id="asession_8c_html_a15a41226cf2bf6546acd3cb1975459c9"><div class="ttname"><a href="#a15a41226cf2bf6546acd3cb1975459c9">rpc_touch_session</a></div><div class="ttdeci">static void rpc_touch_session(struct rpc_session *ses)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00252">session.c:252</a></div></div>
<div class="ttc" id="asession_8c_html_adb30923ed65e01b2047d9d2034a1b15d"><div class="ttname"><a href="#adb30923ed65e01b2047d9d2034a1b15d">rpc_random</a></div><div class="ttdeci">static int rpc_random(char *dest)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00150">session.c:150</a></div></div>
<div class="ttc" id="asession_8h_html_a8039cd85cfa01b465c683f6f1e3cc5cf"><div class="ttname"><a href="../../da/d46/session_8h.html#a8039cd85cfa01b465c683f6f1e3cc5cf">rpc_session_cb::list</a></div><div class="ttdeci">struct list_head list</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00075">session.h:75</a></div></div>
<div class="ttc" id="asession_8h_html_a8dbedff0a73d9e8236a890e2c6728355"><div class="ttname"><a href="../../da/d46/session_8h.html#a8dbedff0a73d9e8236a890e2c6728355">rpc_session_cb::cb</a></div><div class="ttdeci">void(* cb)(struct rpc_session *, void *)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00076">session.h:76</a></div></div>
<div class="ttc" id="asession_8h_html_aa16d4621e81aca679fdb27610c5b2e1d"><div class="ttname"><a href="../../da/d46/session_8h.html#aa16d4621e81aca679fdb27610c5b2e1d">rpc_session::timeout</a></div><div class="ttdeci">int timeout</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00049">session.h:49</a></div></div>
<div class="ttc" id="asession_8h_html_d2/d0c/structrpc__session__cb"><div class="ttname"><a href="../../da/d46/session_8h.html#d2/d0c/structrpc__session__cb">rpc_session_cb</a></div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00074">session.h:74</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00042">rpc_session::avl</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00220">avl_insert()</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00076">rpc_session_cb::cb</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00043">rpc_session::id</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00075">rpc_session_cb::list</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00132">list_for_each_entry</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00150">rpc_random()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00295">rpc_session_new()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00252">rpc_touch_session()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00037">sessions</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00049">rpc_session::timeout</a>, and <a class="el" href="../../de/d89/procd_2ubus_8c_source.html#l00025">timeout</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00354">rpc_handle_create()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01126">rpc_handle_login()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a4368db4f95cd28dc11c33e44a7e8f3fe_cgraph.png" border="0" usemap="#ade/d67/session_8c_a4368db4f95cd28dc11c33e44a7e8f3fe_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a4368db4f95cd28dc11c33e44a7e8f3fe_cgraph" id="ade/d67/session_8c_a4368db4f95cd28dc11c33e44a7e8f3fe_cgraph">
<area shape="rect" title=" " alt="" coords="5,471,201,504"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="1039,343,1150,376"/>
<area shape="poly" title=" " alt="" coords="137,468,189,445,248,426,356,404,468,387,687,365,881,356,1024,355,1024,361,881,362,687,370,468,392,357,409,249,431,190,450,139,473"/>
<area shape="rect" href="../../de/d67/session_8c.html#adb30923ed65e01b2047d9d2034a1b15d" title=" " alt="" coords="278,441,410,475"/>
<area shape="poly" title=" " alt="" coords="201,473,262,465,263,471,202,478"/>
<area shape="rect" href="../../de/d67/session_8c.html#a4e65e993938bcd87e1a73d5120121e4e" title=" " alt="" coords="256,499,432,532"/>
<area shape="poly" title=" " alt="" coords="202,496,241,501,240,506,201,501"/>
<area shape="rect" href="../../de/d67/session_8c.html#a15a41226cf2bf6546acd3cb1975459c9" title=" " alt="" coords="249,583,439,616"/>
<area shape="poly" title=" " alt="" coords="143,502,293,573,291,578,140,507"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="1282,123,1412,156"/>
<area shape="poly" title=" " alt="" coords="1101,341,1120,304,1149,256,1188,207,1236,165,1266,150,1268,155,1238,170,1192,211,1153,259,1125,306,1106,343"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="1266,313,1428,347"/>
<area shape="poly" title=" " alt="" coords="1150,350,1250,339,1251,344,1150,356"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1541,313,1633,347"/>
<area shape="poly" title=" " alt="" coords="1126,340,1177,317,1236,298,1298,288,1347,287,1458,298,1527,311,1526,316,1457,303,1347,292,1299,294,1238,303,1179,322,1128,345"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="1258,371,1436,404"/>
<area shape="poly" title=" " alt="" coords="1150,363,1243,373,1242,378,1150,368"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="1298,485,1396,519"/>
<area shape="poly" title=" " alt="" coords="1114,375,1166,423,1201,449,1238,472,1284,488,1282,493,1236,476,1198,454,1163,427,1110,378"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="1290,428,1404,462"/>
<area shape="poly" title=" " alt="" coords="1136,374,1238,414,1276,425,1274,430,1236,419,1134,379"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="1525,65,1649,99"/>
<area shape="poly" title=" " alt="" coords="1096,342,1108,288,1133,216,1151,178,1174,142,1202,110,1236,84,1268,67,1303,56,1339,49,1376,46,1448,49,1511,59,1510,64,1447,55,1376,52,1340,55,1305,61,1270,72,1238,88,1206,114,1178,145,1156,181,1138,218,1113,290,1101,343"/>
<area shape="poly" title=" " alt="" coords="1304,123,1300,113,1306,104,1322,98,1347,96,1374,98,1390,105,1388,110,1373,104,1347,101,1323,103,1309,108,1305,114,1309,121"/>
<area shape="poly" title=" " alt="" coords="1429,327,1525,327,1525,333,1429,333"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1748,343,1850,376"/>
<area shape="poly" title=" " alt="" coords="1634,334,1733,348,1733,353,1633,339"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="1522,371,1652,404"/>
<area shape="poly" title=" " alt="" coords="1437,385,1507,385,1507,390,1437,390"/>
<area shape="poly" title=" " alt="" coords="1652,376,1732,365,1733,371,1653,381"/>
<area shape="poly" title=" " alt="" coords="1549,66,1545,56,1550,47,1565,41,1587,39,1611,41,1625,47,1622,52,1610,46,1587,44,1566,46,1554,51,1550,56,1554,64"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="1724,135,1874,168"/>
<area shape="poly" title=" " alt="" coords="1642,97,1731,127,1730,132,1640,102"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="1717,77,1881,111"/>
<area shape="poly" title=" " alt="" coords="1649,83,1701,86,1701,91,1649,88"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1929,77,2026,111"/>
<area shape="poly" title=" " alt="" coords="1853,131,1914,112,1915,117,1854,137"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1932,135,2024,168"/>
<area shape="poly" title=" " alt="" coords="1874,149,1916,149,1916,154,1874,154"/>
<area shape="poly" title=" " alt="" coords="1882,91,1913,91,1913,97,1882,97"/>
<area shape="poly" title=" " alt="" coords="1854,109,1917,129,1916,134,1853,114"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="549,441,635,475"/>
<area shape="poly" title=" " alt="" coords="419,495,533,469,534,474,420,501"/>
<area shape="rect" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0" title=" " alt="" coords="531,499,652,532"/>
<area shape="poly" title=" " alt="" coords="433,513,515,513,515,518,433,518"/>
<area shape="rect" href="../../de/d67/session_8c.html#a942904f3bce66749528077eea3656a9e" title=" " alt="" coords="487,556,696,590"/>
<area shape="poly" title=" " alt="" coords="420,530,502,549,500,554,419,535"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="764,441,932,475"/>
<area shape="poly" title=" " alt="" coords="635,455,748,455,748,461,635,461"/>
<area shape="rect" href="../../de/d67/session_8c.html#af8a6b910b22f08634f041229c48633b0" title=" " alt="" coords="744,556,952,590"/>
<area shape="poly" title=" " alt="" coords="697,570,728,570,728,575,697,575"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="1037,485,1152,519"/>
<area shape="poly" title=" " alt="" coords="909,553,1022,520,1023,525,910,558"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="1237,600,1457,634"/>
<area shape="poly" title=" " alt="" coords="952,579,1222,603,1221,608,952,584"/>
<area shape="poly" title=" " alt="" coords="1152,499,1283,499,1283,505,1152,505"/>
<area shape="poly" title=" " alt="" coords="1151,487,1274,458,1276,464,1152,492"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="1254,204,1440,238"/>
<area shape="poly" title=" " alt="" coords="1110,483,1146,441,1187,387,1200,363,1209,342,1218,322,1235,299,1267,269,1301,244,1304,248,1270,273,1239,302,1223,325,1214,345,1205,365,1191,390,1151,444,1114,487"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="1284,543,1410,576"/>
<area shape="poly" title=" " alt="" coords="1152,512,1270,539,1268,544,1151,518"/>
<area shape="poly" title=" " alt="" coords="1401,235,1457,250,1525,260,1597,261,1633,257,1668,248,1697,234,1725,217,1770,178,1773,182,1728,221,1700,239,1670,253,1634,262,1598,267,1524,265,1456,255,1399,241"/>
<area shape="poly" title=" " alt="" coords="1405,201,1432,187,1455,167,1467,149,1473,131,1475,94,1479,59,1488,42,1504,27,1535,10,1569,4,1605,4,1640,11,1707,36,1761,66,1759,71,1705,41,1639,16,1604,10,1570,9,1537,15,1507,31,1492,45,1484,61,1480,95,1478,132,1472,151,1459,170,1435,191,1407,206"/>
<area shape="poly" title=" " alt="" coords="1304,205,1300,195,1306,185,1322,179,1347,177,1374,180,1390,186,1388,191,1373,185,1347,183,1323,185,1309,189,1305,195,1309,202"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="1515,204,1659,238"/>
<area shape="poly" title=" " alt="" coords="1441,218,1500,218,1500,223,1441,223"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="1505,147,1669,180"/>
<area shape="poly" title=" " alt="" coords="1420,201,1498,182,1499,187,1421,206"/>
<area shape="poly" title=" " alt="" coords="1669,156,1708,154,1709,159,1669,161"/>
<area shape="poly" title=" " alt="" coords="1640,143,1730,114,1731,119,1642,148"/>
<area shape="poly" title=" " alt="" coords="1549,147,1545,137,1550,128,1565,122,1587,120,1611,122,1625,129,1622,134,1610,128,1587,125,1566,127,1554,132,1550,138,1554,145"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1544,572,1630,606"/>
<area shape="poly" title=" " alt="" coords="1411,564,1529,579,1529,584,1410,570"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1752,572,1846,606"/>
<area shape="poly" title=" " alt="" coords="1630,586,1736,586,1736,591,1630,591"/>
<area shape="poly" title=" " alt="" coords="1457,601,1529,593,1529,598,1458,606"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="1000,641,1189,675"/>
<area shape="poly" title=" " alt="" coords="440,604,985,647,984,652,439,609"/>
<area shape="poly" title=" " alt="" coords="1189,640,1225,634,1225,639,1190,645"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1271,715,1423,748"/>
<area shape="poly" title=" " alt="" coords="1148,673,1238,701,1262,707,1260,713,1236,706,1146,678"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="1249,657,1445,691"/>
<area shape="poly" title=" " alt="" coords="1190,661,1234,664,1233,670,1189,667"/>
<area shape="poly" title=" " alt="" coords="1440,654,1455,644,1504,553,1569,417,1574,419,1509,555,1459,648,1442,659"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="1548,657,1626,691"/>
<area shape="poly" title=" " alt="" coords="1446,671,1533,671,1533,677,1446,677"/>
</map>
</div>

</div>
</div>
<a id="a43b9bb035a5633f6232a0a0f6ec4c151" name="a43b9bb035a5633f6232a0a0f6ec4c151"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43b9bb035a5633f6232a0a0f6ec4c151">&#9670;&#160;</a></span>rpc_session_create_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rpc_session_create_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d46/session_8h.html#d2/d0c/structrpc__session__cb">rpc_session_cb</a> *</td>          <td class="paramname"><span class="paramname"><em>cb</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l01375">1375</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1376</span>{</div>
<div class="line"><span class="lineno"> 1377</span>    <span class="keywordflow">if</span> (cb &amp;&amp; cb-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a8dbedff0a73d9e8236a890e2c6728355">cb</a>)</div>
<div class="line"><span class="lineno"> 1378</span>        <a class="code hl_function" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6">list_add</a>(&amp;cb-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a8039cd85cfa01b465c683f6f1e3cc5cf">list</a>, &amp;create_callbacks);</div>
<div class="line"><span class="lineno"> 1379</span>}</div>
<div class="ttc" id="alist_8h_html_a875b53c95596d9e8df15ac54f6d24ae6"><div class="ttname"><a href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6">list_add</a></div><div class="ttdeci">static void list_add(struct list_head *_new, struct list_head *head)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00159">list.h:159</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00076">rpc_session_cb::cb</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00075">rpc_session_cb::list</a>, and <a class="el" href="../../da/d23/list_8h_source.html#l00159">list_add()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a43b9bb035a5633f6232a0a0f6ec4c151_cgraph.png" border="0" usemap="#ade/d67/session_8c_a43b9bb035a5633f6232a0a0f6ec4c151_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a43b9bb035a5633f6232a0a0f6ec4c151_cgraph" id="ade/d67/session_8c_a43b9bb035a5633f6232a0a0f6ec4c151_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,232,39"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="280,5,372,39"/>
<area shape="poly" title=" " alt="" coords="232,20,264,20,264,25,232,25"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="420,5,521,39"/>
<area shape="poly" title=" " alt="" coords="373,20,404,20,404,25,373,25"/>
</map>
</div>

</div>
</div>
<a id="af8a6b910b22f08634f041229c48633b0" name="af8a6b910b22f08634f041229c48633b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8a6b910b22f08634f041229c48633b0">&#9670;&#160;</a></span>rpc_session_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_session_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *</td>          <td class="paramname"><span class="paramname"><em>ses</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00259">259</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  260</span>{</div>
<div class="line"><span class="lineno">  261</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d3/d73/structrpc__session__acl">rpc_session_acl</a> *acl, *nacl;</div>
<div class="line"><span class="lineno">  262</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#de/dcc/structrpc__session__acl__scope">rpc_session_acl_scope</a> *acl_scope, *nacl_scope;</div>
<div class="line"><span class="lineno">  263</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#db/dfa/structrpc__session__data">rpc_session_data</a> *data, *ndata;</div>
<div class="line"><span class="lineno">  264</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d2/d0c/structrpc__session__cb">rpc_session_cb</a> *<a class="code hl_variable" href="../../da/d46/session_8h.html#a8dbedff0a73d9e8236a890e2c6728355">cb</a>;</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>    <a class="code hl_define" href="../../da/d23/list_8h.html#a6b4019bb70de70adc3caddbe3a024c27">list_for_each_entry</a>(<a class="code hl_variable" href="../../da/d46/session_8h.html#a8dbedff0a73d9e8236a890e2c6728355">cb</a>, &amp;destroy_callbacks, <a class="code hl_variable" href="../../da/d46/session_8h.html#a8039cd85cfa01b465c683f6f1e3cc5cf">list</a>)</div>
<div class="line"><span class="lineno">  267</span>        <a class="code hl_variable" href="../../da/d46/session_8h.html#a8dbedff0a73d9e8236a890e2c6728355">cb</a>-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a8dbedff0a73d9e8236a890e2c6728355">cb</a>(ses, <a class="code hl_variable" href="../../da/d46/session_8h.html#a8dbedff0a73d9e8236a890e2c6728355">cb</a>-&gt;priv);</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91">uloop_timeout_cancel</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a5ef493b8ace61c91f704e3894c9978f0">t</a>);</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>    <a class="code hl_define" href="../../d3/d51/avl_8h.html#ab23455256f763fb1e8034c6d9537a0ed">avl_for_each_element_safe</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a5c17aa340017659115f58073025296a6">acls</a>, acl_scope, avl, nacl_scope) {</div>
<div class="line"><span class="lineno">  272</span>        <a class="code hl_define" href="../../d3/d51/avl_8h.html#af8b3ca3843e7a4bb3bc80858f53c2ad5">avl_remove_all_elements</a>(&amp;acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa68919d297c23b76e3d05f20e54362c6">acls</a>, acl, avl, nacl)</div>
<div class="line"><span class="lineno">  273</span>            free(acl);</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>        <a class="code hl_function" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106">avl_delete</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a5c17aa340017659115f58073025296a6">acls</a>, &amp;acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">avl</a>);</div>
<div class="line"><span class="lineno">  276</span>        free(acl_scope);</div>
<div class="line"><span class="lineno">  277</span>    }</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>    <a class="code hl_define" href="../../d3/d51/avl_8h.html#af8b3ca3843e7a4bb3bc80858f53c2ad5">avl_remove_all_elements</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aeeb121d2bac9ac1a4c3c7fe3d2a312a7">data</a>, data, avl, ndata)</div>
<div class="line"><span class="lineno">  280</span>        free(data);</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    <a class="code hl_function" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106">avl_delete</a>(&amp;<a class="code hl_variable" href="#aba81a584ebe050715570ab74db1d30be">sessions</a>, &amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a1c0637409779a09f9608ea4862060536">avl</a>);</div>
<div class="line"><span class="lineno">  283</span>    free(ses);</div>
<div class="line"><span class="lineno">  284</span>}</div>
<div class="ttc" id="aavl_8h_html_ab23455256f763fb1e8034c6d9537a0ed"><div class="ttname"><a href="../../d3/d51/avl_8h.html#ab23455256f763fb1e8034c6d9537a0ed">avl_for_each_element_safe</a></div><div class="ttdeci">#define avl_for_each_element_safe(tree, element, node_member, ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00503">avl.h:503</a></div></div>
<div class="ttc" id="asession_8h_html_a5ef493b8ace61c91f704e3894c9978f0"><div class="ttname"><a href="../../da/d46/session_8h.html#a5ef493b8ace61c91f704e3894c9978f0">rpc_session::t</a></div><div class="ttdeci">struct uloop_timeout t</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00045">session.h:45</a></div></div>
<div class="ttc" id="auloop_8c_html_a6231184d2f54ac1bc945ecb73c517d91"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91">uloop_timeout_cancel</a></div><div class="ttdeci">int uloop_timeout_cancel(struct uloop_timeout *timeout)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00348">uloop.c:348</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00047">rpc_session::acls</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00059">rpc_session_acl_scope::acls</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00042">rpc_session::avl</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00058">rpc_session_acl_scope::avl</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00307">avl_delete()</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00503">avl_for_each_element_safe</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00545">avl_remove_all_elements</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00076">rpc_session_cb::cb</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00046">rpc_session::data</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00075">rpc_session_cb::list</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00132">list_for_each_entry</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00037">sessions</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00045">rpc_session::t</a>, and <a class="el" href="../../d1/d08/uloop_8c_source.html#l00348">uloop_timeout_cancel()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00767">rpc_handle_destroy()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00286">rpc_session_timeout()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_af8a6b910b22f08634f041229c48633b0_cgraph.png" border="0" usemap="#ade/d67/session_8c_af8a6b910b22f08634f041229c48633b0_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_af8a6b910b22f08634f041229c48633b0_cgraph" id="ade/d67/session_8c_af8a6b910b22f08634f041229c48633b0_cgraph">
<area shape="rect" title=" " alt="" coords="5,200,213,234"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="314,144,428,178"/>
<area shape="poly" title=" " alt="" coords="191,197,298,174,299,179,192,202"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="261,228,481,262"/>
<area shape="poly" title=" " alt="" coords="213,225,245,229,245,234,213,231"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="529,87,715,120"/>
<area shape="poly" title=" " alt="" coords="428,145,530,122,531,127,429,150"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="573,5,671,39"/>
<area shape="poly" title=" " alt="" coords="391,141,450,95,488,70,528,48,557,36,559,41,530,53,491,75,453,100,394,146"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="559,201,685,235"/>
<area shape="poly" title=" " alt="" coords="429,171,544,198,543,203,428,176"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="565,144,679,178"/>
<area shape="poly" title=" " alt="" coords="429,158,549,158,549,164,429,164"/>
<area shape="poly" title=" " alt="" coords="582,87,578,77,584,68,599,62,622,60,647,62,662,69,660,74,646,68,622,65,600,67,587,72,583,78,587,85"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="773,117,917,151"/>
<area shape="poly" title=" " alt="" coords="716,114,758,120,758,125,715,119"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="763,60,927,94"/>
<area shape="poly" title=" " alt="" coords="715,90,748,86,748,91,716,95"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="982,89,1132,123"/>
<area shape="poly" title=" " alt="" coords="690,118,717,129,740,147,750,155,764,161,809,172,844,174,881,170,926,161,971,147,1011,128,1014,133,973,152,927,166,881,175,844,180,808,177,762,166,747,159,737,151,714,134,688,123"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="975,32,1139,66"/>
<area shape="poly" title=" " alt="" coords="653,84,714,49,737,33,763,21,819,12,876,11,931,17,980,25,979,31,931,22,876,16,819,17,764,26,740,38,717,54,656,88"/>
<area shape="poly" title=" " alt="" coords="807,61,803,51,808,41,823,35,845,33,869,36,883,42,880,47,868,41,845,39,824,41,812,45,808,51,812,59"/>
<area shape="poly" title=" " alt="" coords="928,86,967,91,966,96,927,91"/>
<area shape="poly" title=" " alt="" coords="927,63,959,59,960,64,928,69"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1187,32,1284,66"/>
<area shape="poly" title=" " alt="" coords="1111,86,1172,66,1173,71,1112,91"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1190,89,1282,123"/>
<area shape="poly" title=" " alt="" coords="1132,104,1174,104,1174,109,1132,109"/>
<area shape="poly" title=" " alt="" coords="1140,46,1171,46,1171,52,1140,52"/>
<area shape="poly" title=" " alt="" coords="1112,64,1175,84,1174,89,1111,69"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="802,228,888,262"/>
<area shape="poly" title=" " alt="" coords="686,223,787,235,786,241,685,228"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1010,228,1104,262"/>
<area shape="poly" title=" " alt="" coords="888,242,994,242,994,248,888,248"/>
<area shape="poly" title=" " alt="" coords="481,244,529,245,715,245,787,244,787,249,715,250,529,250,481,250"/>
</map>
</div>

</div>
</div>
<a id="ac968b549979b7bc04c07be602c56d95a" name="ac968b549979b7bc04c07be602c56d95a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac968b549979b7bc04c07be602c56d95a">&#9670;&#160;</a></span>rpc_session_destroy_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rpc_session_destroy_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d46/session_8h.html#d2/d0c/structrpc__session__cb">rpc_session_cb</a> *</td>          <td class="paramname"><span class="paramname"><em>cb</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l01381">1381</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1382</span>{</div>
<div class="line"><span class="lineno"> 1383</span>    <span class="keywordflow">if</span> (cb &amp;&amp; cb-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a8dbedff0a73d9e8236a890e2c6728355">cb</a>)</div>
<div class="line"><span class="lineno"> 1384</span>        <a class="code hl_function" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6">list_add</a>(&amp;cb-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a8039cd85cfa01b465c683f6f1e3cc5cf">list</a>, &amp;destroy_callbacks);</div>
<div class="line"><span class="lineno"> 1385</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00076">rpc_session_cb::cb</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00075">rpc_session_cb::list</a>, and <a class="el" href="../../da/d23/list_8h_source.html#l00159">list_add()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/dad/uci_8c_source.html#l01760">rpc_uci_api_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_ac968b549979b7bc04c07be602c56d95a_cgraph.png" border="0" usemap="#ade/d67/session_8c_ac968b549979b7bc04c07be602c56d95a_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_ac968b549979b7bc04c07be602c56d95a_cgraph" id="ade/d67/session_8c_ac968b549979b7bc04c07be602c56d95a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,244,39"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="292,5,384,39"/>
<area shape="poly" title=" " alt="" coords="244,20,276,20,276,25,244,25"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="432,5,533,39"/>
<area shape="poly" title=" " alt="" coords="385,20,416,20,416,25,385,25"/>
</map>
</div>

</div>
</div>
<a id="ae5d591f9a73009f4be53ee07d73cbf49" name="ae5d591f9a73009f4be53ee07d73cbf49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5d591f9a73009f4be53ee07d73cbf49">&#9670;&#160;</a></span>rpc_session_dump()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_session_dump </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *</td>          <td class="paramname"><span class="paramname"><em>ses</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#df/d18/structubus__context">ubus_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d55/libubus_8h.html#d5/d2a/structubus__request__data">ubus_request_data</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00243">243</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  245</span>{</div>
<div class="line"><span class="lineno">  246</span>    <a class="code hl_function" href="#aaa8dccc7bffc72a3e31e4f3e14792e6d">rpc_session_to_blob</a>(ses, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>    <a class="code hl_function" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4">ubus_send_reply</a>(<a class="code hl_variable" href="../../d5/dd5/hotplug-dispatch_8c.html#a7c00b3b8999b2056f226d3cc35a83845">ctx</a>, req, <a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>.<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#af6065d74116605108b22c11e75ec669c">head</a>);</div>
<div class="line"><span class="lineno">  249</span>}</div>
<div class="ttc" id="asession_8c_html_aaa8dccc7bffc72a3e31e4f3e14792e6d"><div class="ttname"><a href="#aaa8dccc7bffc72a3e31e4f3e14792e6d">rpc_session_to_blob</a></div><div class="ttdeci">static void rpc_session_to_blob(struct rpc_session *ses, bool acls)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00221">session.c:221</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00038">buf</a>, <a class="el" href="../../d5/dd5/hotplug-dispatch_8c_source.html#l00042">ctx</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00065">blob_buf::head</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00221">rpc_session_to_blob()</a>, and <a class="el" href="../../d2/de5/libubus-req_8c_source.html#l00205">ubus_send_reply()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00354">rpc_handle_create()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00374">rpc_handle_list()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01126">rpc_handle_login()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_ae5d591f9a73009f4be53ee07d73cbf49_cgraph.png" border="0" usemap="#ade/d67/session_8c_ae5d591f9a73009f4be53ee07d73cbf49_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_ae5d591f9a73009f4be53ee07d73cbf49_cgraph" id="ade/d67/session_8c_ae5d591f9a73009f4be53ee07d73cbf49_cgraph">
<area shape="rect" title=" " alt="" coords="5,555,198,589"/>
<area shape="rect" href="../../de/d67/session_8c.html#aaa8dccc7bffc72a3e31e4f3e14792e6d" title=" " alt="" coords="470,300,675,334"/>
<area shape="poly" title=" " alt="" coords="133,552,525,339,528,344,136,557"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#aab336677450493ac2229e8a2f70fa0e4" title=" " alt="" coords="246,582,422,615"/>
<area shape="poly" title=" " alt="" coords="199,580,231,584,230,589,198,586"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="793,610,932,643"/>
<area shape="poly" title=" " alt="" coords="588,333,645,408,725,502,779,554,829,598,826,602,775,558,721,506,641,412,584,336"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="1067,214,1275,247"/>
<area shape="poly" title=" " alt="" coords="645,297,723,281,894,256,1051,239,1051,244,895,262,724,287,646,302"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393" title=" " alt="" coords="767,20,958,54"/>
<area shape="poly" title=" " alt="" coords="579,299,598,257,629,201,670,142,695,115,722,90,749,72,779,58,781,63,752,76,725,94,699,118,674,146,633,204,603,260,583,301"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a49c8f3302820716f41cd9bdafab331fa" title=" " alt="" coords="767,163,958,197"/>
<area shape="poly" title=" " alt="" coords="594,298,650,257,722,216,767,199,769,204,724,221,653,262,597,302"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14" title=" " alt="" coords="1065,500,1277,534"/>
<area shape="poly" title=" " alt="" coords="593,333,649,380,685,406,724,427,806,457,891,480,974,495,1049,506,1049,511,973,501,890,485,804,462,722,432,683,410,646,385,590,337"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a" title=" " alt="" coords="1065,328,1277,362"/>
<area shape="poly" title=" " alt="" coords="676,319,1050,337,1049,342,676,325"/>
<area shape="rect" href="../../de/d67/session_8c.html#a40fa1238b59f856f01058476b97d4ce9" title=" " alt="" coords="744,383,981,417"/>
<area shape="poly" title=" " alt="" coords="631,332,724,360,781,376,780,381,723,365,629,337"/>
<area shape="rect" href="../../de/d67/session_8c.html#a0976582c7397887dad087ddf62cacabd" title=" " alt="" coords="1050,271,1292,305"/>
<area shape="poly" title=" " alt="" coords="676,310,1034,292,1034,297,676,315"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a144dc46ccd6334bb5736232ab966e0d7" title=" " alt="" coords="723,104,1002,138"/>
<area shape="poly" title=" " alt="" coords="582,298,604,266,635,225,675,183,722,148,734,142,736,147,725,153,679,187,639,228,608,269,586,301"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1118,667,1224,701"/>
<area shape="poly" title=" " alt="" coords="933,637,1103,669,1102,674,932,642"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="1081,610,1261,643"/>
<area shape="poly" title=" " alt="" coords="933,624,1065,624,1065,629,933,629"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1626,708,1769,742"/>
<area shape="poly" title=" " alt="" coords="1224,692,1340,709,1483,719,1610,722,1610,728,1482,724,1340,715,1224,697"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1377,666,1532,699"/>
<area shape="poly" title=" " alt="" coords="1224,681,1361,680,1361,686,1224,686"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1626,642,1769,675"/>
<area shape="poly" title=" " alt="" coords="1223,677,1258,669,1290,654,1305,639,1313,623,1322,607,1339,594,1400,571,1452,567,1505,576,1569,593,1594,605,1618,620,1643,633,1641,637,1615,625,1592,610,1567,598,1504,582,1451,573,1401,576,1341,598,1326,611,1318,626,1310,642,1294,658,1260,674,1225,682"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1386,775,1522,809"/>
<area shape="poly" title=" " alt="" coords="1211,699,1341,753,1381,767,1379,772,1339,758,1209,704"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1405,608,1504,642"/>
<area shape="poly" title=" " alt="" coords="1223,671,1389,636,1390,641,1224,676"/>
<area shape="poly" title=" " alt="" coords="1533,694,1611,708,1611,713,1532,699"/>
<area shape="poly" title=" " alt="" coords="1532,672,1610,664,1611,670,1533,678"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1627,775,1768,809"/>
<area shape="poly" title=" " alt="" coords="1523,789,1611,789,1611,795,1523,795"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1833,562,1932,595"/>
<area shape="poly" title=" " alt="" coords="1747,772,1777,753,1807,719,1833,680,1867,609,1872,611,1837,683,1812,722,1780,757,1750,777"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="1357,159,1551,193"/>
<area shape="poly" title=" " alt="" coords="1261,211,1348,194,1349,199,1262,216"/>
<area shape="poly" title=" " alt="" coords="945,17,1021,7,1109,3,1203,9,1249,18,1293,32,1336,55,1375,84,1408,116,1433,145,1429,149,1404,120,1372,88,1333,59,1291,37,1247,24,1202,15,1109,8,1021,12,946,22"/>
<area shape="poly" title=" " alt="" coords="958,177,1341,174,1342,179,958,182"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aa980250f4a411659367b8bffaf5d6118" title=" " alt="" coords="1377,499,1531,533"/>
<area shape="poly" title=" " alt="" coords="1277,514,1362,514,1362,519,1277,519"/>
<area shape="poly" title=" " alt="" coords="1533,530,1570,550,1587,568,1595,585,1603,603,1618,621,1635,632,1632,636,1615,625,1599,606,1590,588,1582,571,1567,554,1530,535"/>
<area shape="poly" title=" " alt="" coords="1495,531,1552,552,1617,569,1669,576,1722,580,1818,580,1818,585,1722,585,1669,582,1616,575,1550,557,1493,536"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aaac450f6a679be8a392d17c3ed8700b4" title=" " alt="" coords="1340,383,1568,417"/>
<area shape="poly" title=" " alt="" coords="1262,360,1349,377,1348,382,1261,365"/>
<area shape="poly" title=" " alt="" coords="879,381,949,320,997,285,1048,256,1062,250,1064,255,1051,261,1000,290,953,324,883,385"/>
<area shape="poly" title=" " alt="" coords="901,415,1051,487,1071,493,1069,498,1049,492,898,420"/>
<area shape="poly" title=" " alt="" coords="961,380,1057,363,1058,368,962,385"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a56794b194617d9a858dbc783dd2a0c32" title=" " alt="" coords="1064,443,1278,477"/>
<area shape="poly" title=" " alt="" coords="953,415,1066,437,1065,442,952,420"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a938ceeed1d840f9df7946262f1835214" title=" " alt="" coords="1064,386,1278,419"/>
<area shape="poly" title=" " alt="" coords="982,398,1049,399,1049,404,982,404"/>
<area shape="poly" title=" " alt="" coords="1260,475,1363,495,1361,500,1259,480"/>
<area shape="poly" title=" " alt="" coords="1278,399,1325,398,1325,404,1278,404"/>
<area shape="poly" title=" " alt="" coords="1266,268,1291,258,1305,247,1314,236,1324,224,1339,212,1371,196,1374,201,1341,217,1327,228,1318,239,1309,251,1293,262,1269,273"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1622,271,1773,305"/>
<area shape="poly" title=" " alt="" coords="1292,285,1606,285,1606,291,1292,291"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="1360,326,1548,359"/>
<area shape="poly" title=" " alt="" coords="1262,303,1349,320,1348,325,1261,308"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="1616,214,1779,247"/>
<area shape="poly" title=" " alt="" coords="1292,272,1340,267,1601,238,1601,243,1340,272,1293,277"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1827,326,1938,359"/>
<area shape="poly" title=" " alt="" coords="1758,303,1813,319,1811,325,1756,308"/>
<area shape="poly" title=" " alt="" coords="1550,356,1570,369,1582,382,1590,396,1595,423,1600,450,1607,463,1618,475,1638,490,1657,499,1693,506,1732,509,1780,521,1840,551,1838,556,1778,526,1731,514,1692,511,1655,504,1635,495,1615,479,1602,466,1595,452,1590,424,1585,397,1578,385,1567,373,1547,360"/>
<area shape="poly" title=" " alt="" coords="1532,323,1606,306,1607,311,1533,328"/>
<area shape="poly" title=" " alt="" coords="1549,340,1811,340,1811,345,1549,345"/>
<area shape="poly" title=" " alt="" coords="1757,246,1780,256,1820,284,1855,313,1851,317,1817,288,1777,261,1755,250"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="1132,104,1210,138"/>
<area shape="poly" title=" " alt="" coords="1002,119,1116,119,1116,124,1002,124"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="1095,47,1247,81"/>
<area shape="poly" title=" " alt="" coords="956,101,1079,78,1080,83,957,106"/>
<area shape="poly" title=" " alt="" coords="423,601,778,619,777,625,422,606"/>
<area shape="rect" href="../../d2/de5/libubus-req_8c.html#a0e8112f19ea399af22d957f19cf6cfc7" title=" " alt="" coords="1376,440,1533,474"/>
<area shape="poly" title=" " alt="" coords="422,591,1291,544,1306,532,1314,516,1323,500,1338,484,1360,473,1363,478,1342,489,1327,503,1319,519,1310,535,1293,549,423,597"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a3e8e6d098f2808fa135bfefa3c0e81f8" title=" " alt="" coords="488,746,658,779"/>
<area shape="poly" title=" " alt="" coords="362,614,536,735,533,739,358,618"/>
<area shape="poly" title=" " alt="" coords="1534,471,1570,484,1594,502,1618,519,1668,538,1721,552,1818,570,1817,575,1720,558,1667,543,1615,524,1591,506,1567,489,1532,476"/>
<area shape="poly" title=" " alt="" coords="1527,437,1568,427,1811,360,1812,365,1569,432,1528,442"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a055e87e50f40e8a0bffc669e2a47d1eb" title=" " alt="" coords="1647,431,1748,465"/>
<area shape="poly" title=" " alt="" coords="1533,452,1631,448,1631,453,1533,457"/>
<area shape="poly" title=" " alt="" coords="1740,428,1777,410,1844,367,1847,371,1780,414,1742,433"/>
<area shape="poly" title=" " alt="" coords="609,743,810,648,812,653,612,748"/>
<area shape="poly" title=" " alt="" coords="659,769,959,795,1149,809,1340,819,1454,824,1504,824,1568,819,1618,810,1619,815,1569,824,1504,829,1454,830,1340,824,1148,814,959,801,658,774"/>
<area shape="rect" href="../../dc/d80/libubus-io_8c.html#a9a256a75cd053ed5d3443060e0a19a3f" title=" " alt="" coords="797,884,928,918"/>
<area shape="poly" title=" " alt="" coords="596,778,652,820,687,843,724,863,783,883,781,888,722,868,685,848,649,825,593,782"/>
</map>
</div>

</div>
</div>
<a id="a40fa1238b59f856f01058476b97d4ce9" name="a40fa1238b59f856f01058476b97d4ce9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40fa1238b59f856f01058476b97d4ce9">&#9670;&#160;</a></span>rpc_session_dump_acls()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_session_dump_acls </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *</td>          <td class="paramname"><span class="paramname"><em>ses</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#d3/dcb/structblob__buf">blob_buf</a> *</td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00185">185</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  186</span>{</div>
<div class="line"><span class="lineno">  187</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d3/d73/structrpc__session__acl">rpc_session_acl</a> *acl;</div>
<div class="line"><span class="lineno">  188</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#de/dcc/structrpc__session__acl__scope">rpc_session_acl_scope</a> *acl_scope;</div>
<div class="line"><span class="lineno">  189</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *lastobj = NULL;</div>
<div class="line"><span class="lineno">  190</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *lastscope = NULL;</div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordtype">void</span> *c = NULL, *d = NULL;</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>    <a class="code hl_define" href="../../d3/d51/avl_8h.html#a78fce1e55fe672174caa3053a460ae56">avl_for_each_element</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a5c17aa340017659115f58073025296a6">acls</a>, acl_scope, <a class="code hl_variable" href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">avl</a>) {</div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">if</span> (!lastscope || strcmp(acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">avl</a>.<a class="code hl_variable" href="../../d3/d51/avl_8h.html#aa097934e0f5e3c398890a99605291b01">key</a>, lastscope))</div>
<div class="line"><span class="lineno">  195</span>        {</div>
<div class="line"><span class="lineno">  196</span>            <span class="keywordflow">if</span> (c) <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14">blobmsg_close_table</a>(<a class="code hl_variable" href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a>, c);</div>
<div class="line"><span class="lineno">  197</span>            c = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a">blobmsg_open_table</a>(<a class="code hl_variable" href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a>, acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">avl</a>.<a class="code hl_variable" href="../../d3/d51/avl_8h.html#aa097934e0f5e3c398890a99605291b01">key</a>);</div>
<div class="line"><span class="lineno">  198</span>            lastobj = NULL;</div>
<div class="line"><span class="lineno">  199</span>        }</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>        d = NULL;</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>        <a class="code hl_define" href="../../d3/d51/avl_8h.html#a78fce1e55fe672174caa3053a460ae56">avl_for_each_element</a>(&amp;acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa68919d297c23b76e3d05f20e54362c6">acls</a>, acl, <a class="code hl_variable" href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">avl</a>) {</div>
<div class="line"><span class="lineno">  204</span>            <span class="keywordflow">if</span> (!lastobj || strcmp(acl-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#acc946ea50d9110cb802d545e3be3d64b">object</a>, lastobj))</div>
<div class="line"><span class="lineno">  205</span>            {</div>
<div class="line"><span class="lineno">  206</span>                <span class="keywordflow">if</span> (d) <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a56794b194617d9a858dbc783dd2a0c32">blobmsg_close_array</a>(<a class="code hl_variable" href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a>, d);</div>
<div class="line"><span class="lineno">  207</span>                d = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a938ceeed1d840f9df7946262f1835214">blobmsg_open_array</a>(<a class="code hl_variable" href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a>, acl-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#acc946ea50d9110cb802d545e3be3d64b">object</a>);</div>
<div class="line"><span class="lineno">  208</span>            }</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>            <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6">blobmsg_add_string</a>(<a class="code hl_variable" href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a>, NULL, acl-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a1e27a7365fc5818ebb743bf0f4cf783c">function</a>);</div>
<div class="line"><span class="lineno">  211</span>            lastobj = acl-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#acc946ea50d9110cb802d545e3be3d64b">object</a>;</div>
<div class="line"><span class="lineno">  212</span>        }</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">if</span> (d) <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a56794b194617d9a858dbc783dd2a0c32">blobmsg_close_array</a>(<a class="code hl_variable" href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a>, d);</div>
<div class="line"><span class="lineno">  215</span>    }</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>    <span class="keywordflow">if</span> (c) <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14">blobmsg_close_table</a>(<a class="code hl_variable" href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a>, c);</div>
<div class="line"><span class="lineno">  218</span>}</div>
<div class="ttc" id="aavl_8h_html_aa097934e0f5e3c398890a99605291b01"><div class="ttname"><a href="../../d3/d51/avl_8h.html#aa097934e0f5e3c398890a99605291b01">avl_node::key</a></div><div class="ttdeci">const void * key</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00084">avl.h:84</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a4bba0979961750f86b8dc9915b2fa4d6"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6">blobmsg_add_string</a></div><div class="ttdeci">static int blobmsg_add_string(struct blob_buf *buf, const char *name, const char *string)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00235">blobmsg.h:235</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a56794b194617d9a858dbc783dd2a0c32"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a56794b194617d9a858dbc783dd2a0c32">blobmsg_close_array</a></div><div class="ttdeci">static void blobmsg_close_array(struct blob_buf *buf, void *cookie)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00262">blobmsg.h:262</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a938ceeed1d840f9df7946262f1835214"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a938ceeed1d840f9df7946262f1835214">blobmsg_open_array</a></div><div class="ttdeci">static void * blobmsg_open_array(struct blob_buf *buf, const char *name)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00250">blobmsg.h:250</a></div></div>
<div class="ttc" id="ajshn_8c_html_a8f565d46decc2d5d8ac81923ceec43fd"><div class="ttname"><a href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a></div><div class="ttdeci">static struct blob_buf b</div><div class="ttdef"><b>Definition</b> <a href="../../d1/ddb/jshn_8c_source.html#l00040">jshn.c:40</a></div></div>
<div class="ttc" id="asession_8h_html_a1e27a7365fc5818ebb743bf0f4cf783c"><div class="ttname"><a href="../../da/d46/session_8h.html#a1e27a7365fc5818ebb743bf0f4cf783c">rpc_session_acl::function</a></div><div class="ttdeci">const char * function</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00065">session.h:65</a></div></div>
<div class="ttc" id="asession_8h_html_acc946ea50d9110cb802d545e3be3d64b"><div class="ttname"><a href="../../da/d46/session_8h.html#acc946ea50d9110cb802d545e3be3d64b">rpc_session_acl::object</a></div><div class="ttdeci">const char * object</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00064">session.h:64</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00047">rpc_session::acls</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00059">rpc_session_acl_scope::acls</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00058">rpc_session_acl_scope::avl</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00366">avl_for_each_element</a>, <a class="el" href="../../d1/ddb/jshn_8c_source.html#l00040">b</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00235">blobmsg_add_string()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00262">blobmsg_close_array()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00268">blobmsg_close_table()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00250">blobmsg_open_array()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00256">blobmsg_open_table()</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00065">rpc_session_acl::function</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00084">avl_node::key</a>, and <a class="el" href="../../da/d46/session_8h_source.html#l00064">rpc_session_acl::object</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00588">rpc_handle_access()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00221">rpc_session_to_blob()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a40fa1238b59f856f01058476b97d4ce9_cgraph.png" border="0" usemap="#ade/d67/session_8c_a40fa1238b59f856f01058476b97d4ce9_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a40fa1238b59f856f01058476b97d4ce9_cgraph" id="ade/d67/session_8c_a40fa1238b59f856f01058476b97d4ce9_cgraph">
<area shape="rect" title=" " alt="" coords="5,351,243,384"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="293,200,502,234"/>
<area shape="poly" title=" " alt="" coords="155,348,350,239,353,244,158,353"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a56794b194617d9a858dbc783dd2a0c32" title=" " alt="" coords="559,493,773,527"/>
<area shape="poly" title=" " alt="" coords="147,383,209,428,249,452,292,470,354,488,420,500,543,510,543,515,419,505,353,493,290,475,247,456,206,433,144,387"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14" title=" " alt="" coords="291,427,504,460"/>
<area shape="poly" title=" " alt="" coords="188,382,320,419,319,425,187,388"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a938ceeed1d840f9df7946262f1835214" title=" " alt="" coords="291,351,504,384"/>
<area shape="poly" title=" " alt="" coords="243,365,275,365,275,370,243,370"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a" title=" " alt="" coords="292,293,503,327"/>
<area shape="poly" title=" " alt="" coords="207,347,298,328,299,333,208,353"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="569,173,763,207"/>
<area shape="poly" title=" " alt="" coords="502,204,553,199,554,204,502,209"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="828,147,977,180"/>
<area shape="poly" title=" " alt="" coords="764,177,813,171,813,176,764,182"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1267,5,1378,39"/>
<area shape="poly" title=" " alt="" coords="937,144,1024,105,1143,66,1251,36,1252,42,1144,71,1026,110,939,149"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aee908e6de67c16a4d810d08f28ed1803" title=" " alt="" coords="1048,280,1156,314"/>
<area shape="poly" title=" " alt="" coords="957,179,978,189,1031,228,1075,267,1072,271,1028,232,975,194,955,183"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1026,120,1178,154"/>
<area shape="poly" title=" " alt="" coords="977,151,1010,146,1011,152,977,156"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1237,177,1407,211"/>
<area shape="poly" title=" " alt="" coords="977,166,1222,184,1221,190,977,172"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1270,439,1375,472"/>
<area shape="poly" title=" " alt="" coords="1128,312,1286,427,1283,431,1125,316"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1669,359,1811,392"/>
<area shape="poly" title=" " alt="" coords="1156,293,1245,293,1362,297,1491,308,1621,329,1687,350,1686,355,1620,334,1491,313,1361,302,1245,298,1156,298"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac9fd36cdb87493b31a675621ed53a8d7" title=" " alt="" coords="1487,228,1599,262"/>
<area shape="poly" title=" " alt="" coords="1156,287,1227,278,1472,250,1472,255,1227,283,1157,292"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1233,496,1411,530"/>
<area shape="poly" title=" " alt="" coords="1123,312,1152,344,1181,382,1195,411,1202,437,1210,460,1229,483,1232,485,1229,490,1225,487,1205,462,1197,438,1190,413,1177,385,1148,347,1119,316"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1669,576,1811,610"/>
<area shape="poly" title=" " alt="" coords="1376,463,1419,481,1435,497,1443,512,1452,527,1467,540,1512,561,1560,576,1608,585,1653,589,1653,595,1607,590,1559,581,1510,566,1464,544,1447,530,1439,515,1430,500,1416,486,1374,467"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1465,605,1621,639"/>
<area shape="poly" title=" " alt="" coords="1376,460,1399,468,1419,481,1431,494,1438,507,1445,533,1451,559,1467,584,1480,595,1477,599,1463,588,1446,561,1440,534,1433,509,1427,497,1416,486,1396,473,1374,465"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1669,660,1811,694"/>
<area shape="poly" title=" " alt="" coords="1376,459,1399,467,1419,482,1435,503,1442,526,1442,570,1441,591,1443,611,1451,631,1467,650,1487,663,1509,674,1557,687,1606,691,1653,689,1653,695,1606,697,1556,693,1507,679,1484,668,1464,653,1446,634,1438,613,1436,591,1437,570,1437,526,1430,506,1415,485,1397,472,1374,464"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1475,496,1611,530"/>
<area shape="poly" title=" " alt="" coords="1376,467,1461,489,1460,494,1375,472"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1493,439,1593,472"/>
<area shape="poly" title=" " alt="" coords="1375,453,1478,453,1478,458,1375,458"/>
<area shape="poly" title=" " alt="" coords="1621,608,1653,603,1654,608,1621,613"/>
<area shape="poly" title=" " alt="" coords="1607,637,1663,653,1661,658,1606,642"/>
<area shape="poly" title=" " alt="" coords="1599,493,1619,483,1671,443,1712,402,1716,406,1674,447,1622,487,1601,498"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1859,496,2000,530"/>
<area shape="poly" title=" " alt="" coords="1612,510,1843,510,1843,516,1612,516"/>
<area shape="poly" title=" " alt="" coords="1766,391,1894,484,1891,489,1763,395"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="2048,629,2147,663"/>
<area shape="poly" title=" " alt="" coords="1954,528,2065,617,2061,621,1951,532"/>
<area shape="poly" title=" " alt="" coords="1587,260,1622,279,1670,312,1711,346,1707,351,1667,317,1619,283,1584,265"/>
<area shape="poly" title=" " alt="" coords="1122,117,1168,83,1226,48,1251,38,1253,42,1228,53,1171,87,1125,122"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1232,63,1413,96"/>
<area shape="poly" title=" " alt="" coords="1168,117,1239,98,1241,103,1170,122"/>
<area shape="poly" title=" " alt="" coords="1170,152,1241,170,1239,175,1168,157"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1227,120,1417,154"/>
<area shape="poly" title=" " alt="" coords="1178,134,1211,134,1211,140,1178,140"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aa980250f4a411659367b8bffaf5d6118" title=" " alt="" coords="1025,495,1179,528"/>
<area shape="poly" title=" " alt="" coords="774,508,1009,509,1009,514,774,513"/>
<area shape="poly" title=" " alt="" coords="1128,527,1185,565,1266,613,1363,661,1414,680,1466,696,1513,703,1562,704,1653,694,1654,700,1562,709,1513,708,1465,701,1412,685,1361,666,1264,618,1182,569,1125,531"/>
<area shape="poly" title=" " alt="" coords="1120,492,1166,456,1195,438,1226,424,1281,406,1339,393,1455,375,1563,369,1653,369,1653,374,1563,374,1455,381,1340,398,1283,411,1228,429,1197,443,1169,461,1123,496"/>
<area shape="poly" title=" " alt="" coords="1113,528,1129,561,1155,604,1188,648,1229,685,1307,735,1341,751,1375,762,1448,773,1542,776,1741,776,1787,773,1832,764,1920,737,1997,702,2056,669,2058,674,1999,707,1922,742,1833,769,1787,778,1741,781,1542,781,1448,779,1374,767,1339,756,1304,740,1225,690,1184,652,1150,607,1125,564,1108,530"/>
<area shape="poly" title=" " alt="" coords="1179,509,1217,510,1217,515,1179,515"/>
<area shape="poly" title=" " alt="" coords="504,447,722,463,977,489,1010,493,1009,499,976,494,722,469,504,452"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aaac450f6a679be8a392d17c3ed8700b4" title=" " alt="" coords="552,293,780,327"/>
<area shape="poly" title=" " alt="" coords="479,347,569,328,570,333,480,353"/>
<area shape="poly" title=" " alt="" coords="685,291,747,242,827,189,836,185,838,190,830,194,750,246,689,295"/>
<area shape="poly" title=" " alt="" coords="781,314,1654,368,1653,373,780,320"/>
<area shape="poly" title=" " alt="" coords="712,325,829,368,1052,436,1241,489,1239,494,1051,441,827,373,711,330"/>
<area shape="poly" title=" " alt="" coords="766,290,1221,209,1222,214,766,295"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="831,204,974,238"/>
<area shape="poly" title=" " alt="" coords="712,290,841,241,842,246,714,295"/>
<area shape="poly" title=" " alt="" coords="503,308,536,308,536,313,503,313"/>
</map>
</div>

</div>
</div>
<a id="a0976582c7397887dad087ddf62cacabd" name="a0976582c7397887dad087ddf62cacabd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0976582c7397887dad087ddf62cacabd">&#9670;&#160;</a></span>rpc_session_dump_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_session_dump_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *</td>          <td class="paramname"><span class="paramname"><em>ses</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#d3/dcb/structblob__buf">blob_buf</a> *</td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00174">174</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  175</span>{</div>
<div class="line"><span class="lineno">  176</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#db/dfa/structrpc__session__data">rpc_session_data</a> *d;</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>    <a class="code hl_define" href="../../d3/d51/avl_8h.html#a78fce1e55fe672174caa3053a460ae56">avl_for_each_element</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aeeb121d2bac9ac1a4c3c7fe3d2a312a7">data</a>, d, <a class="code hl_variable" href="../../da/d46/session_8h.html#a14e26d5bdb6b6a045bbea82072868e6b">avl</a>) {</div>
<div class="line"><span class="lineno">  179</span>        <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6">blobmsg_add_field</a>(<a class="code hl_variable" href="../../d1/ddb/jshn_8c.html#a8f565d46decc2d5d8ac81923ceec43fd">b</a>, <a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(d-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#af61cae6edb31f71b2baf68f0b77ada5e">attr</a>), <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(d-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#af61cae6edb31f71b2baf68f0b77ada5e">attr</a>),</div>
<div class="line"><span class="lineno">  180</span>                  <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(d-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#af61cae6edb31f71b2baf68f0b77ada5e">attr</a>), <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052">blobmsg_data_len</a>(d-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#af61cae6edb31f71b2baf68f0b77ada5e">attr</a>));</div>
<div class="line"><span class="lineno">  181</span>    }</div>
<div class="line"><span class="lineno">  182</span>}</div>
<div class="ttc" id="asession_8h_html_a14e26d5bdb6b6a045bbea82072868e6b"><div class="ttname"><a href="../../da/d46/session_8h.html#a14e26d5bdb6b6a045bbea82072868e6b">rpc_session_data::avl</a></div><div class="ttdeci">struct avl_node avl</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00053">session.h:53</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00054">rpc_session_data::attr</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00053">rpc_session_data::avl</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00366">avl_for_each_element</a>, <a class="el" href="../../d1/ddb/jshn_8c_source.html#l00040">b</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00377">blobmsg_add_field()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00095">blobmsg_data_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00062">blobmsg_name()</a>, and <a class="el" href="../../da/d46/session_8h_source.html#l00046">rpc_session::data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00679">rpc_handle_get()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00221">rpc_session_to_blob()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a0976582c7397887dad087ddf62cacabd_cgraph.png" border="0" usemap="#ade/d67/session_8c_a0976582c7397887dad087ddf62cacabd_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a0976582c7397887dad087ddf62cacabd_cgraph" id="ade/d67/session_8c_a0976582c7397887dad087ddf62cacabd_cgraph">
<area shape="rect" title=" " alt="" coords="5,376,248,410"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="296,295,490,328"/>
<area shape="poly" title=" " alt="" coords="184,373,320,331,321,336,185,378"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="774,299,926,332"/>
<area shape="poly" title=" " alt="" coords="248,384,471,367,726,338,759,333,759,338,727,343,471,373,248,389"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="538,404,726,438"/>
<area shape="poly" title=" " alt="" coords="248,397,523,412,522,417,248,402"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="312,481,474,515"/>
<area shape="poly" title=" " alt="" coords="172,408,335,473,333,478,170,413"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="558,295,706,328"/>
<area shape="poly" title=" " alt="" coords="490,309,542,309,542,314,490,314"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1013,401,1125,435"/>
<area shape="poly" title=" " alt="" coords="705,326,999,398,997,404,704,332"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aee908e6de67c16a4d810d08f28ed1803" title=" " alt="" coords="796,115,904,148"/>
<area shape="poly" title=" " alt="" coords="652,292,814,157,818,161,656,296"/>
<area shape="poly" title=" " alt="" coords="707,310,759,311,759,316,707,316"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="984,229,1154,263"/>
<area shape="poly" title=" " alt="" coords="706,295,774,284,968,256,968,261,775,289,707,300"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="1016,172,1122,206"/>
<area shape="poly" title=" " alt="" coords="905,143,1002,169,1000,174,904,148"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1415,60,1558,94"/>
<area shape="poly" title=" " alt="" coords="904,114,973,100,1088,87,1204,79,1400,74,1400,79,1204,84,1089,92,974,105,905,119"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac9fd36cdb87493b31a675621ed53a8d7" title=" " alt="" coords="1234,5,1345,39"/>
<area shape="poly" title=" " alt="" coords="872,112,917,82,973,56,1036,39,1102,28,1218,19,1219,24,1102,33,1037,44,975,61,919,87,875,117"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="980,115,1158,148"/>
<area shape="poly" title=" " alt="" coords="905,129,964,129,964,134,905,134"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1415,308,1558,342"/>
<area shape="poly" title=" " alt="" coords="1123,193,1145,202,1166,215,1178,229,1185,244,1189,274,1194,302,1201,314,1214,325,1236,338,1261,346,1314,354,1366,351,1414,343,1415,348,1367,357,1313,359,1260,351,1234,343,1210,330,1197,317,1189,304,1184,275,1180,246,1173,232,1162,219,1143,206,1121,198"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1212,281,1367,315"/>
<area shape="poly" title=" " alt="" coords="1123,196,1165,215,1181,228,1190,242,1199,255,1214,268,1219,272,1216,276,1210,272,1195,258,1186,245,1177,232,1163,219,1121,201"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1415,196,1558,230"/>
<area shape="poly" title=" " alt="" coords="1122,189,1400,205,1399,211,1122,194"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1222,115,1358,148"/>
<area shape="poly" title=" " alt="" coords="1121,173,1207,150,1208,155,1123,178"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1240,224,1339,258"/>
<area shape="poly" title=" " alt="" coords="1122,199,1226,223,1224,228,1121,204"/>
<area shape="poly" title=" " alt="" coords="1368,306,1401,311,1400,316,1367,311"/>
<area shape="poly" title=" " alt="" coords="1340,278,1366,268,1437,235,1439,239,1368,273,1342,283"/>
<area shape="poly" title=" " alt="" coords="1352,111,1408,96,1409,101,1354,117"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1606,115,1747,148"/>
<area shape="poly" title=" " alt="" coords="1358,129,1590,129,1590,134,1358,134"/>
<area shape="poly" title=" " alt="" coords="1548,92,1601,107,1600,112,1547,97"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1795,285,1893,319"/>
<area shape="poly" title=" " alt="" coords="1696,147,1818,272,1814,276,1692,150"/>
<area shape="poly" title=" " alt="" coords="1346,35,1409,53,1408,58,1345,40"/>
<area shape="poly" title=" " alt="" coords="893,331,927,349,951,369,975,388,1000,399,997,403,972,392,948,374,924,354,890,335"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="978,287,1160,320"/>
<area shape="poly" title=" " alt="" coords="926,309,963,307,963,312,926,314"/>
<area shape="poly" title=" " alt="" coords="900,296,973,272,993,265,994,271,974,277,902,301"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="974,344,1164,378"/>
<area shape="poly" title=" " alt="" coords="927,329,970,338,969,343,926,334"/>
<area shape="poly" title=" " alt="" coords="727,418,998,416,998,421,727,423"/>
<area shape="poly" title=" " alt="" coords="726,436,885,459,976,467,1068,470,1488,470,1536,466,1585,455,1631,438,1675,417,1753,370,1810,327,1813,331,1756,374,1678,421,1633,443,1586,460,1537,471,1488,475,1067,475,976,472,884,464,725,441"/>
<area shape="poly" title=" " alt="" coords="681,401,725,382,806,338,809,343,727,387,683,406"/>
<area shape="poly" title=" " alt="" coords="474,486,997,424,998,429,475,491"/>
</map>
</div>

</div>
</div>
<a id="afde2b2978338930e90094dcdda33c5d3" name="afde2b2978338930e90094dcdda33c5d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afde2b2978338930e90094dcdda33c5d3">&#9670;&#160;</a></span>rpc_session_freeze()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rpc_session_freeze </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l01387">1387</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1388</span>{</div>
<div class="line"><span class="lineno"> 1389</span>    <span class="keyword">struct </span>stat s;</div>
<div class="line"><span class="lineno"> 1390</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno"> 1391</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>[PATH_MAX];</div>
<div class="line"><span class="lineno"> 1392</span> </div>
<div class="line"><span class="lineno"> 1393</span>    <span class="keywordflow">if</span> (stat(<a class="code hl_define" href="../../da/d46/session_8h.html#a563849be2e4a0b0ad32a6a3bcc0d8e2c">RPC_SESSION_DIRECTORY</a>, &amp;s))</div>
<div class="line"><span class="lineno"> 1394</span>        mkdir(<a class="code hl_define" href="../../da/d46/session_8h.html#a563849be2e4a0b0ad32a6a3bcc0d8e2c">RPC_SESSION_DIRECTORY</a>, 0700);</div>
<div class="line"><span class="lineno"> 1395</span> </div>
<div class="line"><span class="lineno"> 1396</span>    <a class="code hl_define" href="../../d3/d51/avl_8h.html#a78fce1e55fe672174caa3053a460ae56">avl_for_each_element</a>(&amp;<a class="code hl_variable" href="#aba81a584ebe050715570ab74db1d30be">sessions</a>, ses, <a class="code hl_variable" href="../../da/d46/session_8h.html#a1c0637409779a09f9608ea4862060536">avl</a>) {</div>
<div class="line"><span class="lineno"> 1397</span>        <span class="comment">/* skip default session */</span></div>
<div class="line"><span class="lineno"> 1398</span>        <span class="keywordflow">if</span> (!strcmp(ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a2eddeba0d0ae2a4d3bdc691415f8d5f6">id</a>, <a class="code hl_define" href="../../da/d46/session_8h.html#ae30b5399c8ec47e9d4b891f570bed531">RPC_DEFAULT_SESSION_ID</a>))</div>
<div class="line"><span class="lineno"> 1399</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1400</span> </div>
<div class="line"><span class="lineno"> 1401</span>        snprintf(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>) - 1, <a class="code hl_define" href="../../da/d46/session_8h.html#a563849be2e4a0b0ad32a6a3bcc0d8e2c">RPC_SESSION_DIRECTORY</a> <span class="stringliteral">&quot;/%s&quot;</span>, ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a2eddeba0d0ae2a4d3bdc691415f8d5f6">id</a>);</div>
<div class="line"><span class="lineno"> 1402</span>        <a class="code hl_function" href="#aaa8dccc7bffc72a3e31e4f3e14792e6d">rpc_session_to_blob</a>(ses, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1403</span>        <a class="code hl_function" href="#a6a595fd1f960fcebc20eef9d375a5bf6">rpc_blob_to_file</a>(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, <a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>.<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#af6065d74116605108b22c11e75ec669c">head</a>);</div>
<div class="line"><span class="lineno"> 1404</span>    }</div>
<div class="line"><span class="lineno"> 1405</span>}</div>
<div class="ttc" id="asession_8c_html_a6a595fd1f960fcebc20eef9d375a5bf6"><div class="ttname"><a href="#a6a595fd1f960fcebc20eef9d375a5bf6">rpc_blob_to_file</a></div><div class="ttdeci">static int rpc_blob_to_file(const char *path, struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l01207">session.c:1207</a></div></div>
<div class="ttc" id="asession_8h_html_a563849be2e4a0b0ad32a6a3bcc0d8e2c"><div class="ttname"><a href="../../da/d46/session_8h.html#a563849be2e4a0b0ad32a6a3bcc0d8e2c">RPC_SESSION_DIRECTORY</a></div><div class="ttdeci">#define RPC_SESSION_DIRECTORY</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00036">session.h:36</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00042">rpc_session::avl</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00366">avl_for_each_element</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00038">buf</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00065">blob_buf::head</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00043">rpc_session::id</a>, <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>, <a class="el" href="../../de/d67/session_8c_source.html#l01207">rpc_blob_to_file()</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00035">RPC_DEFAULT_SESSION_ID</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00036">RPC_SESSION_DIRECTORY</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00221">rpc_session_to_blob()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00037">sessions</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/ddd/rpcd_2main_8c_source.html#l00040">handle_signal()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_afde2b2978338930e90094dcdda33c5d3_cgraph.png" border="0" usemap="#ade/d67/session_8c_afde2b2978338930e90094dcdda33c5d3_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_afde2b2978338930e90094dcdda33c5d3_cgraph" id="ade/d67/session_8c_afde2b2978338930e90094dcdda33c5d3_cgraph">
<area shape="rect" title=" " alt="" coords="5,414,201,447"/>
<area shape="rect" href="../../de/d67/session_8c.html#a6a595fd1f960fcebc20eef9d375a5bf6" title=" " alt="" coords="269,286,434,319"/>
<area shape="poly" title=" " alt="" coords="136,411,302,325,304,329,139,416"/>
<area shape="rect" href="../../de/d67/session_8c.html#aaa8dccc7bffc72a3e31e4f3e14792e6d" title=" " alt="" coords="249,442,454,475"/>
<area shape="poly" title=" " alt="" coords="201,439,233,443,233,448,201,444"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1418,275,1560,309"/>
<area shape="poly" title=" " alt="" coords="377,283,433,252,466,237,501,227,556,217,626,209,788,200,871,201,949,205,1017,214,1072,227,1087,235,1097,246,1106,256,1120,264,1192,285,1266,295,1339,299,1402,297,1402,303,1338,304,1266,301,1191,290,1118,269,1102,260,1093,249,1084,239,1070,232,1016,219,948,211,871,206,788,206,626,214,557,222,503,232,468,242,435,257,380,287"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1636,275,1778,309"/>
<area shape="poly" title=" " alt="" coords="1561,289,1621,289,1621,295,1561,295"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1867,330,1965,363"/>
<area shape="poly" title=" " alt="" coords="1775,307,1852,327,1851,332,1773,312"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="572,242,711,275"/>
<area shape="poly" title=" " alt="" coords="367,439,424,385,500,324,541,300,582,280,585,285,544,305,504,329,428,389,371,443"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="845,528,1054,562"/>
<area shape="poly" title=" " alt="" coords="453,473,502,481,830,527,830,533,502,487,453,479"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393" title=" " alt="" coords="546,631,736,665"/>
<area shape="poly" title=" " alt="" coords="366,474,387,506,419,545,458,585,503,618,532,630,530,635,501,622,454,589,415,549,383,509,361,477"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a49c8f3302820716f41cd9bdafab331fa" title=" " alt="" coords="546,574,736,607"/>
<area shape="poly" title=" " alt="" coords="376,474,432,513,503,552,542,566,540,571,501,557,429,517,373,478"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14" title=" " alt="" coords="843,299,1056,333"/>
<area shape="poly" title=" " alt="" coords="391,439,443,418,501,399,671,358,828,330,828,336,672,363,503,404,445,423,393,444"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a" title=" " alt="" coords="844,471,1055,505"/>
<area shape="poly" title=" " alt="" coords="454,461,828,479,828,485,454,466"/>
<area shape="rect" href="../../de/d67/session_8c.html#a40fa1238b59f856f01058476b97d4ce9" title=" " alt="" coords="523,414,760,447"/>
<area shape="poly" title=" " alt="" coords="454,446,507,441,508,446,455,451"/>
<area shape="rect" href="../../de/d67/session_8c.html#a0976582c7397887dad087ddf62cacabd" title=" " alt="" coords="828,688,1071,722"/>
<area shape="poly" title=" " alt="" coords="361,475,378,517,407,574,449,630,475,655,503,675,542,694,584,708,627,717,671,724,756,727,834,722,834,727,756,732,670,729,626,723,582,713,540,699,501,680,471,659,445,634,403,576,373,520,356,477"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a144dc46ccd6334bb5736232ab966e0d7" title=" " alt="" coords="502,75,780,109"/>
<area shape="poly" title=" " alt="" coords="367,439,408,392,452,330,466,303,475,279,484,255,500,228,552,166,605,117,609,121,556,169,504,231,488,258,480,281,471,305,456,333,412,395,371,443"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="897,132,1002,166"/>
<area shape="poly" title=" " alt="" coords="690,239,884,169,886,174,692,244"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="859,242,1040,275"/>
<area shape="poly" title=" " alt="" coords="711,256,844,256,844,261,711,261"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1418,26,1560,59"/>
<area shape="poly" title=" " alt="" coords="1002,144,1037,135,1069,119,1085,100,1091,79,1098,58,1106,48,1117,39,1153,22,1191,11,1231,5,1270,3,1347,8,1413,19,1412,24,1346,13,1270,8,1231,11,1192,17,1155,27,1120,43,1110,51,1103,60,1096,81,1090,103,1072,123,1039,140,1003,149"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="1155,54,1311,87"/>
<area shape="poly" title=" " alt="" coords="1002,135,1070,119,1162,90,1164,95,1071,124,1003,141"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1418,108,1560,142"/>
<area shape="poly" title=" " alt="" coords="1003,144,1402,126,1403,132,1003,150"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="1165,163,1301,197"/>
<area shape="poly" title=" " alt="" coords="1003,152,1150,168,1149,174,1002,157"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="1183,220,1283,254"/>
<area shape="poly" title=" " alt="" coords="1004,160,1072,183,1120,207,1169,222,1168,227,1118,212,1070,188,1002,165"/>
<area shape="poly" title=" " alt="" coords="1311,59,1402,49,1403,55,1311,65"/>
<area shape="poly" title=" " alt="" coords="1312,84,1403,104,1402,109,1310,90"/>
<area shape="poly" title=" " alt="" coords="1302,191,1348,205,1404,234,1453,264,1450,268,1402,238,1346,210,1301,196"/>
<area shape="poly" title=" " alt="" coords="1302,193,1584,260,1622,269,1620,274,1583,265,1301,198"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="1136,566,1330,599"/>
<area shape="poly" title=" " alt="" coords="1054,556,1121,565,1120,570,1054,562"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="1415,551,1563,585"/>
<area shape="poly" title=" " alt="" coords="1330,574,1399,570,1400,576,1331,580"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1631,607,1783,641"/>
<area shape="poly" title=" " alt="" coords="1558,583,1624,600,1623,605,1557,588"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1831,551,2001,585"/>
<area shape="poly" title=" " alt="" coords="1564,565,1815,565,1815,571,1564,571"/>
<area shape="poly" title=" " alt="" coords="1772,604,1835,587,1837,592,1773,609"/>
<area shape="poly" title=" " alt="" coords="736,635,1120,592,1120,598,737,640"/>
<area shape="poly" title=" " alt="" coords="736,587,1120,581,1120,587,737,592"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aa980250f4a411659367b8bffaf5d6118" title=" " alt="" coords="1156,330,1310,363"/>
<area shape="poly" title=" " alt="" coords="1056,325,1141,334,1140,339,1056,330"/>
<area shape="poly" title=" " alt="" coords="1310,327,1402,308,1403,313,1311,333"/>
<area shape="poly" title=" " alt="" coords="1310,344,1851,344,1851,349,1310,349"/>
<area shape="poly" title=" " alt="" coords="1260,327,1345,264,1408,206,1460,152,1464,156,1412,210,1349,269,1263,331"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1400,384,1578,418"/>
<area shape="poly" title=" " alt="" coords="1311,360,1393,378,1391,383,1310,366"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aaac450f6a679be8a392d17c3ed8700b4" title=" " alt="" coords="1119,442,1347,475"/>
<area shape="poly" title=" " alt="" coords="1055,474,1103,469,1103,475,1056,480"/>
<area shape="poly" title=" " alt="" coords="1259,439,1447,315,1450,320,1262,444"/>
<area shape="poly" title=" " alt="" coords="1271,473,1396,529,1428,543,1426,547,1394,534,1269,478"/>
<area shape="poly" title=" " alt="" coords="1328,473,1395,485,1816,551,1815,556,1395,490,1327,479"/>
<area shape="poly" title=" " alt="" coords="1311,438,1395,419,1397,425,1312,444"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1418,442,1560,475"/>
<area shape="poly" title=" " alt="" coords="1348,456,1402,456,1402,461,1348,461"/>
<area shape="poly" title=" " alt="" coords="676,446,745,480,829,515,850,521,848,526,827,520,743,485,673,450"/>
<area shape="poly" title=" " alt="" coords="677,411,758,372,827,341,848,335,850,340,829,346,760,376,679,415"/>
<area shape="poly" title=" " alt="" coords="736,445,841,465,840,470,735,451"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a56794b194617d9a858dbc783dd2a0c32" title=" " alt="" coords="842,356,1057,390"/>
<area shape="poly" title=" " alt="" coords="735,410,840,391,841,396,736,416"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a938ceeed1d840f9df7946262f1835214" title=" " alt="" coords="843,414,1056,447"/>
<area shape="poly" title=" " alt="" coords="760,428,827,428,827,433,760,433"/>
<area shape="poly" title=" " alt="" coords="1057,360,1140,353,1141,358,1057,366"/>
<area shape="poly" title=" " alt="" coords="1057,438,1104,443,1103,448,1056,444"/>
<area shape="poly" title=" " alt="" coords="1029,685,1069,667,1084,655,1093,642,1102,629,1117,616,1143,603,1145,608,1120,621,1106,633,1097,645,1088,659,1072,671,1031,690"/>
<area shape="poly" title=" " alt="" coords="1071,715,1119,719,1233,725,1283,725,1347,719,1428,704,1508,685,1643,644,1644,649,1509,690,1429,709,1347,724,1283,730,1233,731,1118,724,1071,721"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="1395,608,1583,642"/>
<area shape="poly" title=" " alt="" coords="1010,685,1118,660,1254,641,1379,629,1380,635,1254,646,1119,665,1011,690"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="1152,675,1314,709"/>
<area shape="poly" title=" " alt="" coords="1071,697,1136,694,1136,699,1071,702"/>
<area shape="poly" title=" " alt="" coords="1557,605,1582,595,1673,541,1759,479,1831,420,1884,372,1888,376,1835,424,1762,483,1676,545,1585,600,1560,610"/>
<area shape="poly" title=" " alt="" coords="1584,622,1616,622,1616,627,1584,627"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="910,75,989,109"/>
<area shape="poly" title=" " alt="" coords="781,89,895,89,895,95,781,95"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="873,18,1026,51"/>
<area shape="poly" title=" " alt="" coords="735,72,858,49,859,54,736,77"/>
</map>
</div>

</div>
</div>
<a id="a638e465172f9d86f0ee06cbcb3f7ccdd" name="a638e465172f9d86f0ee06cbcb3f7ccdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a638e465172f9d86f0ee06cbcb3f7ccdd">&#9670;&#160;</a></span>rpc_session_from_blob()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool rpc_session_from_blob </td>
          <td>(</td>
          <td class="paramtype">struct uci_context *</td>          <td class="paramname"><span class="paramname"><em>uci</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>attr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l01276">1276</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1277</span>{</div>
<div class="line"><span class="lineno"> 1278</span>    <span class="keywordtype">int</span> i, rem;</div>
<div class="line"><span class="lineno"> 1279</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *user = NULL;</div>
<div class="line"><span class="lineno"> 1280</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno"> 1281</span>    <span class="keyword">struct </span>uci_section *login;</div>
<div class="line"><span class="lineno"> 1282</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *tb[<a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a01fc1a750620f803e79261d254caecbe">__RPC_DUMP_MAX</a>], *<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>;</div>
<div class="line"><span class="lineno"> 1283</span> </div>
<div class="line"><span class="lineno"> 1284</span>    <a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed">blobmsg_parse</a>(<a class="code hl_variable" href="#aed0170f69d5b5f75df8f438ac1303a5d">dump_policy</a>, <a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a01fc1a750620f803e79261d254caecbe">__RPC_DUMP_MAX</a>, tb,</div>
<div class="line"><span class="lineno"> 1285</span>                  <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857">blob_data</a>(attr), <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(attr));</div>
<div class="line"><span class="lineno"> 1286</span> </div>
<div class="line"><span class="lineno"> 1287</span>    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a01fc1a750620f803e79261d254caecbe">__RPC_DUMP_MAX</a>; i++)</div>
<div class="line"><span class="lineno"> 1288</span>        <span class="keywordflow">if</span> (!tb[i])</div>
<div class="line"><span class="lineno"> 1289</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1290</span> </div>
<div class="line"><span class="lineno"> 1291</span>    ses = <a class="code hl_function" href="#a4e65e993938bcd87e1a73d5120121e4e">rpc_session_new</a>();</div>
<div class="line"><span class="lineno"> 1292</span> </div>
<div class="line"><span class="lineno"> 1293</span>    <span class="keywordflow">if</span> (!ses)</div>
<div class="line"><span class="lineno"> 1294</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1295</span> </div>
<div class="line"><span class="lineno"> 1296</span>    memcpy(ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a2eddeba0d0ae2a4d3bdc691415f8d5f6">id</a>, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(tb[<a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a40107bf61cfea7aeb6d49918058a36f9">RPC_DUMP_SID</a>]), <a class="code hl_define" href="../../da/d46/session_8h.html#afa297923bfa39ef4e649aeaa91bf9ab4">RPC_SID_LEN</a>);</div>
<div class="line"><span class="lineno"> 1297</span> </div>
<div class="line"><span class="lineno"> 1298</span>    ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa16d4621e81aca679fdb27610c5b2e1d">timeout</a> = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f">blobmsg_get_u32</a>(tb[<a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a903fdd94b3a31b264ea0abf4db273517">RPC_DUMP_TIMEOUT</a>]);</div>
<div class="line"><span class="lineno"> 1299</span> </div>
<div class="line"><span class="lineno"> 1300</span>    <a class="code hl_define" href="../../dd/dad/blobmsg_8h.html#a69a81065d5c7977bc26fbd093f21a132">blobmsg_for_each_attr</a>(<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>, tb[<a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a07df4283450205e00ade396b3c517293">RPC_DUMP_DATA</a>], rem) {</div>
<div class="line"><span class="lineno"> 1301</span>        <a class="code hl_function" href="#aa249955e5ae81bcc548041c4055cef7e">rpc_session_set</a>(ses, <a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>);</div>
<div class="line"><span class="lineno"> 1302</span> </div>
<div class="line"><span class="lineno"> 1303</span>        <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9">blobmsg_type</a>(<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>) != <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a>)</div>
<div class="line"><span class="lineno"> 1304</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1305</span> </div>
<div class="line"><span class="lineno"> 1306</span>        <span class="keywordflow">if</span> (!strcmp(<a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>), <span class="stringliteral">&quot;username&quot;</span>))</div>
<div class="line"><span class="lineno"> 1307</span>            user = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603">blobmsg_get_string</a>(<a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>);</div>
<div class="line"><span class="lineno"> 1308</span>    }</div>
<div class="line"><span class="lineno"> 1309</span> </div>
<div class="line"><span class="lineno"> 1310</span>    <span class="keywordflow">if</span> (uci &amp;&amp; user) {</div>
<div class="line"><span class="lineno"> 1311</span>        login = <a class="code hl_function" href="#a479fcd3fc3d6fd7fdfe9a1cdd6ed2805">rpc_login_test_login</a>(uci, user, NULL);</div>
<div class="line"><span class="lineno"> 1312</span>        <span class="keywordflow">if</span> (login)</div>
<div class="line"><span class="lineno"> 1313</span>            <a class="code hl_function" href="#a856c2fef68fa28c9590680e1f3f473eb">rpc_login_setup_acls</a>(ses, login);</div>
<div class="line"><span class="lineno"> 1314</span>    }</div>
<div class="line"><span class="lineno"> 1315</span> </div>
<div class="line"><span class="lineno"> 1316</span>    <a class="code hl_function" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2">avl_insert</a>(&amp;<a class="code hl_variable" href="#aba81a584ebe050715570ab74db1d30be">sessions</a>, &amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a1c0637409779a09f9608ea4862060536">avl</a>);</div>
<div class="line"><span class="lineno"> 1317</span> </div>
<div class="line"><span class="lineno"> 1318</span>    <a class="code hl_function" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346">uloop_timeout_set</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a5ef493b8ace61c91f704e3894c9978f0">t</a>, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab631ab3a5e71a8742449cd374a63ecec">blobmsg_get_u64</a>(tb[<a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a76d5842ac4eb500fe949e1d5bc36ed3b">RPC_DUMP_EXPIRES</a>]) * 1000);</div>
<div class="line"><span class="lineno"> 1319</span> </div>
<div class="line"><span class="lineno"> 1320</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1321</span>}</div>
<div class="ttc" id="ablobmsg_8h_html_ab631ab3a5e71a8742449cd374a63ecec"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#ab631ab3a5e71a8742449cd374a63ecec">blobmsg_get_u64</a></div><div class="ttdeci">static uint64_t blobmsg_get_u64(struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00298">blobmsg.h:298</a></div></div>
<div class="ttc" id="asession_8c_html_aed0170f69d5b5f75df8f438ac1303a5d"><div class="ttname"><a href="#aed0170f69d5b5f75df8f438ac1303a5d">dump_policy</a></div><div class="ttdeci">static const struct blobmsg_policy dump_policy[__RPC_DUMP_MAX]</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00112">session.c:112</a></div></div>
<div class="ttc" id="asession_8h_html_afa297923bfa39ef4e649aeaa91bf9ab4"><div class="ttname"><a href="../../da/d46/session_8h.html#afa297923bfa39ef4e649aeaa91bf9ab4">RPC_SID_LEN</a></div><div class="ttdeci">#define RPC_SID_LEN</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00033">session.h:33</a></div></div>
<div class="ttc" id="auloop_8c_html_aeae1856255dccd537fd19cdda1cba346"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346">uloop_timeout_set</a></div><div class="ttdeci">int uloop_timeout_set(struct uloop_timeout *timeout, int msecs)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00328">uloop.c:328</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d67/session_8c_source.html#l00110">__RPC_DUMP_MAX</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00042">rpc_session::avl</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00220">avl_insert()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00075">blob_data()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00364">blobmsg_for_each_attr</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00348">blobmsg_get_string()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00293">blobmsg_get_u32()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00298">blobmsg_get_u64()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00062">blobmsg_name()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00166">blobmsg_parse()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00029">BLOBMSG_TYPE_STRING</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00054">blob_attr::data</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00112">dump_policy</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00043">rpc_session::id</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00109">RPC_DUMP_DATA</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00108">RPC_DUMP_EXPIRES</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00106">RPC_DUMP_SID</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00107">RPC_DUMP_TIMEOUT</a>, <a class="el" href="../../de/d67/session_8c_source.html#l01086">rpc_login_setup_acls()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00829">rpc_login_test_login()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00295">rpc_session_new()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00630">rpc_session_set()</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00033">RPC_SID_LEN</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00037">sessions</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00045">rpc_session::t</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00049">rpc_session::timeout</a>, and <a class="el" href="../../d1/d08/uloop_8c_source.html#l00328">uloop_timeout_set()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01407">rpc_session_thaw()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a638e465172f9d86f0ee06cbcb3f7ccdd_cgraph.png" border="0" usemap="#ade/d67/session_8c_a638e465172f9d86f0ee06cbcb3f7ccdd_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a638e465172f9d86f0ee06cbcb3f7ccdd_cgraph" id="ade/d67/session_8c_a638e465172f9d86f0ee06cbcb3f7ccdd_cgraph">
<area shape="rect" title=" " alt="" coords="5,859,236,893"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="611,206,721,239"/>
<area shape="poly" title=" " alt="" coords="122,858,140,747,175,580,197,494,222,415,251,350,266,325,282,306,316,279,355,258,396,242,439,230,523,218,595,216,595,221,523,223,440,235,398,247,357,262,319,283,286,310,270,328,255,352,227,417,202,495,180,582,145,748,127,859"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1103,556,1215,590"/>
<area shape="poly" title=" " alt="" coords="130,857,154,823,188,780,232,735,282,698,333,671,387,647,498,610,613,584,726,569,834,560,933,558,1088,564,1087,569,933,564,835,566,727,574,614,590,500,615,389,652,336,675,285,702,235,739,192,783,158,826,135,860"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="340,1054,439,1087"/>
<area shape="poly" title=" " alt="" coords="137,892,197,959,239,998,285,1032,327,1052,325,1057,282,1037,235,1002,193,963,133,895"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="851,835,1002,869"/>
<area shape="poly" title=" " alt="" coords="140,891,200,943,240,969,285,988,359,1009,424,1022,483,1026,538,1023,593,1013,651,996,788,944,846,913,894,877,897,881,849,917,790,949,653,1001,595,1018,539,1028,483,1031,424,1027,358,1014,283,993,238,973,197,947,137,895"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="288,830,491,863"/>
<area shape="poly" title=" " alt="" coords="236,861,272,857,272,862,237,866"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f" title=" " alt="" coords="297,887,482,921"/>
<area shape="poly" title=" " alt="" coords="237,885,281,890,281,895,236,891"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab631ab3a5e71a8742449cd374a63ecec" title=" " alt="" coords="297,944,482,978"/>
<area shape="poly" title=" " alt="" coords="169,891,284,931,306,937,305,942,283,936,167,896"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="845,458,1008,491"/>
<area shape="poly" title=" " alt="" coords="121,858,134,794,161,704,182,655,209,609,242,566,282,531,312,520,363,510,510,494,830,476,830,481,511,500,364,515,314,525,285,536,246,570,213,612,187,658,166,706,139,796,127,859"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="308,712,471,746"/>
<area shape="poly" title=" " alt="" coords="152,856,342,752,345,756,155,861"/>
<area shape="rect" href="../../de/d67/session_8c.html#a856c2fef68fa28c9590680e1f3f473eb" title=" " alt="" coords="284,430,495,463"/>
<area shape="poly" title=" " alt="" coords="121,858,133,789,161,688,182,633,208,578,242,526,282,481,297,469,301,473,285,485,246,529,213,580,187,635,166,690,139,790,127,859"/>
<area shape="rect" href="../../de/d67/session_8c.html#a479fcd3fc3d6fd7fdfe9a1cdd6ed2805" title=" " alt="" coords="288,1111,491,1145"/>
<area shape="poly" title=" " alt="" coords="132,892,152,934,186,990,230,1048,256,1075,285,1098,292,1102,289,1106,282,1102,253,1079,226,1052,181,993,148,937,127,894"/>
<area shape="rect" href="../../de/d67/session_8c.html#a4e65e993938bcd87e1a73d5120121e4e" title=" " alt="" coords="301,1180,478,1214"/>
<area shape="poly" title=" " alt="" coords="130,892,148,943,180,1013,226,1089,254,1124,285,1155,310,1172,307,1176,282,1159,250,1128,221,1092,175,1016,143,945,125,894"/>
<area shape="rect" href="../../de/d67/session_8c.html#aa249955e5ae81bcc548041c4055cef7e" title=" " alt="" coords="306,320,473,354"/>
<area shape="poly" title=" " alt="" coords="122,858,136,783,165,669,186,604,212,539,244,475,282,416,310,385,343,360,346,365,314,389,286,419,248,478,217,541,191,606,170,670,141,784,127,859"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="295,1307,484,1341"/>
<area shape="poly" title=" " alt="" coords="130,892,150,951,183,1036,229,1132,256,1180,286,1225,319,1264,355,1295,351,1299,316,1267,282,1228,251,1183,224,1135,178,1038,145,953,125,894"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="861,263,992,297"/>
<area shape="poly" title=" " alt="" coords="722,232,847,260,846,265,721,237"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="845,43,1008,77"/>
<area shape="poly" title=" " alt="" coords="683,203,747,146,790,114,836,86,846,81,848,86,839,90,793,118,751,150,687,207"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1113,16,1205,50"/>
<area shape="poly" title=" " alt="" coords="674,204,696,165,732,115,779,66,806,45,836,28,869,16,904,8,974,3,1041,7,1098,16,1097,21,1040,12,974,8,904,14,871,21,838,33,809,49,782,70,736,119,701,168,678,207"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="837,100,1016,134"/>
<area shape="poly" title=" " alt="" coords="701,203,836,143,852,137,854,142,838,148,703,208"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="877,320,976,354"/>
<area shape="poly" title=" " alt="" coords="723,225,757,233,791,248,807,263,816,278,824,293,839,307,864,320,862,325,836,311,820,296,811,281,803,266,788,253,756,238,721,230"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="869,378,984,411"/>
<area shape="poly" title=" " alt="" coords="722,222,758,230,791,249,804,263,812,278,817,308,821,337,827,351,839,365,857,377,854,381,836,369,823,354,816,338,811,308,806,279,800,266,788,253,756,235,721,227"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="865,182,988,215"/>
<area shape="poly" title=" " alt="" coords="721,215,849,203,849,208,722,220"/>
<area shape="poly" title=" " alt="" coords="885,264,880,254,886,244,902,239,927,236,953,239,968,245,966,250,951,244,926,242,903,244,890,249,886,254,890,262"/>
<area shape="poly" title=" " alt="" coords="1008,48,1097,38,1098,43,1008,53"/>
<area shape="poly" title=" " alt="" coords="885,183,880,173,886,163,902,157,927,155,953,158,968,164,966,169,951,163,926,160,903,162,890,167,886,173,890,180"/>
<area shape="poly" title=" " alt="" coords="969,832,993,818,1014,798,1026,779,1033,762,1039,728,1043,692,1050,673,1061,652,1087,622,1116,597,1119,602,1091,626,1066,655,1055,675,1049,693,1044,728,1038,763,1031,782,1018,802,996,822,972,837"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1068,747,1250,781"/>
<area shape="poly" title=" " alt="" coords="972,832,1097,784,1099,789,974,837"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1074,835,1244,869"/>
<area shape="poly" title=" " alt="" coords="1002,849,1058,849,1058,855,1002,855"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1064,666,1254,699"/>
<area shape="poly" title=" " alt="" coords="963,832,989,817,1014,798,1028,781,1037,766,1046,750,1062,733,1103,705,1106,709,1065,737,1051,753,1042,768,1033,784,1017,802,992,821,966,837"/>
<area shape="poly" title=" " alt="" coords="491,845,836,848,836,854,491,850"/>
<area shape="poly" title=" " alt="" coords="482,892,835,858,835,863,483,898"/>
<area shape="poly" title=" " alt="" coords="482,947,627,925,789,892,860,872,862,877,790,897,628,930,483,952"/>
<area shape="poly" title=" " alt="" coords="969,490,1104,547,1102,552,967,495"/>
<area shape="poly" title=" " alt="" coords="441,709,542,680,694,647,845,619,1087,580,1088,586,846,624,695,652,544,685,443,714"/>
<area shape="poly" title=" " alt="" coords="471,724,715,723,865,728,1016,739,1053,743,1052,748,1015,744,865,733,715,728,471,729"/>
<area shape="poly" title=" " alt="" coords="471,714,543,705,815,688,1048,681,1048,687,815,693,543,711,471,719"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="883,754,970,787"/>
<area shape="poly" title=" " alt="" coords="471,733,868,764,867,769,470,738"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="545,792,788,826"/>
<area shape="poly" title=" " alt="" coords="451,744,591,785,590,790,450,749"/>
<area shape="poly" title=" " alt="" coords="773,824,836,834,835,840,773,829"/>
<area shape="poly" title=" " alt="" coords="783,789,867,777,868,782,784,794"/>
<area shape="rect" href="../../de/d67/session_8c.html#ab75bdbde0c1e7b4d0109da0143c96625" title=" " alt="" coords="547,430,785,463"/>
<area shape="poly" title=" " alt="" coords="495,444,531,444,531,449,495,449"/>
<area shape="poly" title=" " alt="" coords="786,457,830,462,829,467,785,462"/>
<area shape="rect" href="../../de/d67/session_8c.html#a283fa7ba72f3f3c18d80b4e76a0dd45e" title=" " alt="" coords="543,1078,789,1111"/>
<area shape="poly" title=" " alt="" coords="491,1113,528,1109,528,1114,492,1118"/>
<area shape="poly" title=" " alt="" coords="620,1079,615,1069,622,1059,639,1053,666,1051,696,1054,712,1060,710,1065,694,1059,666,1056,640,1058,625,1063,620,1069,624,1076"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="623,1192,709,1226"/>
<area shape="poly" title=" " alt="" coords="478,1198,607,1204,607,1209,478,1204"/>
<area shape="rect" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0" title=" " alt="" coords="606,1250,727,1283"/>
<area shape="poly" title=" " alt="" coords="453,1212,544,1236,591,1247,590,1253,542,1241,452,1217"/>
<area shape="rect" href="../../de/d67/session_8c.html#a942904f3bce66749528077eea3656a9e" title=" " alt="" coords="562,1135,771,1169"/>
<area shape="poly" title=" " alt="" coords="477,1180,546,1169,547,1174,478,1186"/>
<area shape="poly" title=" " alt="" coords="415,318,471,283,542,248,595,232,596,237,544,253,474,287,417,322"/>
<area shape="poly" title=" " alt="" coords="474,351,790,415,877,448,875,453,789,420,473,356"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="609,320,723,354"/>
<area shape="poly" title=" " alt="" coords="473,335,593,335,593,340,473,340"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="595,263,737,297"/>
<area shape="poly" title=" " alt="" coords="472,317,579,295,580,300,473,323"/>
<area shape="poly" title=" " alt="" coords="723,335,862,335,862,340,723,340"/>
<area shape="poly" title=" " alt="" coords="724,347,855,376,854,381,723,352"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="590,1307,742,1341"/>
<area shape="poly" title=" " alt="" coords="485,1321,574,1321,574,1327,485,1327"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="568,1364,764,1398"/>
<area shape="poly" title=" " alt="" coords="475,1339,567,1358,566,1363,473,1344"/>
</map>
</div>

</div>
</div>
<a id="a537c67da2d6dac42f8bda20e0b888f5a" name="a537c67da2d6dac42f8bda20e0b888f5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a537c67da2d6dac42f8bda20e0b888f5a">&#9670;&#160;</a></span>rpc_session_get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> * rpc_session_get </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00341">341</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  342</span>{</div>
<div class="line"><span class="lineno">  343</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>    ses = <a class="code hl_define" href="../../d3/d51/avl_8h.html#a65bfca92c030dd0ea5548f23de5fc07e">avl_find_element</a>(&amp;<a class="code hl_variable" href="#aba81a584ebe050715570ab74db1d30be">sessions</a>, <span class="keywordtype">id</span>, ses, <a class="code hl_variable" href="../../da/d46/session_8h.html#a1c0637409779a09f9608ea4862060536">avl</a>);</div>
<div class="line"><span class="lineno">  346</span>    <span class="keywordflow">if</span> (!ses)</div>
<div class="line"><span class="lineno">  347</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>    <a class="code hl_function" href="#a15a41226cf2bf6546acd3cb1975459c9">rpc_touch_session</a>(ses);</div>
<div class="line"><span class="lineno">  350</span>    <span class="keywordflow">return</span> ses;</div>
<div class="line"><span class="lineno">  351</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00042">rpc_session::avl</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00240">avl_find_element</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00252">rpc_touch_session()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00037">sessions</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00588">rpc_handle_access()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00510">rpc_handle_acl()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00767">rpc_handle_destroy()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00679">rpc_handle_get()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00374">rpc_handle_list()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00650">rpc_handle_set()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00726">rpc_handle_unset()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l01101">rpc_reclaim_apply_session()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01364">rpc_session_access()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a537c67da2d6dac42f8bda20e0b888f5a_cgraph.png" border="0" usemap="#ade/d67/session_8c_a537c67da2d6dac42f8bda20e0b888f5a_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a537c67da2d6dac42f8bda20e0b888f5a_cgraph" id="ade/d67/session_8c_a537c67da2d6dac42f8bda20e0b888f5a_cgraph">
<area shape="rect" title=" " alt="" coords="5,63,174,96"/>
<area shape="rect" href="../../de/d67/session_8c.html#a15a41226cf2bf6546acd3cb1975459c9" title=" " alt="" coords="222,63,412,96"/>
<area shape="poly" title=" " alt="" coords="174,77,206,77,206,82,174,82"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="460,63,649,96"/>
<area shape="poly" title=" " alt="" coords="412,77,444,77,444,82,412,82"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="731,5,884,39"/>
<area shape="poly" title=" " alt="" coords="631,59,716,40,717,45,633,65"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="709,63,906,96"/>
<area shape="poly" title=" " alt="" coords="650,77,694,77,694,82,650,82"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="697,120,918,154"/>
<area shape="poly" title=" " alt="" coords="633,94,716,113,715,119,631,100"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="966,5,1095,39"/>
<area shape="poly" title=" " alt="" coords="876,60,917,49,950,40,952,45,918,54,877,65"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="991,63,1070,96"/>
<area shape="poly" title=" " alt="" coords="906,77,976,77,976,82,906,82"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1143,5,1244,39"/>
<area shape="poly" title=" " alt="" coords="1096,20,1127,20,1127,25,1096,25"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="988,120,1073,154"/>
<area shape="poly" title=" " alt="" coords="918,134,972,134,972,140,918,140"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1147,120,1241,154"/>
<area shape="poly" title=" " alt="" coords="1073,134,1131,134,1131,140,1073,140"/>
</map>
</div>

</div>
</div>
<a id="a8f7993c2572c4099268c121f3fe5eab5" name="a8f7993c2572c4099268c121f3fe5eab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f7993c2572c4099268c121f3fe5eab5">&#9670;&#160;</a></span>rpc_session_grant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_session_grant </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *</td>          <td class="paramname"><span class="paramname"><em>ses</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>scope</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>object</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>function</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00405">405</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  407</span>{</div>
<div class="line"><span class="lineno">  408</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d3/d73/structrpc__session__acl">rpc_session_acl</a> *acl;</div>
<div class="line"><span class="lineno">  409</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#de/dcc/structrpc__session__acl__scope">rpc_session_acl_scope</a> *acl_scope;</div>
<div class="line"><span class="lineno">  410</span>    <span class="keywordtype">char</span> *new_scope, *new_obj, *new_func, *new_id;</div>
<div class="line"><span class="lineno">  411</span>    <span class="keywordtype">int</span> id_len;</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>    <span class="keywordflow">if</span> (!<span class="keywordtype">object</span> || !function)</div>
<div class="line"><span class="lineno">  414</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312a01547e86014c16f5a948f832185ce2e7">UBUS_STATUS_INVALID_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>    acl_scope = <a class="code hl_define" href="../../d3/d51/avl_8h.html#a65bfca92c030dd0ea5548f23de5fc07e">avl_find_element</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a5c17aa340017659115f58073025296a6">acls</a>, scope, acl_scope, <a class="code hl_variable" href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">avl</a>);</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>    <span class="keywordflow">if</span> (acl_scope) {</div>
<div class="line"><span class="lineno">  419</span>        <a class="code hl_define" href="#a44bec4bd75f36d58605ebe221cea6d9e">uh_foreach_matching_acl_prefix</a>(acl, &amp;acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa68919d297c23b76e3d05f20e54362c6">acls</a>, <span class="keywordtype">object</span>, function) {</div>
<div class="line"><span class="lineno">  420</span>            <span class="keywordflow">if</span> (!strcmp(acl-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#acc946ea50d9110cb802d545e3be3d64b">object</a>, <span class="keywordtype">object</span>) &amp;&amp;</div>
<div class="line"><span class="lineno">  421</span>                !strcmp(acl-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a1e27a7365fc5818ebb743bf0f4cf783c">function</a>, function))</div>
<div class="line"><span class="lineno">  422</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  423</span>        }</div>
<div class="line"><span class="lineno">  424</span>    }</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>    <span class="keywordflow">if</span> (!acl_scope) {</div>
<div class="line"><span class="lineno">  427</span>        acl_scope = <a class="code hl_define" href="../../d5/d1d/libubox_2utils_8h.html#aff691579da2cdefdfca9824884526804">calloc_a</a>(<span class="keyword">sizeof</span>(*acl_scope),</div>
<div class="line"><span class="lineno">  428</span>                             &amp;new_scope, strlen(scope) + 1);</div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>        <span class="keywordflow">if</span> (!acl_scope)</div>
<div class="line"><span class="lineno">  431</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>        acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">avl</a>.<a class="code hl_variable" href="../../d3/d51/avl_8h.html#aa097934e0f5e3c398890a99605291b01">key</a> = strcpy(new_scope, scope);</div>
<div class="line"><span class="lineno">  434</span>        <a class="code hl_function" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d">avl_init</a>(&amp;acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa68919d297c23b76e3d05f20e54362c6">acls</a>, <a class="code hl_function" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0">avl_strcmp</a>, <span class="keyword">true</span>, NULL);</div>
<div class="line"><span class="lineno">  435</span>        <a class="code hl_function" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2">avl_insert</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a5c17aa340017659115f58073025296a6">acls</a>, &amp;acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">avl</a>);</div>
<div class="line"><span class="lineno">  436</span>    }</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>    id_len = <a class="code hl_function" href="#a6821acd43665ce9878cf066c08cc5b8e">uh_id_len</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno">  439</span>    acl = <a class="code hl_define" href="../../d5/d1d/libubox_2utils_8h.html#aff691579da2cdefdfca9824884526804">calloc_a</a>(<span class="keyword">sizeof</span>(*acl),</div>
<div class="line"><span class="lineno">  440</span>        &amp;new_obj, strlen(<span class="keywordtype">object</span>) + 1,</div>
<div class="line"><span class="lineno">  441</span>        &amp;new_func, strlen(function) + 1,</div>
<div class="line"><span class="lineno">  442</span>        &amp;new_id, id_len + 1);</div>
<div class="line"><span class="lineno">  443</span> </div>
<div class="line"><span class="lineno">  444</span>    <span class="keywordflow">if</span> (!acl)</div>
<div class="line"><span class="lineno">  445</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d5/d79/ubusmsg_8h.html#a99bec0c168a4d5ac338ad787dfb73312ab8845eab4efc86465452fa517b43c2b5">UBUS_STATUS_UNKNOWN_ERROR</a>;</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>    acl-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#acc946ea50d9110cb802d545e3be3d64b">object</a> = strcpy(new_obj, <span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno">  448</span>    acl-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a1e27a7365fc5818ebb743bf0f4cf783c">function</a> = strcpy(new_func, function);</div>
<div class="line"><span class="lineno">  449</span>    acl-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa69bd0e9252739cf0742190ac07704cf">avl</a>.<a class="code hl_variable" href="../../d3/d51/avl_8h.html#aa097934e0f5e3c398890a99605291b01">key</a> = strncpy(new_id, <span class="keywordtype">object</span>, id_len);</div>
<div class="line"><span class="lineno">  450</span>    <a class="code hl_function" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2">avl_insert</a>(&amp;acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa68919d297c23b76e3d05f20e54362c6">acls</a>, &amp;acl-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa69bd0e9252739cf0742190ac07704cf">avl</a>);</div>
<div class="line"><span class="lineno">  451</span> </div>
<div class="line"><span class="lineno">  452</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  453</span>}</div>
<div class="ttc" id="alibubox_2utils_8h_html_aff691579da2cdefdfca9824884526804"><div class="ttname"><a href="../../d5/d1d/libubox_2utils_8h.html#aff691579da2cdefdfca9824884526804">calloc_a</a></div><div class="ttdeci">#define calloc_a(len,...)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d1d/libubox_2utils_8h_source.html#l00039">utils.h:39</a></div></div>
<div class="ttc" id="asession_8c_html_a6821acd43665ce9878cf066c08cc5b8e"><div class="ttname"><a href="#a6821acd43665ce9878cf066c08cc5b8e">uh_id_len</a></div><div class="ttdeci">static int uh_id_len(const char *str)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00399">session.c:399</a></div></div>
<div class="ttc" id="asession_8h_html_aa69bd0e9252739cf0742190ac07704cf"><div class="ttname"><a href="../../da/d46/session_8h.html#aa69bd0e9252739cf0742190ac07704cf">rpc_session_acl::avl</a></div><div class="ttdeci">struct avl_node avl</div><div class="ttdef"><b>Definition</b> <a href="../../da/d46/session_8h_source.html#l00063">session.h:63</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00047">rpc_session::acls</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00059">rpc_session_acl_scope::acls</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00063">rpc_session_acl::avl</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00058">rpc_session_acl_scope::avl</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00240">avl_find_element</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00092">avl_init()</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00220">avl_insert()</a>, <a class="el" href="../../d2/d66/avl-cmp_8c_source.html#l00026">avl_strcmp()</a>, <a class="el" href="../../d5/d1d/libubox_2utils_8h_source.html#l00039">calloc_a</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00065">rpc_session_acl::function</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00084">avl_node::key</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00064">rpc_session_acl::object</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00121">UBUS_STATUS_INVALID_ARGUMENT</a>, <a class="el" href="../../d5/d79/ubusmsg_8h_source.html#l00128">UBUS_STATUS_UNKNOWN_ERROR</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00137">uh_foreach_matching_acl_prefix</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00399">uh_id_len()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00510">rpc_handle_acl()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l01015">rpc_login_setup_acl_file()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00958">rpc_login_setup_acl_scope()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a8f7993c2572c4099268c121f3fe5eab5_cgraph.png" border="0" usemap="#ade/d67/session_8c_a8f7993c2572c4099268c121f3fe5eab5_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a8f7993c2572c4099268c121f3fe5eab5_cgraph" id="ade/d67/session_8c_a8f7993c2572c4099268c121f3fe5eab5_cgraph">
<area shape="rect" title=" " alt="" coords="5,272,194,306"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="259,76,346,110"/>
<area shape="poly" title=" " alt="" coords="117,270,271,119,275,122,120,273"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="247,243,358,276"/>
<area shape="poly" title=" " alt="" coords="193,273,231,267,232,272,194,278"/>
<area shape="rect" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0" title=" " alt="" coords="242,300,363,334"/>
<area shape="poly" title=" " alt="" coords="194,299,227,304,226,309,194,304"/>
<area shape="rect" href="../../de/d67/session_8c.html#a6821acd43665ce9878cf066c08cc5b8e" title=" " alt="" coords="248,357,357,391"/>
<area shape="poly" title=" " alt="" coords="143,304,247,348,245,353,141,309"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="416,5,584,39"/>
<area shape="poly" title=" " alt="" coords="344,73,410,48,427,42,429,47,412,53,346,78"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="435,283,565,316"/>
<area shape="poly" title=" " alt="" coords="359,268,420,281,419,286,357,273"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="419,392,581,426"/>
<area shape="poly" title=" " alt="" coords="350,275,365,286,382,308,389,330,397,350,413,371,429,382,426,387,409,375,392,353,384,331,377,311,361,289,347,279"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="673,392,766,426"/>
<area shape="poly" title=" " alt="" coords="345,274,365,285,388,307,398,317,412,326,512,356,659,392,657,397,511,361,410,331,395,321,385,311,361,290,343,279"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="411,449,589,483"/>
<area shape="poly" title=" " alt="" coords="352,275,365,286,379,306,386,326,388,364,392,400,399,418,413,436,414,438,411,442,409,440,394,421,386,402,383,364,380,327,374,308,361,289,349,279"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="451,63,549,96"/>
<area shape="poly" title=" " alt="" coords="309,241,346,175,375,138,409,105,435,91,438,96,413,110,378,141,350,178,314,243"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="443,120,557,154"/>
<area shape="poly" title=" " alt="" coords="317,240,357,201,410,163,427,154,430,159,412,167,360,205,321,244"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="439,201,562,235"/>
<area shape="poly" title=" " alt="" coords="357,245,423,232,424,237,359,251"/>
<area shape="poly" title=" " alt="" coords="464,283,460,273,466,264,479,258,500,256,523,259,536,265,533,270,521,264,500,261,480,263,469,268,466,274,469,281"/>
<area shape="poly" title=" " alt="" coords="582,406,658,406,658,412,582,412"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="850,420,951,454"/>
<area shape="poly" title=" " alt="" coords="767,413,835,424,834,429,766,419"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="655,449,784,483"/>
<area shape="poly" title=" " alt="" coords="590,464,640,464,640,469,590,469"/>
<area shape="poly" title=" " alt="" coords="784,453,834,445,834,450,785,458"/>
<area shape="poly" title=" " alt="" coords="464,202,460,192,466,183,479,177,500,175,523,177,536,184,533,188,521,182,500,180,480,182,469,187,466,192,469,200"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="645,173,794,207"/>
<area shape="poly" title=" " alt="" coords="562,208,629,199,630,204,563,213"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="637,231,802,264"/>
<area shape="poly" title=" " alt="" coords="563,224,622,232,621,237,562,229"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="852,231,949,264"/>
<area shape="poly" title=" " alt="" coords="776,205,838,225,836,230,774,210"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="854,173,947,207"/>
<area shape="poly" title=" " alt="" coords="794,188,839,188,839,193,794,193"/>
<area shape="poly" title=" " alt="" coords="802,245,836,245,836,250,802,250"/>
<area shape="poly" title=" " alt="" coords="774,228,839,207,840,212,776,233"/>
</map>
</div>

</div>
</div>
<a id="a4e65e993938bcd87e1a73d5120121e4e" name="a4e65e993938bcd87e1a73d5120121e4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e65e993938bcd87e1a73d5120121e4e">&#9670;&#160;</a></span>rpc_session_new()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> * rpc_session_new </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00295">295</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  296</span>{</div>
<div class="line"><span class="lineno">  297</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>    ses = calloc(1, <span class="keyword">sizeof</span>(*ses));</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>    <span class="keywordflow">if</span> (!ses)</div>
<div class="line"><span class="lineno">  302</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a1c0637409779a09f9608ea4862060536">avl</a>.<a class="code hl_variable" href="../../d3/d51/avl_8h.html#aa097934e0f5e3c398890a99605291b01">key</a> = ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a2eddeba0d0ae2a4d3bdc691415f8d5f6">id</a>;</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>    <a class="code hl_function" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d">avl_init</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a5c17aa340017659115f58073025296a6">acls</a>, <a class="code hl_function" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0">avl_strcmp</a>, <span class="keyword">true</span>, NULL);</div>
<div class="line"><span class="lineno">  307</span>    <a class="code hl_function" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d">avl_init</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aeeb121d2bac9ac1a4c3c7fe3d2a312a7">data</a>, <a class="code hl_function" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0">avl_strcmp</a>, <span class="keyword">false</span>, NULL);</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>    ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a5ef493b8ace61c91f704e3894c9978f0">t</a>.<a class="code hl_variable" href="../../dc/d56/uloop_8h.html#a7b331d0a02bb53b37ae38716956c97bd">cb</a> = <a class="code hl_function" href="#a942904f3bce66749528077eea3656a9e">rpc_session_timeout</a>;</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>    <span class="keywordflow">return</span> ses;</div>
<div class="line"><span class="lineno">  312</span>}</div>
<div class="ttc" id="asession_8c_html_a942904f3bce66749528077eea3656a9e"><div class="ttname"><a href="#a942904f3bce66749528077eea3656a9e">rpc_session_timeout</a></div><div class="ttdeci">static void rpc_session_timeout(struct uloop_timeout *t)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l00286">session.c:286</a></div></div>
<div class="ttc" id="auloop_8h_html_a7b331d0a02bb53b37ae38716956c97bd"><div class="ttname"><a href="../../dc/d56/uloop_8h.html#a7b331d0a02bb53b37ae38716956c97bd">uloop_timeout::cb</a></div><div class="ttdeci">uloop_timeout_handler cb</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d56/uloop_8h_source.html#l00077">uloop.h:77</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00047">rpc_session::acls</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00042">rpc_session::avl</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00092">avl_init()</a>, <a class="el" href="../../d2/d66/avl-cmp_8c_source.html#l00026">avl_strcmp()</a>, <a class="el" href="../../dc/d56/uloop_8h_source.html#l00077">uloop_timeout::cb</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00046">rpc_session::data</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00043">rpc_session::id</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00084">avl_node::key</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00286">rpc_session_timeout()</a>, and <a class="el" href="../../da/d46/session_8h_source.html#l00045">rpc_session::t</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00315">rpc_session_create()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01276">rpc_session_from_blob()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a4e65e993938bcd87e1a73d5120121e4e_cgraph.png" border="0" usemap="#ade/d67/session_8c_a4e65e993938bcd87e1a73d5120121e4e_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a4e65e993938bcd87e1a73d5120121e4e_cgraph" id="ade/d67/session_8c_a4e65e993938bcd87e1a73d5120121e4e_cgraph">
<area shape="rect" title=" " alt="" coords="5,143,182,176"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="291,85,378,119"/>
<area shape="poly" title=" " alt="" coords="166,140,275,113,276,119,168,145"/>
<area shape="rect" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0" title=" " alt="" coords="274,143,395,176"/>
<area shape="poly" title=" " alt="" coords="182,157,258,157,258,162,182,162"/>
<area shape="rect" href="../../de/d67/session_8c.html#a942904f3bce66749528077eea3656a9e" title=" " alt="" coords="230,200,439,234"/>
<area shape="poly" title=" " alt="" coords="168,174,246,193,245,198,166,179"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="507,85,675,119"/>
<area shape="poly" title=" " alt="" coords="378,100,491,100,491,105,378,105"/>
<area shape="rect" href="../../de/d67/session_8c.html#af8a6b910b22f08634f041229c48633b0" title=" " alt="" coords="487,200,694,234"/>
<area shape="poly" title=" " alt="" coords="440,214,471,214,471,220,440,220"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="795,144,910,178"/>
<area shape="poly" title=" " alt="" coords="672,197,780,174,781,179,673,202"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="742,228,963,262"/>
<area shape="poly" title=" " alt="" coords="695,225,727,229,726,234,695,231"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="1011,87,1197,120"/>
<area shape="poly" title=" " alt="" coords="910,145,1012,122,1013,127,911,150"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="1055,5,1153,39"/>
<area shape="poly" title=" " alt="" coords="872,141,931,95,969,70,1010,48,1039,36,1041,41,1012,53,972,75,935,100,875,146"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="1041,201,1167,235"/>
<area shape="poly" title=" " alt="" coords="911,171,1026,198,1025,203,910,176"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="1047,144,1161,178"/>
<area shape="poly" title=" " alt="" coords="910,158,1031,158,1031,164,910,164"/>
<area shape="poly" title=" " alt="" coords="1064,87,1059,77,1065,68,1080,62,1104,60,1129,62,1143,69,1141,74,1128,68,1104,65,1082,67,1069,72,1065,78,1069,85"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="1255,117,1398,151"/>
<area shape="poly" title=" " alt="" coords="1198,114,1240,120,1239,125,1197,119"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="1245,60,1408,94"/>
<area shape="poly" title=" " alt="" coords="1197,90,1229,86,1230,91,1198,95"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="1464,89,1613,123"/>
<area shape="poly" title=" " alt="" coords="1172,118,1198,129,1222,147,1232,155,1246,161,1290,172,1326,174,1362,170,1408,161,1452,147,1493,128,1495,133,1454,152,1409,166,1363,175,1326,180,1289,177,1244,166,1229,159,1219,151,1196,134,1170,123"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="1456,32,1621,66"/>
<area shape="poly" title=" " alt="" coords="1135,84,1196,49,1219,33,1244,21,1301,12,1358,11,1413,17,1462,25,1461,31,1412,22,1358,16,1301,17,1246,26,1221,38,1198,54,1138,88"/>
<area shape="poly" title=" " alt="" coords="1288,61,1284,51,1290,41,1304,35,1327,33,1351,36,1364,42,1362,47,1349,41,1327,39,1306,41,1293,45,1290,51,1293,59"/>
<area shape="poly" title=" " alt="" coords="1409,86,1449,91,1448,96,1408,91"/>
<area shape="poly" title=" " alt="" coords="1409,63,1440,59,1441,64,1409,69"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1669,32,1766,66"/>
<area shape="poly" title=" " alt="" coords="1592,86,1653,66,1655,71,1594,91"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1671,89,1764,123"/>
<area shape="poly" title=" " alt="" coords="1614,104,1655,104,1655,109,1614,109"/>
<area shape="poly" title=" " alt="" coords="1621,46,1653,46,1653,52,1621,52"/>
<area shape="poly" title=" " alt="" coords="1594,64,1657,84,1655,89,1592,69"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1284,228,1369,262"/>
<area shape="poly" title=" " alt="" coords="1167,223,1269,235,1268,241,1167,228"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1491,228,1586,262"/>
<area shape="poly" title=" " alt="" coords="1370,242,1476,242,1476,248,1370,248"/>
<area shape="poly" title=" " alt="" coords="963,244,1011,245,1197,245,1269,244,1269,249,1197,250,1011,250,963,250"/>
</map>
</div>

</div>
</div>
<a id="a54a264b4df2e8ea90cf5c55fc8854dca" name="a54a264b4df2e8ea90cf5c55fc8854dca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54a264b4df2e8ea90cf5c55fc8854dca">&#9670;&#160;</a></span>rpc_session_revoke()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rpc_session_revoke </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *</td>          <td class="paramname"><span class="paramname"><em>ses</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>scope</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>object</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>function</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00456">456</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  458</span>{</div>
<div class="line"><span class="lineno">  459</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d3/d73/structrpc__session__acl">rpc_session_acl</a> *acl, *next;</div>
<div class="line"><span class="lineno">  460</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#de/dcc/structrpc__session__acl__scope">rpc_session_acl_scope</a> *acl_scope;</div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordtype">int</span> id_len;</div>
<div class="line"><span class="lineno">  462</span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../dd/d8f/udebug-proto_8h.html#abaabdc509cdaba7df9f56c6c76f3ae19">id</a>;</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>    acl_scope = <a class="code hl_define" href="../../d3/d51/avl_8h.html#a65bfca92c030dd0ea5548f23de5fc07e">avl_find_element</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a5c17aa340017659115f58073025296a6">acls</a>, scope, acl_scope, <a class="code hl_variable" href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">avl</a>);</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>    <span class="keywordflow">if</span> (!acl_scope)</div>
<div class="line"><span class="lineno">  467</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>    <span class="keywordflow">if</span> (!<span class="keywordtype">object</span> &amp;&amp; !function) {</div>
<div class="line"><span class="lineno">  470</span>        <a class="code hl_define" href="../../d3/d51/avl_8h.html#af8b3ca3843e7a4bb3bc80858f53c2ad5">avl_remove_all_elements</a>(&amp;acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa68919d297c23b76e3d05f20e54362c6">acls</a>, acl, <a class="code hl_variable" href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">avl</a>, next)</div>
<div class="line"><span class="lineno">  471</span>            free(acl);</div>
<div class="line"><span class="lineno">  472</span>        <a class="code hl_function" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106">avl_delete</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a5c17aa340017659115f58073025296a6">acls</a>, &amp;acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">avl</a>);</div>
<div class="line"><span class="lineno">  473</span>        free(acl_scope);</div>
<div class="line"><span class="lineno">  474</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  475</span>    }</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>    id_len = <a class="code hl_function" href="#a6821acd43665ce9878cf066c08cc5b8e">uh_id_len</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno">  478</span>    <span class="keywordtype">id</span> = alloca(id_len + 1);</div>
<div class="line"><span class="lineno">  479</span>    strncpy(<span class="keywordtype">id</span>, <span class="keywordtype">object</span>, id_len);</div>
<div class="line"><span class="lineno">  480</span>    <span class="keywordtype">id</span>[id_len] = 0;</div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span>    acl = <a class="code hl_define" href="../../d3/d51/avl_8h.html#a65bfca92c030dd0ea5548f23de5fc07e">avl_find_element</a>(&amp;acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa68919d297c23b76e3d05f20e54362c6">acls</a>, <span class="keywordtype">id</span>, acl, <a class="code hl_variable" href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">avl</a>);</div>
<div class="line"><span class="lineno">  483</span>    <span class="keywordflow">while</span> (acl) {</div>
<div class="line"><span class="lineno">  484</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d3/d51/avl_8h.html#aaa94f68dd2836210b4d2841586941573">avl_is_last</a>(&amp;acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa68919d297c23b76e3d05f20e54362c6">acls</a>, &amp;acl-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa69bd0e9252739cf0742190ac07704cf">avl</a>))</div>
<div class="line"><span class="lineno">  485</span>            next = <a class="code hl_define" href="../../d3/d51/avl_8h.html#a44808c5fc055437c429a05a9b0a06c64">avl_next_element</a>(acl, <a class="code hl_variable" href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">avl</a>);</div>
<div class="line"><span class="lineno">  486</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  487</span>            next = NULL;</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>        <span class="keywordflow">if</span> (strcmp(<span class="keywordtype">id</span>, acl-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa69bd0e9252739cf0742190ac07704cf">avl</a>.<a class="code hl_variable" href="../../d3/d51/avl_8h.html#aa097934e0f5e3c398890a99605291b01">key</a>) != 0)</div>
<div class="line"><span class="lineno">  490</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  491</span> </div>
<div class="line"><span class="lineno">  492</span>        <span class="keywordflow">if</span> (!strcmp(acl-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#acc946ea50d9110cb802d545e3be3d64b">object</a>, <span class="keywordtype">object</span>) &amp;&amp;</div>
<div class="line"><span class="lineno">  493</span>            !strcmp(acl-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a1e27a7365fc5818ebb743bf0f4cf783c">function</a>, function)) {</div>
<div class="line"><span class="lineno">  494</span>            <a class="code hl_function" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106">avl_delete</a>(&amp;acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa68919d297c23b76e3d05f20e54362c6">acls</a>, &amp;acl-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa69bd0e9252739cf0742190ac07704cf">avl</a>);</div>
<div class="line"><span class="lineno">  495</span>            free(acl);</div>
<div class="line"><span class="lineno">  496</span>        }</div>
<div class="line"><span class="lineno">  497</span>        acl = next;</div>
<div class="line"><span class="lineno">  498</span>    }</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d3/d51/avl_8h.html#a4eb43408a7e91b1323c8e2484ae2431a">avl_is_empty</a>(&amp;acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa68919d297c23b76e3d05f20e54362c6">acls</a>)) {</div>
<div class="line"><span class="lineno">  501</span>        <a class="code hl_function" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106">avl_delete</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a5c17aa340017659115f58073025296a6">acls</a>, &amp;acl_scope-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a8052b133ffa1ac8e229fad1c3a8c916a">avl</a>);</div>
<div class="line"><span class="lineno">  502</span>        free(acl_scope);</div>
<div class="line"><span class="lineno">  503</span>    }</div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="line"><span class="lineno">  505</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  506</span>}</div>
<div class="ttc" id="aavl_8h_html_a44808c5fc055437c429a05a9b0a06c64"><div class="ttname"><a href="../../d3/d51/avl_8h.html#a44808c5fc055437c429a05a9b0a06c64">avl_next_element</a></div><div class="ttdeci">#define avl_next_element(element, node_member)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00305">avl.h:305</a></div></div>
<div class="ttc" id="aavl_8h_html_a4eb43408a7e91b1323c8e2484ae2431a"><div class="ttname"><a href="../../d3/d51/avl_8h.html#a4eb43408a7e91b1323c8e2484ae2431a">avl_is_empty</a></div><div class="ttdeci">static bool avl_is_empty(struct avl_tree *tree)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00200">avl.h:200</a></div></div>
<div class="ttc" id="aavl_8h_html_aaa94f68dd2836210b4d2841586941573"><div class="ttname"><a href="../../d3/d51/avl_8h.html#aaa94f68dd2836210b4d2841586941573">avl_is_last</a></div><div class="ttdeci">static bool avl_is_last(struct avl_tree *tree, struct avl_node *node)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00191">avl.h:191</a></div></div>
<div class="ttc" id="audebug-proto_8h_html_abaabdc509cdaba7df9f56c6c76f3ae19"><div class="ttname"><a href="../../dd/d8f/udebug-proto_8h.html#abaabdc509cdaba7df9f56c6c76f3ae19">id</a></div><div class="ttdeci">uint32_t id</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d8f/udebug-proto_8h_source.html#l00002">udebug-proto.h:2</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00047">rpc_session::acls</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00059">rpc_session_acl_scope::acls</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00063">rpc_session_acl::avl</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00058">rpc_session_acl_scope::avl</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00307">avl_delete()</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00240">avl_find_element</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00200">avl_is_empty()</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00191">avl_is_last()</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00305">avl_next_element</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00545">avl_remove_all_elements</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00065">rpc_session_acl::function</a>, <a class="el" href="../../dd/d8f/udebug-proto_8h_source.html#l00002">id</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00084">avl_node::key</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00064">rpc_session_acl::object</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00399">uh_id_len()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00510">rpc_handle_acl()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a54a264b4df2e8ea90cf5c55fc8854dca_cgraph.png" border="0" usemap="#ade/d67/session_8c_a54a264b4df2e8ea90cf5c55fc8854dca_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a54a264b4df2e8ea90cf5c55fc8854dca_cgraph" id="ade/d67/session_8c_a54a264b4df2e8ea90cf5c55fc8854dca_cgraph">
<area shape="rect" title=" " alt="" coords="5,283,205,316"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="266,196,380,230"/>
<area shape="poly" title=" " alt="" coords="148,280,263,233,265,238,150,285"/>
<area shape="rect" href="../../d3/d51/avl_8h.html#a4eb43408a7e91b1323c8e2484ae2431a" title=" " alt="" coords="253,253,393,287"/>
<area shape="poly" title=" " alt="" coords="205,284,237,279,237,284,205,289"/>
<area shape="rect" href="../../d3/d51/avl_8h.html#aaa94f68dd2836210b4d2841586941573" title=" " alt="" coords="266,311,380,344"/>
<area shape="poly" title=" " alt="" coords="205,310,250,316,250,321,205,315"/>
<area shape="rect" href="../../de/d67/session_8c.html#a6821acd43665ce9878cf066c08cc5b8e" title=" " alt="" coords="269,368,377,402"/>
<area shape="poly" title=" " alt="" coords="151,315,264,359,262,364,149,320"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="441,109,627,143"/>
<area shape="poly" title=" " alt="" coords="354,193,440,152,455,146,457,151,442,157,356,198"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="485,167,583,200"/>
<area shape="poly" title=" " alt="" coords="380,202,469,190,470,195,381,208"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="471,224,597,258"/>
<area shape="poly" title=" " alt="" coords="381,218,456,228,455,233,380,223"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="477,281,591,315"/>
<area shape="poly" title=" " alt="" coords="371,228,394,239,418,254,442,268,463,276,462,281,440,273,415,258,392,243,369,233"/>
<area shape="poly" title=" " alt="" coords="496,110,492,100,498,91,512,85,534,83,558,85,572,92,569,96,557,90,534,88,513,90,501,95,497,101,501,108"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="685,165,829,199"/>
<area shape="poly" title=" " alt="" coords="605,141,673,159,672,164,603,146"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="675,56,839,90"/>
<area shape="poly" title=" " alt="" coords="607,106,669,91,670,96,608,111"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="894,27,1044,60"/>
<area shape="poly" title=" " alt="" coords="549,107,600,59,636,35,674,17,732,5,791,4,848,10,898,20,897,25,847,15,791,9,733,10,676,22,638,40,604,64,552,111"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="887,84,1051,118"/>
<area shape="poly" title=" " alt="" coords="627,118,871,104,871,109,628,124"/>
<area shape="poly" title=" " alt="" coords="719,57,715,47,720,37,735,32,757,29,781,32,795,38,792,43,780,37,757,35,736,37,724,42,720,47,724,55"/>
<area shape="poly" title=" " alt="" coords="839,59,878,53,879,59,840,64"/>
<area shape="poly" title=" " alt="" coords="840,81,872,85,871,91,839,86"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1099,27,1196,60"/>
<area shape="poly" title=" " alt="" coords="1044,41,1083,41,1083,46,1044,46"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1102,84,1194,118"/>
<area shape="poly" title=" " alt="" coords="1024,58,1087,79,1086,84,1023,64"/>
<area shape="poly" title=" " alt="" coords="1023,81,1084,61,1085,66,1024,86"/>
<area shape="poly" title=" " alt="" coords="1052,98,1086,98,1086,104,1052,104"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="714,224,800,258"/>
<area shape="poly" title=" " alt="" coords="597,238,699,238,699,244,597,244"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="922,224,1016,258"/>
<area shape="poly" title=" " alt="" coords="800,238,906,238,906,244,800,244"/>
</map>
</div>

</div>
</div>
<a id="aa249955e5ae81bcc548041c4055cef7e" name="aa249955e5ae81bcc548041c4055cef7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa249955e5ae81bcc548041c4055cef7e">&#9670;&#160;</a></span>rpc_session_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_session_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *</td>          <td class="paramname"><span class="paramname"><em>ses</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *</td>          <td class="paramname"><span class="paramname"><em>val</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00630">630</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  631</span>{</div>
<div class="line"><span class="lineno">  632</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#db/dfa/structrpc__session__data">rpc_session_data</a> *data;</div>
<div class="line"><span class="lineno">  633</span> </div>
<div class="line"><span class="lineno">  634</span>    data = <a class="code hl_define" href="../../d3/d51/avl_8h.html#a65bfca92c030dd0ea5548f23de5fc07e">avl_find_element</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aeeb121d2bac9ac1a4c3c7fe3d2a312a7">data</a>, <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(val), data, <a class="code hl_variable" href="../../da/d46/session_8h.html#a14e26d5bdb6b6a045bbea82072868e6b">avl</a>);</div>
<div class="line"><span class="lineno">  635</span>    <span class="keywordflow">if</span> (data) {</div>
<div class="line"><span class="lineno">  636</span>        <a class="code hl_function" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106">avl_delete</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aeeb121d2bac9ac1a4c3c7fe3d2a312a7">data</a>, &amp;data-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a14e26d5bdb6b6a045bbea82072868e6b">avl</a>);</div>
<div class="line"><span class="lineno">  637</span>        free(data);</div>
<div class="line"><span class="lineno">  638</span>    }</div>
<div class="line"><span class="lineno">  639</span> </div>
<div class="line"><span class="lineno">  640</span>    data = calloc(1, <span class="keyword">sizeof</span>(*data) + <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b">blob_pad_len</a>(val));</div>
<div class="line"><span class="lineno">  641</span>    <span class="keywordflow">if</span> (!data)</div>
<div class="line"><span class="lineno">  642</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>    memcpy(data-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#af61cae6edb31f71b2baf68f0b77ada5e">attr</a>, val, <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b">blob_pad_len</a>(val));</div>
<div class="line"><span class="lineno">  645</span>    data-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a14e26d5bdb6b6a045bbea82072868e6b">avl</a>.<a class="code hl_variable" href="../../d3/d51/avl_8h.html#aa097934e0f5e3c398890a99605291b01">key</a> = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(data-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#af61cae6edb31f71b2baf68f0b77ada5e">attr</a>);</div>
<div class="line"><span class="lineno">  646</span>    <a class="code hl_function" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2">avl_insert</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aeeb121d2bac9ac1a4c3c7fe3d2a312a7">data</a>, &amp;data-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a14e26d5bdb6b6a045bbea82072868e6b">avl</a>);</div>
<div class="line"><span class="lineno">  647</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00054">rpc_session_data::attr</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00053">rpc_session_data::avl</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00307">avl_delete()</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00240">avl_find_element</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00220">avl_insert()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00118">blob_pad_len()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00062">blobmsg_name()</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00046">rpc_session::data</a>, and <a class="el" href="../../d3/d51/avl_8h_source.html#l00084">avl_node::key</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01126">rpc_handle_login()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00650">rpc_handle_set()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01276">rpc_session_from_blob()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_aa249955e5ae81bcc548041c4055cef7e_cgraph.png" border="0" usemap="#ade/d67/session_8c_aa249955e5ae81bcc548041c4055cef7e_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_aa249955e5ae81bcc548041c4055cef7e_cgraph" id="ade/d67/session_8c_aa249955e5ae81bcc548041c4055cef7e_cgraph">
<area shape="rect" title=" " alt="" coords="5,488,172,522"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="244,217,358,251"/>
<area shape="poly" title=" " alt="" coords="101,486,275,262,279,265,105,489"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="246,412,356,446"/>
<area shape="poly" title=" " alt="" coords="137,485,236,449,238,454,139,490"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="230,584,372,618"/>
<area shape="poly" title=" " alt="" coords="129,520,249,575,247,580,127,525"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="220,641,382,675"/>
<area shape="poly" title=" " alt="" coords="106,520,153,573,186,602,221,628,229,632,226,637,218,632,182,606,150,577,102,524"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="430,160,616,194"/>
<area shape="poly" title=" " alt="" coords="357,217,440,195,441,201,359,222"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="474,275,572,308"/>
<area shape="poly" title=" " alt="" coords="359,246,460,272,458,278,357,251"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="460,41,586,75"/>
<area shape="poly" title=" " alt="" coords="319,215,428,121,482,82,485,86,432,126,323,219"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="466,217,580,251"/>
<area shape="poly" title=" " alt="" coords="358,232,450,232,450,237,358,237"/>
<area shape="poly" title=" " alt="" coords="483,161,479,151,485,141,500,135,523,133,548,136,563,142,560,147,547,141,523,139,501,141,488,145,484,151,488,159"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="674,115,818,148"/>
<area shape="poly" title=" " alt="" coords="608,157,659,147,660,152,610,162"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="664,196,828,230"/>
<area shape="poly" title=" " alt="" coords="617,189,649,195,648,200,616,195"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="883,252,1033,286"/>
<area shape="poly" title=" " alt="" coords="593,192,618,203,632,212,642,223,651,232,665,240,716,255,768,265,868,271,868,276,768,270,715,260,663,245,648,236,638,226,629,217,615,207,591,197"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="876,195,1040,228"/>
<area shape="poly" title=" " alt="" coords="547,157,599,126,630,111,664,100,709,89,747,84,784,87,829,100,861,115,890,136,935,181,932,185,886,140,858,120,827,105,783,92,747,89,710,94,665,105,632,116,601,130,550,162"/>
<area shape="poly" title=" " alt="" coords="708,197,704,187,709,177,724,171,746,169,770,172,784,178,781,183,769,177,746,175,725,177,713,181,709,187,713,195"/>
<area shape="poly" title=" " alt="" coords="813,228,877,245,876,250,812,233"/>
<area shape="poly" title=" " alt="" coords="828,210,860,209,860,215,828,215"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1088,195,1185,228"/>
<area shape="poly" title=" " alt="" coords="1012,249,1073,229,1074,234,1013,254"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1091,252,1183,286"/>
<area shape="poly" title=" " alt="" coords="1033,266,1075,266,1075,272,1033,272"/>
<area shape="poly" title=" " alt="" coords="1041,209,1072,209,1072,214,1041,214"/>
<area shape="poly" title=" " alt="" coords="1013,226,1076,247,1075,252,1012,231"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="703,5,789,39"/>
<area shape="poly" title=" " alt="" coords="586,45,687,29,688,34,587,51"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="911,5,1005,39"/>
<area shape="poly" title=" " alt="" coords="789,20,895,20,895,25,789,25"/>
<area shape="poly" title=" " alt="" coords="319,409,367,368,429,325,458,311,461,315,431,330,370,373,322,414"/>
<area shape="poly" title=" " alt="" coords="309,410,353,338,387,296,428,260,450,248,453,253,432,264,391,300,357,341,313,413"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="458,517,588,551"/>
<area shape="poly" title=" " alt="" coords="340,444,473,508,471,513,337,449"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="442,575,604,608"/>
<area shape="poly" title=" " alt="" coords="316,444,362,502,395,534,431,561,439,565,436,570,429,566,391,538,358,505,312,448"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="700,444,792,478"/>
<area shape="poly" title=" " alt="" coords="357,430,685,454,684,459,356,435"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="434,384,612,418"/>
<area shape="poly" title=" " alt="" coords="356,419,418,411,419,417,357,425"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="684,329,808,363"/>
<area shape="poly" title=" " alt="" coords="331,409,377,387,429,369,491,356,555,348,668,342,669,348,555,354,492,361,431,374,379,392,334,414"/>
<area shape="poly" title=" " alt="" coords="483,518,479,508,485,499,500,493,523,491,548,493,563,500,560,504,547,498,523,496,501,498,488,503,484,508,488,516"/>
<area shape="poly" title=" " alt="" coords="591,572,615,561,670,525,715,487,718,491,673,529,618,566,593,576"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="907,415,1009,448"/>
<area shape="poly" title=" " alt="" coords="792,452,892,438,892,443,793,457"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="681,387,811,420"/>
<area shape="poly" title=" " alt="" coords="613,399,665,400,665,405,613,405"/>
<area shape="poly" title=" " alt="" coords="812,409,892,420,891,425,811,415"/>
<area shape="poly" title=" " alt="" coords="793,326,894,289,896,294,795,331"/>
<area shape="poly" title=" " alt="" coords="762,327,810,283,874,237,883,233,885,237,877,242,814,287,766,331"/>
<area shape="poly" title=" " alt="" coords="708,330,704,320,709,311,724,305,746,303,770,305,784,312,781,316,769,310,746,308,725,310,713,315,709,320,713,328"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="453,632,594,666"/>
<area shape="poly" title=" " alt="" coords="373,614,438,628,437,633,372,619"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="697,632,795,666"/>
<area shape="poly" title=" " alt="" coords="594,646,681,646,681,652,594,652"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="468,689,579,723"/>
<area shape="poly" title=" " alt="" coords="383,673,453,688,452,694,382,678"/>
</map>
</div>

</div>
</div>
<a id="acc6ba747fc8a85006bfaeddc4ea418cf" name="acc6ba747fc8a85006bfaeddc4ea418cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc6ba747fc8a85006bfaeddc4ea418cf">&#9670;&#160;</a></span>rpc_session_thaw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rpc_session_thaw </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l01407">1407</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1408</span>{</div>
<div class="line"><span class="lineno"> 1409</span>    DIR *d;</div>
<div class="line"><span class="lineno"> 1410</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>[PATH_MAX];</div>
<div class="line"><span class="lineno"> 1411</span>    <span class="keyword">struct </span>dirent *e;</div>
<div class="line"><span class="lineno"> 1412</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *attr;</div>
<div class="line"><span class="lineno"> 1413</span>    <span class="keyword">struct </span>uci_context *uci;</div>
<div class="line"><span class="lineno"> 1414</span> </div>
<div class="line"><span class="lineno"> 1415</span>    d = opendir(<a class="code hl_define" href="../../da/d46/session_8h.html#a563849be2e4a0b0ad32a6a3bcc0d8e2c">RPC_SESSION_DIRECTORY</a>);</div>
<div class="line"><span class="lineno"> 1416</span> </div>
<div class="line"><span class="lineno"> 1417</span>    <span class="keywordflow">if</span> (!d)</div>
<div class="line"><span class="lineno"> 1418</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1419</span> </div>
<div class="line"><span class="lineno"> 1420</span>    uci = uci_alloc_context();</div>
<div class="line"><span class="lineno"> 1421</span> </div>
<div class="line"><span class="lineno"> 1422</span>    <span class="keywordflow">if</span> (!uci)</div>
<div class="line"><span class="lineno"> 1423</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1424</span> </div>
<div class="line"><span class="lineno"> 1425</span>    <span class="keywordflow">while</span> ((e = readdir(d)) != NULL) {</div>
<div class="line"><span class="lineno"> 1426</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a978d20d6ff148c61baa53ddc9a1f33a2">rpc_validate_sid</a>(e-&gt;d_name))</div>
<div class="line"><span class="lineno"> 1427</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1428</span> </div>
<div class="line"><span class="lineno"> 1429</span>        snprintf(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>) - 1,</div>
<div class="line"><span class="lineno"> 1430</span>                 <a class="code hl_define" href="../../da/d46/session_8h.html#a563849be2e4a0b0ad32a6a3bcc0d8e2c">RPC_SESSION_DIRECTORY</a> <span class="stringliteral">&quot;/%s&quot;</span>, e-&gt;d_name);</div>
<div class="line"><span class="lineno"> 1431</span> </div>
<div class="line"><span class="lineno"> 1432</span>        attr = <a class="code hl_function" href="#a999928b010271fb70e325adeb45d6e5b">rpc_blob_from_file</a>(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>);</div>
<div class="line"><span class="lineno"> 1433</span> </div>
<div class="line"><span class="lineno"> 1434</span>        <span class="keywordflow">if</span> (attr) {</div>
<div class="line"><span class="lineno"> 1435</span>            <a class="code hl_function" href="#a638e465172f9d86f0ee06cbcb3f7ccdd">rpc_session_from_blob</a>(uci, attr);</div>
<div class="line"><span class="lineno"> 1436</span>            free(attr);</div>
<div class="line"><span class="lineno"> 1437</span>        }</div>
<div class="line"><span class="lineno"> 1438</span> </div>
<div class="line"><span class="lineno"> 1439</span>        unlink(<a class="code hl_variable" href="../../df/d0e/ubusd__obj_8c.html#a9ece2e576492090c46d5e3b435cef7d4">path</a>);</div>
<div class="line"><span class="lineno"> 1440</span>    }</div>
<div class="line"><span class="lineno"> 1441</span> </div>
<div class="line"><span class="lineno"> 1442</span>    closedir(d);</div>
<div class="line"><span class="lineno"> 1443</span> </div>
<div class="line"><span class="lineno"> 1444</span>    uci_free_context(uci);</div>
<div class="line"><span class="lineno"> 1445</span>}</div>
<div class="ttc" id="asession_8c_html_a638e465172f9d86f0ee06cbcb3f7ccdd"><div class="ttname"><a href="#a638e465172f9d86f0ee06cbcb3f7ccdd">rpc_session_from_blob</a></div><div class="ttdeci">static bool rpc_session_from_blob(struct uci_context *uci, struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l01276">session.c:1276</a></div></div>
<div class="ttc" id="asession_8c_html_a978d20d6ff148c61baa53ddc9a1f33a2"><div class="ttname"><a href="#a978d20d6ff148c61baa53ddc9a1f33a2">rpc_validate_sid</a></div><div class="ttdeci">static bool rpc_validate_sid(const char *id)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l01191">session.c:1191</a></div></div>
<div class="ttc" id="asession_8c_html_a999928b010271fb70e325adeb45d6e5b"><div class="ttname"><a href="#a999928b010271fb70e325adeb45d6e5b">rpc_blob_from_file</a></div><div class="ttdeci">static struct blob_attr * rpc_blob_from_file(const char *path)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d67/session_8c_source.html#l01230">session.c:1230</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d0e/ubusd__obj_8c_source.html#l00019">path</a>, <a class="el" href="../../de/d67/session_8c_source.html#l01230">rpc_blob_from_file()</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00036">RPC_SESSION_DIRECTORY</a>, <a class="el" href="../../de/d67/session_8c_source.html#l01276">rpc_session_from_blob()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01191">rpc_validate_sid()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/ddd/rpcd_2main_8c_source.html#l00069">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_acc6ba747fc8a85006bfaeddc4ea418cf_cgraph.png" border="0" usemap="#ade/d67/session_8c_acc6ba747fc8a85006bfaeddc4ea418cf_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_acc6ba747fc8a85006bfaeddc4ea418cf_cgraph" id="ade/d67/session_8c_acc6ba747fc8a85006bfaeddc4ea418cf_cgraph">
<area shape="rect" title=" " alt="" coords="5,773,189,807"/>
<area shape="rect" href="../../de/d67/session_8c.html#a999928b010271fb70e325adeb45d6e5b" title=" " alt="" coords="257,607,447,640"/>
<area shape="poly" title=" " alt="" coords="123,771,310,647,313,651,126,775"/>
<area shape="rect" href="../../de/d67/session_8c.html#a638e465172f9d86f0ee06cbcb3f7ccdd" title=" " alt="" coords="237,773,467,807"/>
<area shape="poly" title=" " alt="" coords="189,788,221,788,221,793,189,793"/>
<area shape="rect" href="../../de/d67/session_8c.html#a978d20d6ff148c61baa53ddc9a1f33a2" title=" " alt="" coords="267,831,437,864"/>
<area shape="poly" title=" " alt="" coords="176,805,260,824,259,829,174,810"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="826,529,969,563"/>
<area shape="poly" title=" " alt="" coords="376,604,437,568,475,550,514,537,592,524,671,521,746,523,811,530,810,535,745,529,671,526,592,529,516,542,477,555,439,572,379,608"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="1087,529,1229,563"/>
<area shape="poly" title=" " alt="" coords="969,544,1071,544,1071,549,969,549"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1341,487,1439,520"/>
<area shape="poly" title=" " alt="" coords="1228,531,1325,513,1326,518,1229,536"/>
<area shape="poly" title=" " alt="" coords="368,771,415,719,465,652,478,619,482,590,490,563,499,550,513,537,542,521,579,508,670,489,781,478,901,475,1024,476,1142,481,1326,495,1325,500,1141,487,1024,482,901,480,781,484,671,494,580,513,544,526,517,542,503,553,495,565,488,591,483,621,469,654,419,723,372,775"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="842,280,953,314"/>
<area shape="poly" title=" " alt="" coords="370,771,418,721,443,687,465,652,476,622,481,594,481,544,481,520,485,495,494,470,513,443,546,411,584,383,625,361,668,342,753,316,827,302,828,307,754,321,670,347,628,365,587,388,550,415,517,447,499,472,490,496,486,520,486,544,486,595,481,623,469,654,448,690,422,724,374,775"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1335,783,1446,816"/>
<area shape="poly" title=" " alt="" coords="376,771,437,734,475,717,514,704,624,678,718,662,803,653,882,652,962,659,1046,674,1139,697,1248,728,1301,748,1349,772,1346,777,1299,753,1246,733,1138,702,1045,680,961,665,882,657,803,658,719,667,625,684,516,709,477,722,439,739,379,775"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1082,1088,1234,1122"/>
<area shape="poly" title=" " alt="" coords="454,805,469,816,483,832,490,849,495,881,499,914,505,930,517,946,548,975,576,997,604,1012,632,1024,695,1040,775,1058,851,1075,928,1087,1067,1099,1066,1105,927,1092,850,1080,774,1063,694,1045,631,1029,602,1017,573,1001,544,979,513,949,500,932,494,915,490,882,485,850,478,835,465,820,450,810"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6c1cc8e52e96bf9698f6b0f65ad48603" title=" " alt="" coords="796,1139,999,1172"/>
<area shape="poly" title=" " alt="" coords="456,806,469,816,484,836,494,855,502,894,499,933,491,972,483,1010,481,1047,491,1083,501,1100,517,1117,534,1129,559,1138,626,1150,703,1156,781,1157,781,1162,703,1161,625,1156,558,1143,532,1134,513,1122,497,1104,486,1085,476,1048,478,1009,486,971,494,933,497,894,489,857,479,838,465,820,453,810"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a856562b4d96007d3ce1a052998451a0f" title=" " alt="" coords="528,1189,713,1223"/>
<area shape="poly" title=" " alt="" coords="456,805,469,816,486,839,498,861,505,883,508,905,505,949,496,993,486,1036,483,1080,491,1124,501,1146,517,1168,528,1179,524,1182,513,1172,497,1149,486,1126,477,1080,481,1036,490,992,500,949,502,906,499,884,493,863,482,842,465,820,453,810"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab631ab3a5e71a8742449cd374a63ecec" title=" " alt="" coords="528,1247,713,1280"/>
<area shape="poly" title=" " alt="" coords="457,805,469,816,489,843,502,870,509,896,512,923,507,975,494,1027,481,1079,476,1130,478,1156,485,1182,498,1208,517,1234,518,1235,514,1238,513,1237,493,1210,480,1184,473,1157,471,1130,476,1078,489,1026,502,974,507,923,504,897,497,871,484,846,465,820,453,809"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="1077,743,1239,776"/>
<area shape="poly" title=" " alt="" coords="467,783,1061,760,1061,766,468,788"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#afb56b36905412b6618a529c171e833ed" title=" " alt="" coords="540,901,702,935"/>
<area shape="poly" title=" " alt="" coords="439,805,468,816,533,851,587,889,584,894,530,856,466,821,437,810"/>
<area shape="rect" href="../../de/d67/session_8c.html#a856c2fef68fa28c9590680e1f3f473eb" title=" " alt="" coords="515,719,726,752"/>
<area shape="poly" title=" " alt="" coords="438,770,519,753,520,759,439,775"/>
<area shape="rect" href="../../de/d67/session_8c.html#a479fcd3fc3d6fd7fdfe9a1cdd6ed2805" title=" " alt="" coords="519,1313,722,1347"/>
<area shape="poly" title=" " alt="" coords="457,805,469,816,491,847,506,877,514,907,517,936,511,995,497,1054,482,1112,475,1171,477,1200,484,1230,497,1260,517,1291,529,1303,525,1307,513,1295,492,1263,479,1232,471,1201,469,1171,476,1111,492,1052,506,994,512,936,509,908,501,879,487,849,465,820,453,809"/>
<area shape="rect" href="../../de/d67/session_8c.html#a4e65e993938bcd87e1a73d5120121e4e" title=" " alt="" coords="533,1380,709,1414"/>
<area shape="poly" title=" " alt="" coords="457,806,469,816,482,837,491,863,500,928,500,1005,495,1088,491,1170,490,1247,498,1312,506,1338,517,1358,529,1369,525,1373,513,1361,501,1340,492,1313,485,1248,485,1170,490,1087,495,1004,495,928,486,864,477,839,465,820,454,810"/>
<area shape="rect" href="../../de/d67/session_8c.html#aa249955e5ae81bcc548041c4055cef7e" title=" " alt="" coords="538,609,704,643"/>
<area shape="poly" title=" " alt="" coords="369,771,430,717,471,687,514,660,542,647,545,651,516,665,474,691,433,721,372,775"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="526,552,715,586"/>
<area shape="poly" title=" " alt="" coords="366,771,513,595,521,590,524,595,517,599,370,775"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="1093,225,1223,259"/>
<area shape="poly" title=" " alt="" coords="952,283,1077,256,1078,262,953,288"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="1077,5,1239,39"/>
<area shape="poly" title=" " alt="" coords="903,278,925,233,960,171,1008,105,1036,75,1067,48,1072,45,1075,49,1070,52,1040,78,1012,108,964,173,930,235,908,281"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="1344,143,1436,176"/>
<area shape="poly" title=" " alt="" coords="953,300,1015,303,1089,301,1169,291,1246,269,1280,252,1311,231,1361,186,1365,190,1314,235,1282,257,1248,274,1170,296,1090,306,1015,308,953,305"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="1069,335,1247,368"/>
<area shape="poly" title=" " alt="" coords="953,306,1060,328,1059,334,952,311"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="1109,392,1207,426"/>
<area shape="poly" title=" " alt="" coords="931,312,995,344,1070,378,1095,388,1093,393,1068,383,992,349,929,316"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="1101,63,1215,96"/>
<area shape="poly" title=" " alt="" coords="908,278,932,242,969,196,1014,147,1067,105,1085,96,1087,101,1070,110,1018,151,973,199,937,245,912,281"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="1096,144,1220,178"/>
<area shape="poly" title=" " alt="" coords="920,277,985,233,1067,186,1080,181,1083,186,1070,191,988,237,923,282"/>
<area shape="poly" title=" " alt="" coords="1116,226,1112,216,1118,207,1133,201,1158,199,1184,201,1199,208,1197,212,1183,206,1158,204,1135,206,1121,211,1117,216,1121,224"/>
<area shape="poly" title=" " alt="" coords="1224,37,1248,48,1311,88,1362,130,1358,134,1308,93,1246,53,1222,42"/>
<area shape="poly" title=" " alt="" coords="1116,145,1112,135,1118,125,1133,119,1158,117,1184,120,1199,126,1197,131,1183,125,1158,123,1135,125,1121,129,1117,135,1121,142"/>
<area shape="poly" title=" " alt="" coords="1170,1086,1364,827,1369,831,1174,1089"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1300,983,1481,1016"/>
<area shape="poly" title=" " alt="" coords="1184,1085,1234,1055,1294,1025,1309,1019,1310,1024,1296,1030,1236,1060,1187,1090"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1305,1097,1475,1131"/>
<area shape="poly" title=" " alt="" coords="1234,1105,1290,1107,1290,1113,1234,1111"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1295,1040,1485,1074"/>
<area shape="poly" title=" " alt="" coords="1233,1087,1290,1075,1292,1080,1234,1092"/>
<area shape="poly" title=" " alt="" coords="987,1135,1066,1120,1067,1125,988,1141"/>
<area shape="poly" title=" " alt="" coords="714,1211,782,1212,860,1209,941,1200,1020,1182,1075,1158,1121,1129,1124,1133,1077,1163,1021,1187,942,1205,860,1215,782,1217,714,1216"/>
<area shape="poly" title=" " alt="" coords="714,1266,783,1265,861,1259,942,1244,1020,1218,1052,1201,1083,1178,1131,1132,1134,1135,1086,1182,1055,1205,1022,1223,943,1249,862,1264,783,1270,714,1271"/>
<area shape="poly" title=" " alt="" coords="1240,771,1320,785,1319,790,1239,776"/>
<area shape="poly" title=" " alt="" coords="702,903,1319,808,1320,813,703,908"/>
<area shape="poly" title=" " alt="" coords="660,933,714,954,775,972,911,992,1049,1002,1177,1004,1284,1002,1284,1008,1177,1010,1049,1007,911,997,774,977,712,959,658,938"/>
<area shape="poly" title=" " alt="" coords="645,933,702,972,738,991,775,1006,840,1024,908,1038,1044,1055,1172,1061,1279,1060,1280,1066,1172,1066,1044,1060,907,1043,839,1029,773,1011,735,996,699,976,642,938"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="1114,903,1202,936"/>
<area shape="poly" title=" " alt="" coords="702,914,774,913,1021,913,1099,915,1098,920,1021,918,774,918,702,919"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="776,928,1019,962"/>
<area shape="poly" title=" " alt="" coords="703,923,761,929,760,934,702,929"/>
<area shape="poly" title=" " alt="" coords="909,926,1018,762,1136,575,1141,577,1023,765,913,929"/>
<area shape="poly" title=" " alt="" coords="928,960,1117,1077,1114,1082,925,965"/>
<area shape="poly" title=" " alt="" coords="1019,930,1099,923,1099,928,1020,936"/>
<area shape="rect" href="../../de/d67/session_8c.html#ab75bdbde0c1e7b4d0109da0143c96625" title=" " alt="" coords="778,717,1017,751"/>
<area shape="poly" title=" " alt="" coords="727,732,763,732,763,737,727,738"/>
<area shape="poly" title=" " alt="" coords="1017,743,1061,747,1061,753,1017,748"/>
<area shape="rect" href="../../de/d67/session_8c.html#a283fa7ba72f3f3c18d80b4e76a0dd45e" title=" " alt="" coords="774,1323,1021,1356"/>
<area shape="poly" title=" " alt="" coords="723,1331,759,1332,759,1337,723,1336"/>
<area shape="poly" title=" " alt="" coords="851,1324,846,1313,853,1304,870,1298,898,1296,927,1298,943,1305,941,1310,926,1304,897,1301,871,1303,856,1308,851,1314,856,1321"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="854,1437,941,1471"/>
<area shape="poly" title=" " alt="" coords="706,1412,840,1440,838,1445,705,1417"/>
<area shape="rect" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0" title=" " alt="" coords="837,1380,958,1414"/>
<area shape="poly" title=" " alt="" coords="709,1394,822,1394,822,1400,709,1400"/>
<area shape="poly" title=" " alt="" coords="688,606,726,596,826,566,827,571,727,601,689,611"/>
<area shape="poly" title=" " alt="" coords="703,609,724,596,787,488,877,326,882,328,792,490,728,600,706,613"/>
<area shape="poly" title=" " alt="" coords="705,635,853,661,938,680,1021,702,1106,734,1104,739,1020,707,937,685,852,667,704,640"/>
</map>
</div>

</div>
</div>
<a id="a942904f3bce66749528077eea3656a9e" name="a942904f3bce66749528077eea3656a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a942904f3bce66749528077eea3656a9e">&#9670;&#160;</a></span>rpc_session_timeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_session_timeout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d56/uloop_8h.html#d8/d2b/structuloop__timeout">uloop_timeout</a> *</td>          <td class="paramname"><span class="paramname"><em>t</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00286">286</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  287</span>{</div>
<div class="line"><span class="lineno">  288</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *ses;</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>    ses = <a class="code hl_define" href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(<a class="code hl_variable" href="../../da/d46/session_8h.html#a5ef493b8ace61c91f704e3894c9978f0">t</a>, <span class="keyword">struct</span> <a class="code hl_struct" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a>, <a class="code hl_variable" href="../../da/d46/session_8h.html#a5ef493b8ace61c91f704e3894c9978f0">t</a>);</div>
<div class="line"><span class="lineno">  291</span>    <a class="code hl_function" href="#af8a6b910b22f08634f041229c48633b0">rpc_session_destroy</a>(ses);</div>
<div class="line"><span class="lineno">  292</span>}</div>
<div class="ttc" id="alist_8h_html_af8c317a42292b61c93aae91e59118a46"><div class="ttname"><a href="../../da/d23/list_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a></div><div class="ttdeci">#define container_of(ptr, type, member)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d23/list_8h_source.html#l00038">list.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d23/list_8h_source.html#l00038">container_of</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00259">rpc_session_destroy()</a>, and <a class="el" href="../../da/d46/session_8h_source.html#l00045">rpc_session::t</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00295">rpc_session_new()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a942904f3bce66749528077eea3656a9e_cgraph.png" border="0" usemap="#ade/d67/session_8c_a942904f3bce66749528077eea3656a9e_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a942904f3bce66749528077eea3656a9e_cgraph" id="ade/d67/session_8c_a942904f3bce66749528077eea3656a9e_cgraph">
<area shape="rect" title=" " alt="" coords="5,200,215,234"/>
<area shape="rect" href="../../de/d67/session_8c.html#af8a6b910b22f08634f041229c48633b0" title=" " alt="" coords="263,200,470,234"/>
<area shape="poly" title=" " alt="" coords="215,214,247,214,247,220,215,220"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aff86971e7141b6e9af18b7601066b106" title=" " alt="" coords="571,144,685,178"/>
<area shape="poly" title=" " alt="" coords="448,197,555,174,557,179,449,202"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="518,228,738,262"/>
<area shape="poly" title=" " alt="" coords="471,225,503,229,502,234,470,231"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#adcd20fb25eb25a816468018d720977e6" title=" " alt="" coords="786,87,973,120"/>
<area shape="poly" title=" " alt="" coords="685,145,787,122,788,127,687,150"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="830,5,929,39"/>
<area shape="poly" title=" " alt="" coords="648,141,707,95,745,70,785,48,814,36,816,41,787,53,748,75,710,100,651,146"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a678c2372f389572c6513ffe9bb65d73f" title=" " alt="" coords="816,201,943,235"/>
<area shape="poly" title=" " alt="" coords="687,171,801,198,800,203,685,176"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="822,144,937,178"/>
<area shape="poly" title=" " alt="" coords="686,158,807,158,807,164,686,164"/>
<area shape="poly" title=" " alt="" coords="839,87,835,77,841,68,856,62,880,60,905,62,919,69,917,74,903,68,879,65,857,67,844,72,840,78,844,85"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ae64061061eff1f7635a03b09effae373" title=" " alt="" coords="1031,117,1174,151"/>
<area shape="poly" title=" " alt="" coords="973,114,1016,120,1015,125,973,119"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ac4d16f1266bb12e9bb809693b095360c" title=" " alt="" coords="1021,60,1184,94"/>
<area shape="poly" title=" " alt="" coords="973,90,1005,86,1005,91,973,95"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="1240,89,1389,123"/>
<area shape="poly" title=" " alt="" coords="947,118,974,129,998,147,1007,155,1022,161,1066,172,1102,174,1138,170,1183,161,1228,147,1269,128,1271,133,1230,152,1185,166,1139,175,1102,180,1065,177,1020,166,1005,159,995,151,971,134,945,123"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="1232,32,1396,66"/>
<area shape="poly" title=" " alt="" coords="911,84,971,49,994,33,1020,21,1076,12,1134,11,1189,17,1238,25,1237,31,1188,22,1133,16,1077,17,1021,26,997,38,974,54,913,88"/>
<area shape="poly" title=" " alt="" coords="1064,61,1060,51,1066,41,1080,35,1102,33,1126,36,1140,42,1138,47,1125,41,1102,39,1081,41,1069,45,1065,51,1069,59"/>
<area shape="poly" title=" " alt="" coords="1185,86,1224,91,1224,96,1184,91"/>
<area shape="poly" title=" " alt="" coords="1184,63,1216,59,1217,64,1185,69"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1444,32,1542,66"/>
<area shape="poly" title=" " alt="" coords="1368,86,1429,66,1431,71,1370,91"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1447,89,1539,123"/>
<area shape="poly" title=" " alt="" coords="1389,104,1431,104,1431,109,1389,109"/>
<area shape="poly" title=" " alt="" coords="1397,46,1429,46,1429,52,1397,52"/>
<area shape="poly" title=" " alt="" coords="1370,64,1433,84,1431,89,1368,69"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="1060,228,1145,262"/>
<area shape="poly" title=" " alt="" coords="943,223,1044,235,1044,241,942,228"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="1267,228,1361,262"/>
<area shape="poly" title=" " alt="" coords="1145,242,1251,242,1251,248,1145,248"/>
<area shape="poly" title=" " alt="" coords="739,244,786,245,973,245,1044,244,1045,249,973,250,786,250,739,250"/>
</map>
</div>

</div>
</div>
<a id="aaa8dccc7bffc72a3e31e4f3e14792e6d" name="aaa8dccc7bffc72a3e31e4f3e14792e6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa8dccc7bffc72a3e31e4f3e14792e6d">&#9670;&#160;</a></span>rpc_session_to_blob()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_session_to_blob </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *</td>          <td class="paramname"><span class="paramname"><em>ses</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>acls</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00221">221</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  222</span>{</div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordtype">void</span> *c;</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>    <a class="code hl_function" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b">blob_buf_init</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, 0);</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6">blobmsg_add_string</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>, ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a2eddeba0d0ae2a4d3bdc691415f8d5f6">id</a>);</div>
<div class="line"><span class="lineno">  228</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393">blobmsg_add_u32</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;timeout&quot;</span>, ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa16d4621e81aca679fdb27610c5b2e1d">timeout</a>);</div>
<div class="line"><span class="lineno">  229</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a49c8f3302820716f41cd9bdafab331fa">blobmsg_add_u64</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;expires&quot;</span>, <a class="code hl_function" href="../../d1/d08/uloop_8c.html#a144dc46ccd6334bb5736232ab966e0d7">uloop_timeout_remaining64</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a5ef493b8ace61c91f704e3894c9978f0">t</a>) / 1000);</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordflow">if</span> (acls) {</div>
<div class="line"><span class="lineno">  232</span>        c = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a">blobmsg_open_table</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;acls&quot;</span>);</div>
<div class="line"><span class="lineno">  233</span>        <a class="code hl_function" href="#a40fa1238b59f856f01058476b97d4ce9">rpc_session_dump_acls</a>(ses, &amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>);</div>
<div class="line"><span class="lineno">  234</span>        <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14">blobmsg_close_table</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, c);</div>
<div class="line"><span class="lineno">  235</span>    }</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>    c = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a">blobmsg_open_table</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, <span class="stringliteral">&quot;data&quot;</span>);</div>
<div class="line"><span class="lineno">  238</span>    <a class="code hl_function" href="#a0976582c7397887dad087ddf62cacabd">rpc_session_dump_data</a>(ses, &amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>);</div>
<div class="line"><span class="lineno">  239</span>    <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14">blobmsg_close_table</a>(&amp;<a class="code hl_variable" href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">buf</a>, c);</div>
<div class="line"><span class="lineno">  240</span>}</div>
<div class="ttc" id="ablobmsg_8h_html_a49c8f3302820716f41cd9bdafab331fa"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a49c8f3302820716f41cd9bdafab331fa">blobmsg_add_u64</a></div><div class="ttdeci">static int blobmsg_add_u64(struct blob_buf *buf, const char *name, uint64_t val)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00228">blobmsg.h:228</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_afcf08162affe766f0f1c9dd641c7b393"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393">blobmsg_add_u32</a></div><div class="ttdeci">static int blobmsg_add_u32(struct blob_buf *buf, const char *name, uint32_t val)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00221">blobmsg.h:221</a></div></div>
<div class="ttc" id="auloop_8c_html_a144dc46ccd6334bb5736232ab966e0d7"><div class="ttname"><a href="../../d1/d08/uloop_8c.html#a144dc46ccd6334bb5736232ab966e0d7">uloop_timeout_remaining64</a></div><div class="ttdeci">int64_t uloop_timeout_remaining64(struct uloop_timeout *timeout)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d08/uloop_8c_source.html#l00379">uloop.c:379</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00059">rpc_session_acl_scope::acls</a>, <a class="el" href="../../d4/da0/blob_8c_source.html#l00091">blob_buf_init()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00235">blobmsg_add_string()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00221">blobmsg_add_u32()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00228">blobmsg_add_u64()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00268">blobmsg_close_table()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00256">blobmsg_open_table()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00038">buf</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00043">rpc_session::id</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00185">rpc_session_dump_acls()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00174">rpc_session_dump_data()</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00045">rpc_session::t</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00049">rpc_session::timeout</a>, and <a class="el" href="../../d1/d08/uloop_8c_source.html#l00379">uloop_timeout_remaining64()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00243">rpc_session_dump()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01387">rpc_session_freeze()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_aaa8dccc7bffc72a3e31e4f3e14792e6d_cgraph.png" border="0" usemap="#ade/d67/session_8c_aaa8dccc7bffc72a3e31e4f3e14792e6d_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_aaa8dccc7bffc72a3e31e4f3e14792e6d_cgraph" id="ade/d67/session_8c_aaa8dccc7bffc72a3e31e4f3e14792e6d_cgraph">
<area shape="rect" title=" " alt="" coords="5,429,211,463"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8ca2237342df92c699fbb2ddb5f390b" title=" " alt="" coords="328,149,468,183"/>
<area shape="poly" title=" " alt="" coords="116,427,168,338,209,283,257,234,294,207,333,187,336,192,297,212,260,238,213,287,172,341,120,430"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a4bba0979961750f86b8dc9915b2fa4d6" title=" " alt="" coords="602,436,810,470"/>
<area shape="poly" title=" " alt="" coords="211,445,586,449,586,454,211,450"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#afcf08162affe766f0f1c9dd641c7b393" title=" " alt="" coords="303,484,493,518"/>
<area shape="poly" title=" " alt="" coords="201,461,290,478,289,483,200,466"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a49c8f3302820716f41cd9bdafab331fa" title=" " alt="" coords="303,541,493,575"/>
<area shape="poly" title=" " alt="" coords="136,461,191,495,260,528,289,537,287,542,258,533,189,500,133,466"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a3252218dfc4cb4c8b54772196e8c2a14" title=" " alt="" coords="600,207,812,240"/>
<area shape="poly" title=" " alt="" coords="121,427,176,368,214,335,257,308,339,275,424,251,508,236,584,227,585,232,509,241,426,256,341,280,260,313,218,339,180,371,125,431"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a2de3b7599bec41a8c9919f780bd28f1a" title=" " alt="" coords="601,379,812,412"/>
<area shape="poly" title=" " alt="" coords="211,433,258,429,585,402,585,407,259,434,212,439"/>
<area shape="rect" href="../../de/d67/session_8c.html#a40fa1238b59f856f01058476b97d4ce9" title=" " alt="" coords="279,323,517,356"/>
<area shape="poly" title=" " alt="" coords="141,426,195,400,258,374,308,358,309,364,260,379,197,405,144,431"/>
<area shape="rect" href="../../de/d67/session_8c.html#a0976582c7397887dad087ddf62cacabd" title=" " alt="" coords="585,596,827,630"/>
<area shape="poly" title=" " alt="" coords="123,462,145,491,177,525,216,559,260,585,336,610,417,623,496,628,570,626,570,631,496,633,416,629,335,615,258,590,212,563,173,529,141,494,119,465"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a144dc46ccd6334bb5736232ab966e0d7" title=" " alt="" coords="259,653,537,687"/>
<area shape="poly" title=" " alt="" coords="121,462,141,498,173,543,213,590,260,629,291,645,288,650,257,634,209,593,168,546,137,500,116,465"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#af8de35ec0673663c45f2aad7c876d329" title=" " alt="" coords="654,92,759,126"/>
<area shape="poly" title=" " alt="" coords="468,151,638,119,639,124,469,156"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6f17715cbf1ce82b0981a452537b4dc6" title=" " alt="" coords="616,149,796,183"/>
<area shape="poly" title=" " alt="" coords="468,164,601,164,601,169,468,169"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1170,7,1312,40"/>
<area shape="poly" title=" " alt="" coords="730,89,793,52,833,33,875,20,948,7,1022,3,1092,4,1155,9,1154,15,1092,10,1022,8,948,13,876,25,835,38,796,56,733,94"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#ab4e3964334a7aec029ab29a2c724f248" title=" " alt="" coords="912,35,1067,68"/>
<area shape="poly" title=" " alt="" coords="758,96,897,68,898,73,760,101"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a686c428a3ab7c421820e049ab2384d47" title=" " alt="" coords="1170,144,1312,178"/>
<area shape="poly" title=" " alt="" coords="760,117,876,136,1023,149,1154,156,1154,161,1022,154,875,141,759,122"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#abe9f6013aad507ac84630ee773b806b6" title=" " alt="" coords="921,201,1058,235"/>
<area shape="poly" title=" " alt="" coords="760,112,794,121,829,135,844,146,854,158,863,169,877,180,908,195,906,200,874,184,859,173,849,161,840,150,826,139,793,126,759,117"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a4fb5423718fbcc165ed995360ab3ea96" title=" " alt="" coords="940,92,1039,126"/>
<area shape="poly" title=" " alt="" coords="759,106,924,106,924,112,759,112"/>
<area shape="poly" title=" " alt="" coords="1068,40,1154,31,1154,36,1068,46"/>
<area shape="poly" title=" " alt="" coords="1069,65,1105,77,1158,104,1205,133,1202,137,1156,108,1103,82,1067,70"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a3071b18c2bb742e04d7622379ee8fd3b" title=" " alt="" coords="1170,201,1312,235"/>
<area shape="poly" title=" " alt="" coords="1058,216,1154,216,1154,221,1058,221"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5bf37ab2b48095b7fb16ac11449b08f6" title=" " alt="" coords="892,491,1087,524"/>
<area shape="poly" title=" " alt="" coords="798,468,884,485,883,490,797,473"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aed178aa087a351c74f7f6cd34e56ba0c" title=" " alt="" coords="1167,483,1315,516"/>
<area shape="poly" title=" " alt="" coords="1087,502,1151,500,1151,505,1087,507"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1628,536,1739,570"/>
<area shape="poly" title=" " alt="" coords="1315,506,1541,533,1613,542,1612,547,1540,538,1315,511"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1384,592,1535,626"/>
<area shape="poly" title=" " alt="" coords="1278,515,1411,582,1409,587,1275,519"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1598,436,1769,470"/>
<area shape="poly" title=" " alt="" coords="1315,489,1378,482,1583,461,1583,466,1378,488,1316,494"/>
<area shape="poly" title=" " alt="" coords="1529,589,1612,568,1613,573,1530,594"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1593,593,1774,627"/>
<area shape="poly" title=" " alt="" coords="1535,607,1577,607,1577,612,1535,612"/>
<area shape="poly" title=" " alt="" coords="1484,589,1643,477,1647,481,1487,594"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1588,651,1779,684"/>
<area shape="poly" title=" " alt="" coords="1527,624,1602,644,1601,649,1526,629"/>
<area shape="poly" title=" " alt="" coords="493,499,877,504,877,509,493,505"/>
<area shape="poly" title=" " alt="" coords="493,547,877,514,877,520,493,553"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#aa980250f4a411659367b8bffaf5d6118" title=" " alt="" coords="912,259,1067,292"/>
<area shape="poly" title=" " alt="" coords="802,238,898,256,897,261,801,244"/>
<area shape="poly" title=" " alt="" coords="1066,261,1102,245,1117,232,1126,217,1134,202,1150,187,1156,183,1159,188,1153,191,1139,205,1130,220,1121,235,1105,250,1068,266"/>
<area shape="poly" title=" " alt="" coords="1066,256,1154,235,1155,240,1067,261"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1192,316,1290,350"/>
<area shape="poly" title=" " alt="" coords="1067,290,1177,316,1176,321,1066,296"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a189526712fcc12adfb6ea6a5c8eede54" title=" " alt="" coords="1152,259,1330,292"/>
<area shape="poly" title=" " alt="" coords="1067,273,1136,273,1136,278,1067,278"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#aaac450f6a679be8a392d17c3ed8700b4" title=" " alt="" coords="875,371,1104,404"/>
<area shape="poly" title=" " alt="" coords="812,390,860,389,860,394,812,395"/>
<area shape="poly" title=" " alt="" coords="1017,368,1058,339,1102,303,1115,287,1124,273,1134,258,1150,244,1156,240,1159,245,1153,248,1138,262,1129,275,1120,290,1106,307,1061,343,1020,372"/>
<area shape="poly" title=" " alt="" coords="1022,403,1081,435,1153,469,1167,475,1165,480,1151,474,1079,440,1019,407"/>
<area shape="poly" title=" " alt="" coords="1104,392,1330,410,1583,438,1583,443,1330,416,1104,398"/>
<area shape="poly" title=" " alt="" coords="1019,368,1079,335,1151,301,1165,296,1167,301,1153,306,1081,340,1022,373"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a99c424ce706ada40920b2f57259e223b" title=" " alt="" coords="1170,425,1312,459"/>
<area shape="poly" title=" " alt="" coords="1071,402,1155,421,1154,426,1070,408"/>
<area shape="poly" title=" " alt="" coords="433,355,502,389,586,422,607,429,605,434,584,427,500,393,431,359"/>
<area shape="poly" title=" " alt="" coords="434,320,584,249,605,242,607,247,586,254,436,325"/>
<area shape="poly" title=" " alt="" coords="495,354,595,373,594,378,494,360"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a56794b194617d9a858dbc783dd2a0c32" title=" " alt="" coords="599,264,813,298"/>
<area shape="poly" title=" " alt="" coords="490,320,598,299,599,304,491,325"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a938ceeed1d840f9df7946262f1835214" title=" " alt="" coords="600,321,813,355"/>
<area shape="poly" title=" " alt="" coords="517,336,584,336,584,341,517,342"/>
<area shape="poly" title=" " alt="" coords="814,276,897,275,897,280,814,282"/>
<area shape="poly" title=" " alt="" coords="807,353,875,365,874,370,806,358"/>
<area shape="poly" title=" " alt="" coords="772,593,826,574,874,550,927,528,929,533,876,555,828,579,774,598"/>
<area shape="poly" title=" " alt="" coords="828,610,1104,609,1368,607,1368,612,1104,614,828,615"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="895,565,1084,599"/>
<area shape="poly" title=" " alt="" coords="827,597,880,591,880,597,828,602"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="1378,649,1540,683"/>
<area shape="poly" title=" " alt="" coords="828,619,1363,657,1362,662,827,624"/>
<area shape="poly" title=" " alt="" coords="1084,576,1612,553,1612,559,1084,581"/>
<area shape="poly" title=" " alt="" coords="1084,585,1368,601,1368,606,1084,590"/>
<area shape="poly" title=" " alt="" coords="1058,563,1082,551,1102,535,1114,520,1121,506,1128,477,1133,446,1149,411,1174,382,1202,357,1205,361,1178,386,1154,414,1138,448,1133,478,1126,508,1119,523,1106,539,1084,555,1061,567"/>
<area shape="poly" title=" " alt="" coords="1520,646,1539,636,1553,622,1562,608,1571,593,1587,579,1611,566,1614,571,1590,583,1575,597,1566,611,1558,626,1542,640,1523,651"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="667,653,745,687"/>
<area shape="poly" title=" " alt="" coords="537,668,652,668,652,673,537,673"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="630,711,782,744"/>
<area shape="poly" title=" " alt="" coords="493,685,615,708,614,713,492,690"/>
</map>
</div>

</div>
</div>
<a id="a15a41226cf2bf6546acd3cb1975459c9" name="a15a41226cf2bf6546acd3cb1975459c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15a41226cf2bf6546acd3cb1975459c9">&#9670;&#160;</a></span>rpc_touch_session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rpc_touch_session </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d46/session_8h.html#d6/daf/structrpc__session">rpc_session</a> *</td>          <td class="paramname"><span class="paramname"><em>ses</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00252">252</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  253</span>{</div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordflow">if</span> (ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa16d4621e81aca679fdb27610c5b2e1d">timeout</a> &gt; 0)</div>
<div class="line"><span class="lineno">  255</span>        <a class="code hl_function" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346">uloop_timeout_set</a>(&amp;ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#a5ef493b8ace61c91f704e3894c9978f0">t</a>, ses-&gt;<a class="code hl_variable" href="../../da/d46/session_8h.html#aa16d4621e81aca679fdb27610c5b2e1d">timeout</a> * 1000);</div>
<div class="line"><span class="lineno">  256</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00045">rpc_session::t</a>, <a class="el" href="../../da/d46/session_8h_source.html#l00049">rpc_session::timeout</a>, and <a class="el" href="../../d1/d08/uloop_8c_source.html#l00328">uloop_timeout_set()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00315">rpc_session_create()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00341">rpc_session_get()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d67/session_8c_a15a41226cf2bf6546acd3cb1975459c9_cgraph.png" border="0" usemap="#ade/d67/session_8c_a15a41226cf2bf6546acd3cb1975459c9_cgraph" alt=""/></div>
<map name="ade/d67/session_8c_a15a41226cf2bf6546acd3cb1975459c9_cgraph" id="ade/d67/session_8c_a15a41226cf2bf6546acd3cb1975459c9_cgraph">
<area shape="rect" title=" " alt="" coords="5,63,196,96"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#aeae1856255dccd537fd19cdda1cba346" title=" " alt="" coords="244,63,433,96"/>
<area shape="poly" title=" " alt="" coords="196,77,228,77,228,82,196,82"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a941864296983cb342a79afe55055f8d3" title=" " alt="" coords="515,5,667,39"/>
<area shape="poly" title=" " alt="" coords="415,59,499,40,501,45,416,65"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#ae60859ac8015e8f1381e56f5eaae0a07" title=" " alt="" coords="493,63,689,96"/>
<area shape="poly" title=" " alt="" coords="434,77,477,77,477,82,434,82"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a6231184d2f54ac1bc945ecb73c517d91" title=" " alt="" coords="481,120,701,154"/>
<area shape="poly" title=" " alt="" coords="416,94,499,113,498,119,415,100"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="749,5,879,39"/>
<area shape="poly" title=" " alt="" coords="660,60,701,49,734,40,735,45,702,54,661,65"/>
<area shape="rect" href="../../d1/d08/uloop_8c.html#a76f33118cba0a358482528fad8c0f4cd" title=" " alt="" coords="775,63,853,96"/>
<area shape="poly" title=" " alt="" coords="690,77,759,77,759,82,690,82"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="927,5,1028,39"/>
<area shape="poly" title=" " alt="" coords="879,20,911,20,911,25,879,25"/>
<area shape="rect" href="../../da/d23/list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title=" " alt="" coords="771,120,857,154"/>
<area shape="poly" title=" " alt="" coords="702,134,756,134,756,140,702,140"/>
<area shape="rect" href="../../da/d23/list_8h.html#ae0988579c6b622299ee0f79accbf0779" title=" " alt="" coords="930,120,1025,154"/>
<area shape="poly" title=" " alt="" coords="857,134,915,134,915,140,857,140"/>
</map>
</div>

</div>
</div>
<a id="a978d20d6ff148c61baa53ddc9a1f33a2" name="a978d20d6ff148c61baa53ddc9a1f33a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a978d20d6ff148c61baa53ddc9a1f33a2">&#9670;&#160;</a></span>rpc_validate_sid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool rpc_validate_sid </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l01191">1191</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1192</span>{</div>
<div class="line"><span class="lineno"> 1193</span>    <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>)</div>
<div class="line"><span class="lineno"> 1194</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1195</span> </div>
<div class="line"><span class="lineno"> 1196</span>    <span class="keywordflow">if</span> (strlen(<span class="keywordtype">id</span>) != <a class="code hl_define" href="../../da/d46/session_8h.html#afa297923bfa39ef4e649aeaa91bf9ab4">RPC_SID_LEN</a>)</div>
<div class="line"><span class="lineno"> 1197</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1198</span> </div>
<div class="line"><span class="lineno"> 1199</span>    <span class="keywordflow">while</span> (*<span class="keywordtype">id</span>)</div>
<div class="line"><span class="lineno"> 1200</span>        <span class="keywordflow">if</span> (!isxdigit(*<span class="keywordtype">id</span>++))</div>
<div class="line"><span class="lineno"> 1201</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1202</span> </div>
<div class="line"><span class="lineno"> 1203</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1204</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d46/session_8h_source.html#l00033">RPC_SID_LEN</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01407">rpc_session_thaw()</a>.</p>

</div>
</div>
<a id="a6821acd43665ce9878cf066c08cc5b8e" name="a6821acd43665ce9878cf066c08cc5b8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6821acd43665ce9878cf066c08cc5b8e">&#9670;&#160;</a></span>uh_id_len()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int uh_id_len </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>str</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00399">399</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  400</span>{</div>
<div class="line"><span class="lineno">  401</span>    <span class="keywordflow">return</span> strcspn(str, <span class="stringliteral">&quot;*?[&quot;</span>);</div>
<div class="line"><span class="lineno">  402</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00405">rpc_session_grant()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00456">rpc_session_revoke()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a47810f278d213fdc913a3b3d0217c10c" name="a47810f278d213fdc913a3b3d0217c10c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47810f278d213fdc913a3b3d0217c10c">&#9670;&#160;</a></span>acl_policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> acl_policy[<a class="el" href="#a0b887f38fa71033f0904f8e2330b6815a37af7acec1cba488ebf34308562677f2">__RPC_SA_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a516826d3b174795b30a72fde859a35d9">RPC_SA_SID</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a82d9969369c967db453bdba7c78da8af">RPC_SA_SCOPE</a>] = { .name = <span class="stringliteral">&quot;scope&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a1a6f8f37441cf9081ea72c67e60ef63d">RPC_SA_OBJECTS</a>] = { .name = <span class="stringliteral">&quot;objects&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a73b081b5b7befc2e98c585c25e9750f2">BLOBMSG_TYPE_ARRAY</a> },</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00085">85</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   85</span>                                                              {</div>
<div class="line"><span class="lineno">   86</span>    [<a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a516826d3b174795b30a72fde859a35d9">RPC_SA_SID</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   87</span>    [<a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a82d9969369c967db453bdba7c78da8af">RPC_SA_SCOPE</a>] = { .name = <span class="stringliteral">&quot;scope&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   88</span>    [<a class="code hl_enumvalue" href="#a0b887f38fa71033f0904f8e2330b6815a1a6f8f37441cf9081ea72c67e60ef63d">RPC_SA_OBJECTS</a>] = { .name = <span class="stringliteral">&quot;objects&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a73b081b5b7befc2e98c585c25e9750f2">BLOBMSG_TYPE_ARRAY</a> },</div>
<div class="line"><span class="lineno">   89</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00510">rpc_handle_acl()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>

</div>
</div>
<a id="ab88af8f0f3e8ddaf6aa2623d0b84813c" name="ab88af8f0f3e8ddaf6aa2623d0b84813c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab88af8f0f3e8ddaf6aa2623d0b84813c">&#9670;&#160;</a></span>buf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d3c/blob_8h.html#d3/dcb/structblob__buf">blob_buf</a> buf</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00038">38</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00588">rpc_handle_access()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00679">rpc_handle_get()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00150">rpc_random()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00243">rpc_session_dump()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l01387">rpc_session_freeze()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00221">rpc_session_to_blob()</a>.</p>

</div>
</div>
<a id="aed0170f69d5b5f75df8f438ac1303a5d" name="aed0170f69d5b5f75df8f438ac1303a5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed0170f69d5b5f75df8f438ac1303a5d">&#9670;&#160;</a></span>dump_policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> dump_policy[<a class="el" href="#a78372742882dccd1c13323dbd66c25c5a01fc1a750620f803e79261d254caecbe">__RPC_DUMP_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a40107bf61cfea7aeb6d49918058a36f9">RPC_DUMP_SID</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a903fdd94b3a31b264ea0abf4db273517">RPC_DUMP_TIMEOUT</a>] = { .name = <span class="stringliteral">&quot;timeout&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a76d5842ac4eb500fe949e1d5bc36ed3b">RPC_DUMP_EXPIRES</a>] = { .name = <span class="stringliteral">&quot;expires&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9aec3c11495e52c7656800504001123736">BLOBMSG_TYPE_INT64</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a07df4283450205e00ade396b3c517293">RPC_DUMP_DATA</a>] = { .name = <span class="stringliteral">&quot;data&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a32115da5d02a4fba2b0ddad9f3ff82a7">BLOBMSG_TYPE_TABLE</a> },</div>
<div class="line">}</div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a></div><div class="ttdeci">@ BLOBMSG_TYPE_INT32</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00031">blobmsg.h:31</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a9e3efca3093410d90ef04154aefde2c9aec3c11495e52c7656800504001123736"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9aec3c11495e52c7656800504001123736">BLOBMSG_TYPE_INT64</a></div><div class="ttdeci">@ BLOBMSG_TYPE_INT64</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00030">blobmsg.h:30</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00112">112</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  112</span>                                                                 {</div>
<div class="line"><span class="lineno">  113</span>    [<a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a40107bf61cfea7aeb6d49918058a36f9">RPC_DUMP_SID</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">  114</span>    [<a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a903fdd94b3a31b264ea0abf4db273517">RPC_DUMP_TIMEOUT</a>] = { .name = <span class="stringliteral">&quot;timeout&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a> },</div>
<div class="line"><span class="lineno">  115</span>    [<a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a76d5842ac4eb500fe949e1d5bc36ed3b">RPC_DUMP_EXPIRES</a>] = { .name = <span class="stringliteral">&quot;expires&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9aec3c11495e52c7656800504001123736">BLOBMSG_TYPE_INT64</a> },</div>
<div class="line"><span class="lineno">  116</span>    [<a class="code hl_enumvalue" href="#a78372742882dccd1c13323dbd66c25c5a07df4283450205e00ade396b3c517293">RPC_DUMP_DATA</a>] = { .name = <span class="stringliteral">&quot;data&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a32115da5d02a4fba2b0ddad9f3ff82a7">BLOBMSG_TYPE_TABLE</a> },</div>
<div class="line"><span class="lineno">  117</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01276">rpc_session_from_blob()</a>.</p>

</div>
</div>
<a id="abb40236fcd127dcbb509fe69b2bef01e" name="abb40236fcd127dcbb509fe69b2bef01e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb40236fcd127dcbb509fe69b2bef01e">&#9670;&#160;</a></span>get_policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> get_policy[<a class="el" href="#aea33efd5e2c69d615faad5c5965510aaa23c0dc51e1811437f861fd77c1062bac">__RPC_SG_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaa3308333bea2a8c95eddce951eaa3c597">RPC_SG_SID</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaaa8d6538bd45f6bdeb6c79ed7ff545e0d">RPC_SG_KEYS</a>] = { .name = <span class="stringliteral">&quot;keys&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a73b081b5b7befc2e98c585c25e9750f2">BLOBMSG_TYPE_ARRAY</a> },</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00074">74</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   74</span>                                                              {</div>
<div class="line"><span class="lineno">   75</span>    [<a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaa3308333bea2a8c95eddce951eaa3c597">RPC_SG_SID</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   76</span>    [<a class="code hl_enumvalue" href="#aea33efd5e2c69d615faad5c5965510aaaa8d6538bd45f6bdeb6c79ed7ff545e0d">RPC_SG_KEYS</a>] = { .name = <span class="stringliteral">&quot;keys&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a73b081b5b7befc2e98c585c25e9750f2">BLOBMSG_TYPE_ARRAY</a> },</div>
<div class="line"><span class="lineno">   77</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00679">rpc_handle_get()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00726">rpc_handle_unset()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>

</div>
</div>
<a id="a0b1bb8c17f2dd79b8ca8e6b5be4e5562" name="a0b1bb8c17f2dd79b8ca8e6b5be4e5562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b1bb8c17f2dd79b8ca8e6b5be4e5562">&#9670;&#160;</a></span>login_policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> login_policy[<a class="el" href="#a2d5492e116eebd5075f247d21fb9db26a65a189b79b0bb1fec878b52bd956954c">__RPC_L_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ad927957e6550c480241ceffb6de312bd">RPC_L_USERNAME</a>] = { .name = <span class="stringliteral">&quot;username&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ac913380063b5c1d34c88d83f1c19c4ab">RPC_L_PASSWORD</a>] = { .name = <span class="stringliteral">&quot;password&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ad3a863f272e87e7dadb3d6748bc2f7c4">RPC_L_TIMEOUT</a>]  = { .name = <span class="stringliteral">&quot;timeout&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a> },</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00125">125</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  125</span>                                                               {</div>
<div class="line"><span class="lineno">  126</span>    [<a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ad927957e6550c480241ceffb6de312bd">RPC_L_USERNAME</a>] = { .name = <span class="stringliteral">&quot;username&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">  127</span>    [<a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ac913380063b5c1d34c88d83f1c19c4ab">RPC_L_PASSWORD</a>] = { .name = <span class="stringliteral">&quot;password&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">  128</span>    [<a class="code hl_enumvalue" href="#a2d5492e116eebd5075f247d21fb9db26ad3a863f272e87e7dadb3d6748bc2f7c4">RPC_L_TIMEOUT</a>]  = { .name = <span class="stringliteral">&quot;timeout&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a> },</div>
<div class="line"><span class="lineno">  129</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l01126">rpc_handle_login()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>

</div>
</div>
<a id="ae8c5a19913e32836ded43495a9b62610" name="ae8c5a19913e32836ded43495a9b62610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8c5a19913e32836ded43495a9b62610">&#9670;&#160;</a></span>new_policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> new_policy[<a class="el" href="#a7495a48740c9d555f7fbcb48246dbd93aecfdd63ed07e86e15a574255c4ed0fa3">__RPC_SN_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a7495a48740c9d555f7fbcb48246dbd93adc0518217bf21b0c034513ce86612278">RPC_SN_TIMEOUT</a>] = { .name = <span class="stringliteral">&quot;timeout&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a> },</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00047">47</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   47</span>                                                              {</div>
<div class="line"><span class="lineno">   48</span>    [<a class="code hl_enumvalue" href="#a7495a48740c9d555f7fbcb48246dbd93adc0518217bf21b0c034513ce86612278">RPC_SN_TIMEOUT</a>] = { .name = <span class="stringliteral">&quot;timeout&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9acf0b8181117c037f7db537ed6270fafd">BLOBMSG_TYPE_INT32</a> },</div>
<div class="line"><span class="lineno">   49</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00354">rpc_handle_create()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>

</div>
</div>
<a id="a9b034ab755e3a6aa8041dcb905bfcb6d" name="a9b034ab755e3a6aa8041dcb905bfcb6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b034ab755e3a6aa8041dcb905bfcb6d">&#9670;&#160;</a></span>perm_policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> perm_policy[<a class="el" href="#a84fe57ba52f8e237004a413b27ea4db8a0419328334e17df25e7527e21dd8c02f">__RPC_SP_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a31a7b418b4a1ba7ab30b72277dfa755c">RPC_SP_SID</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a9a63e9dbf1d8323c1da1a0462634e2ca">RPC_SP_SCOPE</a>] = { .name = <span class="stringliteral">&quot;scope&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a2d2d07eb39f912d085f60d024939df79">RPC_SP_OBJECT</a>] = { .name = <span class="stringliteral">&quot;object&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a134cb4b11639906131c55370ac1e5d3c">RPC_SP_FUNCTION</a>] = { .name = <span class="stringliteral">&quot;function&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00098">98</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   98</span>                                                               {</div>
<div class="line"><span class="lineno">   99</span>    [<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a31a7b418b4a1ba7ab30b72277dfa755c">RPC_SP_SID</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">  100</span>    [<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a9a63e9dbf1d8323c1da1a0462634e2ca">RPC_SP_SCOPE</a>] = { .name = <span class="stringliteral">&quot;scope&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">  101</span>    [<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a2d2d07eb39f912d085f60d024939df79">RPC_SP_OBJECT</a>] = { .name = <span class="stringliteral">&quot;object&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">  102</span>    [<a class="code hl_enumvalue" href="#a84fe57ba52f8e237004a413b27ea4db8a134cb4b11639906131c55370ac1e5d3c">RPC_SP_FUNCTION</a>] = { .name = <span class="stringliteral">&quot;function&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">  103</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00588">rpc_handle_access()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>

</div>
</div>
<a id="aba81a584ebe050715570ab74db1d30be" name="aba81a584ebe050715570ab74db1d30be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba81a584ebe050715570ab74db1d30be">&#9670;&#160;</a></span>sessions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d3/d51/avl_8h.html#dd/d4a/structavl__tree">avl_tree</a> sessions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00037">37</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00374">rpc_handle_list()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00315">rpc_session_create()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00259">rpc_session_destroy()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l01387">rpc_session_freeze()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l01276">rpc_session_from_blob()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l00341">rpc_session_get()</a>.</p>

</div>
</div>
<a id="a91c735acdf25c5a777e492fc85256b7a" name="a91c735acdf25c5a777e492fc85256b7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c735acdf25c5a777e492fc85256b7a">&#9670;&#160;</a></span>set_policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> set_policy[<a class="el" href="#a2dbb833ef0dcc466dd02ee76badaf709ac4b7bfe6ac654a6aca31acc5f4abfdc6">__RPC_SS_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a2dbb833ef0dcc466dd02ee76badaf709a885b7787c057874d55330e82faabf99a">RPC_SS_SID</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a2dbb833ef0dcc466dd02ee76badaf709a5ba5da59a03918fb00f5405d1f7e284d">RPC_SS_VALUES</a>] = { .name = <span class="stringliteral">&quot;values&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a32115da5d02a4fba2b0ddad9f3ff82a7">BLOBMSG_TYPE_TABLE</a> },</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00064">64</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   64</span>                                                              {</div>
<div class="line"><span class="lineno">   65</span>    [<a class="code hl_enumvalue" href="#a2dbb833ef0dcc466dd02ee76badaf709a885b7787c057874d55330e82faabf99a">RPC_SS_SID</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   66</span>    [<a class="code hl_enumvalue" href="#a2dbb833ef0dcc466dd02ee76badaf709a5ba5da59a03918fb00f5405d1f7e284d">RPC_SS_VALUES</a>] = { .name = <span class="stringliteral">&quot;values&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a32115da5d02a4fba2b0ddad9f3ff82a7">BLOBMSG_TYPE_TABLE</a> },</div>
<div class="line"><span class="lineno">   67</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00650">rpc_handle_set()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>

</div>
</div>
<a id="a1489ab210f37b4d0f033208fec05d712" name="a1489ab210f37b4d0f033208fec05d712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1489ab210f37b4d0f033208fec05d712">&#9670;&#160;</a></span>sid_policy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/dad/blobmsg_8h.html#d3/d4d/structblobmsg__policy">blobmsg_policy</a> sid_policy[<a class="el" href="#a9a3be2d66956bd67c0b66c32d8b30f17a77ef799dd14ad9effb178127fe64563a">__RPC_SI_MAX</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code hl_enumvalue" href="#a9a3be2d66956bd67c0b66c32d8b30f17aafb68c3e8acfc7f569d6d65ca53ed99b">RPC_SI_SID</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../de/d67/session_8c_source.html#l00055">55</a> of file <a class="el" href="../../de/d67/session_8c_source.html">session.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>                                                              {</div>
<div class="line"><span class="lineno">   56</span>    [<a class="code hl_enumvalue" href="#a9a3be2d66956bd67c0b66c32d8b30f17aafb68c3e8acfc7f569d6d65ca53ed99b">RPC_SI_SID</a>] = { .name = <span class="stringliteral">&quot;ubus_rpc_session&quot;</span>, .type = <a class="code hl_enumvalue" href="../../dd/dad/blobmsg_8h.html#a9e3efca3093410d90ef04154aefde2c9a5947f0c748890838391aca89bc66ec53">BLOBMSG_TYPE_STRING</a> },</div>
<div class="line"><span class="lineno">   57</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../de/d67/session_8c_source.html#l00767">rpc_handle_destroy()</a>, <a class="el" href="../../de/d67/session_8c_source.html#l00374">rpc_handle_list()</a>, and <a class="el" href="../../de/d67/session_8c_source.html#l01323">rpc_session_api_init()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
