<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>zbus: /home/g41797/CLionProjects/github.com/g41797/zbus/src/libs/procd/utils/utils.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">zbus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_87a455bccb09a92130c26a11a880c98a.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_63350b749fcf74007a53c7c917c10773.html">procd</a></li><li class="navelem"><a class="el" href="../../dir_66780ffb3248e02b7924a932beaa29dc.html">utils</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">utils.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="../../d3/d51/avl_8h_source.html">libubox/avl.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d8/d47/avl-cmp_8h_source.html">libubox/avl-cmp.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html">utils.h</a>&quot;</code><br />
<code>#include &lt;regex.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d1e/procd_2log_8h_source.html">../log.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for utils.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dfa/procd_2utils_2utils_8c__incl.png" border="0" usemap="#a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2procd_2utils_2utils_8c" alt=""/></div>
<map name="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2procd_2utils_2utils_8c" id="a_2home_2g41797_2CLionProjects_2github_8com_2g41797_2zbus_2src_2libs_2procd_2utils_2utils_8c">
<area shape="rect" title=" " alt="" coords="1055,5,1341,85"/>
<area shape="rect" href="../../d3/d51/avl_8h.html" title=" " alt="" coords="5,378,146,412"/>
<area shape="poly" title=" " alt="" coords="1055,56,859,68,634,86,425,108,339,121,273,136,176,159,139,178,121,194,103,216,85,252,76,291,73,330,74,363,69,363,68,329,70,290,80,250,99,213,117,191,136,174,174,154,272,130,338,116,424,103,634,81,859,63,1054,51"/>
<area shape="rect" href="../../d8/d47/avl-cmp_8h.html" title=" " alt="" coords="1367,133,1555,167"/>
<area shape="poly" title=" " alt="" coords="1300,83,1407,125,1405,130,1298,88"/>
<area shape="rect" href="../../d9/d4d/procd_2utils_2utils_8h.html" title=" " alt="" coords="638,133,716,167"/>
<area shape="poly" title=" " alt="" coords="1055,77,732,140,731,135,1054,72"/>
<area shape="rect" title=" " alt="" coords="1037,378,1130,412"/>
<area shape="poly" title=" " alt="" coords="1188,86,1096,364,1091,362,1183,85"/>
<area shape="rect" title=" " alt="" coords="1155,378,1242,412"/>
<area shape="poly" title=" " alt="" coords="1201,86,1201,362,1196,362,1196,86"/>
<area shape="rect" title=" " alt="" coords="1179,460,1290,493"/>
<area shape="poly" title=" " alt="" coords="1229,84,1247,114,1264,150,1277,189,1282,230,1282,315,1279,351,1271,386,1250,446,1245,444,1266,385,1274,350,1277,314,1277,230,1272,191,1259,152,1243,117,1225,87"/>
<area shape="rect" title=" " alt="" coords="661,460,789,493"/>
<area shape="poly" title=" " alt="" coords="1056,80,999,103,949,135,929,155,914,177,904,202,901,230,901,315,899,368,891,390,875,413,842,441,805,459,802,454,839,436,871,410,887,387,894,367,896,314,896,230,899,201,909,175,925,152,946,131,997,99,1054,75"/>
<area shape="rect" title=" " alt="" coords="1314,460,1411,493"/>
<area shape="poly" title=" " alt="" coords="1250,84,1279,112,1306,147,1325,187,1333,230,1333,314,1340,385,1355,444,1350,446,1335,386,1328,315,1328,230,1320,189,1301,150,1275,116,1247,87"/>
<area shape="rect" title=" " alt="" coords="1579,133,1671,167"/>
<area shape="poly" title=" " alt="" coords="1342,77,1565,130,1563,135,1341,82"/>
<area shape="rect" title=" " alt="" coords="1694,133,1774,167"/>
<area shape="poly" title=" " alt="" coords="1342,65,1501,93,1679,130,1678,135,1500,98,1342,70"/>
<area shape="rect" href="../../d9/d1e/procd_2log_8h.html" title=" " alt="" coords="285,133,370,167"/>
<area shape="poly" title=" " alt="" coords="1055,66,386,144,385,139,1054,61"/>
<area shape="rect" title=" " alt="" coords="18,541,114,575"/>
<area shape="poly" title=" " alt="" coords="64,414,50,435,39,460,37,477,39,494,51,527,46,528,34,496,32,477,34,459,46,433,60,411"/>
<area shape="rect" title=" " alt="" coords="261,541,368,575"/>
<area shape="poly" title=" " alt="" coords="74,413,70,452,73,473,83,492,108,509,148,523,245,544,244,550,147,528,105,513,79,495,68,475,65,452,69,412"/>
<area shape="rect" href="../../da/d23/list_8h.html" title=" " alt="" coords="93,460,159,493"/>
<area shape="poly" title=" " alt="" coords="88,411,110,445,106,448,84,414"/>
<area shape="poly" title=" " alt="" coords="116,495,89,531,85,527,112,492"/>
<area shape="poly" title=" " alt="" coords="161,489,263,533,261,538,159,494"/>
<area shape="poly" title=" " alt="" coords="638,167,500,217,408,256,318,299,253,332,141,375,139,370,250,328,316,294,406,251,499,212,636,162"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html" title=" " alt="" coords="667,296,820,330"/>
<area shape="poly" title=" " alt="" coords="691,166,719,214,740,280,735,282,714,216,686,168"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html" title=" " alt="" coords="512,215,706,248"/>
<area shape="poly" title=" " alt="" coords="665,169,635,204,631,201,661,165"/>
<area shape="poly" title=" " alt="" coords="712,333,680,353,651,380,640,395,634,410,629,439,622,467,613,482,600,495,562,514,507,530,384,551,383,546,505,525,560,509,597,491,609,478,617,465,624,438,629,408,636,393,647,376,677,349,709,328"/>
<area shape="rect" title=" " alt="" coords="770,378,861,412"/>
<area shape="poly" title=" " alt="" coords="760,329,793,365,789,368,756,332"/>
<area shape="rect" title=" " alt="" coords="493,460,586,493"/>
<area shape="poly" title=" " alt="" coords="692,333,648,353,607,380,577,413,556,447,551,444,573,409,603,376,646,348,690,328"/>
<area shape="poly" title=" " alt="" coords="819,328,1023,375,1021,380,818,333"/>
<area shape="rect" title=" " alt="" coords="661,378,746,412"/>
<area shape="poly" title=" " alt="" coords="738,332,721,365,716,363,733,329"/>
<area shape="poly" title=" " alt="" coords="821,322,965,343,1140,375,1139,380,964,348,820,327"/>
<area shape="rect" href="../../d5/d1d/libubox_2utils_8h.html" title=" " alt="" coords="935,378,1013,412"/>
<area shape="poly" title=" " alt="" coords="791,328,921,372,919,377,789,333"/>
<area shape="poly" title=" " alt="" coords="942,415,853,462,828,480,802,496,747,514,690,528,576,548,470,557,384,560,384,555,470,552,575,542,689,523,745,509,800,491,825,476,850,457,940,410"/>
<area shape="poly" title=" " alt="" coords="935,406,602,467,601,461,934,401"/>
<area shape="poly" title=" " alt="" coords="1015,406,1026,409,1167,452,1166,457,1024,414,1013,411"/>
<area shape="poly" title=" " alt="" coords="935,411,791,457,789,452,934,406"/>
<area shape="rect" title=" " alt="" coords="352,460,469,493"/>
<area shape="poly" title=" " alt="" coords="935,405,873,414,680,436,594,446,485,462,484,457,593,440,679,431,872,409,934,400"/>
<area shape="poly" title=" " alt="" coords="1015,406,1025,409,1100,425,1160,434,1299,456,1298,462,1160,439,1099,430,1024,414,1013,411"/>
<area shape="rect" title=" " alt="" coords="1074,460,1154,493"/>
<area shape="poly" title=" " alt="" coords="1004,410,1074,449,1071,454,1001,414"/>
<area shape="rect" title=" " alt="" coords="863,460,1051,493"/>
<area shape="poly" title=" " alt="" coords="973,413,966,445,961,444,968,412"/>
<area shape="poly" title=" " alt="" coords="637,247,705,286,702,291,635,251"/>
<area shape="rect" title=" " alt="" coords="437,378,535,412"/>
<area shape="poly" title=" " alt="" coords="599,250,510,367,506,364,595,247"/>
<area shape="rect" href="../../df/df3/ulog_8h.html" title=" " alt="" coords="114,215,267,248"/>
<area shape="poly" title=" " alt="" coords="301,169,232,209,230,204,298,165"/>
<area shape="rect" title=" " alt="" coords="141,296,239,330"/>
<area shape="poly" title=" " alt="" coords="193,249,193,281,188,281,188,249"/>
<area shape="rect" href="../../de/dd2/udebug_8h.html" title=" " alt="" coords="328,296,439,330"/>
<area shape="poly" title=" " alt="" coords="230,246,331,288,329,292,228,251"/>
<area shape="poly" title=" " alt="" coords="328,331,154,376,152,371,327,326"/>
<area shape="poly" title=" " alt="" coords="329,329,269,349,239,363,210,380,174,413,146,449,142,445,170,409,207,376,236,359,267,344,327,324"/>
<area shape="poly" title=" " alt="" coords="380,331,373,370,375,391,383,410,397,422,420,435,480,456,478,461,418,439,394,427,379,413,370,392,368,370,375,330"/>
<area shape="poly" title=" " alt="" coords="388,330,400,371,411,392,426,409,456,421,511,434,646,460,645,465,510,440,454,426,423,414,407,395,395,373,383,331"/>
<area shape="poly" title=" " alt="" coords="406,328,455,366,452,370,403,333"/>
<area shape="rect" href="../../dc/d56/uloop_8h.html" title=" " alt="" coords="221,378,311,412"/>
<area shape="poly" title=" " alt="" coords="361,333,304,371,301,367,358,328"/>
<area shape="poly" title=" " alt="" coords="275,411,291,459,310,526,304,527,286,460,270,413"/>
<area shape="poly" title=" " alt="" coords="239,414,169,454,166,449,237,410"/>
<area shape="poly" title=" " alt="" coords="313,407,479,455,478,460,311,412"/>
<area shape="poly" title=" " alt="" coords="312,401,646,459,645,464,311,407"/>
<area shape="poly" title=" " alt="" coords="297,410,369,450,367,454,294,414"/>
<area shape="rect" title=" " alt="" coords="183,460,277,493"/>
<area shape="poly" title=" " alt="" coords="261,413,246,446,241,444,256,411"/>
</map>
</div>
</div>
<p><a href="../../d2/d71/procd_2utils_2utils_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a369266c24eacffb87046522897a570d5" id="r_a369266c24eacffb87046522897a570d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a369266c24eacffb87046522897a570d5">_GNU_SOURCE</a></td></tr>
<tr class="separator:a369266c24eacffb87046522897a570d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b82111c13e7367ba2ac5fd6bf4650ab" id="r_a6b82111c13e7367ba2ac5fd6bf4650ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b82111c13e7367ba2ac5fd6bf4650ab">O_PATH</a>&#160;&#160;&#160;010000000</td></tr>
<tr class="separator:a6b82111c13e7367ba2ac5fd6bf4650ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad7e334d63cbfc364582d52537eb724a2" id="r_ad7e334d63cbfc364582d52537eb724a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7e334d63cbfc364582d52537eb724a2">__blobmsg_list_init</a> (struct <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#d5/d48/structblobmsg__list">blobmsg_list</a> *list, int offset, int len, <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#a64527330ab1ae28f0095bd407002f4e8">blobmsg_list_cmp</a> <a class="el" href="../../d0/d5f/mstp_8h.html#aa3bd339a7bb4e1eaa246b0871f021397">cmp</a>)</td></tr>
<tr class="separator:ad7e334d63cbfc364582d52537eb724a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a809cf33601fe847c2e5c56c475836dd8" id="r_a809cf33601fe847c2e5c56c475836dd8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a809cf33601fe847c2e5c56c475836dd8">blobmsg_list_fill</a> (struct <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#d5/d48/structblobmsg__list">blobmsg_list</a> *list, void *data, int len, bool array)</td></tr>
<tr class="separator:a809cf33601fe847c2e5c56c475836dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4559be2d494d2d91bd8f94a257ed645f" id="r_a4559be2d494d2d91bd8f94a257ed645f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4559be2d494d2d91bd8f94a257ed645f">blobmsg_list_move</a> (struct <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#d5/d48/structblobmsg__list">blobmsg_list</a> *list, struct <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#d5/d48/structblobmsg__list">blobmsg_list</a> *src)</td></tr>
<tr class="separator:a4559be2d494d2d91bd8f94a257ed645f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0e01076a54aa288f84f6d768deb870f" id="r_ae0e01076a54aa288f84f6d768deb870f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae0e01076a54aa288f84f6d768deb870f">blobmsg_list_free</a> (struct <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#d5/d48/structblobmsg__list">blobmsg_list</a> *list)</td></tr>
<tr class="separator:ae0e01076a54aa288f84f6d768deb870f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f581b6b1a3381af294391da45f8a619" id="r_a1f581b6b1a3381af294391da45f8a619"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f581b6b1a3381af294391da45f8a619">blobmsg_list_equal</a> (struct <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#d5/d48/structblobmsg__list">blobmsg_list</a> *l1, struct <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#d5/d48/structblobmsg__list">blobmsg_list</a> *l2)</td></tr>
<tr class="separator:a1f581b6b1a3381af294391da45f8a619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a798205381dda544e13e0f0bd208d22ca" id="r_a798205381dda544e13e0f0bd208d22ca"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a798205381dda544e13e0f0bd208d22ca">get_active_console</a> (char *out, int len)</td></tr>
<tr class="separator:a798205381dda544e13e0f0bd208d22ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22db642a3f7c4c9d74bae6d4240212e5" id="r_a22db642a3f7c4c9d74bae6d4240212e5"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a22db642a3f7c4c9d74bae6d4240212e5">get_cmdline_val_offset</a> (const char *name, char *out, int len, int offset)</td></tr>
<tr class="separator:a22db642a3f7c4c9d74bae6d4240212e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9130f4217e08ae2cfc38b121b8d03c0" id="r_aa9130f4217e08ae2cfc38b121b8d03c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa9130f4217e08ae2cfc38b121b8d03c0">patch_fd</a> (const char *<a class="el" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a>, int fd, int flags)</td></tr>
<tr class="separator:aa9130f4217e08ae2cfc38b121b8d03c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1c2df641f2c93cfa5e1ea6e5053328a" id="r_ad1c2df641f2c93cfa5e1ea6e5053328a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad1c2df641f2c93cfa5e1ea6e5053328a">patch_stdio</a> (const char *<a class="el" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a>)</td></tr>
<tr class="separator:ad1c2df641f2c93cfa5e1ea6e5053328a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a369266c24eacffb87046522897a570d5" name="a369266c24eacffb87046522897a570d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a369266c24eacffb87046522897a570d5">&#9670;&#160;</a></span>_GNU_SOURCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _GNU_SOURCE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00015">15</a> of file <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html">utils.c</a>.</p>

</div>
</div>
<a id="a6b82111c13e7367ba2ac5fd6bf4650ab" name="a6b82111c13e7367ba2ac5fd6bf4650ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b82111c13e7367ba2ac5fd6bf4650ab">&#9670;&#160;</a></span>O_PATH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define O_PATH&#160;&#160;&#160;010000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00030">30</a> of file <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html">utils.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00202">patch_fd()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad7e334d63cbfc364582d52537eb724a2" name="ad7e334d63cbfc364582d52537eb724a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7e334d63cbfc364582d52537eb724a2">&#9670;&#160;</a></span>__blobmsg_list_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __blobmsg_list_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#d5/d48/structblobmsg__list">blobmsg_list</a> *</td>          <td class="paramname"><span class="paramname"><em>list</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#a64527330ab1ae28f0095bd407002f4e8">blobmsg_list_cmp</a></td>          <td class="paramname"><span class="paramname"><em>cmp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00034">34</a> of file <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html">utils.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   35</span>{</div>
<div class="line"><span class="lineno">   36</span>    <a class="code hl_function" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d">avl_init</a>(&amp;list-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#af93e93282151d3ef851c8c41ec294659">avl</a>, <a class="code hl_function" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0">avl_strcmp</a>, <span class="keyword">false</span>, NULL);</div>
<div class="line"><span class="lineno">   37</span>    list-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a073bba2264830ffc7663837e84f31030">node_offset</a> = offset;</div>
<div class="line"><span class="lineno">   38</span>    list-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a280c7ab7b04e8497ae5a809263a9afe8">node_len</a> = len;</div>
<div class="line"><span class="lineno">   39</span>    list-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a863218422ea6f1805f4fb24e49f6e360">cmp</a> = <a class="code hl_define" href="../../d0/d5f/mstp_8h.html#aa3bd339a7bb4e1eaa246b0871f021397">cmp</a>;</div>
<div class="line"><span class="lineno">   40</span>}</div>
<div class="ttc" id="aavl-cmp_8c_html_ae22a4fecfc8234279efe5ce4f38838f0"><div class="ttname"><a href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0">avl_strcmp</a></div><div class="ttdeci">int avl_strcmp(const void *k1, const void *k2, void *ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d66/avl-cmp_8c_source.html#l00026">avl-cmp.c:26</a></div></div>
<div class="ttc" id="aavl_8c_html_af44d4960ede7f23f071bf00e360bc23d"><div class="ttname"><a href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d">avl_init</a></div><div class="ttdeci">void avl_init(struct avl_tree *tree, avl_tree_comp comp, bool allow_dups, void *ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../df/dc2/avl_8c_source.html#l00092">avl.c:92</a></div></div>
<div class="ttc" id="amstp_8h_html_aa3bd339a7bb4e1eaa246b0871f021397"><div class="ttname"><a href="../../d0/d5f/mstp_8h.html#aa3bd339a7bb4e1eaa246b0871f021397">cmp</a></div><div class="ttdeci">#define cmp(x, _op, y)</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d5f/mstp_8h_source.html#l00042">mstp.h:42</a></div></div>
<div class="ttc" id="aprocd_2utils_2utils_8h_html_a073bba2264830ffc7663837e84f31030"><div class="ttname"><a href="../../d9/d4d/procd_2utils_2utils_8h.html#a073bba2264830ffc7663837e84f31030">blobmsg_list::node_offset</a></div><div class="ttdeci">int node_offset</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00034">utils.h:34</a></div></div>
<div class="ttc" id="aprocd_2utils_2utils_8h_html_a280c7ab7b04e8497ae5a809263a9afe8"><div class="ttname"><a href="../../d9/d4d/procd_2utils_2utils_8h.html#a280c7ab7b04e8497ae5a809263a9afe8">blobmsg_list::node_len</a></div><div class="ttdeci">int node_len</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00035">utils.h:35</a></div></div>
<div class="ttc" id="aprocd_2utils_2utils_8h_html_a863218422ea6f1805f4fb24e49f6e360"><div class="ttname"><a href="../../d9/d4d/procd_2utils_2utils_8h.html#a863218422ea6f1805f4fb24e49f6e360">blobmsg_list::cmp</a></div><div class="ttdeci">blobmsg_list_cmp cmp</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00037">utils.h:37</a></div></div>
<div class="ttc" id="aprocd_2utils_2utils_8h_html_af93e93282151d3ef851c8c41ec294659"><div class="ttname"><a href="../../d9/d4d/procd_2utils_2utils_8h.html#af93e93282151d3ef851c8c41ec294659">blobmsg_list::avl</a></div><div class="ttdeci">struct avl_tree avl</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00033">utils.h:33</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00033">blobmsg_list::avl</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00092">avl_init()</a>, <a class="el" href="../../d2/d66/avl-cmp_8c_source.html#l00026">avl_strcmp()</a>, <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00037">blobmsg_list::cmp</a>, <a class="el" href="../../d0/d5f/mstp_8h_source.html#l00042">cmp</a>, <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00035">blobmsg_list::node_len</a>, and <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00034">blobmsg_list::node_offset</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d71/procd_2utils_2utils_8c_ad7e334d63cbfc364582d52537eb724a2_cgraph.png" border="0" usemap="#ad2/d71/procd_2utils_2utils_8c_ad7e334d63cbfc364582d52537eb724a2_cgraph" alt=""/></div>
<map name="ad2/d71/procd_2utils_2utils_8c_ad7e334d63cbfc364582d52537eb724a2_cgraph" id="ad2/d71/procd_2utils_2utils_8c_ad7e334d63cbfc364582d52537eb724a2_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,199,68"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#af44d4960ede7f23f071bf00e360bc23d" title=" " alt="" coords="264,5,351,39"/>
<area shape="poly" title=" " alt="" coords="199,35,249,28,249,33,200,40"/>
<area shape="rect" href="../../d2/d66/avl-cmp_8c.html#ae22a4fecfc8234279efe5ce4f38838f0" title=" " alt="" coords="247,63,368,96"/>
<area shape="poly" title=" " alt="" coords="200,62,232,67,231,72,199,67"/>
<area shape="rect" href="../../da/d23/list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title=" " alt="" coords="416,5,584,39"/>
<area shape="poly" title=" " alt="" coords="351,20,400,20,400,25,351,25"/>
</map>
</div>

</div>
</div>
<a id="a1f581b6b1a3381af294391da45f8a619" name="a1f581b6b1a3381af294391da45f8a619"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f581b6b1a3381af294391da45f8a619">&#9670;&#160;</a></span>blobmsg_list_equal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool blobmsg_list_equal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#d5/d48/structblobmsg__list">blobmsg_list</a> *</td>          <td class="paramname"><span class="paramname"><em>l1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#d5/d48/structblobmsg__list">blobmsg_list</a> *</td>          <td class="paramname"><span class="paramname"><em>l2</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00104">104</a> of file <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html">utils.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  105</span>{</div>
<div class="line"><span class="lineno">  106</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d4d/procd_2utils_2utils_8h.html#d9/d90/structblobmsg__list__node">blobmsg_list_node</a> *n1, *n2;</div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordtype">int</span> count = l1-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#af93e93282151d3ef851c8c41ec294659">avl</a>.<a class="code hl_variable" href="../../d3/d51/avl_8h.html#a482e120ce95125c64901c77eb546d7d3">count</a>;</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">if</span> (count != l2-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#af93e93282151d3ef851c8c41ec294659">avl</a>.<a class="code hl_variable" href="../../d3/d51/avl_8h.html#a482e120ce95125c64901c77eb546d7d3">count</a>)</div>
<div class="line"><span class="lineno">  110</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    n1 = <a class="code hl_define" href="../../d3/d51/avl_8h.html#a4277656aa8eae4fd79338987cfd26c97">avl_first_element</a>(&amp;l1-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#af93e93282151d3ef851c8c41ec294659">avl</a>, n1, <a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a6ed43aecbb79556c64d6b885d7fa0c66">avl</a>);</div>
<div class="line"><span class="lineno">  113</span>    n2 = <a class="code hl_define" href="../../d3/d51/avl_8h.html#a4277656aa8eae4fd79338987cfd26c97">avl_first_element</a>(&amp;l2-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#af93e93282151d3ef851c8c41ec294659">avl</a>, n2, <a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a6ed43aecbb79556c64d6b885d7fa0c66">avl</a>);</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">while</span> (count-- &gt; 0) {</div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordtype">int</span> len;</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>        len = <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(n1-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a653f18e3709bf874cab424e9e9168f1f">data</a>);</div>
<div class="line"><span class="lineno">  119</span>        <span class="keywordflow">if</span> (len != <a class="code hl_function" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a>(n2-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a653f18e3709bf874cab424e9e9168f1f">data</a>))</div>
<div class="line"><span class="lineno">  120</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">if</span> (memcmp(n1-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a653f18e3709bf874cab424e9e9168f1f">data</a>, n2-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a653f18e3709bf874cab424e9e9168f1f">data</a>, len) != 0)</div>
<div class="line"><span class="lineno">  123</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">if</span> (l1-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a863218422ea6f1805f4fb24e49f6e360">cmp</a> &amp;&amp; !l1-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a863218422ea6f1805f4fb24e49f6e360">cmp</a>(n1, n2))</div>
<div class="line"><span class="lineno">  126</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">if</span> (!count)</div>
<div class="line"><span class="lineno">  129</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>        n1 = <a class="code hl_define" href="../../d3/d51/avl_8h.html#a44808c5fc055437c429a05a9b0a06c64">avl_next_element</a>(n1, <a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a6ed43aecbb79556c64d6b885d7fa0c66">avl</a>);</div>
<div class="line"><span class="lineno">  132</span>        n2 = <a class="code hl_define" href="../../d3/d51/avl_8h.html#a44808c5fc055437c429a05a9b0a06c64">avl_next_element</a>(n2, <a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a6ed43aecbb79556c64d6b885d7fa0c66">avl</a>);</div>
<div class="line"><span class="lineno">  133</span>    }</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  136</span>}</div>
<div class="ttc" id="aavl_8h_html_a4277656aa8eae4fd79338987cfd26c97"><div class="ttname"><a href="../../d3/d51/avl_8h.html#a4277656aa8eae4fd79338987cfd26c97">avl_first_element</a></div><div class="ttdeci">#define avl_first_element(tree, element, node_member)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00280">avl.h:280</a></div></div>
<div class="ttc" id="aavl_8h_html_a44808c5fc055437c429a05a9b0a06c64"><div class="ttname"><a href="../../d3/d51/avl_8h.html#a44808c5fc055437c429a05a9b0a06c64">avl_next_element</a></div><div class="ttdeci">#define avl_next_element(element, node_member)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00305">avl.h:305</a></div></div>
<div class="ttc" id="aavl_8h_html_a482e120ce95125c64901c77eb546d7d3"><div class="ttname"><a href="../../d3/d51/avl_8h.html#a482e120ce95125c64901c77eb546d7d3">avl_tree::count</a></div><div class="ttdeci">unsigned int count</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00125">avl.h:125</a></div></div>
<div class="ttc" id="ablob_8h_html_a9921d2b89577d3344abbb66f24773e32"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32">blob_len</a></div><div class="ttdeci">static size_t blob_len(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00100">blob.h:100</a></div></div>
<div class="ttc" id="aprocd_2utils_2utils_8h_html_a653f18e3709bf874cab424e9e9168f1f"><div class="ttname"><a href="../../d9/d4d/procd_2utils_2utils_8h.html#a653f18e3709bf874cab424e9e9168f1f">blobmsg_list_node::data</a></div><div class="ttdeci">struct blob_attr * data</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00026">utils.h:26</a></div></div>
<div class="ttc" id="aprocd_2utils_2utils_8h_html_a6ed43aecbb79556c64d6b885d7fa0c66"><div class="ttname"><a href="../../d9/d4d/procd_2utils_2utils_8h.html#a6ed43aecbb79556c64d6b885d7fa0c66">blobmsg_list_node::avl</a></div><div class="ttdeci">struct avl_node avl</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00025">utils.h:25</a></div></div>
<div class="ttc" id="aprocd_2utils_2utils_8h_html_d9/d90/structblobmsg__list__node"><div class="ttname"><a href="../../d9/d4d/procd_2utils_2utils_8h.html#d9/d90/structblobmsg__list__node">blobmsg_list_node</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00024">utils.h:24</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00033">blobmsg_list::avl</a>, <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00025">blobmsg_list_node::avl</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00280">avl_first_element</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00305">avl_next_element</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00100">blob_len()</a>, <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00037">blobmsg_list::cmp</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00125">avl_tree::count</a>, and <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00026">blobmsg_list_node::data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d28/instance_8c_source.html#l00918">instance_config_changed()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d71/procd_2utils_2utils_8c_a1f581b6b1a3381af294391da45f8a619_cgraph.png" border="0" usemap="#ad2/d71/procd_2utils_2utils_8c_a1f581b6b1a3381af294391da45f8a619_cgraph" alt=""/></div>
<map name="ad2/d71/procd_2utils_2utils_8c_a1f581b6b1a3381af294391da45f8a619_cgraph" id="ad2/d71/procd_2utils_2utils_8c_a1f581b6b1a3381af294391da45f8a619_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,203,39"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="251,5,349,39"/>
<area shape="poly" title=" " alt="" coords="203,20,235,20,235,25,203,25"/>
</map>
</div>

</div>
</div>
<a id="a809cf33601fe847c2e5c56c475836dd8" name="a809cf33601fe847c2e5c56c475836dd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a809cf33601fe847c2e5c56c475836dd8">&#9670;&#160;</a></span>blobmsg_list_fill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int blobmsg_list_fill </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#d5/d48/structblobmsg__list">blobmsg_list</a> *</td>          <td class="paramname"><span class="paramname"><em>list</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>array</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00043">43</a> of file <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html">utils.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   44</span>{</div>
<div class="line"><span class="lineno">   45</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d3/d51/avl_8h.html#dd/d4a/structavl__tree">avl_tree</a> *tree = &amp;list-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#af93e93282151d3ef851c8c41ec294659">avl</a>;</div>
<div class="line"><span class="lineno">   46</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d4d/procd_2utils_2utils_8h.html#d9/d90/structblobmsg__list__node">blobmsg_list_node</a> *<a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>;</div>
<div class="line"><span class="lineno">   47</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a> *cur;</div>
<div class="line"><span class="lineno">   48</span>    <span class="keywordtype">void</span> *ptr;</div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><span class="lineno">   50</span>    <span class="keywordtype">int</span> rem = len;</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>    <a class="code hl_define" href="../../d8/d3c/blob_8h.html#a819699712747ae3af74c9e14e5b51ca3">__blob_for_each_attr</a>(cur, <a class="code hl_variable" href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">data</a>, rem) {</div>
<div class="line"><span class="lineno">   53</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d1/d30/blobmsg_8c.html#a9d0083e7e5fe549e37900ac4a80c2f94">blobmsg_check_attr</a>(cur, !array))</div>
<div class="line"><span class="lineno">   54</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>        ptr = calloc(1, list-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a280c7ab7b04e8497ae5a809263a9afe8">node_len</a>);</div>
<div class="line"><span class="lineno">   57</span>        <span class="keywordflow">if</span> (!ptr)</div>
<div class="line"><span class="lineno">   58</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>        <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a> = (<span class="keywordtype">void</span> *) ((<span class="keywordtype">char</span> *)ptr + list-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a073bba2264830ffc7663837e84f31030">node_offset</a>);</div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordflow">if</span> (array)</div>
<div class="line"><span class="lineno">   62</span>            <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>-&gt;<a class="code hl_variable" href="../../d2/d72/test-avl_8c.html#a2c13dfc2a4f31c3b1a96a923e7a60fda">avl</a>.<a class="code hl_variable" href="../../d3/d51/avl_8h.html#aa097934e0f5e3c398890a99605291b01">key</a> = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a>(cur);</div>
<div class="line"><span class="lineno">   63</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   64</span>            <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>-&gt;<a class="code hl_variable" href="../../d2/d72/test-avl_8c.html#a2c13dfc2a4f31c3b1a96a923e7a60fda">avl</a>.<a class="code hl_variable" href="../../d3/d51/avl_8h.html#aa097934e0f5e3c398890a99605291b01">key</a> = <a class="code hl_function" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a>(cur);</div>
<div class="line"><span class="lineno">   65</span>        <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>-&gt;data = cur;</div>
<div class="line"><span class="lineno">   66</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2">avl_insert</a>(tree, &amp;<a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>-&gt;<a class="code hl_variable" href="../../d2/d72/test-avl_8c.html#a2c13dfc2a4f31c3b1a96a923e7a60fda">avl</a>)) {</div>
<div class="line"><span class="lineno">   67</span>            free(ptr);</div>
<div class="line"><span class="lineno">   68</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   69</span>        }</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>        count++;</div>
<div class="line"><span class="lineno">   72</span>    }</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">return</span> count;</div>
<div class="line"><span class="lineno">   75</span>}</div>
<div class="ttc" id="aavl_8c_html_ab9041e08938920d5ae722e2d57dc20e2"><div class="ttname"><a href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2">avl_insert</a></div><div class="ttdeci">int avl_insert(struct avl_tree *tree, struct avl_node *new)</div><div class="ttdef"><b>Definition</b> <a href="../../df/dc2/avl_8c_source.html#l00220">avl.c:220</a></div></div>
<div class="ttc" id="aavl_8h_html_aa097934e0f5e3c398890a99605291b01"><div class="ttname"><a href="../../d3/d51/avl_8h.html#aa097934e0f5e3c398890a99605291b01">avl_node::key</a></div><div class="ttdeci">const void * key</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00084">avl.h:84</a></div></div>
<div class="ttc" id="aavl_8h_html_dd/d4a/structavl__tree"><div class="ttname"><a href="../../d3/d51/avl_8h.html#dd/d4a/structavl__tree">avl_tree</a></div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00110">avl.h:110</a></div></div>
<div class="ttc" id="ablob_8h_html_a819699712747ae3af74c9e14e5b51ca3"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#a819699712747ae3af74c9e14e5b51ca3">__blob_for_each_attr</a></div><div class="ttdeci">#define __blob_for_each_attr(pos, attr, rem)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00244">blob.h:244</a></div></div>
<div class="ttc" id="ablob_8h_html_aae7cde5b300aec19a4125e96fe2a35da"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#aae7cde5b300aec19a4125e96fe2a35da">blob_attr::data</a></div><div class="ttdeci">char data[]</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00054">blob.h:54</a></div></div>
<div class="ttc" id="ablob_8h_html_dc/dd9/structblob__attr"><div class="ttname"><a href="../../d8/d3c/blob_8h.html#dc/dd9/structblob__attr">blob_attr</a></div><div class="ttdef"><b>Definition</b> <a href="../../d8/d3c/blob_8h_source.html#l00052">blob.h:52</a></div></div>
<div class="ttc" id="ablobmsg_8c_html_a9d0083e7e5fe549e37900ac4a80c2f94"><div class="ttname"><a href="../../d1/d30/blobmsg_8c.html#a9d0083e7e5fe549e37900ac4a80c2f94">blobmsg_check_attr</a></div><div class="ttdeci">bool blobmsg_check_attr(const struct blob_attr *attr, bool name)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d30/blobmsg_8c_source.html#l00028">blobmsg.c:28</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_a6ee526c7b55debcecad8e34e3e6108d0"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0">blobmsg_name</a></div><div class="ttdeci">static const char * blobmsg_name(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00062">blobmsg.h:62</a></div></div>
<div class="ttc" id="ablobmsg_8h_html_ab788ffb2ae75d047fa39be6e79571d20"><div class="ttname"><a href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20">blobmsg_data</a></div><div class="ttdeci">static void * blobmsg_data(const struct blob_attr *attr)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg.h:78</a></div></div>
<div class="ttc" id="atest-avl_8c_html_a2c13dfc2a4f31c3b1a96a923e7a60fda"><div class="ttname"><a href="../../d2/d72/test-avl_8c.html#a2c13dfc2a4f31c3b1a96a923e7a60fda">node::avl</a></div><div class="ttdeci">struct avl_node avl</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d72/test-avl_8c_source.html#l00014">test-avl.c:14</a></div></div>
<div class="ttc" id="atest-avl_8c_html_d5/da1/structnode"><div class="ttname"><a href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a></div><div class="ttdef"><b>Definition</b> <a href="../../d2/d72/test-avl_8c_source.html#l00013">test-avl.c:13</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d3c/blob_8h_source.html#l00244">__blob_for_each_attr</a>, <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00033">blobmsg_list::avl</a>, <a class="el" href="../../d2/d72/test-avl_8c_source.html#l00014">node::avl</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00220">avl_insert()</a>, <a class="el" href="../../d1/d30/blobmsg_8c_source.html#l00028">blobmsg_check_attr()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00078">blobmsg_data()</a>, <a class="el" href="../../dd/dad/blobmsg_8h_source.html#l00062">blobmsg_name()</a>, <a class="el" href="../../d8/d3c/blob_8h_source.html#l00054">blob_attr::data</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00084">avl_node::key</a>, <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00035">blobmsg_list::node_len</a>, and <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00034">blobmsg_list::node_offset</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d28/instance_8c_source.html#l01122">instance_fill_any()</a>, <a class="el" href="../../d2/d28/instance_8c_source.html#l01131">instance_fill_array()</a>, <a class="el" href="../../d2/d28/instance_8c_source.html#l01150">instance_jail_parse()</a>, and <a class="el" href="../../d7/d1d/service_8c_source.html#l00124">service_update()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d71/procd_2utils_2utils_8c_a809cf33601fe847c2e5c56c475836dd8_cgraph.png" border="0" usemap="#ad2/d71/procd_2utils_2utils_8c_a809cf33601fe847c2e5c56c475836dd8_cgraph" alt=""/></div>
<map name="ad2/d71/procd_2utils_2utils_8c_a809cf33601fe847c2e5c56c475836dd8_cgraph" id="ad2/d71/procd_2utils_2utils_8c_a809cf33601fe847c2e5c56c475836dd8_cgraph">
<area shape="rect" title=" " alt="" coords="5,463,174,497"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="270,230,380,264"/>
<area shape="poly" title=" " alt="" coords="106,461,294,273,298,277,110,465"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a9d0083e7e5fe549e37900ac4a80c2f94" title=" " alt="" coords="222,681,428,714"/>
<area shape="poly" title=" " alt="" coords="111,496,297,669,293,673,108,500"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ab788ffb2ae75d047fa39be6e79571d20" title=" " alt="" coords="1041,559,1192,593"/>
<area shape="poly" title=" " alt="" coords="174,483,516,507,735,526,956,550,1026,559,1025,564,955,555,734,532,515,513,174,488"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a6ee526c7b55debcecad8e34e3e6108d0" title=" " alt="" coords="244,435,406,469"/>
<area shape="poly" title=" " alt="" coords="174,468,228,461,229,466,174,473"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="533,74,663,108"/>
<area shape="poly" title=" " alt="" coords="339,228,395,172,433,142,475,117,516,101,518,106,477,121,436,146,399,176,343,231"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="517,131,679,165"/>
<area shape="poly" title=" " alt="" coords="357,227,411,200,475,174,501,166,502,171,477,179,414,205,359,232"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="815,131,908,165"/>
<area shape="poly" title=" " alt="" coords="330,229,347,187,377,132,420,77,446,54,475,35,539,9,568,4,596,3,652,13,720,35,755,51,787,72,837,118,833,122,783,77,752,56,718,40,651,18,595,8,569,9,541,14,477,40,449,58,423,81,382,135,352,189,335,231"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="509,189,687,222"/>
<area shape="poly" title=" " alt="" coords="380,236,492,219,493,224,381,241"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="549,327,647,361"/>
<area shape="poly" title=" " alt="" coords="360,262,414,288,477,314,534,330,533,335,475,319,412,293,358,267"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="541,385,655,418"/>
<area shape="poly" title=" " alt="" coords="343,262,399,317,436,346,477,371,526,388,525,393,475,376,433,351,395,321,339,266"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="536,270,659,304"/>
<area shape="poly" title=" " alt="" coords="381,252,521,273,521,278,380,258"/>
<area shape="poly" title=" " alt="" coords="551,75,546,65,553,55,570,49,598,47,627,50,644,56,642,61,626,55,598,53,571,55,556,60,551,65,555,72"/>
<area shape="poly" title=" " alt="" coords="679,146,800,146,800,151,679,151"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="1066,183,1167,217"/>
<area shape="poly" title=" " alt="" coords="908,155,1051,184,1050,190,907,160"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="797,189,926,222"/>
<area shape="poly" title=" " alt="" coords="687,203,781,203,781,208,687,208"/>
<area shape="poly" title=" " alt="" coords="926,202,1050,199,1050,204,927,207"/>
<area shape="poly" title=" " alt="" coords="551,271,546,261,553,251,570,245,598,243,627,246,644,252,642,257,626,251,598,249,571,251,556,256,551,261,555,268"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="787,310,936,344"/>
<area shape="poly" title=" " alt="" coords="660,294,772,311,771,316,659,299"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="779,253,944,286"/>
<area shape="poly" title=" " alt="" coords="659,280,764,273,764,279,660,286"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="1068,253,1165,286"/>
<area shape="poly" title=" " alt="" coords="936,307,1052,281,1053,286,937,313"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="1070,310,1163,344"/>
<area shape="poly" title=" " alt="" coords="937,324,1055,324,1055,330,937,330"/>
<area shape="poly" title=" " alt="" coords="944,267,1052,267,1052,272,944,272"/>
<area shape="poly" title=" " alt="" coords="940,284,1056,311,1055,316,939,290"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a2c4753820a7472bba7b999fbba79df01" title=" " alt="" coords="791,819,932,853"/>
<area shape="poly" title=" " alt="" coords="394,712,779,812,778,818,393,718"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a5a5283071ac5677652515d9a8460e655" title=" " alt="" coords="476,681,719,714"/>
<area shape="poly" title=" " alt="" coords="428,695,460,695,460,700,428,700"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a9921d2b89577d3344abbb66f24773e32" title=" " alt="" coords="1323,731,1421,765"/>
<area shape="poly" title=" " alt="" coords="932,822,1308,756,1308,762,933,827"/>
<area shape="poly" title=" " alt="" coords="626,713,690,754,769,798,797,811,795,816,766,803,687,758,623,717"/>
<area shape="rect" href="../../d4/da0/blob_8c.html#a6b6c429265d86411d05951d2fae7289a" title=" " alt="" coords="774,595,949,629"/>
<area shape="poly" title=" " alt="" coords="648,678,767,638,786,632,788,637,768,643,649,683"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#ac79cacbc6a47f754832dc10bafa3b761" title=" " alt="" coords="818,653,905,686"/>
<area shape="poly" title=" " alt="" coords="719,682,802,673,803,678,720,687"/>
<area shape="rect" href="../../d1/d30/blobmsg_8c.html#a131936c081164c18e6241d79f3b276d1" title=" " alt="" coords="1004,645,1229,678"/>
<area shape="poly" title=" " alt="" coords="638,713,698,736,768,754,821,763,862,767,903,765,955,754,990,741,1024,724,1081,686,1084,690,1027,728,993,746,956,759,904,770,862,772,820,768,767,759,697,741,636,717"/>
<area shape="poly" title=" " alt="" coords="615,678,678,627,720,600,767,580,833,565,901,558,966,558,1025,561,1025,567,966,563,901,564,833,570,768,585,723,605,681,631,618,682"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a065ed993444c3173838a480ba4aac052" title=" " alt="" coords="767,710,956,744"/>
<area shape="poly" title=" " alt="" coords="720,708,752,712,752,717,719,714"/>
<area shape="poly" title=" " alt="" coords="1164,677,1278,718,1309,728,1307,733,1276,723,1162,682"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a66e0b636bd2bbafbf8701a1e91bbf857" title=" " alt="" coords="1317,502,1428,536"/>
<area shape="poly" title=" " alt="" coords="1161,642,1195,625,1227,604,1242,589,1250,574,1259,559,1275,545,1301,532,1303,536,1279,549,1263,563,1255,577,1246,592,1231,608,1198,630,1164,647"/>
<area shape="rect" href="../../d8/d3c/blob_8h.html#a673de80167cf18faad1b4a21670d0cf3" title=" " alt="" coords="1282,674,1463,708"/>
<area shape="poly" title=" " alt="" coords="1230,672,1266,676,1266,681,1229,677"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#ac239a83ed3c7f835e2b49f785953c934" title=" " alt="" coords="1287,559,1457,593"/>
<area shape="poly" title=" " alt="" coords="1163,642,1276,602,1295,596,1297,601,1278,607,1165,647"/>
<area shape="rect" href="../../dd/dad/blobmsg_8h.html#a7613e130753e766f5d381c06b1f7b86f" title=" " alt="" coords="1277,617,1467,650"/>
<area shape="poly" title=" " alt="" coords="1229,647,1261,643,1262,648,1230,652"/>
<area shape="poly" title=" " alt="" coords="1192,557,1301,532,1302,537,1193,562"/>
<area shape="poly" title=" " alt="" coords="1156,591,1230,630,1254,646,1278,661,1291,666,1289,671,1276,665,1251,651,1228,635,1154,596"/>
<area shape="poly" title=" " alt="" coords="1193,574,1272,574,1272,579,1193,579"/>
<area shape="poly" title=" " alt="" coords="1193,591,1280,610,1279,615,1192,596"/>
<area shape="poly" title=" " alt="" coords="956,728,1307,743,1307,748,956,733"/>
<area shape="poly" title=" " alt="" coords="940,707,954,697,968,679,974,660,975,621,977,582,986,563,1002,545,1036,523,1074,507,1113,497,1154,492,1233,492,1302,500,1301,506,1232,497,1154,497,1114,503,1075,512,1039,528,1005,549,990,565,982,583,980,621,979,661,972,681,958,701,943,712"/>
<area shape="poly" title=" " alt="" coords="936,707,954,697,970,681,978,665,986,648,1002,630,1027,612,1054,598,1056,602,1030,617,1005,634,991,651,983,668,974,684,957,701,938,712"/>
<area shape="poly" title=" " alt="" coords="407,452,764,466,995,479,1229,498,1302,506,1301,511,1229,503,995,485,763,471,407,457"/>
</map>
</div>

</div>
</div>
<a id="ae0e01076a54aa288f84f6d768deb870f" name="ae0e01076a54aa288f84f6d768deb870f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0e01076a54aa288f84f6d768deb870f">&#9670;&#160;</a></span>blobmsg_list_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void blobmsg_list_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#d5/d48/structblobmsg__list">blobmsg_list</a> *</td>          <td class="paramname"><span class="paramname"><em>list</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00092">92</a> of file <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html">utils.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   93</span>{</div>
<div class="line"><span class="lineno">   94</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d4d/procd_2utils_2utils_8h.html#d9/d90/structblobmsg__list__node">blobmsg_list_node</a> *<a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>, *tmp;</div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordtype">void</span> *ptr;</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>    <a class="code hl_define" href="../../d3/d51/avl_8h.html#af8b3ca3843e7a4bb3bc80858f53c2ad5">avl_remove_all_elements</a>(&amp;list-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#af93e93282151d3ef851c8c41ec294659">avl</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>, <a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a6ed43aecbb79556c64d6b885d7fa0c66">avl</a>, tmp) {</div>
<div class="line"><span class="lineno">   98</span>        ptr = ((<span class="keywordtype">char</span> *) <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a> - list-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a073bba2264830ffc7663837e84f31030">node_offset</a>);</div>
<div class="line"><span class="lineno">   99</span>        free(ptr);</div>
<div class="line"><span class="lineno">  100</span>    }</div>
<div class="line"><span class="lineno">  101</span>}</div>
<div class="ttc" id="aavl_8h_html_af8b3ca3843e7a4bb3bc80858f53c2ad5"><div class="ttname"><a href="../../d3/d51/avl_8h.html#af8b3ca3843e7a4bb3bc80858f53c2ad5">avl_remove_all_elements</a></div><div class="ttdeci">#define avl_remove_all_elements(tree, element, node_member, ptr)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d51/avl_8h_source.html#l00545">avl.h:545</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00033">blobmsg_list::avl</a>, <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00025">blobmsg_list_node::avl</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00545">avl_remove_all_elements</a>, and <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00034">blobmsg_list::node_offset</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d28/instance_8c_source.html#l01480">instance_config_cleanup()</a>, <a class="el" href="../../d7/d1d/service_8c_source.html#l00186">service_delete()</a>, and <a class="el" href="../../d7/d1d/service_8c_source.html#l00124">service_update()</a>.</p>

</div>
</div>
<a id="a4559be2d494d2d91bd8f94a257ed645f" name="a4559be2d494d2d91bd8f94a257ed645f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4559be2d494d2d91bd8f94a257ed645f">&#9670;&#160;</a></span>blobmsg_list_move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void blobmsg_list_move </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#d5/d48/structblobmsg__list">blobmsg_list</a> *</td>          <td class="paramname"><span class="paramname"><em>list</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h.html#d5/d48/structblobmsg__list">blobmsg_list</a> *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00078">78</a> of file <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html">utils.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   79</span>{</div>
<div class="line"><span class="lineno">   80</span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d4d/procd_2utils_2utils_8h.html#d9/d90/structblobmsg__list__node">blobmsg_list_node</a> *<a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>, *tmp;</div>
<div class="line"><span class="lineno">   81</span>    <span class="keywordtype">void</span> *ptr;</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>    <a class="code hl_define" href="../../d3/d51/avl_8h.html#af8b3ca3843e7a4bb3bc80858f53c2ad5">avl_remove_all_elements</a>(&amp;src-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#af93e93282151d3ef851c8c41ec294659">avl</a>, <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>, <a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a6ed43aecbb79556c64d6b885d7fa0c66">avl</a>, tmp) {</div>
<div class="line"><span class="lineno">   84</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2">avl_insert</a>(&amp;list-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#af93e93282151d3ef851c8c41ec294659">avl</a>, &amp;<a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a>-&gt;<a class="code hl_variable" href="../../d2/d72/test-avl_8c.html#a2c13dfc2a4f31c3b1a96a923e7a60fda">avl</a>)) {</div>
<div class="line"><span class="lineno">   85</span>            ptr = ((<span class="keywordtype">char</span> *) <a class="code hl_struct" href="../../d2/d72/test-avl_8c.html#d5/da1/structnode">node</a> - list-&gt;<a class="code hl_variable" href="../../d9/d4d/procd_2utils_2utils_8h.html#a073bba2264830ffc7663837e84f31030">node_offset</a>);</div>
<div class="line"><span class="lineno">   86</span>            free(ptr);</div>
<div class="line"><span class="lineno">   87</span>        }</div>
<div class="line"><span class="lineno">   88</span>    }</div>
<div class="line"><span class="lineno">   89</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00033">blobmsg_list::avl</a>, <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00025">blobmsg_list_node::avl</a>, <a class="el" href="../../d2/d72/test-avl_8c_source.html#l00014">node::avl</a>, <a class="el" href="../../df/dc2/avl_8c_source.html#l00220">avl_insert()</a>, <a class="el" href="../../d3/d51/avl_8h_source.html#l00545">avl_remove_all_elements</a>, and <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00034">blobmsg_list::node_offset</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d28/instance_8c_source.html#l01507">instance_config_move()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d71/procd_2utils_2utils_8c_a4559be2d494d2d91bd8f94a257ed645f_cgraph.png" border="0" usemap="#ad2/d71/procd_2utils_2utils_8c_a4559be2d494d2d91bd8f94a257ed645f_cgraph" alt=""/></div>
<map name="ad2/d71/procd_2utils_2utils_8c_a4559be2d494d2d91bd8f94a257ed645f_cgraph" id="ad2/d71/procd_2utils_2utils_8c_a4559be2d494d2d91bd8f94a257ed645f_cgraph">
<area shape="rect" title=" " alt="" coords="5,196,203,230"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab9041e08938920d5ae722e2d57dc20e2" title=" " alt="" coords="251,196,361,230"/>
<area shape="poly" title=" " alt="" coords="203,210,235,210,235,216,203,216"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a55d3dbabb73970f597eff3d04809f4ef" title=" " alt="" coords="433,29,563,63"/>
<area shape="poly" title=" " alt="" coords="313,194,348,135,375,101,407,72,417,66,420,70,411,76,379,105,353,138,318,197"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#abd4899daa8ad959e6c9694dd5e4132a8" title=" " alt="" coords="417,87,579,120"/>
<area shape="poly" title=" " alt="" coords="326,193,363,166,408,137,434,124,436,129,410,142,366,170,330,198"/>
<area shape="rect" href="../../da/d23/list_8h.html#a875b53c95596d9e8df15ac54f6d24ae6" title=" " alt="" coords="671,139,764,172"/>
<area shape="poly" title=" " alt="" coords="360,193,409,181,541,163,656,155,656,160,541,168,409,186,361,198"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab6f5b72e706a1955a5a5d6af278c677e" title=" " alt="" coords="409,196,587,230"/>
<area shape="poly" title=" " alt="" coords="362,210,393,210,393,216,362,216"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a6de877c20c7b55fa52c80e7be87715fa" title=" " alt="" coords="449,253,547,287"/>
<area shape="poly" title=" " alt="" coords="362,227,435,249,434,254,361,232"/>
<area shape="rect" href="../../da/d23/list_8h.html#abb4dd1eb7346eb35ea621351220e80ce" title=" " alt="" coords="441,311,555,344"/>
<area shape="poly" title=" " alt="" coords="325,228,362,263,410,297,428,305,425,310,408,302,359,267,321,232"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a212673459e8e8ff2e11a8d093602d35e" title=" " alt="" coords="437,392,560,426"/>
<area shape="poly" title=" " alt="" coords="318,229,355,288,381,323,411,355,448,382,445,386,407,359,377,326,351,291,314,232"/>
<area shape="poly" title=" " alt="" coords="463,30,459,20,465,11,478,5,498,3,520,5,533,12,530,16,519,10,498,8,479,10,468,15,465,20,468,28"/>
<area shape="poly" title=" " alt="" coords="573,118,657,139,656,144,572,124"/>
<area shape="rect" href="../../da/d23/list_8h.html#a9d61a1a731a0cf44336e2ee9e45f712d" title=" " alt="" coords="848,168,949,202"/>
<area shape="poly" title=" " alt="" coords="765,160,833,172,832,177,764,166"/>
<area shape="rect" href="../../da/d23/list_8h.html#a5f3c4582c49b990c9fb4f5c83f8400d1" title=" " alt="" coords="653,196,782,230"/>
<area shape="poly" title=" " alt="" coords="588,210,638,210,638,216,588,216"/>
<area shape="poly" title=" " alt="" coords="782,200,832,192,832,198,783,205"/>
<area shape="poly" title=" " alt="" coords="463,393,459,383,465,373,478,367,498,365,520,368,533,374,530,379,519,373,498,371,479,373,468,377,465,383,468,391"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a67b3db37af2f8ebc4f6895202c358604" title=" " alt="" coords="643,363,792,396"/>
<area shape="poly" title=" " alt="" coords="560,398,627,389,628,394,561,403"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#ab84f86be5fe7f7abcf8ffb6fa0a38700" title=" " alt="" coords="635,420,800,454"/>
<area shape="poly" title=" " alt="" coords="561,414,620,422,619,427,560,419"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#aaf08ec177405c5e004b1ca33808f19da" title=" " alt="" coords="850,420,947,454"/>
<area shape="poly" title=" " alt="" coords="774,394,836,414,834,419,772,399"/>
<area shape="rect" href="../../df/dc2/avl_8c.html#a0e2d83bace7533ed4cc93bdf2a94ad95" title=" " alt="" coords="852,363,945,396"/>
<area shape="poly" title=" " alt="" coords="792,377,837,377,837,382,792,382"/>
<area shape="poly" title=" " alt="" coords="800,434,834,434,834,440,800,440"/>
<area shape="poly" title=" " alt="" coords="772,417,837,396,838,401,774,422"/>
</map>
</div>

</div>
</div>
<a id="a798205381dda544e13e0f0bd208d22ca" name="a798205381dda544e13e0f0bd208d22ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a798205381dda544e13e0f0bd208d22ca">&#9670;&#160;</a></span>get_active_console()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * get_active_console </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00138">138</a> of file <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html">utils.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  139</span>{</div>
<div class="line"><span class="lineno">  140</span>    <span class="keywordtype">char</span> line[<a class="code hl_define" href="../../d9/d4d/procd_2utils_2utils_8h.html#a3a3b718d1bc0534ada8875fc419bb1e6">CMDLINE_SIZE</a> + 1];</div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordtype">int</span> fd = open(<span class="stringliteral">&quot;/sys/class/tty/console/active&quot;</span>, O_RDONLY);</div>
<div class="line"><span class="lineno">  142</span>    ssize_t <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>;</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">if</span> (fd &lt; 0)</div>
<div class="line"><span class="lineno">  145</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>    <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a> = read(fd, line, <span class="keyword">sizeof</span>(line) - 1);</div>
<div class="line"><span class="lineno">  148</span>    line[<a class="code hl_define" href="../../d9/d4d/procd_2utils_2utils_8h.html#a3a3b718d1bc0534ada8875fc419bb1e6">CMDLINE_SIZE</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    close(fd);</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a> &lt;= 0)</div>
<div class="line"><span class="lineno">  153</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>    <span class="comment">/* The active file is terminated by a newline which we need to strip */</span></div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordtype">char</span> *newline = strtok(line, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">if</span> (newline != NULL) {</div>
<div class="line"><span class="lineno">  159</span>        <a class="code hl_define" href="../../d2/d62/udevtrigger_8c.html#a9bb0804e77837d29c12d51576d1b7070">strlcpy</a>(out, newline, len);</div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordflow">return</span> out;</div>
<div class="line"><span class="lineno">  161</span>    }</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  164</span>}</div>
<div class="ttc" id="aprocd_2utils_2utils_8h_html_a3a3b718d1bc0534ada8875fc419bb1e6"><div class="ttname"><a href="../../d9/d4d/procd_2utils_2utils_8h.html#a3a3b718d1bc0534ada8875fc419bb1e6">CMDLINE_SIZE</a></div><div class="ttdeci">#define CMDLINE_SIZE</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00022">utils.h:22</a></div></div>
<div class="ttc" id="arcS_8c_html_abf8f2f9d123823e95527a9d26ff031c8"><div class="ttname"><a href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a></div><div class="ttdeci">static struct runqueue q r</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d5c/rcS_8c_source.html#l00036">rcS.c:36</a></div></div>
<div class="ttc" id="audevtrigger_8c_html_a9bb0804e77837d29c12d51576d1b7070"><div class="ttname"><a href="../../d2/d62/udevtrigger_8c.html#a9bb0804e77837d29c12d51576d1b7070">strlcpy</a></div><div class="ttdeci">#define strlcpy(d, s, l)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d62/udevtrigger_8c_source.html#l00038">udevtrigger.c:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00022">CMDLINE_SIZE</a>, <a class="el" href="../../d1/d5c/rcS_8c_source.html#l00036">r</a>, and <a class="el" href="../../d2/d62/udevtrigger_8c_source.html#l00038">strlcpy</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d73/inittab_8c_source.html#l00184">askconsole()</a>.</p>

</div>
</div>
<a id="a22db642a3f7c4c9d74bae6d4240212e5" name="a22db642a3f7c4c9d74bae6d4240212e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22db642a3f7c4c9d74bae6d4240212e5">&#9670;&#160;</a></span>get_cmdline_val_offset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * get_cmdline_val_offset </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00166">166</a> of file <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html">utils.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  167</span>{</div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordtype">char</span> line[<a class="code hl_define" href="../../d9/d4d/procd_2utils_2utils_8h.html#a3a3b718d1bc0534ada8875fc419bb1e6">CMDLINE_SIZE</a> + 1], *c, *sptr;</div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordtype">int</span> i, fd = open(<span class="stringliteral">&quot;/proc/cmdline&quot;</span>, O_RDONLY);</div>
<div class="line"><span class="lineno">  170</span>    ssize_t <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>;</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>    <span class="keywordflow">if</span> (fd &lt; 0)</div>
<div class="line"><span class="lineno">  173</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>    <a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a> = read(fd, line, <span class="keyword">sizeof</span>(line) - 1);</div>
<div class="line"><span class="lineno">  176</span>    close(fd);</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a> &lt;= 0)</div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>    line[<a class="code hl_variable" href="../../d1/d5c/rcS_8c.html#abf8f2f9d123823e95527a9d26ff031c8">r</a>] = 0;</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">for</span> (i = 0, c = strtok_r(line, <span class="stringliteral">&quot; \t\n&quot;</span>, &amp;sptr); c;</div>
<div class="line"><span class="lineno">  184</span>            c = strtok_r(NULL, <span class="stringliteral">&quot; \t\n&quot;</span>, &amp;sptr)) {</div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordtype">char</span> *sep = strchr(c, <span class="charliteral">&#39;=&#39;</span>);</div>
<div class="line"><span class="lineno">  186</span>        <span class="keywordflow">if</span> (sep == NULL)</div>
<div class="line"><span class="lineno">  187</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>        ssize_t klen = sep - c;</div>
<div class="line"><span class="lineno">  190</span>        <span class="keywordflow">if</span> (strncmp(name, c, klen) || name[klen] != 0)</div>
<div class="line"><span class="lineno">  191</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>        <span class="keywordflow">if</span> (i++ &lt; offset)</div>
<div class="line"><span class="lineno">  194</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  195</span>        <a class="code hl_define" href="../../d2/d62/udevtrigger_8c.html#a9bb0804e77837d29c12d51576d1b7070">strlcpy</a>(out, &amp;sep[1], len);</div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">return</span> out;</div>
<div class="line"><span class="lineno">  197</span>    }</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  200</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d4d/procd_2utils_2utils_8h_source.html#l00022">CMDLINE_SIZE</a>, <a class="el" href="../../d1/d5c/rcS_8c_source.html#l00036">r</a>, and <a class="el" href="../../d2/d62/udevtrigger_8c_source.html#l00038">strlcpy</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d73/inittab_8c_source.html#l00184">askconsole()</a>.</p>

</div>
</div>
<a id="aa9130f4217e08ae2cfc38b121b8d03c0" name="aa9130f4217e08ae2cfc38b121b8d03c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9130f4217e08ae2cfc38b121b8d03c0">&#9670;&#160;</a></span>patch_fd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int patch_fd </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00202">202</a> of file <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html">utils.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  203</span>{</div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordtype">int</span> dfd, nfd;</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a> == NULL)</div>
<div class="line"><span class="lineno">  207</span>        <a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a> = <span class="stringliteral">&quot;/dev/null&quot;</span>;</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">if</span> (*<a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a> != <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><span class="lineno">  210</span>        dfd = open(<span class="stringliteral">&quot;/dev&quot;</span>, <a class="code hl_define" href="#a6b82111c13e7367ba2ac5fd6bf4650ab">O_PATH</a>|O_DIRECTORY);</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>        <span class="keywordflow">if</span> (dfd &lt; 0)</div>
<div class="line"><span class="lineno">  213</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>        nfd = openat(dfd, <a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a>, flags);</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>        close(dfd);</div>
<div class="line"><span class="lineno">  218</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  219</span>        nfd = open(<a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a>, flags);</div>
<div class="line"><span class="lineno">  220</span>    }</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>    <span class="keywordflow">if</span> (nfd &lt; 0 &amp;&amp; strcmp(<a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a>, <span class="stringliteral">&quot;/dev/null&quot;</span>))</div>
<div class="line"><span class="lineno">  223</span>        nfd = open(<span class="stringliteral">&quot;/dev/null&quot;</span>, flags);</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>    <span class="keywordflow">if</span> (nfd &lt; 0)</div>
<div class="line"><span class="lineno">  226</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    fd = dup2(nfd, fd);</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>    <span class="keywordflow">if</span> (nfd &gt; STDERR_FILENO)</div>
<div class="line"><span class="lineno">  231</span>        close(nfd);</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">return</span> (fd &lt; 0) ? -1 : 0;</div>
<div class="line"><span class="lineno">  234</span>}</div>
<div class="ttc" id="adevice_8h_html_da/d54/structdevice"><div class="ttname"><a href="../../db/de9/device_8h.html#da/d54/structdevice">device</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/de9/device_8h_source.html#l00242">device.h:242</a></div></div>
<div class="ttc" id="aprocd_2utils_2utils_8c_html_a6b82111c13e7367ba2ac5fd6bf4650ab"><div class="ttname"><a href="#a6b82111c13e7367ba2ac5fd6bf4650ab">O_PATH</a></div><div class="ttdeci">#define O_PATH</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00030">utils.c:30</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00030">O_PATH</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00236">patch_stdio()</a>.</p>

</div>
</div>
<a id="ad1c2df641f2c93cfa5e1ea6e5053328a" name="ad1c2df641f2c93cfa5e1ea6e5053328a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1c2df641f2c93cfa5e1ea6e5053328a">&#9670;&#160;</a></span>patch_stdio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int patch_stdio </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>device</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00236">236</a> of file <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html">utils.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  237</span>{</div>
<div class="line"><span class="lineno">  238</span>    <span class="keywordtype">int</span> fd, rv = 0;</div>
<div class="line"><span class="lineno">  239</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *fdname[3] = { <span class="stringliteral">&quot;stdin&quot;</span>, <span class="stringliteral">&quot;stdout&quot;</span>, <span class="stringliteral">&quot;stderr&quot;</span> };</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>    <span class="keywordflow">for</span> (fd = STDIN_FILENO; fd &lt;= STDERR_FILENO; fd++) {</div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="#aa9130f4217e08ae2cfc38b121b8d03c0">patch_fd</a>(<a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a>, fd, fd ? O_WRONLY : O_RDONLY)) {</div>
<div class="line"><span class="lineno">  243</span>            <a class="code hl_define" href="../../d8/d30/procd_2jail_2log_8h.html#a15378cd15bafb3a79061424b452497aa">ERROR</a>(<span class="stringliteral">&quot;Failed to redirect %s to %s: %m\n&quot;</span>,</div>
<div class="line"><span class="lineno">  244</span>                  fdname[fd], <a class="code hl_struct" href="../../db/de9/device_8h.html#da/d54/structdevice">device</a>);</div>
<div class="line"><span class="lineno">  245</span>            rv = -1;</div>
<div class="line"><span class="lineno">  246</span>        }</div>
<div class="line"><span class="lineno">  247</span>    }</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>    <span class="keywordflow">return</span> rv;</div>
<div class="line"><span class="lineno">  250</span>}</div>
<div class="ttc" id="aprocd_2jail_2log_8h_html_a15378cd15bafb3a79061424b452497aa"><div class="ttname"><a href="../../d8/d30/procd_2jail_2log_8h.html#a15378cd15bafb3a79061424b452497aa">ERROR</a></div><div class="ttdeci">#define ERROR(fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d30/procd_2jail_2log_8h_source.html#l00027">log.h:27</a></div></div>
<div class="ttc" id="aprocd_2utils_2utils_8c_html_aa9130f4217e08ae2cfc38b121b8d03c0"><div class="ttname"><a href="#aa9130f4217e08ae2cfc38b121b8d03c0">patch_fd</a></div><div class="ttdeci">int patch_fd(const char *device, int fd, int flags)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00202">utils.c:202</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d30/procd_2jail_2log_8h_source.html#l00027">ERROR</a>, and <a class="el" href="../../d2/d71/procd_2utils_2utils_8c_source.html#l00202">patch_fd()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/db1/early_8c_source.html#l00038">early_console()</a>, <a class="el" href="../../d5/d73/inittab_8c_source.html#l00092">fork_worker()</a>, and <a class="el" href="../../d8/d60/init_8c_source.html#l00121">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d71/procd_2utils_2utils_8c_ad1c2df641f2c93cfa5e1ea6e5053328a_cgraph.png" border="0" usemap="#ad2/d71/procd_2utils_2utils_8c_ad1c2df641f2c93cfa5e1ea6e5053328a_cgraph" alt=""/></div>
<map name="ad2/d71/procd_2utils_2utils_8c_ad1c2df641f2c93cfa5e1ea6e5053328a_cgraph" id="ad2/d71/procd_2utils_2utils_8c_ad1c2df641f2c93cfa5e1ea6e5053328a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,133,39"/>
<area shape="rect" href="../../d2/d71/procd_2utils_2utils_8c.html#aa9130f4217e08ae2cfc38b121b8d03c0" title=" " alt="" coords="181,5,282,39"/>
<area shape="poly" title=" " alt="" coords="133,20,165,20,165,25,133,25"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
